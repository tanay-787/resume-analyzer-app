var Ua=Object.defineProperty;var Vs=T=>{throw TypeError(T)};var Ha=(T,_,U)=>_ in T?Ua(T,_,{enumerable:!0,configurable:!0,writable:!0,value:U}):T[_]=U;var Wn=(T,_,U)=>Ha(T,typeof _!="symbol"?_+"":_,U),Ai=(T,_,U)=>_.has(T)||Vs("Cannot "+U);var _e=(T,_,U)=>(Ai(T,_,"read from private field"),U?U.call(T):_.get(T)),kt=(T,_,U)=>_.has(T)?Vs("Cannot add the same private member more than once"):_ instanceof WeakSet?_.add(T):_.set(T,U),Lt=(T,_,U,H)=>(Ai(T,_,"write to private field"),H?H.call(T,U):_.set(T,U),U),pt=(T,_,U)=>(Ai(T,_,"access private method"),U);var Dr=(T,_,U,H)=>({set _(z){Lt(T,_,z,U)},get _(){return _e(T,_,H)}});function _mergeNamespaces(T,_){for(var U=0;U<_.length;U++){const H=_[U];if(typeof H!="string"&&!Array.isArray(H)){for(const z in H)if(z!=="default"&&!(z in T)){const j=Object.getOwnPropertyDescriptor(H,z);j&&Object.defineProperty(T,z,j.get?j:{enumerable:!0,get:()=>H[z]})}}}return Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const z of document.querySelectorAll('link[rel="modulepreload"]'))H(z);new MutationObserver(z=>{for(const j of z)if(j.type==="childList")for(const q of j.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&H(q)}).observe(document,{childList:!0,subtree:!0});function U(z){const j={};return z.integrity&&(j.integrity=z.integrity),z.referrerPolicy&&(j.referrerPolicy=z.referrerPolicy),z.crossOrigin==="use-credentials"?j.credentials="include":z.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function H(z){if(z.ep)return;z.ep=!0;const j=U(z);fetch(z.href,j)}})();function getDefaultExportFromCjs(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}function getAugmentedNamespace(T){if(T.__esModule)return T;var _=T.default;if(typeof _=="function"){var U=function H(){return this instanceof H?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};U.prototype=_.prototype}else U={};return Object.defineProperty(U,"__esModule",{value:!0}),Object.keys(T).forEach(function(H){var z=Object.getOwnPropertyDescriptor(T,H);Object.defineProperty(U,H,z.get?z:{enumerable:!0,get:function(){return T[H]}})}),U}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE$2=Symbol.for("react.transitional.element"),REACT_FRAGMENT_TYPE$2=Symbol.for("react.fragment");function jsxProd(T,_,U){var H=null;if(U!==void 0&&(H=""+U),_.key!==void 0&&(H=""+_.key),"key"in _){U={};for(var z in _)z!=="key"&&(U[z]=_[z])}else U=_;return _=U.ref,{$$typeof:REACT_ELEMENT_TYPE$2,type:T,key:H,ref:_!==void 0?_:null,props:U}}reactJsxRuntime_production.Fragment=REACT_FRAGMENT_TYPE$2;reactJsxRuntime_production.jsx=jsxProd;reactJsxRuntime_production.jsxs=jsxProd;jsxRuntime.exports=reactJsxRuntime_production;var jsxRuntimeExports=jsxRuntime.exports,react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE$1=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE$2=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE$1=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE$1=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE$1=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE$1=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE$1=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE$1=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE$1=Symbol.for("react.suspense"),REACT_MEMO_TYPE$1=Symbol.for("react.memo"),REACT_LAZY_TYPE$1=Symbol.for("react.lazy"),MAYBE_ITERATOR_SYMBOL$1=Symbol.iterator;function getIteratorFn$1(T){return T===null||typeof T!="object"?null:(T=MAYBE_ITERATOR_SYMBOL$1&&T[MAYBE_ITERATOR_SYMBOL$1]||T["@@iterator"],typeof T=="function"?T:null)}var ReactNoopUpdateQueue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},assign$1=Object.assign,emptyObject={};function Component$1(T,_,U){this.props=T,this.context=_,this.refs=emptyObject,this.updater=U||ReactNoopUpdateQueue}Component$1.prototype.isReactComponent={};Component$1.prototype.setState=function(T,_){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,_,"setState")};Component$1.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ComponentDummy(){}ComponentDummy.prototype=Component$1.prototype;function PureComponent(T,_,U){this.props=T,this.context=_,this.refs=emptyObject,this.updater=U||ReactNoopUpdateQueue}var pureComponentPrototype=PureComponent.prototype=new ComponentDummy;pureComponentPrototype.constructor=PureComponent;assign$1(pureComponentPrototype,Component$1.prototype);pureComponentPrototype.isPureReactComponent=!0;var isArrayImpl$1=Array.isArray,ReactSharedInternals$2={H:null,A:null,T:null,S:null},hasOwnProperty$2=Object.prototype.hasOwnProperty;function ReactElement(T,_,U,H,z,j){return U=j.ref,{$$typeof:REACT_ELEMENT_TYPE$1,type:T,key:_,ref:U!==void 0?U:null,props:j}}function cloneAndReplaceKey(T,_){return ReactElement(T.type,_,void 0,void 0,void 0,T.props)}function isValidElement(T){return typeof T=="object"&&T!==null&&T.$$typeof===REACT_ELEMENT_TYPE$1}function escape$1(T){var _={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(U){return _[U]})}var userProvidedKeyEscapeRegex=/\/+/g;function getElementKey(T,_){return typeof T=="object"&&T!==null&&T.key!=null?escape$1(""+T.key):_.toString(36)}function noop$1$2(){}function resolveThenable(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(noop$1$2,noop$1$2):(T.status="pending",T.then(function(_){T.status==="pending"&&(T.status="fulfilled",T.value=_)},function(_){T.status==="pending"&&(T.status="rejected",T.reason=_)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function mapIntoArray(T,_,U,H,z){var j=typeof T;(j==="undefined"||j==="boolean")&&(T=null);var q=!1;if(T===null)q=!0;else switch(j){case"bigint":case"string":case"number":q=!0;break;case"object":switch(T.$$typeof){case REACT_ELEMENT_TYPE$1:case REACT_PORTAL_TYPE$2:q=!0;break;case REACT_LAZY_TYPE$1:return q=T._init,mapIntoArray(q(T._payload),_,U,H,z)}}if(q)return z=z(T),q=H===""?"."+getElementKey(T,0):H,isArrayImpl$1(z)?(U="",q!=null&&(U=q.replace(userProvidedKeyEscapeRegex,"$&/")+"/"),mapIntoArray(z,_,U,"",function(X){return X})):z!=null&&(isValidElement(z)&&(z=cloneAndReplaceKey(z,U+(z.key==null||T&&T.key===z.key?"":(""+z.key).replace(userProvidedKeyEscapeRegex,"$&/")+"/")+q)),_.push(z)),1;q=0;var K=H===""?".":H+":";if(isArrayImpl$1(T))for(var Y=0;Y<T.length;Y++)H=T[Y],j=K+getElementKey(H,Y),q+=mapIntoArray(H,_,U,j,z);else if(Y=getIteratorFn$1(T),typeof Y=="function")for(T=Y.call(T),Y=0;!(H=T.next()).done;)H=H.value,j=K+getElementKey(H,Y++),q+=mapIntoArray(H,_,U,j,z);else if(j==="object"){if(typeof T.then=="function")return mapIntoArray(resolveThenable(T),_,U,H,z);throw _=String(T),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return q}function mapChildren(T,_,U){if(T==null)return T;var H=[],z=0;return mapIntoArray(T,H,"","",function(j){return _.call(U,j,z++)}),H}function lazyInitializer(T){if(T._status===-1){var _=T._result;_=_(),_.then(function(U){(T._status===0||T._status===-1)&&(T._status=1,T._result=U)},function(U){(T._status===0||T._status===-1)&&(T._status=2,T._result=U)}),T._status===-1&&(T._status=0,T._result=_)}if(T._status===1)return T._result.default;throw T._result}var reportGlobalError$1=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function noop$6(){}react_production.Children={map:mapChildren,forEach:function(T,_,U){mapChildren(T,function(){_.apply(this,arguments)},U)},count:function(T){var _=0;return mapChildren(T,function(){_++}),_},toArray:function(T){return mapChildren(T,function(_){return _})||[]},only:function(T){if(!isValidElement(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};react_production.Component=Component$1;react_production.Fragment=REACT_FRAGMENT_TYPE$1;react_production.Profiler=REACT_PROFILER_TYPE$1;react_production.PureComponent=PureComponent;react_production.StrictMode=REACT_STRICT_MODE_TYPE$1;react_production.Suspense=REACT_SUSPENSE_TYPE$1;react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ReactSharedInternals$2;react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production.cache=function(T){return function(){return T.apply(null,arguments)}};react_production.cloneElement=function(T,_,U){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var H=assign$1({},T.props),z=T.key,j=void 0;if(_!=null)for(q in _.ref!==void 0&&(j=void 0),_.key!==void 0&&(z=""+_.key),_)!hasOwnProperty$2.call(_,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&_.ref===void 0||(H[q]=_[q]);var q=arguments.length-2;if(q===1)H.children=U;else if(1<q){for(var K=Array(q),Y=0;Y<q;Y++)K[Y]=arguments[Y+2];H.children=K}return ReactElement(T.type,z,void 0,void 0,j,H)};react_production.createContext=function(T){return T={$$typeof:REACT_CONTEXT_TYPE$1,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:REACT_CONSUMER_TYPE$1,_context:T},T};react_production.createElement=function(T,_,U){var H,z={},j=null;if(_!=null)for(H in _.key!==void 0&&(j=""+_.key),_)hasOwnProperty$2.call(_,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(z[H]=_[H]);var q=arguments.length-2;if(q===1)z.children=U;else if(1<q){for(var K=Array(q),Y=0;Y<q;Y++)K[Y]=arguments[Y+2];z.children=K}if(T&&T.defaultProps)for(H in q=T.defaultProps,q)z[H]===void 0&&(z[H]=q[H]);return ReactElement(T,j,void 0,void 0,null,z)};react_production.createRef=function(){return{current:null}};react_production.forwardRef=function(T){return{$$typeof:REACT_FORWARD_REF_TYPE$1,render:T}};react_production.isValidElement=isValidElement;react_production.lazy=function(T){return{$$typeof:REACT_LAZY_TYPE$1,_payload:{_status:-1,_result:T},_init:lazyInitializer}};react_production.memo=function(T,_){return{$$typeof:REACT_MEMO_TYPE$1,type:T,compare:_===void 0?null:_}};react_production.startTransition=function(T){var _=ReactSharedInternals$2.T,U={};ReactSharedInternals$2.T=U;try{var H=T(),z=ReactSharedInternals$2.S;z!==null&&z(U,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(noop$6,reportGlobalError$1)}catch(j){reportGlobalError$1(j)}finally{ReactSharedInternals$2.T=_}};react_production.unstable_useCacheRefresh=function(){return ReactSharedInternals$2.H.useCacheRefresh()};react_production.use=function(T){return ReactSharedInternals$2.H.use(T)};react_production.useActionState=function(T,_,U){return ReactSharedInternals$2.H.useActionState(T,_,U)};react_production.useCallback=function(T,_){return ReactSharedInternals$2.H.useCallback(T,_)};react_production.useContext=function(T){return ReactSharedInternals$2.H.useContext(T)};react_production.useDebugValue=function(){};react_production.useDeferredValue=function(T,_){return ReactSharedInternals$2.H.useDeferredValue(T,_)};react_production.useEffect=function(T,_){return ReactSharedInternals$2.H.useEffect(T,_)};react_production.useId=function(){return ReactSharedInternals$2.H.useId()};react_production.useImperativeHandle=function(T,_,U){return ReactSharedInternals$2.H.useImperativeHandle(T,_,U)};react_production.useInsertionEffect=function(T,_){return ReactSharedInternals$2.H.useInsertionEffect(T,_)};react_production.useLayoutEffect=function(T,_){return ReactSharedInternals$2.H.useLayoutEffect(T,_)};react_production.useMemo=function(T,_){return ReactSharedInternals$2.H.useMemo(T,_)};react_production.useOptimistic=function(T,_){return ReactSharedInternals$2.H.useOptimistic(T,_)};react_production.useReducer=function(T,_,U){return ReactSharedInternals$2.H.useReducer(T,_,U)};react_production.useRef=function(T){return ReactSharedInternals$2.H.useRef(T)};react_production.useState=function(T){return ReactSharedInternals$2.H.useState(T)};react_production.useSyncExternalStore=function(T,_,U){return ReactSharedInternals$2.H.useSyncExternalStore(T,_,U)};react_production.useTransition=function(){return ReactSharedInternals$2.H.useTransition()};react_production.version="19.0.0";react.exports=react_production;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),t$a=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(T){function _(Fe,He){var Ye=Fe.length;Fe.push(He);e:for(;0<Ye;){var ke=Ye-1>>>1,Ke=Fe[ke];if(0<z(Ke,He))Fe[ke]=He,Fe[Ye]=Ke,Ye=ke;else break e}}function U(Fe){return Fe.length===0?null:Fe[0]}function H(Fe){if(Fe.length===0)return null;var He=Fe[0],Ye=Fe.pop();if(Ye!==He){Fe[0]=Ye;e:for(var ke=0,Ke=Fe.length,gt=Ke>>>1;ke<gt;){var De=2*(ke+1)-1,Ie=Fe[De],Pe=De+1,we=Fe[Pe];if(0>z(Ie,Ye))Pe<Ke&&0>z(we,Ie)?(Fe[ke]=we,Fe[Pe]=Ye,ke=Pe):(Fe[ke]=Ie,Fe[De]=Ye,ke=De);else if(Pe<Ke&&0>z(we,Ye))Fe[ke]=we,Fe[Pe]=Ye,ke=Pe;else break e}}return He}function z(Fe,He){var Ye=Fe.sortIndex-He.sortIndex;return Ye!==0?Ye:Fe.id-He.id}if(T.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var j=performance;T.unstable_now=function(){return j.now()}}else{var q=Date,K=q.now();T.unstable_now=function(){return q.now()-K}}var Y=[],X=[],Z=1,ne=null,ie=3,se=!1,de=!1,Ee=!1,pe=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function fe(Fe){for(var He=U(X);He!==null;){if(He.callback===null)H(X);else if(He.startTime<=Fe)H(X),He.sortIndex=He.expirationTime,_(Y,He);else break;He=U(X)}}function ve(Fe){if(Ee=!1,fe(Fe),!de)if(U(Y)!==null)de=!0,Ge();else{var He=U(X);He!==null&&qe(ve,He.startTime-Fe)}}var me=!1,Ae=-1,ae=5,oe=-1;function ce(){return!(T.unstable_now()-oe<ae)}function Se(){if(me){var Fe=T.unstable_now();oe=Fe;var He=!0;try{e:{de=!1,Ee&&(Ee=!1,le(Ae),Ae=-1),se=!0;var Ye=ie;try{t:{for(fe(Fe),ne=U(Y);ne!==null&&!(ne.expirationTime>Fe&&ce());){var ke=ne.callback;if(typeof ke=="function"){ne.callback=null,ie=ne.priorityLevel;var Ke=ke(ne.expirationTime<=Fe);if(Fe=T.unstable_now(),typeof Ke=="function"){ne.callback=Ke,fe(Fe),He=!0;break t}ne===U(Y)&&H(Y),fe(Fe)}else H(Y);ne=U(Y)}if(ne!==null)He=!0;else{var gt=U(X);gt!==null&&qe(ve,gt.startTime-Fe),He=!1}}break e}finally{ne=null,ie=Ye,se=!1}He=void 0}}finally{He?he():me=!1}}}var he;if(typeof ue=="function")he=function(){ue(Se)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ye=xe.port2;xe.port1.onmessage=Se,he=function(){ye.postMessage(null)}}else he=function(){pe(Se,0)};function Ge(){me||(me=!0,he())}function qe(Fe,He){Ae=pe(function(){Fe(T.unstable_now())},He)}T.unstable_IdlePriority=5,T.unstable_ImmediatePriority=1,T.unstable_LowPriority=4,T.unstable_NormalPriority=3,T.unstable_Profiling=null,T.unstable_UserBlockingPriority=2,T.unstable_cancelCallback=function(Fe){Fe.callback=null},T.unstable_continueExecution=function(){de||se||(de=!0,Ge())},T.unstable_forceFrameRate=function(Fe){0>Fe||125<Fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<Fe?Math.floor(1e3/Fe):5},T.unstable_getCurrentPriorityLevel=function(){return ie},T.unstable_getFirstCallbackNode=function(){return U(Y)},T.unstable_next=function(Fe){switch(ie){case 1:case 2:case 3:var He=3;break;default:He=ie}var Ye=ie;ie=He;try{return Fe()}finally{ie=Ye}},T.unstable_pauseExecution=function(){},T.unstable_requestPaint=function(){},T.unstable_runWithPriority=function(Fe,He){switch(Fe){case 1:case 2:case 3:case 4:case 5:break;default:Fe=3}var Ye=ie;ie=Fe;try{return He()}finally{ie=Ye}},T.unstable_scheduleCallback=function(Fe,He,Ye){var ke=T.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?ke+Ye:ke):Ye=ke,Fe){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=Ye+Ke,Fe={id:Z++,callback:He,priorityLevel:Fe,startTime:Ye,expirationTime:Ke,sortIndex:-1},Ye>ke?(Fe.sortIndex=Ye,_(X,Fe),U(Y)===null&&Fe===U(X)&&(Ee?(le(Ae),Ae=-1):Ee=!0,qe(ve,Ye-ke))):(Fe.sortIndex=Ke,_(Y,Fe),de||se||(de=!0,Ge())),Fe},T.unstable_shouldYield=ce,T.unstable_wrapCallback=function(Fe){var He=ie;return function(){var Ye=ie;ie=He;try{return Fe.apply(this,arguments)}finally{ie=Ye}}}})(scheduler_production);scheduler.exports=scheduler_production;var schedulerExports=scheduler.exports,reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function formatProdErrorMessage$1(T){var _="https://react.dev/errors/"+T;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var U=2;U<arguments.length;U++)_+="&args[]="+encodeURIComponent(arguments[U])}return"Minified React error #"+T+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function noop$5(){}var Internals={d:{f:noop$5,r:function(){throw Error(formatProdErrorMessage$1(522))},D:noop$5,C:noop$5,L:noop$5,m:noop$5,X:noop$5,S:noop$5,M:noop$5},p:0,findDOMNode:null},REACT_PORTAL_TYPE$1=Symbol.for("react.portal");function createPortal$1(T,_,U){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:REACT_PORTAL_TYPE$1,key:H==null?null:""+H,children:T,containerInfo:_,implementation:U}}var ReactSharedInternals$1=React$1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(T,_){if(T==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Internals;reactDom_production.createPortal=function(T,_){var U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(formatProdErrorMessage$1(299));return createPortal$1(T,_,null,U)};reactDom_production.flushSync=function(T){var _=ReactSharedInternals$1.T,U=Internals.p;try{if(ReactSharedInternals$1.T=null,Internals.p=2,T)return T()}finally{ReactSharedInternals$1.T=_,Internals.p=U,Internals.d.f()}};reactDom_production.preconnect=function(T,_){typeof T=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,Internals.d.C(T,_))};reactDom_production.prefetchDNS=function(T){typeof T=="string"&&Internals.d.D(T)};reactDom_production.preinit=function(T,_){if(typeof T=="string"&&_&&typeof _.as=="string"){var U=_.as,H=getCrossOriginStringAs(U,_.crossOrigin),z=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;U==="style"?Internals.d.S(T,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:H,integrity:z,fetchPriority:j}):U==="script"&&Internals.d.X(T,{crossOrigin:H,integrity:z,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}};reactDom_production.preinitModule=function(T,_){if(typeof T=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var U=getCrossOriginStringAs(_.as,_.crossOrigin);Internals.d.M(T,{crossOrigin:U,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&Internals.d.M(T)};reactDom_production.preload=function(T,_){if(typeof T=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var U=_.as,H=getCrossOriginStringAs(U,_.crossOrigin);Internals.d.L(T,U,{crossOrigin:H,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}};reactDom_production.preloadModule=function(T,_){if(typeof T=="string")if(_){var U=getCrossOriginStringAs(_.as,_.crossOrigin);Internals.d.m(T,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:U,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else Internals.d.m(T)};reactDom_production.requestFormReset=function(T){Internals.d.r(T)};reactDom_production.unstable_batchedUpdates=function(T,_){return T(_)};reactDom_production.useFormState=function(T,_,U){return ReactSharedInternals$1.H.useFormState(T,_,U)};reactDom_production.useFormStatus=function(){return ReactSharedInternals$1.H.useHostTransitionStatus()};reactDom_production.version="19.0.0";function checkDCE$1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE$1)}catch(T){console.error(T)}}checkDCE$1(),reactDom.exports=reactDom_production;var reactDomExports=reactDom.exports;const ReactDOM$2=getDefaultExportFromCjs(reactDomExports);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Scheduler=schedulerExports,React=reactExports,ReactDOM$1=reactDomExports;function formatProdErrorMessage(T){var _="https://react.dev/errors/"+T;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var U=2;U<arguments.length;U++)_+="&args[]="+encodeURIComponent(arguments[U])}return"Minified React error #"+T+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function isValidContainer(T){return!(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)}var REACT_LEGACY_ELEMENT_TYPE=Symbol.for("react.element"),REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_PROVIDER_TYPE=Symbol.for("react.provider"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_OFFSCREEN_TYPE=Symbol.for("react.offscreen"),REACT_MEMO_CACHE_SENTINEL=Symbol.for("react.memo_cache_sentinel"),MAYBE_ITERATOR_SYMBOL=Symbol.iterator;function getIteratorFn(T){return T===null||typeof T!="object"?null:(T=MAYBE_ITERATOR_SYMBOL&&T[MAYBE_ITERATOR_SYMBOL]||T["@@iterator"],typeof T=="function"?T:null)}var REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function getComponentNameFromType(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===REACT_CLIENT_REFERENCE?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case REACT_FRAGMENT_TYPE:return"Fragment";case REACT_PORTAL_TYPE:return"Portal";case REACT_PROFILER_TYPE:return"Profiler";case REACT_STRICT_MODE_TYPE:return"StrictMode";case REACT_SUSPENSE_TYPE:return"Suspense";case REACT_SUSPENSE_LIST_TYPE:return"SuspenseList"}if(typeof T=="object")switch(T.$$typeof){case REACT_CONTEXT_TYPE:return(T.displayName||"Context")+".Provider";case REACT_CONSUMER_TYPE:return(T._context.displayName||"Context")+".Consumer";case REACT_FORWARD_REF_TYPE:var _=T.render;return T=T.displayName,T||(T=_.displayName||_.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case REACT_MEMO_TYPE:return _=T.displayName||null,_!==null?_:getComponentNameFromType(T.type)||"Memo";case REACT_LAZY_TYPE:_=T._payload,T=T._init;try{return getComponentNameFromType(T(_))}catch{}}return null}var ReactSharedInternals=React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,assign=Object.assign,prefix,suffix;function describeBuiltInComponentFrame(T){if(prefix===void 0)try{throw Error()}catch(U){var _=U.stack.trim().match(/\n( *(at )?)/);prefix=_&&_[1]||"",suffix=-1<U.stack.indexOf(`
    at`)?" (<anonymous>)":-1<U.stack.indexOf("@")?"@unknown:0:0":""}return`
`+prefix+T+suffix}var reentry=!1;function describeNativeComponentFrame(T,_){if(!T||reentry)return"";reentry=!0;var U=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var H={DetermineComponentFrameRoot:function(){try{if(_){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(se){var ie=se}Reflect.construct(T,[],ne)}else{try{ne.call()}catch(se){ie=se}T.call(ne.prototype)}}else{try{throw Error()}catch(se){ie=se}(ne=T())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};H.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(H.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(H.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=H.DetermineComponentFrameRoot(),q=j[0],K=j[1];if(q&&K){var Y=q.split(`
`),X=K.split(`
`);for(z=H=0;H<Y.length&&!Y[H].includes("DetermineComponentFrameRoot");)H++;for(;z<X.length&&!X[z].includes("DetermineComponentFrameRoot");)z++;if(H===Y.length||z===X.length)for(H=Y.length-1,z=X.length-1;1<=H&&0<=z&&Y[H]!==X[z];)z--;for(;1<=H&&0<=z;H--,z--)if(Y[H]!==X[z]){if(H!==1||z!==1)do if(H--,z--,0>z||Y[H]!==X[z]){var Z=`
`+Y[H].replace(" at new "," at ");return T.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",T.displayName)),Z}while(1<=H&&0<=z);break}}}finally{reentry=!1,Error.prepareStackTrace=U}return(U=T?T.displayName||T.name:"")?describeBuiltInComponentFrame(U):""}function describeFiber(T){switch(T.tag){case 26:case 27:case 5:return describeBuiltInComponentFrame(T.type);case 16:return describeBuiltInComponentFrame("Lazy");case 13:return describeBuiltInComponentFrame("Suspense");case 19:return describeBuiltInComponentFrame("SuspenseList");case 0:case 15:return T=describeNativeComponentFrame(T.type,!1),T;case 11:return T=describeNativeComponentFrame(T.type.render,!1),T;case 1:return T=describeNativeComponentFrame(T.type,!0),T;default:return""}}function getStackByFiberInDevAndProd(T){try{var _="";do _+=describeFiber(T),T=T.return;while(T);return _}catch(U){return`
Error generating stack: `+U.message+`
`+U.stack}}function getNearestMountedFiber(T){var _=T,U=T;if(T.alternate)for(;_.return;)_=_.return;else{T=_;do _=T,_.flags&4098&&(U=_.return),T=_.return;while(T)}return _.tag===3?U:null}function getSuspenseInstanceFromFiber(T){if(T.tag===13){var _=T.memoizedState;if(_===null&&(T=T.alternate,T!==null&&(_=T.memoizedState)),_!==null)return _.dehydrated}return null}function assertIsMounted(T){if(getNearestMountedFiber(T)!==T)throw Error(formatProdErrorMessage(188))}function findCurrentFiberUsingSlowPath(T){var _=T.alternate;if(!_){if(_=getNearestMountedFiber(T),_===null)throw Error(formatProdErrorMessage(188));return _!==T?null:T}for(var U=T,H=_;;){var z=U.return;if(z===null)break;var j=z.alternate;if(j===null){if(H=z.return,H!==null){U=H;continue}break}if(z.child===j.child){for(j=z.child;j;){if(j===U)return assertIsMounted(z),T;if(j===H)return assertIsMounted(z),_;j=j.sibling}throw Error(formatProdErrorMessage(188))}if(U.return!==H.return)U=z,H=j;else{for(var q=!1,K=z.child;K;){if(K===U){q=!0,U=z,H=j;break}if(K===H){q=!0,H=z,U=j;break}K=K.sibling}if(!q){for(K=j.child;K;){if(K===U){q=!0,U=j,H=z;break}if(K===H){q=!0,H=j,U=z;break}K=K.sibling}if(!q)throw Error(formatProdErrorMessage(189))}}if(U.alternate!==H)throw Error(formatProdErrorMessage(190))}if(U.tag!==3)throw Error(formatProdErrorMessage(188));return U.stateNode.current===U?T:_}function findCurrentHostFiberImpl(T){var _=T.tag;if(_===5||_===26||_===27||_===6)return T;for(T=T.child;T!==null;){if(_=findCurrentHostFiberImpl(T),_!==null)return _;T=T.sibling}return null}var isArrayImpl=Array.isArray,ReactDOMSharedInternals=ReactDOM$1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sharedNotPendingObject={pending:!1,data:null,method:null,action:null},valueStack=[],index=-1;function createCursor(T){return{current:T}}function pop(T){0>index||(T.current=valueStack[index],valueStack[index]=null,index--)}function push(T,_){index++,valueStack[index]=T.current,T.current=_}var contextStackCursor=createCursor(null),contextFiberStackCursor=createCursor(null),rootInstanceStackCursor=createCursor(null),hostTransitionProviderCursor=createCursor(null);function pushHostContainer(T,_){switch(push(rootInstanceStackCursor,_),push(contextFiberStackCursor,T),push(contextStackCursor,null),T=_.nodeType,T){case 9:case 11:_=(_=_.documentElement)&&(_=_.namespaceURI)?getOwnHostContext(_):0;break;default:if(T=T===8?_.parentNode:_,_=T.tagName,T=T.namespaceURI)T=getOwnHostContext(T),_=getChildHostContextProd(T,_);else switch(_){case"svg":_=1;break;case"math":_=2;break;default:_=0}}pop(contextStackCursor),push(contextStackCursor,_)}function popHostContainer(){pop(contextStackCursor),pop(contextFiberStackCursor),pop(rootInstanceStackCursor)}function pushHostContext(T){T.memoizedState!==null&&push(hostTransitionProviderCursor,T);var _=contextStackCursor.current,U=getChildHostContextProd(_,T.type);_!==U&&(push(contextFiberStackCursor,T),push(contextStackCursor,U))}function popHostContext(T){contextFiberStackCursor.current===T&&(pop(contextStackCursor),pop(contextFiberStackCursor)),hostTransitionProviderCursor.current===T&&(pop(hostTransitionProviderCursor),HostTransitionContext._currentValue=sharedNotPendingObject)}var hasOwnProperty$1=Object.prototype.hasOwnProperty,scheduleCallback$3=Scheduler.unstable_scheduleCallback,cancelCallback$1=Scheduler.unstable_cancelCallback,shouldYield=Scheduler.unstable_shouldYield,requestPaint=Scheduler.unstable_requestPaint,now=Scheduler.unstable_now,getCurrentPriorityLevel=Scheduler.unstable_getCurrentPriorityLevel,ImmediatePriority=Scheduler.unstable_ImmediatePriority,UserBlockingPriority=Scheduler.unstable_UserBlockingPriority,NormalPriority$1=Scheduler.unstable_NormalPriority,LowPriority=Scheduler.unstable_LowPriority,IdlePriority=Scheduler.unstable_IdlePriority,log$1=Scheduler.log,unstable_setDisableYieldValue=Scheduler.unstable_setDisableYieldValue,rendererID=null,injectedHook=null;function onCommitRoot(T){if(injectedHook&&typeof injectedHook.onCommitFiberRoot=="function")try{injectedHook.onCommitFiberRoot(rendererID,T,void 0,(T.current.flags&128)===128)}catch{}}function setIsStrictModeForDevtools(T){if(typeof log$1=="function"&&unstable_setDisableYieldValue(T),injectedHook&&typeof injectedHook.setStrictMode=="function")try{injectedHook.setStrictMode(rendererID,T)}catch{}}var clz32=Math.clz32?Math.clz32:clz32Fallback,log=Math.log,LN2=Math.LN2;function clz32Fallback(T){return T>>>=0,T===0?32:31-(log(T)/LN2|0)|0}var nextTransitionLane=128,nextRetryLane=4194304;function getHighestPriorityLanes(T){var _=T&42;if(_!==0)return _;switch(T&-T){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return T&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return T&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return T}}function getNextLanes(T,_){var U=T.pendingLanes;if(U===0)return 0;var H=0,z=T.suspendedLanes,j=T.pingedLanes,q=T.warmLanes;T=T.finishedLanes!==0;var K=U&134217727;return K!==0?(U=K&~z,U!==0?H=getHighestPriorityLanes(U):(j&=K,j!==0?H=getHighestPriorityLanes(j):T||(q=K&~q,q!==0&&(H=getHighestPriorityLanes(q))))):(K=U&~z,K!==0?H=getHighestPriorityLanes(K):j!==0?H=getHighestPriorityLanes(j):T||(q=U&~q,q!==0&&(H=getHighestPriorityLanes(q)))),H===0?0:_!==0&&_!==H&&!(_&z)&&(z=H&-H,q=_&-_,z>=q||z===32&&(q&4194176)!==0)?_:H}function checkIfRootIsPrerendering(T,_){return(T.pendingLanes&~(T.suspendedLanes&~T.pingedLanes)&_)===0}function computeExpirationTime(T,_){switch(T){case 1:case 2:case 4:case 8:return _+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function claimNextTransitionLane(){var T=nextTransitionLane;return nextTransitionLane<<=1,!(nextTransitionLane&4194176)&&(nextTransitionLane=128),T}function claimNextRetryLane(){var T=nextRetryLane;return nextRetryLane<<=1,!(nextRetryLane&62914560)&&(nextRetryLane=4194304),T}function createLaneMap(T){for(var _=[],U=0;31>U;U++)_.push(T);return _}function markRootUpdated$1(T,_){T.pendingLanes|=_,_!==268435456&&(T.suspendedLanes=0,T.pingedLanes=0,T.warmLanes=0)}function markRootFinished(T,_,U,H,z,j){var q=T.pendingLanes;T.pendingLanes=U,T.suspendedLanes=0,T.pingedLanes=0,T.warmLanes=0,T.expiredLanes&=U,T.entangledLanes&=U,T.errorRecoveryDisabledLanes&=U,T.shellSuspendCounter=0;var K=T.entanglements,Y=T.expirationTimes,X=T.hiddenUpdates;for(U=q&~U;0<U;){var Z=31-clz32(U),ne=1<<Z;K[Z]=0,Y[Z]=-1;var ie=X[Z];if(ie!==null)for(X[Z]=null,Z=0;Z<ie.length;Z++){var se=ie[Z];se!==null&&(se.lane&=-536870913)}U&=~ne}H!==0&&markSpawnedDeferredLane(T,H,0),j!==0&&z===0&&T.tag!==0&&(T.suspendedLanes|=j&~(q&~_))}function markSpawnedDeferredLane(T,_,U){T.pendingLanes|=_,T.suspendedLanes&=~_;var H=31-clz32(_);T.entangledLanes|=_,T.entanglements[H]=T.entanglements[H]|1073741824|U&4194218}function markRootEntangled(T,_){var U=T.entangledLanes|=_;for(T=T.entanglements;U;){var H=31-clz32(U),z=1<<H;z&_|T[H]&_&&(T[H]|=_),U&=~z}}function lanesToEventPriority(T){return T&=-T,2<T?8<T?T&134217727?32:268435456:8:2}function resolveUpdatePriority(){var T=ReactDOMSharedInternals.p;return T!==0?T:(T=window.event,T===void 0?32:getEventPriority(T.type))}function runWithPriority(T,_){var U=ReactDOMSharedInternals.p;try{return ReactDOMSharedInternals.p=T,_()}finally{ReactDOMSharedInternals.p=U}}var randomKey=Math.random().toString(36).slice(2),internalInstanceKey="__reactFiber$"+randomKey,internalPropsKey="__reactProps$"+randomKey,internalContainerInstanceKey="__reactContainer$"+randomKey,internalEventHandlersKey="__reactEvents$"+randomKey,internalEventHandlerListenersKey="__reactListeners$"+randomKey,internalEventHandlesSetKey="__reactHandles$"+randomKey,internalRootNodeResourcesKey="__reactResources$"+randomKey,internalHoistableMarker="__reactMarker$"+randomKey;function detachDeletedInstance(T){delete T[internalInstanceKey],delete T[internalPropsKey],delete T[internalEventHandlersKey],delete T[internalEventHandlerListenersKey],delete T[internalEventHandlesSetKey]}function getClosestInstanceFromNode(T){var _=T[internalInstanceKey];if(_)return _;for(var U=T.parentNode;U;){if(_=U[internalContainerInstanceKey]||U[internalInstanceKey]){if(U=_.alternate,_.child!==null||U!==null&&U.child!==null)for(T=getParentSuspenseInstance(T);T!==null;){if(U=T[internalInstanceKey])return U;T=getParentSuspenseInstance(T)}return _}T=U,U=T.parentNode}return null}function getInstanceFromNode(T){if(T=T[internalInstanceKey]||T[internalContainerInstanceKey]){var _=T.tag;if(_===5||_===6||_===13||_===26||_===27||_===3)return T}return null}function getNodeFromInstance(T){var _=T.tag;if(_===5||_===26||_===27||_===6)return T.stateNode;throw Error(formatProdErrorMessage(33))}function getResourcesFromRoot(T){var _=T[internalRootNodeResourcesKey];return _||(_=T[internalRootNodeResourcesKey]={hoistableStyles:new Map,hoistableScripts:new Map}),_}function markNodeAsHoistable(T){T[internalHoistableMarker]=!0}var allNativeEvents=new Set,registrationNameDependencies={};function registerTwoPhaseEvent(T,_){registerDirectEvent(T,_),registerDirectEvent(T+"Capture",_)}function registerDirectEvent(T,_){for(registrationNameDependencies[T]=_,T=0;T<_.length;T++)allNativeEvents.add(_[T])}var canUseDOM$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VALID_ATTRIBUTE_NAME_REGEX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),illegalAttributeNameCache={},validatedAttributeNameCache={};function isAttributeNameSafe(T){return hasOwnProperty$1.call(validatedAttributeNameCache,T)?!0:hasOwnProperty$1.call(illegalAttributeNameCache,T)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(T)?validatedAttributeNameCache[T]=!0:(illegalAttributeNameCache[T]=!0,!1)}function setValueForAttribute(T,_,U){if(isAttributeNameSafe(_))if(U===null)T.removeAttribute(_);else{switch(typeof U){case"undefined":case"function":case"symbol":T.removeAttribute(_);return;case"boolean":var H=_.toLowerCase().slice(0,5);if(H!=="data-"&&H!=="aria-"){T.removeAttribute(_);return}}T.setAttribute(_,""+U)}}function setValueForKnownAttribute(T,_,U){if(U===null)T.removeAttribute(_);else{switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":T.removeAttribute(_);return}T.setAttribute(_,""+U)}}function setValueForNamespacedAttribute(T,_,U,H){if(H===null)T.removeAttribute(U);else{switch(typeof H){case"undefined":case"function":case"symbol":case"boolean":T.removeAttribute(U);return}T.setAttributeNS(_,U,""+H)}}function getToStringValue(T){switch(typeof T){case"bigint":case"boolean":case"number":case"string":case"undefined":return T;case"object":return T;default:return""}}function isCheckable(T){var _=T.type;return(T=T.nodeName)&&T.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function trackValueOnNode(T){var _=isCheckable(T)?"checked":"value",U=Object.getOwnPropertyDescriptor(T.constructor.prototype,_),H=""+T[_];if(!T.hasOwnProperty(_)&&typeof U<"u"&&typeof U.get=="function"&&typeof U.set=="function"){var z=U.get,j=U.set;return Object.defineProperty(T,_,{configurable:!0,get:function(){return z.call(this)},set:function(q){H=""+q,j.call(this,q)}}),Object.defineProperty(T,_,{enumerable:U.enumerable}),{getValue:function(){return H},setValue:function(q){H=""+q},stopTracking:function(){T._valueTracker=null,delete T[_]}}}}function track(T){T._valueTracker||(T._valueTracker=trackValueOnNode(T))}function updateValueIfChanged(T){if(!T)return!1;var _=T._valueTracker;if(!_)return!0;var U=_.getValue(),H="";return T&&(H=isCheckable(T)?T.checked?"true":"false":T.value),T=H,T!==U?(_.setValue(T),!0):!1}function getActiveElement(T){if(T=T||(typeof document<"u"?document:void 0),typeof T>"u")return null;try{return T.activeElement||T.body}catch{return T.body}}var escapeSelectorAttributeValueInsideDoubleQuotesRegex=/[\n"\\]/g;function escapeSelectorAttributeValueInsideDoubleQuotes(T){return T.replace(escapeSelectorAttributeValueInsideDoubleQuotesRegex,function(_){return"\\"+_.charCodeAt(0).toString(16)+" "})}function updateInput(T,_,U,H,z,j,q,K){T.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?T.type=q:T.removeAttribute("type"),_!=null?q==="number"?(_===0&&T.value===""||T.value!=_)&&(T.value=""+getToStringValue(_)):T.value!==""+getToStringValue(_)&&(T.value=""+getToStringValue(_)):q!=="submit"&&q!=="reset"||T.removeAttribute("value"),_!=null?setDefaultValue(T,q,getToStringValue(_)):U!=null?setDefaultValue(T,q,getToStringValue(U)):H!=null&&T.removeAttribute("value"),z==null&&j!=null&&(T.defaultChecked=!!j),z!=null&&(T.checked=z&&typeof z!="function"&&typeof z!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?T.name=""+getToStringValue(K):T.removeAttribute("name")}function initInput(T,_,U,H,z,j,q,K){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(T.type=j),_!=null||U!=null){if(!(j!=="submit"&&j!=="reset"||_!=null))return;U=U!=null?""+getToStringValue(U):"",_=_!=null?""+getToStringValue(_):U,K||_===T.value||(T.value=_),T.defaultValue=_}H=H??z,H=typeof H!="function"&&typeof H!="symbol"&&!!H,T.checked=K?T.checked:!!H,T.defaultChecked=!!H,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(T.name=q)}function setDefaultValue(T,_,U){_==="number"&&getActiveElement(T.ownerDocument)===T||T.defaultValue===""+U||(T.defaultValue=""+U)}function updateOptions(T,_,U,H){if(T=T.options,_){_={};for(var z=0;z<U.length;z++)_["$"+U[z]]=!0;for(U=0;U<T.length;U++)z=_.hasOwnProperty("$"+T[U].value),T[U].selected!==z&&(T[U].selected=z),z&&H&&(T[U].defaultSelected=!0)}else{for(U=""+getToStringValue(U),_=null,z=0;z<T.length;z++){if(T[z].value===U){T[z].selected=!0,H&&(T[z].defaultSelected=!0);return}_!==null||T[z].disabled||(_=T[z])}_!==null&&(_.selected=!0)}}function updateTextarea(T,_,U){if(_!=null&&(_=""+getToStringValue(_),_!==T.value&&(T.value=_),U==null)){T.defaultValue!==_&&(T.defaultValue=_);return}T.defaultValue=U!=null?""+getToStringValue(U):""}function initTextarea(T,_,U,H){if(_==null){if(H!=null){if(U!=null)throw Error(formatProdErrorMessage(92));if(isArrayImpl(H)){if(1<H.length)throw Error(formatProdErrorMessage(93));H=H[0]}U=H}U==null&&(U=""),_=U}U=getToStringValue(_),T.defaultValue=U,H=T.textContent,H===U&&H!==""&&H!==null&&(T.value=H)}function setTextContent(T,_){if(_){var U=T.firstChild;if(U&&U===T.lastChild&&U.nodeType===3){U.nodeValue=_;return}}T.textContent=_}var unitlessNumbers=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function setValueForStyle(T,_,U){var H=_.indexOf("--")===0;U==null||typeof U=="boolean"||U===""?H?T.setProperty(_,""):_==="float"?T.cssFloat="":T[_]="":H?T.setProperty(_,U):typeof U!="number"||U===0||unitlessNumbers.has(_)?_==="float"?T.cssFloat=U:T[_]=(""+U).trim():T[_]=U+"px"}function setValueForStyles(T,_,U){if(_!=null&&typeof _!="object")throw Error(formatProdErrorMessage(62));if(T=T.style,U!=null){for(var H in U)!U.hasOwnProperty(H)||_!=null&&_.hasOwnProperty(H)||(H.indexOf("--")===0?T.setProperty(H,""):H==="float"?T.cssFloat="":T[H]="");for(var z in _)H=_[z],_.hasOwnProperty(z)&&U[z]!==H&&setValueForStyle(T,z,H)}else for(var j in _)_.hasOwnProperty(j)&&setValueForStyle(T,j,_[j])}function isCustomElement(T){if(T.indexOf("-")===-1)return!1;switch(T){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aliases=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),isJavaScriptProtocol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sanitizeURL(T){return isJavaScriptProtocol.test(""+T)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":T}var currentReplayingEvent=null;function getEventTarget(T){return T=T.target||T.srcElement||window,T.correspondingUseElement&&(T=T.correspondingUseElement),T.nodeType===3?T.parentNode:T}var restoreTarget=null,restoreQueue=null;function restoreStateOfTarget(T){var _=getInstanceFromNode(T);if(_&&(T=_.stateNode)){var U=T[internalPropsKey]||null;e:switch(T=_.stateNode,_.type){case"input":if(updateInput(T,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name),_=U.name,U.type==="radio"&&_!=null){for(U=T;U.parentNode;)U=U.parentNode;for(U=U.querySelectorAll('input[name="'+escapeSelectorAttributeValueInsideDoubleQuotes(""+_)+'"][type="radio"]'),_=0;_<U.length;_++){var H=U[_];if(H!==T&&H.form===T.form){var z=H[internalPropsKey]||null;if(!z)throw Error(formatProdErrorMessage(90));updateInput(H,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(_=0;_<U.length;_++)H=U[_],H.form===T.form&&updateValueIfChanged(H)}break e;case"textarea":updateTextarea(T,U.value,U.defaultValue);break e;case"select":_=U.value,_!=null&&updateOptions(T,!!U.multiple,_,!1)}}}var isInsideEventHandler=!1;function batchedUpdates$1(T,_,U){if(isInsideEventHandler)return T(_,U);isInsideEventHandler=!0;try{var H=T(_);return H}finally{if(isInsideEventHandler=!1,(restoreTarget!==null||restoreQueue!==null)&&(flushSyncWork$1(),restoreTarget&&(_=restoreTarget,T=restoreQueue,restoreQueue=restoreTarget=null,restoreStateOfTarget(_),T)))for(_=0;_<T.length;_++)restoreStateOfTarget(T[_])}}function getListener(T,_){var U=T.stateNode;if(U===null)return null;var H=U[internalPropsKey]||null;if(H===null)return null;U=H[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(T=T.type,H=!(T==="button"||T==="input"||T==="select"||T==="textarea")),T=!H;break e;default:T=!1}if(T)return null;if(U&&typeof U!="function")throw Error(formatProdErrorMessage(231,_,typeof U));return U}var passiveBrowserEventsSupported=!1;if(canUseDOM$1)try{var options={};Object.defineProperty(options,"passive",{get:function(){passiveBrowserEventsSupported=!0}}),window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveBrowserEventsSupported=!1}var root$1=null,startText=null,fallbackText=null;function getData(){if(fallbackText)return fallbackText;var T,_=startText,U=_.length,H,z="value"in root$1?root$1.value:root$1.textContent,j=z.length;for(T=0;T<U&&_[T]===z[T];T++);var q=U-T;for(H=1;H<=q&&_[U-H]===z[j-H];H++);return fallbackText=z.slice(T,1<H?1-H:void 0)}function getEventCharCode(T){var _=T.keyCode;return"charCode"in T?(T=T.charCode,T===0&&_===13&&(T=13)):T=_,T===10&&(T=13),32<=T||T===13?T:0}function functionThatReturnsTrue(){return!0}function functionThatReturnsFalse(){return!1}function createSyntheticEvent(T){function _(U,H,z,j,q){this._reactName=U,this._targetInst=z,this.type=H,this.nativeEvent=j,this.target=q,this.currentTarget=null;for(var K in T)T.hasOwnProperty(K)&&(U=T[K],this[K]=U?U(j):j[K]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?functionThatReturnsTrue:functionThatReturnsFalse,this.isPropagationStopped=functionThatReturnsFalse,this}return assign(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var U=this.nativeEvent;U&&(U.preventDefault?U.preventDefault():typeof U.returnValue!="unknown"&&(U.returnValue=!1),this.isDefaultPrevented=functionThatReturnsTrue)},stopPropagation:function(){var U=this.nativeEvent;U&&(U.stopPropagation?U.stopPropagation():typeof U.cancelBubble!="unknown"&&(U.cancelBubble=!0),this.isPropagationStopped=functionThatReturnsTrue)},persist:function(){},isPersistent:functionThatReturnsTrue}),_}var EventInterface={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(T){return T.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SyntheticEvent=createSyntheticEvent(EventInterface),UIEventInterface=assign({},EventInterface,{view:0,detail:0}),SyntheticUIEvent=createSyntheticEvent(UIEventInterface),lastMovementX,lastMovementY,lastMouseEvent,MouseEventInterface=assign({},UIEventInterface,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:getEventModifierState,button:0,buttons:0,relatedTarget:function(T){return T.relatedTarget===void 0?T.fromElement===T.srcElement?T.toElement:T.fromElement:T.relatedTarget},movementX:function(T){return"movementX"in T?T.movementX:(T!==lastMouseEvent&&(lastMouseEvent&&T.type==="mousemove"?(lastMovementX=T.screenX-lastMouseEvent.screenX,lastMovementY=T.screenY-lastMouseEvent.screenY):lastMovementY=lastMovementX=0,lastMouseEvent=T),lastMovementX)},movementY:function(T){return"movementY"in T?T.movementY:lastMovementY}}),SyntheticMouseEvent=createSyntheticEvent(MouseEventInterface),DragEventInterface=assign({},MouseEventInterface,{dataTransfer:0}),SyntheticDragEvent=createSyntheticEvent(DragEventInterface),FocusEventInterface=assign({},UIEventInterface,{relatedTarget:0}),SyntheticFocusEvent=createSyntheticEvent(FocusEventInterface),AnimationEventInterface=assign({},EventInterface,{animationName:0,elapsedTime:0,pseudoElement:0}),SyntheticAnimationEvent=createSyntheticEvent(AnimationEventInterface),ClipboardEventInterface=assign({},EventInterface,{clipboardData:function(T){return"clipboardData"in T?T.clipboardData:window.clipboardData}}),SyntheticClipboardEvent=createSyntheticEvent(ClipboardEventInterface),CompositionEventInterface=assign({},EventInterface,{data:0}),SyntheticCompositionEvent=createSyntheticEvent(CompositionEventInterface),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(T){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(T):(T=modifierKeyToProp[T])?!!_[T]:!1}function getEventModifierState(){return modifierStateGetter}var KeyboardEventInterface=assign({},UIEventInterface,{key:function(T){if(T.key){var _=normalizeKey[T.key]||T.key;if(_!=="Unidentified")return _}return T.type==="keypress"?(T=getEventCharCode(T),T===13?"Enter":String.fromCharCode(T)):T.type==="keydown"||T.type==="keyup"?translateToKey[T.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:getEventModifierState,charCode:function(T){return T.type==="keypress"?getEventCharCode(T):0},keyCode:function(T){return T.type==="keydown"||T.type==="keyup"?T.keyCode:0},which:function(T){return T.type==="keypress"?getEventCharCode(T):T.type==="keydown"||T.type==="keyup"?T.keyCode:0}}),SyntheticKeyboardEvent=createSyntheticEvent(KeyboardEventInterface),PointerEventInterface=assign({},MouseEventInterface,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SyntheticPointerEvent=createSyntheticEvent(PointerEventInterface),TouchEventInterface=assign({},UIEventInterface,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:getEventModifierState}),SyntheticTouchEvent=createSyntheticEvent(TouchEventInterface),TransitionEventInterface=assign({},EventInterface,{propertyName:0,elapsedTime:0,pseudoElement:0}),SyntheticTransitionEvent=createSyntheticEvent(TransitionEventInterface),WheelEventInterface=assign({},MouseEventInterface,{deltaX:function(T){return"deltaX"in T?T.deltaX:"wheelDeltaX"in T?-T.wheelDeltaX:0},deltaY:function(T){return"deltaY"in T?T.deltaY:"wheelDeltaY"in T?-T.wheelDeltaY:"wheelDelta"in T?-T.wheelDelta:0},deltaZ:0,deltaMode:0}),SyntheticWheelEvent=createSyntheticEvent(WheelEventInterface),ToggleEventInterface=assign({},EventInterface,{newState:0,oldState:0}),SyntheticToggleEvent=createSyntheticEvent(ToggleEventInterface),END_KEYCODES=[9,13,27,32],canUseCompositionEvent=canUseDOM$1&&"CompositionEvent"in window,documentMode=null;canUseDOM$1&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=canUseDOM$1&&"TextEvent"in window&&!documentMode,useFallbackCompositionData=canUseDOM$1&&(!canUseCompositionEvent||documentMode&&8<documentMode&&11>=documentMode),SPACEBAR_CHAR=" ",hasSpaceKeypress=!1;function isFallbackCompositionEnd(T,_){switch(T){case"keyup":return END_KEYCODES.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function getDataFromCustomEvent(T){return T=T.detail,typeof T=="object"&&"data"in T?T.data:null}var isComposing=!1;function getNativeBeforeInputChars(T,_){switch(T){case"compositionend":return getDataFromCustomEvent(_);case"keypress":return _.which!==32?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case"textInput":return T=_.data,T===SPACEBAR_CHAR&&hasSpaceKeypress?null:T;default:return null}}function getFallbackBeforeInputChars(T,_){if(isComposing)return T==="compositionend"||!canUseCompositionEvent&&isFallbackCompositionEnd(T,_)?(T=getData(),fallbackText=startText=root$1=null,isComposing=!1,T):null;switch(T){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return useFallbackCompositionData&&_.locale!=="ko"?null:_.data;default:return null}}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function isTextInputElement(T){var _=T&&T.nodeName&&T.nodeName.toLowerCase();return _==="input"?!!supportedInputTypes[T.type]:_==="textarea"}function createAndAccumulateChangeEvent(T,_,U,H){restoreTarget?restoreQueue?restoreQueue.push(H):restoreQueue=[H]:restoreTarget=H,_=accumulateTwoPhaseListeners(_,"onChange"),0<_.length&&(U=new SyntheticEvent("onChange","change",null,U,H),T.push({event:U,listeners:_}))}var activeElement$1=null,activeElementInst$1=null;function runEventInBatch(T){processDispatchQueue(T,0)}function getInstIfValueChanged(T){var _=getNodeFromInstance(T);if(updateValueIfChanged(_))return T}function getTargetInstForChangeEvent(T,_){if(T==="change")return _}var isInputEventSupported=!1;if(canUseDOM$1){var JSCompiler_inline_result$jscomp$283;if(canUseDOM$1){var isSupported$jscomp$inline_418="oninput"in document;if(!isSupported$jscomp$inline_418){var element$jscomp$inline_419=document.createElement("div");element$jscomp$inline_419.setAttribute("oninput","return;"),isSupported$jscomp$inline_418=typeof element$jscomp$inline_419.oninput=="function"}JSCompiler_inline_result$jscomp$283=isSupported$jscomp$inline_418}else JSCompiler_inline_result$jscomp$283=!1;isInputEventSupported=JSCompiler_inline_result$jscomp$283&&(!document.documentMode||9<document.documentMode)}function stopWatchingForValueChange(){activeElement$1&&(activeElement$1.detachEvent("onpropertychange",handlePropertyChange),activeElementInst$1=activeElement$1=null)}function handlePropertyChange(T){if(T.propertyName==="value"&&getInstIfValueChanged(activeElementInst$1)){var _=[];createAndAccumulateChangeEvent(_,activeElementInst$1,T,getEventTarget(T)),batchedUpdates$1(runEventInBatch,_)}}function handleEventsForInputEventPolyfill(T,_,U){T==="focusin"?(stopWatchingForValueChange(),activeElement$1=_,activeElementInst$1=U,activeElement$1.attachEvent("onpropertychange",handlePropertyChange)):T==="focusout"&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(T){if(T==="selectionchange"||T==="keyup"||T==="keydown")return getInstIfValueChanged(activeElementInst$1)}function getTargetInstForClickEvent(T,_){if(T==="click")return getInstIfValueChanged(_)}function getTargetInstForInputOrChangeEvent(T,_){if(T==="input"||T==="change")return getInstIfValueChanged(_)}function is(T,_){return T===_&&(T!==0||1/T===1/_)||T!==T&&_!==_}var objectIs=typeof Object.is=="function"?Object.is:is;function shallowEqual(T,_){if(objectIs(T,_))return!0;if(typeof T!="object"||T===null||typeof _!="object"||_===null)return!1;var U=Object.keys(T),H=Object.keys(_);if(U.length!==H.length)return!1;for(H=0;H<U.length;H++){var z=U[H];if(!hasOwnProperty$1.call(_,z)||!objectIs(T[z],_[z]))return!1}return!0}function getLeafNode(T){for(;T&&T.firstChild;)T=T.firstChild;return T}function getNodeForCharacterOffset(T,_){var U=getLeafNode(T);T=0;for(var H;U;){if(U.nodeType===3){if(H=T+U.textContent.length,T<=_&&H>=_)return{node:U,offset:_-T};T=H}e:{for(;U;){if(U.nextSibling){U=U.nextSibling;break e}U=U.parentNode}U=void 0}U=getLeafNode(U)}}function containsNode(T,_){return T&&_?T===_?!0:T&&T.nodeType===3?!1:_&&_.nodeType===3?containsNode(T,_.parentNode):"contains"in T?T.contains(_):T.compareDocumentPosition?!!(T.compareDocumentPosition(_)&16):!1:!1}function getActiveElementDeep(T){T=T!=null&&T.ownerDocument!=null&&T.ownerDocument.defaultView!=null?T.ownerDocument.defaultView:window;for(var _=getActiveElement(T.document);_ instanceof T.HTMLIFrameElement;){try{var U=typeof _.contentWindow.location.href=="string"}catch{U=!1}if(U)T=_.contentWindow;else break;_=getActiveElement(T.document)}return _}function hasSelectionCapabilities(T){var _=T&&T.nodeName&&T.nodeName.toLowerCase();return _&&(_==="input"&&(T.type==="text"||T.type==="search"||T.type==="tel"||T.type==="url"||T.type==="password")||_==="textarea"||T.contentEditable==="true")}function restoreSelection(T,_){var U=getActiveElementDeep(_);_=T.focusedElem;var H=T.selectionRange;if(U!==_&&_&&_.ownerDocument&&containsNode(_.ownerDocument.documentElement,_)){if(H!==null&&hasSelectionCapabilities(_)){if(T=H.start,U=H.end,U===void 0&&(U=T),"selectionStart"in _)_.selectionStart=T,_.selectionEnd=Math.min(U,_.value.length);else if(U=(T=_.ownerDocument||document)&&T.defaultView||window,U.getSelection){U=U.getSelection();var z=_.textContent.length,j=Math.min(H.start,z);H=H.end===void 0?j:Math.min(H.end,z),!U.extend&&j>H&&(z=H,H=j,j=z),z=getNodeForCharacterOffset(_,j);var q=getNodeForCharacterOffset(_,H);z&&q&&(U.rangeCount!==1||U.anchorNode!==z.node||U.anchorOffset!==z.offset||U.focusNode!==q.node||U.focusOffset!==q.offset)&&(T=T.createRange(),T.setStart(z.node,z.offset),U.removeAllRanges(),j>H?(U.addRange(T),U.extend(q.node,q.offset)):(T.setEnd(q.node,q.offset),U.addRange(T)))}}for(T=[],U=_;U=U.parentNode;)U.nodeType===1&&T.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<T.length;_++)U=T[_],U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}var skipSelectionChangeEvent=canUseDOM$1&&"documentMode"in document&&11>=document.documentMode,activeElement=null,activeElementInst=null,lastSelection=null,mouseDown=!1;function constructSelectEvent(T,_,U){var H=U.window===U?U.document:U.nodeType===9?U:U.ownerDocument;mouseDown||activeElement==null||activeElement!==getActiveElement(H)||(H=activeElement,"selectionStart"in H&&hasSelectionCapabilities(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),lastSelection&&shallowEqual(lastSelection,H)||(lastSelection=H,H=accumulateTwoPhaseListeners(activeElementInst,"onSelect"),0<H.length&&(_=new SyntheticEvent("onSelect","select",null,_,U),T.push({event:_,listeners:H}),_.target=activeElement)))}function makePrefixMap(T,_){var U={};return U[T.toLowerCase()]=_.toLowerCase(),U["Webkit"+T]="webkit"+_,U["Moz"+T]="moz"+_,U}var vendorPrefixes={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionrun:makePrefixMap("Transition","TransitionRun"),transitionstart:makePrefixMap("Transition","TransitionStart"),transitioncancel:makePrefixMap("Transition","TransitionCancel"),transitionend:makePrefixMap("Transition","TransitionEnd")},prefixedEventNames={},style={};canUseDOM$1&&(style=document.createElement("div").style,"AnimationEvent"in window||(delete vendorPrefixes.animationend.animation,delete vendorPrefixes.animationiteration.animation,delete vendorPrefixes.animationstart.animation),"TransitionEvent"in window||delete vendorPrefixes.transitionend.transition);function getVendorPrefixedEventName(T){if(prefixedEventNames[T])return prefixedEventNames[T];if(!vendorPrefixes[T])return T;var _=vendorPrefixes[T],U;for(U in _)if(_.hasOwnProperty(U)&&U in style)return prefixedEventNames[T]=_[U];return T}var ANIMATION_END=getVendorPrefixedEventName("animationend"),ANIMATION_ITERATION=getVendorPrefixedEventName("animationiteration"),ANIMATION_START=getVendorPrefixedEventName("animationstart"),TRANSITION_RUN=getVendorPrefixedEventName("transitionrun"),TRANSITION_START=getVendorPrefixedEventName("transitionstart"),TRANSITION_CANCEL=getVendorPrefixedEventName("transitioncancel"),TRANSITION_END=getVendorPrefixedEventName("transitionend"),topLevelEventsToReactNames=new Map,simpleEventPluginEvents="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function registerSimpleEvent(T,_){topLevelEventsToReactNames.set(T,_),registerTwoPhaseEvent(_,[T])}var concurrentQueues=[],concurrentQueuesIndex=0,concurrentlyUpdatedLanes=0;function finishQueueingConcurrentUpdates(){for(var T=concurrentQueuesIndex,_=concurrentlyUpdatedLanes=concurrentQueuesIndex=0;_<T;){var U=concurrentQueues[_];concurrentQueues[_++]=null;var H=concurrentQueues[_];concurrentQueues[_++]=null;var z=concurrentQueues[_];concurrentQueues[_++]=null;var j=concurrentQueues[_];if(concurrentQueues[_++]=null,H!==null&&z!==null){var q=H.pending;q===null?z.next=z:(z.next=q.next,q.next=z),H.pending=z}j!==0&&markUpdateLaneFromFiberToRoot(U,z,j)}}function enqueueUpdate$1(T,_,U,H){concurrentQueues[concurrentQueuesIndex++]=T,concurrentQueues[concurrentQueuesIndex++]=_,concurrentQueues[concurrentQueuesIndex++]=U,concurrentQueues[concurrentQueuesIndex++]=H,concurrentlyUpdatedLanes|=H,T.lanes|=H,T=T.alternate,T!==null&&(T.lanes|=H)}function enqueueConcurrentHookUpdate(T,_,U,H){return enqueueUpdate$1(T,_,U,H),getRootForUpdatedFiber(T)}function enqueueConcurrentRenderForLane(T,_){return enqueueUpdate$1(T,null,null,_),getRootForUpdatedFiber(T)}function markUpdateLaneFromFiberToRoot(T,_,U){T.lanes|=U;var H=T.alternate;H!==null&&(H.lanes|=U);for(var z=!1,j=T.return;j!==null;)j.childLanes|=U,H=j.alternate,H!==null&&(H.childLanes|=U),j.tag===22&&(T=j.stateNode,T===null||T._visibility&1||(z=!0)),T=j,j=j.return;z&&_!==null&&T.tag===3&&(j=T.stateNode,z=31-clz32(U),j=j.hiddenUpdates,T=j[z],T===null?j[z]=[_]:T.push(_),_.lane=U|536870912)}function getRootForUpdatedFiber(T){if(50<nestedUpdateCount)throw nestedUpdateCount=0,rootWithNestedUpdates=null,Error(formatProdErrorMessage(185));for(var _=T.return;_!==null;)T=_,_=T.return;return T.tag===3?T.stateNode:null}var emptyContextObject={},CapturedStacks=new WeakMap;function createCapturedValueAtFiber(T,_){if(typeof T=="object"&&T!==null){var U=CapturedStacks.get(T);return U!==void 0?U:(_={value:T,source:_,stack:getStackByFiberInDevAndProd(_)},CapturedStacks.set(T,_),_)}return{value:T,source:_,stack:getStackByFiberInDevAndProd(_)}}var forkStack=[],forkStackIndex=0,treeForkProvider=null,treeForkCount=0,idStack=[],idStackIndex=0,treeContextProvider=null,treeContextId=1,treeContextOverflow="";function pushTreeFork(T,_){forkStack[forkStackIndex++]=treeForkCount,forkStack[forkStackIndex++]=treeForkProvider,treeForkProvider=T,treeForkCount=_}function pushTreeId(T,_,U){idStack[idStackIndex++]=treeContextId,idStack[idStackIndex++]=treeContextOverflow,idStack[idStackIndex++]=treeContextProvider,treeContextProvider=T;var H=treeContextId;T=treeContextOverflow;var z=32-clz32(H)-1;H&=~(1<<z),U+=1;var j=32-clz32(_)+z;if(30<j){var q=z-z%5;j=(H&(1<<q)-1).toString(32),H>>=q,z-=q,treeContextId=1<<32-clz32(_)+z|U<<z|H,treeContextOverflow=j+T}else treeContextId=1<<j|U<<z|H,treeContextOverflow=T}function pushMaterializedTreeId(T){T.return!==null&&(pushTreeFork(T,1),pushTreeId(T,1,0))}function popTreeContext(T){for(;T===treeForkProvider;)treeForkProvider=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null,treeForkCount=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null;for(;T===treeContextProvider;)treeContextProvider=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextOverflow=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextId=idStack[--idStackIndex],idStack[idStackIndex]=null}var hydrationParentFiber=null,nextHydratableInstance=null,isHydrating=!1,hydrationErrors=null,rootOrSingletonContext=!1,HydrationMismatchException=Error(formatProdErrorMessage(519));function throwOnHydrationMismatch(T){var _=Error(formatProdErrorMessage(418,""));throw queueHydrationError(createCapturedValueAtFiber(_,T)),HydrationMismatchException}function prepareToHydrateHostInstance(T){var _=T.stateNode,U=T.type,H=T.memoizedProps;switch(_[internalInstanceKey]=T,_[internalPropsKey]=H,U){case"dialog":listenToNonDelegatedEvent("cancel",_),listenToNonDelegatedEvent("close",_);break;case"iframe":case"object":case"embed":listenToNonDelegatedEvent("load",_);break;case"video":case"audio":for(U=0;U<mediaEventTypes.length;U++)listenToNonDelegatedEvent(mediaEventTypes[U],_);break;case"source":listenToNonDelegatedEvent("error",_);break;case"img":case"image":case"link":listenToNonDelegatedEvent("error",_),listenToNonDelegatedEvent("load",_);break;case"details":listenToNonDelegatedEvent("toggle",_);break;case"input":listenToNonDelegatedEvent("invalid",_),initInput(_,H.value,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name,!0),track(_);break;case"select":listenToNonDelegatedEvent("invalid",_);break;case"textarea":listenToNonDelegatedEvent("invalid",_),initTextarea(_,H.value,H.defaultValue,H.children),track(_)}U=H.children,typeof U!="string"&&typeof U!="number"&&typeof U!="bigint"||_.textContent===""+U||H.suppressHydrationWarning===!0||checkForUnmatchedText(_.textContent,U)?(H.popover!=null&&(listenToNonDelegatedEvent("beforetoggle",_),listenToNonDelegatedEvent("toggle",_)),H.onScroll!=null&&listenToNonDelegatedEvent("scroll",_),H.onScrollEnd!=null&&listenToNonDelegatedEvent("scrollend",_),H.onClick!=null&&(_.onclick=noop$1$1),_=!0):_=!1,_||throwOnHydrationMismatch(T)}function popToNextHostParent(T){for(hydrationParentFiber=T.return;hydrationParentFiber;)switch(hydrationParentFiber.tag){case 3:case 27:rootOrSingletonContext=!0;return;case 5:case 13:rootOrSingletonContext=!1;return;default:hydrationParentFiber=hydrationParentFiber.return}}function popHydrationState(T){if(T!==hydrationParentFiber)return!1;if(!isHydrating)return popToNextHostParent(T),isHydrating=!0,!1;var _=!1,U;if((U=T.tag!==3&&T.tag!==27)&&((U=T.tag===5)&&(U=T.type,U=!(U!=="form"&&U!=="button")||shouldSetTextContent(T.type,T.memoizedProps)),U=!U),U&&(_=!0),_&&nextHydratableInstance&&throwOnHydrationMismatch(T),popToNextHostParent(T),T.tag===13){if(T=T.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(formatProdErrorMessage(317));e:{for(T=T.nextSibling,_=0;T;){if(T.nodeType===8)if(U=T.data,U==="/$"){if(_===0){nextHydratableInstance=getNextHydratable(T.nextSibling);break e}_--}else U!=="$"&&U!=="$!"&&U!=="$?"||_++;T=T.nextSibling}nextHydratableInstance=null}}else nextHydratableInstance=hydrationParentFiber?getNextHydratable(T.stateNode.nextSibling):null;return!0}function resetHydrationState(){nextHydratableInstance=hydrationParentFiber=null,isHydrating=!1}function queueHydrationError(T){hydrationErrors===null?hydrationErrors=[T]:hydrationErrors.push(T)}var SuspenseException=Error(formatProdErrorMessage(460)),SuspenseyCommitException=Error(formatProdErrorMessage(474)),noopSuspenseyCommitThenable={then:function(){}};function isThenableResolved(T){return T=T.status,T==="fulfilled"||T==="rejected"}function noop$3(){}function trackUsedThenable(T,_,U){switch(U=T[U],U===void 0?T.push(_):U!==_&&(_.then(noop$3,noop$3),_=U),_.status){case"fulfilled":return _.value;case"rejected":throw T=_.reason,T===SuspenseException?Error(formatProdErrorMessage(483)):T;default:if(typeof _.status=="string")_.then(noop$3,noop$3);else{if(T=workInProgressRoot,T!==null&&100<T.shellSuspendCounter)throw Error(formatProdErrorMessage(482));T=_,T.status="pending",T.then(function(H){if(_.status==="pending"){var z=_;z.status="fulfilled",z.value=H}},function(H){if(_.status==="pending"){var z=_;z.status="rejected",z.reason=H}})}switch(_.status){case"fulfilled":return _.value;case"rejected":throw T=_.reason,T===SuspenseException?Error(formatProdErrorMessage(483)):T}throw suspendedThenable=_,SuspenseException}}var suspendedThenable=null;function getSuspendedThenable(){if(suspendedThenable===null)throw Error(formatProdErrorMessage(459));var T=suspendedThenable;return suspendedThenable=null,T}var thenableState$1=null,thenableIndexCounter$1=0;function unwrapThenable(T){var _=thenableIndexCounter$1;return thenableIndexCounter$1+=1,thenableState$1===null&&(thenableState$1=[]),trackUsedThenable(thenableState$1,T,_)}function coerceRef(T,_){_=_.props.ref,T.ref=_!==void 0?_:null}function throwOnInvalidObjectType(T,_){throw _.$$typeof===REACT_LEGACY_ELEMENT_TYPE?Error(formatProdErrorMessage(525)):(T=Object.prototype.toString.call(_),Error(formatProdErrorMessage(31,T==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":T)))}function resolveLazy(T){var _=T._init;return _(T._payload)}function createChildReconciler(T){function _(le,ue){if(T){var fe=le.deletions;fe===null?(le.deletions=[ue],le.flags|=16):fe.push(ue)}}function U(le,ue){if(!T)return null;for(;ue!==null;)_(le,ue),ue=ue.sibling;return null}function H(le){for(var ue=new Map;le!==null;)le.key!==null?ue.set(le.key,le):ue.set(le.index,le),le=le.sibling;return ue}function z(le,ue){return le=createWorkInProgress(le,ue),le.index=0,le.sibling=null,le}function j(le,ue,fe){return le.index=fe,T?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ue?(le.flags|=33554434,ue):fe):(le.flags|=33554434,ue)):(le.flags|=1048576,ue)}function q(le){return T&&le.alternate===null&&(le.flags|=33554434),le}function K(le,ue,fe,ve){return ue===null||ue.tag!==6?(ue=createFiberFromText(fe,le.mode,ve),ue.return=le,ue):(ue=z(ue,fe),ue.return=le,ue)}function Y(le,ue,fe,ve){var me=fe.type;return me===REACT_FRAGMENT_TYPE?Z(le,ue,fe.props.children,ve,fe.key):ue!==null&&(ue.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===REACT_LAZY_TYPE&&resolveLazy(me)===ue.type)?(ue=z(ue,fe.props),coerceRef(ue,fe),ue.return=le,ue):(ue=createFiberFromTypeAndProps(fe.type,fe.key,fe.props,null,le.mode,ve),coerceRef(ue,fe),ue.return=le,ue)}function X(le,ue,fe,ve){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==fe.containerInfo||ue.stateNode.implementation!==fe.implementation?(ue=createFiberFromPortal(fe,le.mode,ve),ue.return=le,ue):(ue=z(ue,fe.children||[]),ue.return=le,ue)}function Z(le,ue,fe,ve,me){return ue===null||ue.tag!==7?(ue=createFiberFromFragment(fe,le.mode,ve,me),ue.return=le,ue):(ue=z(ue,fe),ue.return=le,ue)}function ne(le,ue,fe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=createFiberFromText(""+ue,le.mode,fe),ue.return=le,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case REACT_ELEMENT_TYPE:return fe=createFiberFromTypeAndProps(ue.type,ue.key,ue.props,null,le.mode,fe),coerceRef(fe,ue),fe.return=le,fe;case REACT_PORTAL_TYPE:return ue=createFiberFromPortal(ue,le.mode,fe),ue.return=le,ue;case REACT_LAZY_TYPE:var ve=ue._init;return ue=ve(ue._payload),ne(le,ue,fe)}if(isArrayImpl(ue)||getIteratorFn(ue))return ue=createFiberFromFragment(ue,le.mode,fe,null),ue.return=le,ue;if(typeof ue.then=="function")return ne(le,unwrapThenable(ue),fe);if(ue.$$typeof===REACT_CONTEXT_TYPE)return ne(le,readContextDuringReconciliation(le,ue),fe);throwOnInvalidObjectType(le,ue)}return null}function ie(le,ue,fe,ve){var me=ue!==null?ue.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return me!==null?null:K(le,ue,""+fe,ve);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case REACT_ELEMENT_TYPE:return fe.key===me?Y(le,ue,fe,ve):null;case REACT_PORTAL_TYPE:return fe.key===me?X(le,ue,fe,ve):null;case REACT_LAZY_TYPE:return me=fe._init,fe=me(fe._payload),ie(le,ue,fe,ve)}if(isArrayImpl(fe)||getIteratorFn(fe))return me!==null?null:Z(le,ue,fe,ve,null);if(typeof fe.then=="function")return ie(le,ue,unwrapThenable(fe),ve);if(fe.$$typeof===REACT_CONTEXT_TYPE)return ie(le,ue,readContextDuringReconciliation(le,fe),ve);throwOnInvalidObjectType(le,fe)}return null}function se(le,ue,fe,ve,me){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return le=le.get(fe)||null,K(ue,le,""+ve,me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case REACT_ELEMENT_TYPE:return le=le.get(ve.key===null?fe:ve.key)||null,Y(ue,le,ve,me);case REACT_PORTAL_TYPE:return le=le.get(ve.key===null?fe:ve.key)||null,X(ue,le,ve,me);case REACT_LAZY_TYPE:var Ae=ve._init;return ve=Ae(ve._payload),se(le,ue,fe,ve,me)}if(isArrayImpl(ve)||getIteratorFn(ve))return le=le.get(fe)||null,Z(ue,le,ve,me,null);if(typeof ve.then=="function")return se(le,ue,fe,unwrapThenable(ve),me);if(ve.$$typeof===REACT_CONTEXT_TYPE)return se(le,ue,fe,readContextDuringReconciliation(ue,ve),me);throwOnInvalidObjectType(ue,ve)}return null}function de(le,ue,fe,ve){for(var me=null,Ae=null,ae=ue,oe=ue=0,ce=null;ae!==null&&oe<fe.length;oe++){ae.index>oe?(ce=ae,ae=null):ce=ae.sibling;var Se=ie(le,ae,fe[oe],ve);if(Se===null){ae===null&&(ae=ce);break}T&&ae&&Se.alternate===null&&_(le,ae),ue=j(Se,ue,oe),Ae===null?me=Se:Ae.sibling=Se,Ae=Se,ae=ce}if(oe===fe.length)return U(le,ae),isHydrating&&pushTreeFork(le,oe),me;if(ae===null){for(;oe<fe.length;oe++)ae=ne(le,fe[oe],ve),ae!==null&&(ue=j(ae,ue,oe),Ae===null?me=ae:Ae.sibling=ae,Ae=ae);return isHydrating&&pushTreeFork(le,oe),me}for(ae=H(ae);oe<fe.length;oe++)ce=se(ae,le,oe,fe[oe],ve),ce!==null&&(T&&ce.alternate!==null&&ae.delete(ce.key===null?oe:ce.key),ue=j(ce,ue,oe),Ae===null?me=ce:Ae.sibling=ce,Ae=ce);return T&&ae.forEach(function(he){return _(le,he)}),isHydrating&&pushTreeFork(le,oe),me}function Ee(le,ue,fe,ve){if(fe==null)throw Error(formatProdErrorMessage(151));for(var me=null,Ae=null,ae=ue,oe=ue=0,ce=null,Se=fe.next();ae!==null&&!Se.done;oe++,Se=fe.next()){ae.index>oe?(ce=ae,ae=null):ce=ae.sibling;var he=ie(le,ae,Se.value,ve);if(he===null){ae===null&&(ae=ce);break}T&&ae&&he.alternate===null&&_(le,ae),ue=j(he,ue,oe),Ae===null?me=he:Ae.sibling=he,Ae=he,ae=ce}if(Se.done)return U(le,ae),isHydrating&&pushTreeFork(le,oe),me;if(ae===null){for(;!Se.done;oe++,Se=fe.next())Se=ne(le,Se.value,ve),Se!==null&&(ue=j(Se,ue,oe),Ae===null?me=Se:Ae.sibling=Se,Ae=Se);return isHydrating&&pushTreeFork(le,oe),me}for(ae=H(ae);!Se.done;oe++,Se=fe.next())Se=se(ae,le,oe,Se.value,ve),Se!==null&&(T&&Se.alternate!==null&&ae.delete(Se.key===null?oe:Se.key),ue=j(Se,ue,oe),Ae===null?me=Se:Ae.sibling=Se,Ae=Se);return T&&ae.forEach(function(xe){return _(le,xe)}),isHydrating&&pushTreeFork(le,oe),me}function pe(le,ue,fe,ve){if(typeof fe=="object"&&fe!==null&&fe.type===REACT_FRAGMENT_TYPE&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case REACT_ELEMENT_TYPE:e:{for(var me=fe.key;ue!==null;){if(ue.key===me){if(me=fe.type,me===REACT_FRAGMENT_TYPE){if(ue.tag===7){U(le,ue.sibling),ve=z(ue,fe.props.children),ve.return=le,le=ve;break e}}else if(ue.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===REACT_LAZY_TYPE&&resolveLazy(me)===ue.type){U(le,ue.sibling),ve=z(ue,fe.props),coerceRef(ve,fe),ve.return=le,le=ve;break e}U(le,ue);break}else _(le,ue);ue=ue.sibling}fe.type===REACT_FRAGMENT_TYPE?(ve=createFiberFromFragment(fe.props.children,le.mode,ve,fe.key),ve.return=le,le=ve):(ve=createFiberFromTypeAndProps(fe.type,fe.key,fe.props,null,le.mode,ve),coerceRef(ve,fe),ve.return=le,le=ve)}return q(le);case REACT_PORTAL_TYPE:e:{for(me=fe.key;ue!==null;){if(ue.key===me)if(ue.tag===4&&ue.stateNode.containerInfo===fe.containerInfo&&ue.stateNode.implementation===fe.implementation){U(le,ue.sibling),ve=z(ue,fe.children||[]),ve.return=le,le=ve;break e}else{U(le,ue);break}else _(le,ue);ue=ue.sibling}ve=createFiberFromPortal(fe,le.mode,ve),ve.return=le,le=ve}return q(le);case REACT_LAZY_TYPE:return me=fe._init,fe=me(fe._payload),pe(le,ue,fe,ve)}if(isArrayImpl(fe))return de(le,ue,fe,ve);if(getIteratorFn(fe)){if(me=getIteratorFn(fe),typeof me!="function")throw Error(formatProdErrorMessage(150));return fe=me.call(fe),Ee(le,ue,fe,ve)}if(typeof fe.then=="function")return pe(le,ue,unwrapThenable(fe),ve);if(fe.$$typeof===REACT_CONTEXT_TYPE)return pe(le,ue,readContextDuringReconciliation(le,fe),ve);throwOnInvalidObjectType(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ue!==null&&ue.tag===6?(U(le,ue.sibling),ve=z(ue,fe),ve.return=le,le=ve):(U(le,ue),ve=createFiberFromText(fe,le.mode,ve),ve.return=le,le=ve),q(le)):U(le,ue)}return function(le,ue,fe,ve){try{thenableIndexCounter$1=0;var me=pe(le,ue,fe,ve);return thenableState$1=null,me}catch(ae){if(ae===SuspenseException)throw ae;var Ae=createFiberImplClass(29,ae,null,le.mode);return Ae.lanes=ve,Ae.return=le,Ae}finally{}}}var reconcileChildFibers=createChildReconciler(!0),mountChildFibers=createChildReconciler(!1),currentTreeHiddenStackCursor=createCursor(null),prevEntangledRenderLanesCursor=createCursor(0);function pushHiddenContext(T,_){T=entangledRenderLanes,push(prevEntangledRenderLanesCursor,T),push(currentTreeHiddenStackCursor,_),entangledRenderLanes=T|_.baseLanes}function reuseHiddenContextOnStack(){push(prevEntangledRenderLanesCursor,entangledRenderLanes),push(currentTreeHiddenStackCursor,currentTreeHiddenStackCursor.current)}function popHiddenContext(){entangledRenderLanes=prevEntangledRenderLanesCursor.current,pop(currentTreeHiddenStackCursor),pop(prevEntangledRenderLanesCursor)}var suspenseHandlerStackCursor=createCursor(null),shellBoundary=null;function pushPrimaryTreeSuspenseHandler(T){var _=T.alternate;push(suspenseStackCursor,suspenseStackCursor.current&1),push(suspenseHandlerStackCursor,T),shellBoundary===null&&(_===null||currentTreeHiddenStackCursor.current!==null||_.memoizedState!==null)&&(shellBoundary=T)}function pushOffscreenSuspenseHandler(T){if(T.tag===22){if(push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,T),shellBoundary===null){var _=T.alternate;_!==null&&_.memoizedState!==null&&(shellBoundary=T)}}else reuseSuspenseHandlerOnStack()}function reuseSuspenseHandlerOnStack(){push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,suspenseHandlerStackCursor.current)}function popSuspenseHandler(T){pop(suspenseHandlerStackCursor),shellBoundary===T&&(shellBoundary=null),pop(suspenseStackCursor)}var suspenseStackCursor=createCursor(0);function findFirstSuspended(T){for(var _=T;_!==null;){if(_.tag===13){var U=_.memoizedState;if(U!==null&&(U=U.dehydrated,U===null||U.data==="$?"||U.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===T)break;for(;_.sibling===null;){if(_.return===null||_.return===T)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var AbortControllerLocal=typeof AbortController<"u"?AbortController:function(){var T=[],_=this.signal={aborted:!1,addEventListener:function(U,H){T.push(H)}};this.abort=function(){_.aborted=!0,T.forEach(function(U){return U()})}},scheduleCallback$2=Scheduler.unstable_scheduleCallback,NormalPriority=Scheduler.unstable_NormalPriority,CacheContext={$$typeof:REACT_CONTEXT_TYPE,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function createCache(){return{controller:new AbortControllerLocal,data:new Map,refCount:0}}function releaseCache(T){T.refCount--,T.refCount===0&&scheduleCallback$2(NormalPriority,function(){T.controller.abort()})}var currentEntangledListeners=null,currentEntangledPendingCount=0,currentEntangledLane=0,currentEntangledActionThenable=null;function entangleAsyncAction(T,_){if(currentEntangledListeners===null){var U=currentEntangledListeners=[];currentEntangledPendingCount=0,currentEntangledLane=requestTransitionLane(),currentEntangledActionThenable={status:"pending",value:void 0,then:function(H){U.push(H)}}}return currentEntangledPendingCount++,_.then(pingEngtangledActionScope,pingEngtangledActionScope),_}function pingEngtangledActionScope(){if(--currentEntangledPendingCount===0&&currentEntangledListeners!==null){currentEntangledActionThenable!==null&&(currentEntangledActionThenable.status="fulfilled");var T=currentEntangledListeners;currentEntangledListeners=null,currentEntangledLane=0,currentEntangledActionThenable=null;for(var _=0;_<T.length;_++)(0,T[_])()}}function chainThenableValue(T,_){var U=[],H={status:"pending",value:null,reason:null,then:function(z){U.push(z)}};return T.then(function(){H.status="fulfilled",H.value=_;for(var z=0;z<U.length;z++)(0,U[z])(_)},function(z){for(H.status="rejected",H.reason=z,z=0;z<U.length;z++)(0,U[z])(void 0)}),H}var prevOnStartTransitionFinish=ReactSharedInternals.S;ReactSharedInternals.S=function(T,_){typeof _=="object"&&_!==null&&typeof _.then=="function"&&entangleAsyncAction(T,_),prevOnStartTransitionFinish!==null&&prevOnStartTransitionFinish(T,_)};var resumedCache=createCursor(null);function peekCacheFromPool(){var T=resumedCache.current;return T!==null?T:workInProgressRoot.pooledCache}function pushTransition(T,_){_===null?push(resumedCache,resumedCache.current):push(resumedCache,_.pool)}function getSuspendedCache(){var T=peekCacheFromPool();return T===null?null:{parent:CacheContext._currentValue,pool:T}}var renderLanes=0,currentlyRenderingFiber$1=null,currentHook=null,workInProgressHook=null,didScheduleRenderPhaseUpdate=!1,didScheduleRenderPhaseUpdateDuringThisPass=!1,shouldDoubleInvokeUserFnsInHooksDEV=!1,localIdCounter=0,thenableIndexCounter=0,thenableState=null,globalClientIdCounter=0;function throwInvalidHookError(){throw Error(formatProdErrorMessage(321))}function areHookInputsEqual(T,_){if(_===null)return!1;for(var U=0;U<_.length&&U<T.length;U++)if(!objectIs(T[U],_[U]))return!1;return!0}function renderWithHooks(T,_,U,H,z,j){return renderLanes=j,currentlyRenderingFiber$1=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,ReactSharedInternals.H=T===null||T.memoizedState===null?HooksDispatcherOnMount:HooksDispatcherOnUpdate,shouldDoubleInvokeUserFnsInHooksDEV=!1,j=U(H,z),shouldDoubleInvokeUserFnsInHooksDEV=!1,didScheduleRenderPhaseUpdateDuringThisPass&&(j=renderWithHooksAgain(_,U,H,z)),finishRenderingHooks(T),j}function finishRenderingHooks(T){ReactSharedInternals.H=ContextOnlyDispatcher;var _=currentHook!==null&&currentHook.next!==null;if(renderLanes=0,workInProgressHook=currentHook=currentlyRenderingFiber$1=null,didScheduleRenderPhaseUpdate=!1,thenableIndexCounter=0,thenableState=null,_)throw Error(formatProdErrorMessage(300));T===null||didReceiveUpdate||(T=T.dependencies,T!==null&&checkIfContextChanged(T)&&(didReceiveUpdate=!0))}function renderWithHooksAgain(T,_,U,H){currentlyRenderingFiber$1=T;var z=0;do{if(didScheduleRenderPhaseUpdateDuringThisPass&&(thenableState=null),thenableIndexCounter=0,didScheduleRenderPhaseUpdateDuringThisPass=!1,25<=z)throw Error(formatProdErrorMessage(301));if(z+=1,workInProgressHook=currentHook=null,T.updateQueue!=null){var j=T.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}ReactSharedInternals.H=HooksDispatcherOnRerender,j=_(U,H)}while(didScheduleRenderPhaseUpdateDuringThisPass);return j}function TransitionAwareHostComponent(){var T=ReactSharedInternals.H,_=T.useState()[0];return _=typeof _.then=="function"?useThenable(_):_,T=T.useState()[0],(currentHook!==null?currentHook.memoizedState:null)!==T&&(currentlyRenderingFiber$1.flags|=1024),_}function checkDidRenderIdHook(){var T=localIdCounter!==0;return localIdCounter=0,T}function bailoutHooks(T,_,U){_.updateQueue=T.updateQueue,_.flags&=-2053,T.lanes&=~U}function resetHooksOnUnwind(T){if(didScheduleRenderPhaseUpdate){for(T=T.memoizedState;T!==null;){var _=T.queue;_!==null&&(_.pending=null),T=T.next}didScheduleRenderPhaseUpdate=!1}renderLanes=0,workInProgressHook=currentHook=currentlyRenderingFiber$1=null,didScheduleRenderPhaseUpdateDuringThisPass=!1,thenableIndexCounter=localIdCounter=0,thenableState=null}function mountWorkInProgressHook(){var T={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return workInProgressHook===null?currentlyRenderingFiber$1.memoizedState=workInProgressHook=T:workInProgressHook=workInProgressHook.next=T,workInProgressHook}function updateWorkInProgressHook(){if(currentHook===null){var T=currentlyRenderingFiber$1.alternate;T=T!==null?T.memoizedState:null}else T=currentHook.next;var _=workInProgressHook===null?currentlyRenderingFiber$1.memoizedState:workInProgressHook.next;if(_!==null)workInProgressHook=_,currentHook=T;else{if(T===null)throw currentlyRenderingFiber$1.alternate===null?Error(formatProdErrorMessage(467)):Error(formatProdErrorMessage(310));currentHook=T,T={memoizedState:currentHook.memoizedState,baseState:currentHook.baseState,baseQueue:currentHook.baseQueue,queue:currentHook.queue,next:null},workInProgressHook===null?currentlyRenderingFiber$1.memoizedState=workInProgressHook=T:workInProgressHook=workInProgressHook.next=T}return workInProgressHook}var createFunctionComponentUpdateQueue;createFunctionComponentUpdateQueue=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function useThenable(T){var _=thenableIndexCounter;return thenableIndexCounter+=1,thenableState===null&&(thenableState=[]),T=trackUsedThenable(thenableState,T,_),_=currentlyRenderingFiber$1,(workInProgressHook===null?_.memoizedState:workInProgressHook.next)===null&&(_=_.alternate,ReactSharedInternals.H=_===null||_.memoizedState===null?HooksDispatcherOnMount:HooksDispatcherOnUpdate),T}function use(T){if(T!==null&&typeof T=="object"){if(typeof T.then=="function")return useThenable(T);if(T.$$typeof===REACT_CONTEXT_TYPE)return readContext(T)}throw Error(formatProdErrorMessage(438,String(T)))}function useMemoCache(T){var _=null,U=currentlyRenderingFiber$1.updateQueue;if(U!==null&&(_=U.memoCache),_==null){var H=currentlyRenderingFiber$1.alternate;H!==null&&(H=H.updateQueue,H!==null&&(H=H.memoCache,H!=null&&(_={data:H.data.map(function(z){return z.slice()}),index:0})))}if(_==null&&(_={data:[],index:0}),U===null&&(U=createFunctionComponentUpdateQueue(),currentlyRenderingFiber$1.updateQueue=U),U.memoCache=_,U=_.data[_.index],U===void 0)for(U=_.data[_.index]=Array(T),H=0;H<T;H++)U[H]=REACT_MEMO_CACHE_SENTINEL;return _.index++,U}function basicStateReducer(T,_){return typeof _=="function"?_(T):_}function updateReducer(T){var _=updateWorkInProgressHook();return updateReducerImpl(_,currentHook,T)}function updateReducerImpl(T,_,U){var H=T.queue;if(H===null)throw Error(formatProdErrorMessage(311));H.lastRenderedReducer=U;var z=T.baseQueue,j=H.pending;if(j!==null){if(z!==null){var q=z.next;z.next=j.next,j.next=q}_.baseQueue=z=j,H.pending=null}if(j=T.baseState,z===null)T.memoizedState=j;else{_=z.next;var K=q=null,Y=null,X=_,Z=!1;do{var ne=X.lane&-536870913;if(ne!==X.lane?(workInProgressRootRenderLanes&ne)===ne:(renderLanes&ne)===ne){var ie=X.revertLane;if(ie===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ne===currentEntangledLane&&(Z=!0);else if((renderLanes&ie)===ie){X=X.next,ie===currentEntangledLane&&(Z=!0);continue}else ne={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},Y===null?(K=Y=ne,q=j):Y=Y.next=ne,currentlyRenderingFiber$1.lanes|=ie,workInProgressRootSkippedLanes|=ie;ne=X.action,shouldDoubleInvokeUserFnsInHooksDEV&&U(j,ne),j=X.hasEagerState?X.eagerState:U(j,ne)}else ie={lane:ne,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},Y===null?(K=Y=ie,q=j):Y=Y.next=ie,currentlyRenderingFiber$1.lanes|=ne,workInProgressRootSkippedLanes|=ne;X=X.next}while(X!==null&&X!==_);if(Y===null?q=j:Y.next=K,!objectIs(j,T.memoizedState)&&(didReceiveUpdate=!0,Z&&(U=currentEntangledActionThenable,U!==null)))throw U;T.memoizedState=j,T.baseState=q,T.baseQueue=Y,H.lastRenderedState=j}return z===null&&(H.lanes=0),[T.memoizedState,H.dispatch]}function rerenderReducer(T){var _=updateWorkInProgressHook(),U=_.queue;if(U===null)throw Error(formatProdErrorMessage(311));U.lastRenderedReducer=T;var H=U.dispatch,z=U.pending,j=_.memoizedState;if(z!==null){U.pending=null;var q=z=z.next;do j=T(j,q.action),q=q.next;while(q!==z);objectIs(j,_.memoizedState)||(didReceiveUpdate=!0),_.memoizedState=j,_.baseQueue===null&&(_.baseState=j),U.lastRenderedState=j}return[j,H]}function updateSyncExternalStore(T,_,U){var H=currentlyRenderingFiber$1,z=updateWorkInProgressHook(),j=isHydrating;if(j){if(U===void 0)throw Error(formatProdErrorMessage(407));U=U()}else U=_();var q=!objectIs((currentHook||z).memoizedState,U);if(q&&(z.memoizedState=U,didReceiveUpdate=!0),z=z.queue,updateEffect(subscribeToStore.bind(null,H,z,T),[T]),z.getSnapshot!==_||q||workInProgressHook!==null&&workInProgressHook.memoizedState.tag&1){if(H.flags|=2048,pushEffect(9,updateStoreInstance.bind(null,H,z,U,_),{destroy:void 0},null),workInProgressRoot===null)throw Error(formatProdErrorMessage(349));j||renderLanes&60||pushStoreConsistencyCheck(H,_,U)}return U}function pushStoreConsistencyCheck(T,_,U){T.flags|=16384,T={getSnapshot:_,value:U},_=currentlyRenderingFiber$1.updateQueue,_===null?(_=createFunctionComponentUpdateQueue(),currentlyRenderingFiber$1.updateQueue=_,_.stores=[T]):(U=_.stores,U===null?_.stores=[T]:U.push(T))}function updateStoreInstance(T,_,U,H){_.value=U,_.getSnapshot=H,checkIfSnapshotChanged(_)&&forceStoreRerender(T)}function subscribeToStore(T,_,U){return U(function(){checkIfSnapshotChanged(_)&&forceStoreRerender(T)})}function checkIfSnapshotChanged(T){var _=T.getSnapshot;T=T.value;try{var U=_();return!objectIs(T,U)}catch{return!0}}function forceStoreRerender(T){var _=enqueueConcurrentRenderForLane(T,2);_!==null&&scheduleUpdateOnFiber(_,T,2)}function mountStateImpl(T){var _=mountWorkInProgressHook();if(typeof T=="function"){var U=T;if(T=U(),shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{U()}finally{setIsStrictModeForDevtools(!1)}}}return _.memoizedState=_.baseState=T,_.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:T},_}function updateOptimisticImpl(T,_,U,H){return T.baseState=U,updateReducerImpl(T,currentHook,typeof H=="function"?H:basicStateReducer)}function dispatchActionState(T,_,U,H,z){if(isRenderPhaseUpdate(T))throw Error(formatProdErrorMessage(485));if(T=_.action,T!==null){var j={payload:z,action:T,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){j.listeners.push(q)}};ReactSharedInternals.T!==null?U(!0):j.isTransition=!1,H(j),U=_.pending,U===null?(j.next=_.pending=j,runActionStateAction(_,j)):(j.next=U.next,_.pending=U.next=j)}}function runActionStateAction(T,_){var U=_.action,H=_.payload,z=T.state;if(_.isTransition){var j=ReactSharedInternals.T,q={};ReactSharedInternals.T=q;try{var K=U(z,H),Y=ReactSharedInternals.S;Y!==null&&Y(q,K),handleActionReturnValue(T,_,K)}catch(X){onActionError(T,_,X)}finally{ReactSharedInternals.T=j}}else try{j=U(z,H),handleActionReturnValue(T,_,j)}catch(X){onActionError(T,_,X)}}function handleActionReturnValue(T,_,U){U!==null&&typeof U=="object"&&typeof U.then=="function"?U.then(function(H){onActionSuccess(T,_,H)},function(H){return onActionError(T,_,H)}):onActionSuccess(T,_,U)}function onActionSuccess(T,_,U){_.status="fulfilled",_.value=U,notifyActionListeners(_),T.state=U,_=T.pending,_!==null&&(U=_.next,U===_?T.pending=null:(U=U.next,_.next=U,runActionStateAction(T,U)))}function onActionError(T,_,U){var H=T.pending;if(T.pending=null,H!==null){H=H.next;do _.status="rejected",_.reason=U,notifyActionListeners(_),_=_.next;while(_!==H)}T.action=null}function notifyActionListeners(T){T=T.listeners;for(var _=0;_<T.length;_++)(0,T[_])()}function actionStateReducer(T,_){return _}function mountActionState(T,_){if(isHydrating){var U=workInProgressRoot.formState;if(U!==null){e:{var H=currentlyRenderingFiber$1;if(isHydrating){if(nextHydratableInstance){t:{for(var z=nextHydratableInstance,j=rootOrSingletonContext;z.nodeType!==8;){if(!j){z=null;break t}if(z=getNextHydratable(z.nextSibling),z===null){z=null;break t}}j=z.data,z=j==="F!"||j==="F"?z:null}if(z){nextHydratableInstance=getNextHydratable(z.nextSibling),H=z.data==="F!";break e}}throwOnHydrationMismatch(H)}H=!1}H&&(_=U[0])}}return U=mountWorkInProgressHook(),U.memoizedState=U.baseState=_,H={pending:null,lanes:0,dispatch:null,lastRenderedReducer:actionStateReducer,lastRenderedState:_},U.queue=H,U=dispatchSetState.bind(null,currentlyRenderingFiber$1,H),H.dispatch=U,H=mountStateImpl(!1),j=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber$1,!1,H.queue),H=mountWorkInProgressHook(),z={state:_,dispatch:null,action:T,pending:null},H.queue=z,U=dispatchActionState.bind(null,currentlyRenderingFiber$1,z,j,U),z.dispatch=U,H.memoizedState=T,[_,U,!1]}function updateActionState(T){var _=updateWorkInProgressHook();return updateActionStateImpl(_,currentHook,T)}function updateActionStateImpl(T,_,U){_=updateReducerImpl(T,_,actionStateReducer)[0],T=updateReducer(basicStateReducer)[0],_=typeof _=="object"&&_!==null&&typeof _.then=="function"?useThenable(_):_;var H=updateWorkInProgressHook(),z=H.queue,j=z.dispatch;return U!==H.memoizedState&&(currentlyRenderingFiber$1.flags|=2048,pushEffect(9,actionStateActionEffect.bind(null,z,U),{destroy:void 0},null)),[_,j,T]}function actionStateActionEffect(T,_){T.action=_}function rerenderActionState(T){var _=updateWorkInProgressHook(),U=currentHook;if(U!==null)return updateActionStateImpl(_,U,T);updateWorkInProgressHook(),_=_.memoizedState,U=updateWorkInProgressHook();var H=U.queue.dispatch;return U.memoizedState=T,[_,H,!1]}function pushEffect(T,_,U,H){return T={tag:T,create:_,inst:U,deps:H,next:null},_=currentlyRenderingFiber$1.updateQueue,_===null&&(_=createFunctionComponentUpdateQueue(),currentlyRenderingFiber$1.updateQueue=_),U=_.lastEffect,U===null?_.lastEffect=T.next=T:(H=U.next,U.next=T,T.next=H,_.lastEffect=T),T}function updateRef(){return updateWorkInProgressHook().memoizedState}function mountEffectImpl(T,_,U,H){var z=mountWorkInProgressHook();currentlyRenderingFiber$1.flags|=T,z.memoizedState=pushEffect(1|_,U,{destroy:void 0},H===void 0?null:H)}function updateEffectImpl(T,_,U,H){var z=updateWorkInProgressHook();H=H===void 0?null:H;var j=z.memoizedState.inst;currentHook!==null&&H!==null&&areHookInputsEqual(H,currentHook.memoizedState.deps)?z.memoizedState=pushEffect(_,U,j,H):(currentlyRenderingFiber$1.flags|=T,z.memoizedState=pushEffect(1|_,U,j,H))}function mountEffect(T,_){mountEffectImpl(8390656,8,T,_)}function updateEffect(T,_){updateEffectImpl(2048,8,T,_)}function updateInsertionEffect(T,_){return updateEffectImpl(4,2,T,_)}function updateLayoutEffect(T,_){return updateEffectImpl(4,4,T,_)}function imperativeHandleEffect(T,_){if(typeof _=="function"){T=T();var U=_(T);return function(){typeof U=="function"?U():_(null)}}if(_!=null)return T=T(),_.current=T,function(){_.current=null}}function updateImperativeHandle(T,_,U){U=U!=null?U.concat([T]):null,updateEffectImpl(4,4,imperativeHandleEffect.bind(null,_,T),U)}function mountDebugValue(){}function updateCallback(T,_){var U=updateWorkInProgressHook();_=_===void 0?null:_;var H=U.memoizedState;return _!==null&&areHookInputsEqual(_,H[1])?H[0]:(U.memoizedState=[T,_],T)}function updateMemo(T,_){var U=updateWorkInProgressHook();_=_===void 0?null:_;var H=U.memoizedState;if(_!==null&&areHookInputsEqual(_,H[1]))return H[0];if(H=T(),shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{T()}finally{setIsStrictModeForDevtools(!1)}}return U.memoizedState=[H,_],H}function mountDeferredValueImpl(T,_,U){return U===void 0||renderLanes&1073741824?T.memoizedState=_:(T.memoizedState=U,T=requestDeferredLane(),currentlyRenderingFiber$1.lanes|=T,workInProgressRootSkippedLanes|=T,U)}function updateDeferredValueImpl(T,_,U,H){return objectIs(U,_)?U:currentTreeHiddenStackCursor.current!==null?(T=mountDeferredValueImpl(T,U,H),objectIs(T,_)||(didReceiveUpdate=!0),T):renderLanes&42?(T=requestDeferredLane(),currentlyRenderingFiber$1.lanes|=T,workInProgressRootSkippedLanes|=T,_):(didReceiveUpdate=!0,T.memoizedState=U)}function startTransition(T,_,U,H,z){var j=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=j!==0&&8>j?j:8;var q=ReactSharedInternals.T,K={};ReactSharedInternals.T=K,dispatchOptimisticSetState(T,!1,_,U);try{var Y=z(),X=ReactSharedInternals.S;if(X!==null&&X(K,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Z=chainThenableValue(Y,H);dispatchSetStateInternal(T,_,Z,requestUpdateLane(T))}else dispatchSetStateInternal(T,_,H,requestUpdateLane(T))}catch(ne){dispatchSetStateInternal(T,_,{then:function(){},status:"rejected",reason:ne},requestUpdateLane())}finally{ReactDOMSharedInternals.p=j,ReactSharedInternals.T=q}}function noop$2$1(){}function startHostTransition(T,_,U,H){if(T.tag!==5)throw Error(formatProdErrorMessage(476));var z=ensureFormComponentIsStateful(T).queue;startTransition(T,z,_,sharedNotPendingObject,U===null?noop$2$1:function(){return requestFormReset$1(T),U(H)})}function ensureFormComponentIsStateful(T){var _=T.memoizedState;if(_!==null)return _;_={memoizedState:sharedNotPendingObject,baseState:sharedNotPendingObject,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:sharedNotPendingObject},next:null};var U={};return _.next={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:U},next:null},T.memoizedState=_,T=T.alternate,T!==null&&(T.memoizedState=_),_}function requestFormReset$1(T){var _=ensureFormComponentIsStateful(T).next.queue;dispatchSetStateInternal(T,_,{},requestUpdateLane())}function useHostTransitionStatus(){return readContext(HostTransitionContext)}function updateId(){return updateWorkInProgressHook().memoizedState}function updateRefresh(){return updateWorkInProgressHook().memoizedState}function refreshCache(T){for(var _=T.return;_!==null;){switch(_.tag){case 24:case 3:var U=requestUpdateLane();T=createUpdate(U);var H=enqueueUpdate(_,T,U);H!==null&&(scheduleUpdateOnFiber(H,_,U),entangleTransitions(H,_,U)),_={cache:createCache()},T.payload=_;return}_=_.return}}function dispatchReducerAction(T,_,U){var H=requestUpdateLane();U={lane:H,revertLane:0,action:U,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(T)?enqueueRenderPhaseUpdate(_,U):(U=enqueueConcurrentHookUpdate(T,_,U,H),U!==null&&(scheduleUpdateOnFiber(U,T,H),entangleTransitionUpdate(U,_,H)))}function dispatchSetState(T,_,U){var H=requestUpdateLane();dispatchSetStateInternal(T,_,U,H)}function dispatchSetStateInternal(T,_,U,H){var z={lane:H,revertLane:0,action:U,hasEagerState:!1,eagerState:null,next:null};if(isRenderPhaseUpdate(T))enqueueRenderPhaseUpdate(_,z);else{var j=T.alternate;if(T.lanes===0&&(j===null||j.lanes===0)&&(j=_.lastRenderedReducer,j!==null))try{var q=_.lastRenderedState,K=j(q,U);if(z.hasEagerState=!0,z.eagerState=K,objectIs(K,q))return enqueueUpdate$1(T,_,z,0),workInProgressRoot===null&&finishQueueingConcurrentUpdates(),!1}catch{}finally{}if(U=enqueueConcurrentHookUpdate(T,_,z,H),U!==null)return scheduleUpdateOnFiber(U,T,H),entangleTransitionUpdate(U,_,H),!0}return!1}function dispatchOptimisticSetState(T,_,U,H){if(H={lane:2,revertLane:requestTransitionLane(),action:H,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(T)){if(_)throw Error(formatProdErrorMessage(479))}else _=enqueueConcurrentHookUpdate(T,U,H,2),_!==null&&scheduleUpdateOnFiber(_,T,2)}function isRenderPhaseUpdate(T){var _=T.alternate;return T===currentlyRenderingFiber$1||_!==null&&_===currentlyRenderingFiber$1}function enqueueRenderPhaseUpdate(T,_){didScheduleRenderPhaseUpdateDuringThisPass=didScheduleRenderPhaseUpdate=!0;var U=T.pending;U===null?_.next=_:(_.next=U.next,U.next=_),T.pending=_}function entangleTransitionUpdate(T,_,U){if(U&4194176){var H=_.lanes;H&=T.pendingLanes,U|=H,_.lanes=U,markRootEntangled(T,U)}}var ContextOnlyDispatcher={readContext,use,useCallback:throwInvalidHookError,useContext:throwInvalidHookError,useEffect:throwInvalidHookError,useImperativeHandle:throwInvalidHookError,useLayoutEffect:throwInvalidHookError,useInsertionEffect:throwInvalidHookError,useMemo:throwInvalidHookError,useReducer:throwInvalidHookError,useRef:throwInvalidHookError,useState:throwInvalidHookError,useDebugValue:throwInvalidHookError,useDeferredValue:throwInvalidHookError,useTransition:throwInvalidHookError,useSyncExternalStore:throwInvalidHookError,useId:throwInvalidHookError};ContextOnlyDispatcher.useCacheRefresh=throwInvalidHookError;ContextOnlyDispatcher.useMemoCache=throwInvalidHookError;ContextOnlyDispatcher.useHostTransitionStatus=throwInvalidHookError;ContextOnlyDispatcher.useFormState=throwInvalidHookError;ContextOnlyDispatcher.useActionState=throwInvalidHookError;ContextOnlyDispatcher.useOptimistic=throwInvalidHookError;var HooksDispatcherOnMount={readContext,use,useCallback:function(T,_){return mountWorkInProgressHook().memoizedState=[T,_===void 0?null:_],T},useContext:readContext,useEffect:mountEffect,useImperativeHandle:function(T,_,U){U=U!=null?U.concat([T]):null,mountEffectImpl(4194308,4,imperativeHandleEffect.bind(null,_,T),U)},useLayoutEffect:function(T,_){return mountEffectImpl(4194308,4,T,_)},useInsertionEffect:function(T,_){mountEffectImpl(4,2,T,_)},useMemo:function(T,_){var U=mountWorkInProgressHook();_=_===void 0?null:_;var H=T();if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{T()}finally{setIsStrictModeForDevtools(!1)}}return U.memoizedState=[H,_],H},useReducer:function(T,_,U){var H=mountWorkInProgressHook();if(U!==void 0){var z=U(_);if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{U(_)}finally{setIsStrictModeForDevtools(!1)}}}else z=_;return H.memoizedState=H.baseState=z,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T,lastRenderedState:z},H.queue=T,T=T.dispatch=dispatchReducerAction.bind(null,currentlyRenderingFiber$1,T),[H.memoizedState,T]},useRef:function(T){var _=mountWorkInProgressHook();return T={current:T},_.memoizedState=T},useState:function(T){T=mountStateImpl(T);var _=T.queue,U=dispatchSetState.bind(null,currentlyRenderingFiber$1,_);return _.dispatch=U,[T.memoizedState,U]},useDebugValue:mountDebugValue,useDeferredValue:function(T,_){var U=mountWorkInProgressHook();return mountDeferredValueImpl(U,T,_)},useTransition:function(){var T=mountStateImpl(!1);return T=startTransition.bind(null,currentlyRenderingFiber$1,T.queue,!0,!1),mountWorkInProgressHook().memoizedState=T,[!1,T]},useSyncExternalStore:function(T,_,U){var H=currentlyRenderingFiber$1,z=mountWorkInProgressHook();if(isHydrating){if(U===void 0)throw Error(formatProdErrorMessage(407));U=U()}else{if(U=_(),workInProgressRoot===null)throw Error(formatProdErrorMessage(349));workInProgressRootRenderLanes&60||pushStoreConsistencyCheck(H,_,U)}z.memoizedState=U;var j={value:U,getSnapshot:_};return z.queue=j,mountEffect(subscribeToStore.bind(null,H,j,T),[T]),H.flags|=2048,pushEffect(9,updateStoreInstance.bind(null,H,j,U,_),{destroy:void 0},null),U},useId:function(){var T=mountWorkInProgressHook(),_=workInProgressRoot.identifierPrefix;if(isHydrating){var U=treeContextOverflow,H=treeContextId;U=(H&~(1<<32-clz32(H)-1)).toString(32)+U,_=":"+_+"R"+U,U=localIdCounter++,0<U&&(_+="H"+U.toString(32)),_+=":"}else U=globalClientIdCounter++,_=":"+_+"r"+U.toString(32)+":";return T.memoizedState=_},useCacheRefresh:function(){return mountWorkInProgressHook().memoizedState=refreshCache.bind(null,currentlyRenderingFiber$1)}};HooksDispatcherOnMount.useMemoCache=useMemoCache;HooksDispatcherOnMount.useHostTransitionStatus=useHostTransitionStatus;HooksDispatcherOnMount.useFormState=mountActionState;HooksDispatcherOnMount.useActionState=mountActionState;HooksDispatcherOnMount.useOptimistic=function(T){var _=mountWorkInProgressHook();_.memoizedState=_.baseState=T;var U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return _.queue=U,_=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber$1,!0,U),U.dispatch=_,[T,_]};var HooksDispatcherOnUpdate={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:updateReducer,useRef:updateRef,useState:function(){return updateReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(T,_){var U=updateWorkInProgressHook();return updateDeferredValueImpl(U,currentHook.memoizedState,T,_)},useTransition:function(){var T=updateReducer(basicStateReducer)[0],_=updateWorkInProgressHook().memoizedState;return[typeof T=="boolean"?T:useThenable(T),_]},useSyncExternalStore:updateSyncExternalStore,useId:updateId};HooksDispatcherOnUpdate.useCacheRefresh=updateRefresh;HooksDispatcherOnUpdate.useMemoCache=useMemoCache;HooksDispatcherOnUpdate.useHostTransitionStatus=useHostTransitionStatus;HooksDispatcherOnUpdate.useFormState=updateActionState;HooksDispatcherOnUpdate.useActionState=updateActionState;HooksDispatcherOnUpdate.useOptimistic=function(T,_){var U=updateWorkInProgressHook();return updateOptimisticImpl(U,currentHook,T,_)};var HooksDispatcherOnRerender={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:rerenderReducer,useRef:updateRef,useState:function(){return rerenderReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(T,_){var U=updateWorkInProgressHook();return currentHook===null?mountDeferredValueImpl(U,T,_):updateDeferredValueImpl(U,currentHook.memoizedState,T,_)},useTransition:function(){var T=rerenderReducer(basicStateReducer)[0],_=updateWorkInProgressHook().memoizedState;return[typeof T=="boolean"?T:useThenable(T),_]},useSyncExternalStore:updateSyncExternalStore,useId:updateId};HooksDispatcherOnRerender.useCacheRefresh=updateRefresh;HooksDispatcherOnRerender.useMemoCache=useMemoCache;HooksDispatcherOnRerender.useHostTransitionStatus=useHostTransitionStatus;HooksDispatcherOnRerender.useFormState=rerenderActionState;HooksDispatcherOnRerender.useActionState=rerenderActionState;HooksDispatcherOnRerender.useOptimistic=function(T,_){var U=updateWorkInProgressHook();return currentHook!==null?updateOptimisticImpl(U,currentHook,T,_):(U.baseState=T,[T,U.queue.dispatch])};function applyDerivedStateFromProps(T,_,U,H){_=T.memoizedState,U=U(H,_),U=U==null?_:assign({},_,U),T.memoizedState=U,T.lanes===0&&(T.updateQueue.baseState=U)}var classComponentUpdater={isMounted:function(T){return(T=T._reactInternals)?getNearestMountedFiber(T)===T:!1},enqueueSetState:function(T,_,U){T=T._reactInternals;var H=requestUpdateLane(),z=createUpdate(H);z.payload=_,U!=null&&(z.callback=U),_=enqueueUpdate(T,z,H),_!==null&&(scheduleUpdateOnFiber(_,T,H),entangleTransitions(_,T,H))},enqueueReplaceState:function(T,_,U){T=T._reactInternals;var H=requestUpdateLane(),z=createUpdate(H);z.tag=1,z.payload=_,U!=null&&(z.callback=U),_=enqueueUpdate(T,z,H),_!==null&&(scheduleUpdateOnFiber(_,T,H),entangleTransitions(_,T,H))},enqueueForceUpdate:function(T,_){T=T._reactInternals;var U=requestUpdateLane(),H=createUpdate(U);H.tag=2,_!=null&&(H.callback=_),_=enqueueUpdate(T,H,U),_!==null&&(scheduleUpdateOnFiber(_,T,U),entangleTransitions(_,T,U))}};function checkShouldComponentUpdate(T,_,U,H,z,j,q){return T=T.stateNode,typeof T.shouldComponentUpdate=="function"?T.shouldComponentUpdate(H,j,q):_.prototype&&_.prototype.isPureReactComponent?!shallowEqual(U,H)||!shallowEqual(z,j):!0}function callComponentWillReceiveProps(T,_,U,H){T=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(U,H),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(U,H),_.state!==T&&classComponentUpdater.enqueueReplaceState(_,_.state,null)}function resolveClassComponentProps(T,_){var U=_;if("ref"in _){U={};for(var H in _)H!=="ref"&&(U[H]=_[H])}if(T=T.defaultProps){U===_&&(U=assign({},U));for(var z in T)U[z]===void 0&&(U[z]=T[z])}return U}var reportGlobalError=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function defaultOnUncaughtError(T){reportGlobalError(T)}function defaultOnCaughtError(T){console.error(T)}function defaultOnRecoverableError(T){reportGlobalError(T)}function logUncaughtError(T,_){try{var U=T.onUncaughtError;U(_.value,{componentStack:_.stack})}catch(H){setTimeout(function(){throw H})}}function logCaughtError(T,_,U){try{var H=T.onCaughtError;H(U.value,{componentStack:U.stack,errorBoundary:_.tag===1?_.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function createRootErrorUpdate(T,_,U){return U=createUpdate(U),U.tag=3,U.payload={element:null},U.callback=function(){logUncaughtError(T,_)},U}function createClassErrorUpdate(T){return T=createUpdate(T),T.tag=3,T}function initializeClassErrorUpdate(T,_,U,H){var z=U.type.getDerivedStateFromError;if(typeof z=="function"){var j=H.value;T.payload=function(){return z(j)},T.callback=function(){logCaughtError(_,U,H)}}var q=U.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(T.callback=function(){logCaughtError(_,U,H),typeof z!="function"&&(legacyErrorBoundariesThatAlreadyFailed===null?legacyErrorBoundariesThatAlreadyFailed=new Set([this]):legacyErrorBoundariesThatAlreadyFailed.add(this));var K=H.stack;this.componentDidCatch(H.value,{componentStack:K!==null?K:""})})}function throwException(T,_,U,H,z){if(U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){if(_=U.alternate,_!==null&&propagateParentContextChanges(_,U,z,!0),U=suspenseHandlerStackCursor.current,U!==null){switch(U.tag){case 13:return shellBoundary===null?renderDidSuspendDelayIfPossible():U.alternate===null&&workInProgressRootExitStatus===0&&(workInProgressRootExitStatus=3),U.flags&=-257,U.flags|=65536,U.lanes=z,H===noopSuspenseyCommitThenable?U.flags|=16384:(_=U.updateQueue,_===null?U.updateQueue=new Set([H]):_.add(H),attachPingListener(T,H,z)),!1;case 22:return U.flags|=65536,H===noopSuspenseyCommitThenable?U.flags|=16384:(_=U.updateQueue,_===null?(_={transitions:null,markerInstances:null,retryQueue:new Set([H])},U.updateQueue=_):(U=_.retryQueue,U===null?_.retryQueue=new Set([H]):U.add(H)),attachPingListener(T,H,z)),!1}throw Error(formatProdErrorMessage(435,U.tag))}return attachPingListener(T,H,z),renderDidSuspendDelayIfPossible(),!1}if(isHydrating)return _=suspenseHandlerStackCursor.current,_!==null?(!(_.flags&65536)&&(_.flags|=256),_.flags|=65536,_.lanes=z,H!==HydrationMismatchException&&(T=Error(formatProdErrorMessage(422),{cause:H}),queueHydrationError(createCapturedValueAtFiber(T,U)))):(H!==HydrationMismatchException&&(_=Error(formatProdErrorMessage(423),{cause:H}),queueHydrationError(createCapturedValueAtFiber(_,U))),T=T.current.alternate,T.flags|=65536,z&=-z,T.lanes|=z,H=createCapturedValueAtFiber(H,U),z=createRootErrorUpdate(T.stateNode,H,z),enqueueCapturedUpdate(T,z),workInProgressRootExitStatus!==4&&(workInProgressRootExitStatus=2)),!1;var j=Error(formatProdErrorMessage(520),{cause:H});if(j=createCapturedValueAtFiber(j,U),workInProgressRootConcurrentErrors===null?workInProgressRootConcurrentErrors=[j]:workInProgressRootConcurrentErrors.push(j),workInProgressRootExitStatus!==4&&(workInProgressRootExitStatus=2),_===null)return!0;H=createCapturedValueAtFiber(H,U),U=_;do{switch(U.tag){case 3:return U.flags|=65536,T=z&-z,U.lanes|=T,T=createRootErrorUpdate(U.stateNode,H,T),enqueueCapturedUpdate(U,T),!1;case 1:if(_=U.type,j=U.stateNode,(U.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(legacyErrorBoundariesThatAlreadyFailed===null||!legacyErrorBoundariesThatAlreadyFailed.has(j))))return U.flags|=65536,z&=-z,U.lanes|=z,z=createClassErrorUpdate(z),initializeClassErrorUpdate(z,T,U,H),enqueueCapturedUpdate(U,z),!1}U=U.return}while(U!==null);return!1}var SelectiveHydrationException=Error(formatProdErrorMessage(461)),didReceiveUpdate=!1;function reconcileChildren(T,_,U,H){_.child=T===null?mountChildFibers(_,null,U,H):reconcileChildFibers(_,T.child,U,H)}function updateForwardRef(T,_,U,H,z){U=U.render;var j=_.ref;if("ref"in H){var q={};for(var K in H)K!=="ref"&&(q[K]=H[K])}else q=H;return prepareToReadContext(_),H=renderWithHooks(T,_,U,q,j,z),K=checkDidRenderIdHook(),T!==null&&!didReceiveUpdate?(bailoutHooks(T,_,z),bailoutOnAlreadyFinishedWork(T,_,z)):(isHydrating&&K&&pushMaterializedTreeId(_),_.flags|=1,reconcileChildren(T,_,H,z),_.child)}function updateMemoComponent(T,_,U,H,z){if(T===null){var j=U.type;return typeof j=="function"&&!shouldConstruct(j)&&j.defaultProps===void 0&&U.compare===null?(_.tag=15,_.type=j,updateSimpleMemoComponent(T,_,j,H,z)):(T=createFiberFromTypeAndProps(U.type,null,H,_,_.mode,z),T.ref=_.ref,T.return=_,_.child=T)}if(j=T.child,!checkScheduledUpdateOrContext(T,z)){var q=j.memoizedProps;if(U=U.compare,U=U!==null?U:shallowEqual,U(q,H)&&T.ref===_.ref)return bailoutOnAlreadyFinishedWork(T,_,z)}return _.flags|=1,T=createWorkInProgress(j,H),T.ref=_.ref,T.return=_,_.child=T}function updateSimpleMemoComponent(T,_,U,H,z){if(T!==null){var j=T.memoizedProps;if(shallowEqual(j,H)&&T.ref===_.ref)if(didReceiveUpdate=!1,_.pendingProps=H=j,checkScheduledUpdateOrContext(T,z))T.flags&131072&&(didReceiveUpdate=!0);else return _.lanes=T.lanes,bailoutOnAlreadyFinishedWork(T,_,z)}return updateFunctionComponent(T,_,U,H,z)}function updateOffscreenComponent(T,_,U){var H=_.pendingProps,z=H.children,j=(_.stateNode._pendingVisibility&2)!==0,q=T!==null?T.memoizedState:null;if(markRef(T,_),H.mode==="hidden"||j){if(_.flags&128){if(H=q!==null?q.baseLanes|U:U,T!==null){for(z=_.child=T.child,j=0;z!==null;)j=j|z.lanes|z.childLanes,z=z.sibling;_.childLanes=j&~H}else _.childLanes=0,_.child=null;return deferHiddenOffscreenComponent(T,_,H,U)}if(U&536870912)_.memoizedState={baseLanes:0,cachePool:null},T!==null&&pushTransition(_,q!==null?q.cachePool:null),q!==null?pushHiddenContext(_,q):reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(_);else return _.lanes=_.childLanes=536870912,deferHiddenOffscreenComponent(T,_,q!==null?q.baseLanes|U:U,U)}else q!==null?(pushTransition(_,q.cachePool),pushHiddenContext(_,q),reuseSuspenseHandlerOnStack(),_.memoizedState=null):(T!==null&&pushTransition(_,null),reuseHiddenContextOnStack(),reuseSuspenseHandlerOnStack());return reconcileChildren(T,_,z,U),_.child}function deferHiddenOffscreenComponent(T,_,U,H){var z=peekCacheFromPool();return z=z===null?null:{parent:CacheContext._currentValue,pool:z},_.memoizedState={baseLanes:U,cachePool:z},T!==null&&pushTransition(_,null),reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(_),T!==null&&propagateParentContextChanges(T,_,H,!0),null}function markRef(T,_){var U=_.ref;if(U===null)T!==null&&T.ref!==null&&(_.flags|=2097664);else{if(typeof U!="function"&&typeof U!="object")throw Error(formatProdErrorMessage(284));(T===null||T.ref!==U)&&(_.flags|=2097664)}}function updateFunctionComponent(T,_,U,H,z){return prepareToReadContext(_),U=renderWithHooks(T,_,U,H,void 0,z),H=checkDidRenderIdHook(),T!==null&&!didReceiveUpdate?(bailoutHooks(T,_,z),bailoutOnAlreadyFinishedWork(T,_,z)):(isHydrating&&H&&pushMaterializedTreeId(_),_.flags|=1,reconcileChildren(T,_,U,z),_.child)}function replayFunctionComponent(T,_,U,H,z,j){return prepareToReadContext(_),_.updateQueue=null,U=renderWithHooksAgain(_,H,U,z),finishRenderingHooks(T),H=checkDidRenderIdHook(),T!==null&&!didReceiveUpdate?(bailoutHooks(T,_,j),bailoutOnAlreadyFinishedWork(T,_,j)):(isHydrating&&H&&pushMaterializedTreeId(_),_.flags|=1,reconcileChildren(T,_,U,j),_.child)}function updateClassComponent(T,_,U,H,z){if(prepareToReadContext(_),_.stateNode===null){var j=emptyContextObject,q=U.contextType;typeof q=="object"&&q!==null&&(j=readContext(q)),j=new U(H,j),_.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=classComponentUpdater,_.stateNode=j,j._reactInternals=_,j=_.stateNode,j.props=H,j.state=_.memoizedState,j.refs={},initializeUpdateQueue(_),q=U.contextType,j.context=typeof q=="object"&&q!==null?readContext(q):emptyContextObject,j.state=_.memoizedState,q=U.getDerivedStateFromProps,typeof q=="function"&&(applyDerivedStateFromProps(_,U,q,H),j.state=_.memoizedState),typeof U.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(q=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),q!==j.state&&classComponentUpdater.enqueueReplaceState(j,j.state,null),processUpdateQueue(_,H,j,z),suspendIfUpdateReadFromEntangledAsyncAction(),j.state=_.memoizedState),typeof j.componentDidMount=="function"&&(_.flags|=4194308),H=!0}else if(T===null){j=_.stateNode;var K=_.memoizedProps,Y=resolveClassComponentProps(U,K);j.props=Y;var X=j.context,Z=U.contextType;q=emptyContextObject,typeof Z=="object"&&Z!==null&&(q=readContext(Z));var ne=U.getDerivedStateFromProps;Z=typeof ne=="function"||typeof j.getSnapshotBeforeUpdate=="function",K=_.pendingProps!==K,Z||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(K||X!==q)&&callComponentWillReceiveProps(_,j,H,q),hasForceUpdate=!1;var ie=_.memoizedState;j.state=ie,processUpdateQueue(_,H,j,z),suspendIfUpdateReadFromEntangledAsyncAction(),X=_.memoizedState,K||ie!==X||hasForceUpdate?(typeof ne=="function"&&(applyDerivedStateFromProps(_,U,ne,H),X=_.memoizedState),(Y=hasForceUpdate||checkShouldComponentUpdate(_,U,Y,H,ie,X,q))?(Z||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(_.flags|=4194308)):(typeof j.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=H,_.memoizedState=X),j.props=H,j.state=X,j.context=q,H=Y):(typeof j.componentDidMount=="function"&&(_.flags|=4194308),H=!1)}else{j=_.stateNode,cloneUpdateQueue(T,_),q=_.memoizedProps,Z=resolveClassComponentProps(U,q),j.props=Z,ne=_.pendingProps,ie=j.context,X=U.contextType,Y=emptyContextObject,typeof X=="object"&&X!==null&&(Y=readContext(X)),K=U.getDerivedStateFromProps,(X=typeof K=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==ne||ie!==Y)&&callComponentWillReceiveProps(_,j,H,Y),hasForceUpdate=!1,ie=_.memoizedState,j.state=ie,processUpdateQueue(_,H,j,z),suspendIfUpdateReadFromEntangledAsyncAction();var se=_.memoizedState;q!==ne||ie!==se||hasForceUpdate||T!==null&&T.dependencies!==null&&checkIfContextChanged(T.dependencies)?(typeof K=="function"&&(applyDerivedStateFromProps(_,U,K,H),se=_.memoizedState),(Z=hasForceUpdate||checkShouldComponentUpdate(_,U,Z,H,ie,se,Y)||T!==null&&T.dependencies!==null&&checkIfContextChanged(T.dependencies))?(X||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(H,se,Y),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(H,se,Y)),typeof j.componentDidUpdate=="function"&&(_.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof j.componentDidUpdate!="function"||q===T.memoizedProps&&ie===T.memoizedState||(_.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===T.memoizedProps&&ie===T.memoizedState||(_.flags|=1024),_.memoizedProps=H,_.memoizedState=se),j.props=H,j.state=se,j.context=Y,H=Z):(typeof j.componentDidUpdate!="function"||q===T.memoizedProps&&ie===T.memoizedState||(_.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===T.memoizedProps&&ie===T.memoizedState||(_.flags|=1024),H=!1)}return j=H,markRef(T,_),H=(_.flags&128)!==0,j||H?(j=_.stateNode,U=H&&typeof U.getDerivedStateFromError!="function"?null:j.render(),_.flags|=1,T!==null&&H?(_.child=reconcileChildFibers(_,T.child,null,z),_.child=reconcileChildFibers(_,null,U,z)):reconcileChildren(T,_,U,z),_.memoizedState=j.state,T=_.child):T=bailoutOnAlreadyFinishedWork(T,_,z),T}function mountHostRootWithoutHydrating(T,_,U,H){return resetHydrationState(),_.flags|=256,reconcileChildren(T,_,U,H),_.child}var SUSPENDED_MARKER={dehydrated:null,treeContext:null,retryLane:0};function mountSuspenseOffscreenState(T){return{baseLanes:T,cachePool:getSuspendedCache()}}function getRemainingWorkInPrimaryTree(T,_,U){return T=T!==null?T.childLanes&~U:0,_&&(T|=workInProgressDeferredLane),T}function updateSuspenseComponent(T,_,U){var H=_.pendingProps,z=!1,j=(_.flags&128)!==0,q;if((q=j)||(q=T!==null&&T.memoizedState===null?!1:(suspenseStackCursor.current&2)!==0),q&&(z=!0,_.flags&=-129),q=(_.flags&32)!==0,_.flags&=-33,T===null){if(isHydrating){if(z?pushPrimaryTreeSuspenseHandler(_):reuseSuspenseHandlerOnStack(),isHydrating){var K=nextHydratableInstance,Y;if(Y=K){e:{for(Y=K,K=rootOrSingletonContext;Y.nodeType!==8;){if(!K){K=null;break e}if(Y=getNextHydratable(Y.nextSibling),Y===null){K=null;break e}}K=Y}K!==null?(_.memoizedState={dehydrated:K,treeContext:treeContextProvider!==null?{id:treeContextId,overflow:treeContextOverflow}:null,retryLane:536870912},Y=createFiberImplClass(18,null,null,0),Y.stateNode=K,Y.return=_,_.child=Y,hydrationParentFiber=_,nextHydratableInstance=null,Y=!0):Y=!1}Y||throwOnHydrationMismatch(_)}if(K=_.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return K.data==="$!"?_.lanes=16:_.lanes=536870912,null;popSuspenseHandler(_)}return K=H.children,H=H.fallback,z?(reuseSuspenseHandlerOnStack(),z=_.mode,K=mountWorkInProgressOffscreenFiber({mode:"hidden",children:K},z),H=createFiberFromFragment(H,z,U,null),K.return=_,H.return=_,K.sibling=H,_.child=K,z=_.child,z.memoizedState=mountSuspenseOffscreenState(U),z.childLanes=getRemainingWorkInPrimaryTree(T,q,U),_.memoizedState=SUSPENDED_MARKER,H):(pushPrimaryTreeSuspenseHandler(_),mountSuspensePrimaryChildren(_,K))}if(Y=T.memoizedState,Y!==null&&(K=Y.dehydrated,K!==null)){if(j)_.flags&256?(pushPrimaryTreeSuspenseHandler(_),_.flags&=-257,_=retrySuspenseComponentWithoutHydrating(T,_,U)):_.memoizedState!==null?(reuseSuspenseHandlerOnStack(),_.child=T.child,_.flags|=128,_=null):(reuseSuspenseHandlerOnStack(),z=H.fallback,K=_.mode,H=mountWorkInProgressOffscreenFiber({mode:"visible",children:H.children},K),z=createFiberFromFragment(z,K,U,null),z.flags|=2,H.return=_,z.return=_,H.sibling=z,_.child=H,reconcileChildFibers(_,T.child,null,U),H=_.child,H.memoizedState=mountSuspenseOffscreenState(U),H.childLanes=getRemainingWorkInPrimaryTree(T,q,U),_.memoizedState=SUSPENDED_MARKER,_=z);else if(pushPrimaryTreeSuspenseHandler(_),K.data==="$!"){if(q=K.nextSibling&&K.nextSibling.dataset,q)var X=q.dgst;q=X,H=Error(formatProdErrorMessage(419)),H.stack="",H.digest=q,queueHydrationError({value:H,source:null,stack:null}),_=retrySuspenseComponentWithoutHydrating(T,_,U)}else if(didReceiveUpdate||propagateParentContextChanges(T,_,U,!1),q=(U&T.childLanes)!==0,didReceiveUpdate||q){if(q=workInProgressRoot,q!==null){if(H=U&-U,H&42)H=1;else switch(H){case 2:H=1;break;case 8:H=4;break;case 32:H=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:H=64;break;case 268435456:H=134217728;break;default:H=0}if(H=H&(q.suspendedLanes|U)?0:H,H!==0&&H!==Y.retryLane)throw Y.retryLane=H,enqueueConcurrentRenderForLane(T,H),scheduleUpdateOnFiber(q,T,H),SelectiveHydrationException}K.data==="$?"||renderDidSuspendDelayIfPossible(),_=retrySuspenseComponentWithoutHydrating(T,_,U)}else K.data==="$?"?(_.flags|=128,_.child=T.child,_=retryDehydratedSuspenseBoundary.bind(null,T),K._reactRetry=_,_=null):(T=Y.treeContext,nextHydratableInstance=getNextHydratable(K.nextSibling),hydrationParentFiber=_,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!1,T!==null&&(idStack[idStackIndex++]=treeContextId,idStack[idStackIndex++]=treeContextOverflow,idStack[idStackIndex++]=treeContextProvider,treeContextId=T.id,treeContextOverflow=T.overflow,treeContextProvider=_),_=mountSuspensePrimaryChildren(_,H.children),_.flags|=4096);return _}return z?(reuseSuspenseHandlerOnStack(),z=H.fallback,K=_.mode,Y=T.child,X=Y.sibling,H=createWorkInProgress(Y,{mode:"hidden",children:H.children}),H.subtreeFlags=Y.subtreeFlags&31457280,X!==null?z=createWorkInProgress(X,z):(z=createFiberFromFragment(z,K,U,null),z.flags|=2),z.return=_,H.return=_,H.sibling=z,_.child=H,H=z,z=_.child,K=T.child.memoizedState,K===null?K=mountSuspenseOffscreenState(U):(Y=K.cachePool,Y!==null?(X=CacheContext._currentValue,Y=Y.parent!==X?{parent:X,pool:X}:Y):Y=getSuspendedCache(),K={baseLanes:K.baseLanes|U,cachePool:Y}),z.memoizedState=K,z.childLanes=getRemainingWorkInPrimaryTree(T,q,U),_.memoizedState=SUSPENDED_MARKER,H):(pushPrimaryTreeSuspenseHandler(_),U=T.child,T=U.sibling,U=createWorkInProgress(U,{mode:"visible",children:H.children}),U.return=_,U.sibling=null,T!==null&&(q=_.deletions,q===null?(_.deletions=[T],_.flags|=16):q.push(T)),_.child=U,_.memoizedState=null,U)}function mountSuspensePrimaryChildren(T,_){return _=mountWorkInProgressOffscreenFiber({mode:"visible",children:_},T.mode),_.return=T,T.child=_}function mountWorkInProgressOffscreenFiber(T,_){return createFiberFromOffscreen(T,_,0,null)}function retrySuspenseComponentWithoutHydrating(T,_,U){return reconcileChildFibers(_,T.child,null,U),T=mountSuspensePrimaryChildren(_,_.pendingProps.children),T.flags|=2,_.memoizedState=null,T}function scheduleSuspenseWorkOnFiber(T,_,U){T.lanes|=_;var H=T.alternate;H!==null&&(H.lanes|=_),scheduleContextWorkOnParentPath(T.return,_,U)}function initSuspenseListRenderState(T,_,U,H,z){var j=T.memoizedState;j===null?T.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:H,tail:U,tailMode:z}:(j.isBackwards=_,j.rendering=null,j.renderingStartTime=0,j.last=H,j.tail=U,j.tailMode=z)}function updateSuspenseListComponent(T,_,U){var H=_.pendingProps,z=H.revealOrder,j=H.tail;if(reconcileChildren(T,_,H.children,U),H=suspenseStackCursor.current,H&2)H=H&1|2,_.flags|=128;else{if(T!==null&&T.flags&128)e:for(T=_.child;T!==null;){if(T.tag===13)T.memoizedState!==null&&scheduleSuspenseWorkOnFiber(T,U,_);else if(T.tag===19)scheduleSuspenseWorkOnFiber(T,U,_);else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===_)break e;for(;T.sibling===null;){if(T.return===null||T.return===_)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}H&=1}switch(push(suspenseStackCursor,H),z){case"forwards":for(U=_.child,z=null;U!==null;)T=U.alternate,T!==null&&findFirstSuspended(T)===null&&(z=U),U=U.sibling;U=z,U===null?(z=_.child,_.child=null):(z=U.sibling,U.sibling=null),initSuspenseListRenderState(_,!1,z,U,j);break;case"backwards":for(U=null,z=_.child,_.child=null;z!==null;){if(T=z.alternate,T!==null&&findFirstSuspended(T)===null){_.child=z;break}T=z.sibling,z.sibling=U,U=z,z=T}initSuspenseListRenderState(_,!0,U,null,j);break;case"together":initSuspenseListRenderState(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function bailoutOnAlreadyFinishedWork(T,_,U){if(T!==null&&(_.dependencies=T.dependencies),workInProgressRootSkippedLanes|=_.lanes,!(U&_.childLanes))if(T!==null){if(propagateParentContextChanges(T,_,U,!1),(U&_.childLanes)===0)return null}else return null;if(T!==null&&_.child!==T.child)throw Error(formatProdErrorMessage(153));if(_.child!==null){for(T=_.child,U=createWorkInProgress(T,T.pendingProps),_.child=U,U.return=_;T.sibling!==null;)T=T.sibling,U=U.sibling=createWorkInProgress(T,T.pendingProps),U.return=_;U.sibling=null}return _.child}function checkScheduledUpdateOrContext(T,_){return T.lanes&_?!0:(T=T.dependencies,!!(T!==null&&checkIfContextChanged(T)))}function attemptEarlyBailoutIfNoScheduledUpdate(T,_,U){switch(_.tag){case 3:pushHostContainer(_,_.stateNode.containerInfo),pushProvider(_,CacheContext,T.memoizedState.cache),resetHydrationState();break;case 27:case 5:pushHostContext(_);break;case 4:pushHostContainer(_,_.stateNode.containerInfo);break;case 10:pushProvider(_,_.type,_.memoizedProps.value);break;case 13:var H=_.memoizedState;if(H!==null)return H.dehydrated!==null?(pushPrimaryTreeSuspenseHandler(_),_.flags|=128,null):U&_.child.childLanes?updateSuspenseComponent(T,_,U):(pushPrimaryTreeSuspenseHandler(_),T=bailoutOnAlreadyFinishedWork(T,_,U),T!==null?T.sibling:null);pushPrimaryTreeSuspenseHandler(_);break;case 19:var z=(T.flags&128)!==0;if(H=(U&_.childLanes)!==0,H||(propagateParentContextChanges(T,_,U,!1),H=(U&_.childLanes)!==0),z){if(H)return updateSuspenseListComponent(T,_,U);_.flags|=128}if(z=_.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),push(suspenseStackCursor,suspenseStackCursor.current),H)break;return null;case 22:case 23:return _.lanes=0,updateOffscreenComponent(T,_,U);case 24:pushProvider(_,CacheContext,T.memoizedState.cache)}return bailoutOnAlreadyFinishedWork(T,_,U)}function beginWork(T,_,U){if(T!==null)if(T.memoizedProps!==_.pendingProps)didReceiveUpdate=!0;else{if(!checkScheduledUpdateOrContext(T,U)&&!(_.flags&128))return didReceiveUpdate=!1,attemptEarlyBailoutIfNoScheduledUpdate(T,_,U);didReceiveUpdate=!!(T.flags&131072)}else didReceiveUpdate=!1,isHydrating&&_.flags&1048576&&pushTreeId(_,treeForkCount,_.index);switch(_.lanes=0,_.tag){case 16:e:{T=_.pendingProps;var H=_.elementType,z=H._init;if(H=z(H._payload),_.type=H,typeof H=="function")shouldConstruct(H)?(T=resolveClassComponentProps(H,T),_.tag=1,_=updateClassComponent(null,_,H,T,U)):(_.tag=0,_=updateFunctionComponent(null,_,H,T,U));else{if(H!=null){if(z=H.$$typeof,z===REACT_FORWARD_REF_TYPE){_.tag=11,_=updateForwardRef(null,_,H,T,U);break e}else if(z===REACT_MEMO_TYPE){_.tag=14,_=updateMemoComponent(null,_,H,T,U);break e}}throw _=getComponentNameFromType(H)||H,Error(formatProdErrorMessage(306,_,""))}}return _;case 0:return updateFunctionComponent(T,_,_.type,_.pendingProps,U);case 1:return H=_.type,z=resolveClassComponentProps(H,_.pendingProps),updateClassComponent(T,_,H,z,U);case 3:e:{if(pushHostContainer(_,_.stateNode.containerInfo),T===null)throw Error(formatProdErrorMessage(387));var j=_.pendingProps;z=_.memoizedState,H=z.element,cloneUpdateQueue(T,_),processUpdateQueue(_,j,null,U);var q=_.memoizedState;if(j=q.cache,pushProvider(_,CacheContext,j),j!==z.cache&&propagateContextChanges(_,[CacheContext],U,!0),suspendIfUpdateReadFromEntangledAsyncAction(),j=q.element,z.isDehydrated)if(z={element:j,isDehydrated:!1,cache:q.cache},_.updateQueue.baseState=z,_.memoizedState=z,_.flags&256){_=mountHostRootWithoutHydrating(T,_,j,U);break e}else if(j!==H){H=createCapturedValueAtFiber(Error(formatProdErrorMessage(424)),_),queueHydrationError(H),_=mountHostRootWithoutHydrating(T,_,j,U);break e}else for(nextHydratableInstance=getNextHydratable(_.stateNode.containerInfo.firstChild),hydrationParentFiber=_,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!0,U=mountChildFibers(_,null,j,U),_.child=U;U;)U.flags=U.flags&-3|4096,U=U.sibling;else{if(resetHydrationState(),j===H){_=bailoutOnAlreadyFinishedWork(T,_,U);break e}reconcileChildren(T,_,j,U)}_=_.child}return _;case 26:return markRef(T,_),T===null?(U=getResource(_.type,null,_.pendingProps,null))?_.memoizedState=U:isHydrating||(U=_.type,T=_.pendingProps,H=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current).createElement(U),H[internalInstanceKey]=_,H[internalPropsKey]=T,setInitialProperties(H,U,T),markNodeAsHoistable(H),_.stateNode=H):_.memoizedState=getResource(_.type,T.memoizedProps,_.pendingProps,T.memoizedState),null;case 27:return pushHostContext(_),T===null&&isHydrating&&(H=_.stateNode=resolveSingletonInstance(_.type,_.pendingProps,rootInstanceStackCursor.current),hydrationParentFiber=_,rootOrSingletonContext=!0,nextHydratableInstance=getNextHydratable(H.firstChild)),H=_.pendingProps.children,T!==null||isHydrating?reconcileChildren(T,_,H,U):_.child=reconcileChildFibers(_,null,H,U),markRef(T,_),_.child;case 5:return T===null&&isHydrating&&((z=H=nextHydratableInstance)&&(H=canHydrateInstance(H,_.type,_.pendingProps,rootOrSingletonContext),H!==null?(_.stateNode=H,hydrationParentFiber=_,nextHydratableInstance=getNextHydratable(H.firstChild),rootOrSingletonContext=!1,z=!0):z=!1),z||throwOnHydrationMismatch(_)),pushHostContext(_),z=_.type,j=_.pendingProps,q=T!==null?T.memoizedProps:null,H=j.children,shouldSetTextContent(z,j)?H=null:q!==null&&shouldSetTextContent(z,q)&&(_.flags|=32),_.memoizedState!==null&&(z=renderWithHooks(T,_,TransitionAwareHostComponent,null,null,U),HostTransitionContext._currentValue=z),markRef(T,_),reconcileChildren(T,_,H,U),_.child;case 6:return T===null&&isHydrating&&((T=U=nextHydratableInstance)&&(U=canHydrateTextInstance(U,_.pendingProps,rootOrSingletonContext),U!==null?(_.stateNode=U,hydrationParentFiber=_,nextHydratableInstance=null,T=!0):T=!1),T||throwOnHydrationMismatch(_)),null;case 13:return updateSuspenseComponent(T,_,U);case 4:return pushHostContainer(_,_.stateNode.containerInfo),H=_.pendingProps,T===null?_.child=reconcileChildFibers(_,null,H,U):reconcileChildren(T,_,H,U),_.child;case 11:return updateForwardRef(T,_,_.type,_.pendingProps,U);case 7:return reconcileChildren(T,_,_.pendingProps,U),_.child;case 8:return reconcileChildren(T,_,_.pendingProps.children,U),_.child;case 12:return reconcileChildren(T,_,_.pendingProps.children,U),_.child;case 10:return H=_.pendingProps,pushProvider(_,_.type,H.value),reconcileChildren(T,_,H.children,U),_.child;case 9:return z=_.type._context,H=_.pendingProps.children,prepareToReadContext(_),z=readContext(z),H=H(z),_.flags|=1,reconcileChildren(T,_,H,U),_.child;case 14:return updateMemoComponent(T,_,_.type,_.pendingProps,U);case 15:return updateSimpleMemoComponent(T,_,_.type,_.pendingProps,U);case 19:return updateSuspenseListComponent(T,_,U);case 22:return updateOffscreenComponent(T,_,U);case 24:return prepareToReadContext(_),H=readContext(CacheContext),T===null?(z=peekCacheFromPool(),z===null&&(z=workInProgressRoot,j=createCache(),z.pooledCache=j,j.refCount++,j!==null&&(z.pooledCacheLanes|=U),z=j),_.memoizedState={parent:H,cache:z},initializeUpdateQueue(_),pushProvider(_,CacheContext,z)):(T.lanes&U&&(cloneUpdateQueue(T,_),processUpdateQueue(_,null,null,U),suspendIfUpdateReadFromEntangledAsyncAction()),z=T.memoizedState,j=_.memoizedState,z.parent!==H?(z={parent:H,cache:H},_.memoizedState=z,_.lanes===0&&(_.memoizedState=_.updateQueue.baseState=z),pushProvider(_,CacheContext,H)):(H=j.cache,pushProvider(_,CacheContext,H),H!==z.cache&&propagateContextChanges(_,[CacheContext],U,!0))),reconcileChildren(T,_,_.pendingProps.children,U),_.child;case 29:throw _.pendingProps}throw Error(formatProdErrorMessage(156,_.tag))}var valueCursor=createCursor(null),currentlyRenderingFiber=null,lastContextDependency=null;function pushProvider(T,_,U){push(valueCursor,_._currentValue),_._currentValue=U}function popProvider(T){T._currentValue=valueCursor.current,pop(valueCursor)}function scheduleContextWorkOnParentPath(T,_,U){for(;T!==null;){var H=T.alternate;if((T.childLanes&_)!==_?(T.childLanes|=_,H!==null&&(H.childLanes|=_)):H!==null&&(H.childLanes&_)!==_&&(H.childLanes|=_),T===U)break;T=T.return}}function propagateContextChanges(T,_,U,H){var z=T.child;for(z!==null&&(z.return=T);z!==null;){var j=z.dependencies;if(j!==null){var q=z.child;j=j.firstContext;e:for(;j!==null;){var K=j;j=z;for(var Y=0;Y<_.length;Y++)if(K.context===_[Y]){j.lanes|=U,K=j.alternate,K!==null&&(K.lanes|=U),scheduleContextWorkOnParentPath(j.return,U,T),H||(q=null);break e}j=K.next}}else if(z.tag===18){if(q=z.return,q===null)throw Error(formatProdErrorMessage(341));q.lanes|=U,j=q.alternate,j!==null&&(j.lanes|=U),scheduleContextWorkOnParentPath(q,U,T),q=null}else q=z.child;if(q!==null)q.return=z;else for(q=z;q!==null;){if(q===T){q=null;break}if(z=q.sibling,z!==null){z.return=q.return,q=z;break}q=q.return}z=q}}function propagateParentContextChanges(T,_,U,H){T=null;for(var z=_,j=!1;z!==null;){if(!j){if(z.flags&524288)j=!0;else if(z.flags&262144)break}if(z.tag===10){var q=z.alternate;if(q===null)throw Error(formatProdErrorMessage(387));if(q=q.memoizedProps,q!==null){var K=z.type;objectIs(z.pendingProps.value,q.value)||(T!==null?T.push(K):T=[K])}}else if(z===hostTransitionProviderCursor.current){if(q=z.alternate,q===null)throw Error(formatProdErrorMessage(387));q.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(T!==null?T.push(HostTransitionContext):T=[HostTransitionContext])}z=z.return}T!==null&&propagateContextChanges(_,T,U,H),_.flags|=262144}function checkIfContextChanged(T){for(T=T.firstContext;T!==null;){if(!objectIs(T.context._currentValue,T.memoizedValue))return!0;T=T.next}return!1}function prepareToReadContext(T){currentlyRenderingFiber=T,lastContextDependency=null,T=T.dependencies,T!==null&&(T.firstContext=null)}function readContext(T){return readContextForConsumer(currentlyRenderingFiber,T)}function readContextDuringReconciliation(T,_){return currentlyRenderingFiber===null&&prepareToReadContext(T),readContextForConsumer(T,_)}function readContextForConsumer(T,_){var U=_._currentValue;if(_={context:_,memoizedValue:U,next:null},lastContextDependency===null){if(T===null)throw Error(formatProdErrorMessage(308));lastContextDependency=_,T.dependencies={lanes:0,firstContext:_},T.flags|=524288}else lastContextDependency=lastContextDependency.next=_;return U}var hasForceUpdate=!1;function initializeUpdateQueue(T){T.updateQueue={baseState:T.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cloneUpdateQueue(T,_){T=T.updateQueue,_.updateQueue===T&&(_.updateQueue={baseState:T.baseState,firstBaseUpdate:T.firstBaseUpdate,lastBaseUpdate:T.lastBaseUpdate,shared:T.shared,callbacks:null})}function createUpdate(T){return{lane:T,tag:0,payload:null,callback:null,next:null}}function enqueueUpdate(T,_,U){var H=T.updateQueue;if(H===null)return null;if(H=H.shared,executionContext&2){var z=H.pending;return z===null?_.next=_:(_.next=z.next,z.next=_),H.pending=_,_=getRootForUpdatedFiber(T),markUpdateLaneFromFiberToRoot(T,null,U),_}return enqueueUpdate$1(T,H,_,U),getRootForUpdatedFiber(T)}function entangleTransitions(T,_,U){if(_=_.updateQueue,_!==null&&(_=_.shared,(U&4194176)!==0)){var H=_.lanes;H&=T.pendingLanes,U|=H,_.lanes=U,markRootEntangled(T,U)}}function enqueueCapturedUpdate(T,_){var U=T.updateQueue,H=T.alternate;if(H!==null&&(H=H.updateQueue,U===H)){var z=null,j=null;if(U=U.firstBaseUpdate,U!==null){do{var q={lane:U.lane,tag:U.tag,payload:U.payload,callback:null,next:null};j===null?z=j=q:j=j.next=q,U=U.next}while(U!==null);j===null?z=j=_:j=j.next=_}else z=j=_;U={baseState:H.baseState,firstBaseUpdate:z,lastBaseUpdate:j,shared:H.shared,callbacks:H.callbacks},T.updateQueue=U;return}T=U.lastBaseUpdate,T===null?U.firstBaseUpdate=_:T.next=_,U.lastBaseUpdate=_}var didReadFromEntangledAsyncAction=!1;function suspendIfUpdateReadFromEntangledAsyncAction(){if(didReadFromEntangledAsyncAction){var T=currentEntangledActionThenable;if(T!==null)throw T}}function processUpdateQueue(T,_,U,H){didReadFromEntangledAsyncAction=!1;var z=T.updateQueue;hasForceUpdate=!1;var j=z.firstBaseUpdate,q=z.lastBaseUpdate,K=z.shared.pending;if(K!==null){z.shared.pending=null;var Y=K,X=Y.next;Y.next=null,q===null?j=X:q.next=X,q=Y;var Z=T.alternate;Z!==null&&(Z=Z.updateQueue,K=Z.lastBaseUpdate,K!==q&&(K===null?Z.firstBaseUpdate=X:K.next=X,Z.lastBaseUpdate=Y))}if(j!==null){var ne=z.baseState;q=0,Z=X=Y=null,K=j;do{var ie=K.lane&-536870913,se=ie!==K.lane;if(se?(workInProgressRootRenderLanes&ie)===ie:(H&ie)===ie){ie!==0&&ie===currentEntangledLane&&(didReadFromEntangledAsyncAction=!0),Z!==null&&(Z=Z.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var de=T,Ee=K;ie=_;var pe=U;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){ne=de.call(pe,ne,ie);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,ie=typeof de=="function"?de.call(pe,ne,ie):de,ie==null)break e;ne=assign({},ne,ie);break e;case 2:hasForceUpdate=!0}}ie=K.callback,ie!==null&&(T.flags|=64,se&&(T.flags|=8192),se=z.callbacks,se===null?z.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Z===null?(X=Z=se,Y=ne):Z=Z.next=se,q|=ie;if(K=K.next,K===null){if(K=z.shared.pending,K===null)break;se=K,K=se.next,se.next=null,z.lastBaseUpdate=se,z.shared.pending=null}}while(!0);Z===null&&(Y=ne),z.baseState=Y,z.firstBaseUpdate=X,z.lastBaseUpdate=Z,j===null&&(z.shared.lanes=0),workInProgressRootSkippedLanes|=q,T.lanes=q,T.memoizedState=ne}}function callCallback(T,_){if(typeof T!="function")throw Error(formatProdErrorMessage(191,T));T.call(_)}function commitCallbacks(T,_){var U=T.callbacks;if(U!==null)for(T.callbacks=null,T=0;T<U.length;T++)callCallback(U[T],_)}function commitHookEffectListMount(T,_){try{var U=_.updateQueue,H=U!==null?U.lastEffect:null;if(H!==null){var z=H.next;U=z;do{if((U.tag&T)===T){H=void 0;var j=U.create,q=U.inst;H=j(),q.destroy=H}U=U.next}while(U!==z)}}catch(K){captureCommitPhaseError(_,_.return,K)}}function commitHookEffectListUnmount(T,_,U){try{var H=_.updateQueue,z=H!==null?H.lastEffect:null;if(z!==null){var j=z.next;H=j;do{if((H.tag&T)===T){var q=H.inst,K=q.destroy;if(K!==void 0){q.destroy=void 0,z=_;var Y=U;try{K()}catch(X){captureCommitPhaseError(z,Y,X)}}}H=H.next}while(H!==j)}}catch(X){captureCommitPhaseError(_,_.return,X)}}function commitClassCallbacks(T){var _=T.updateQueue;if(_!==null){var U=T.stateNode;try{commitCallbacks(_,U)}catch(H){captureCommitPhaseError(T,T.return,H)}}}function safelyCallComponentWillUnmount(T,_,U){U.props=resolveClassComponentProps(T.type,T.memoizedProps),U.state=T.memoizedState;try{U.componentWillUnmount()}catch(H){captureCommitPhaseError(T,_,H)}}function safelyAttachRef(T,_){try{var U=T.ref;if(U!==null){var H=T.stateNode;switch(T.tag){case 26:case 27:case 5:var z=H;break;default:z=H}typeof U=="function"?T.refCleanup=U(z):U.current=z}}catch(j){captureCommitPhaseError(T,_,j)}}function safelyDetachRef(T,_){var U=T.ref,H=T.refCleanup;if(U!==null)if(typeof H=="function")try{H()}catch(z){captureCommitPhaseError(T,_,z)}finally{T.refCleanup=null,T=T.alternate,T!=null&&(T.refCleanup=null)}else if(typeof U=="function")try{U(null)}catch(z){captureCommitPhaseError(T,_,z)}else U.current=null}function commitHostMount(T){var _=T.type,U=T.memoizedProps,H=T.stateNode;try{e:switch(_){case"button":case"input":case"select":case"textarea":U.autoFocus&&H.focus();break e;case"img":U.src?H.src=U.src:U.srcSet&&(H.srcset=U.srcSet)}}catch(z){captureCommitPhaseError(T,T.return,z)}}function commitHostUpdate(T,_,U){try{var H=T.stateNode;updateProperties(H,T.type,U,_),H[internalPropsKey]=_}catch(z){captureCommitPhaseError(T,T.return,z)}}function isHostParent(T){return T.tag===5||T.tag===3||T.tag===26||T.tag===27||T.tag===4}function getHostSibling(T){e:for(;;){for(;T.sibling===null;){if(T.return===null||isHostParent(T.return))return null;T=T.return}for(T.sibling.return=T.return,T=T.sibling;T.tag!==5&&T.tag!==6&&T.tag!==27&&T.tag!==18;){if(T.flags&2||T.child===null||T.tag===4)continue e;T.child.return=T,T=T.child}if(!(T.flags&2))return T.stateNode}}function insertOrAppendPlacementNodeIntoContainer(T,_,U){var H=T.tag;if(H===5||H===6)T=T.stateNode,_?U.nodeType===8?U.parentNode.insertBefore(T,_):U.insertBefore(T,_):(U.nodeType===8?(_=U.parentNode,_.insertBefore(T,U)):(_=U,_.appendChild(T)),U=U._reactRootContainer,U!=null||_.onclick!==null||(_.onclick=noop$1$1));else if(H!==4&&H!==27&&(T=T.child,T!==null))for(insertOrAppendPlacementNodeIntoContainer(T,_,U),T=T.sibling;T!==null;)insertOrAppendPlacementNodeIntoContainer(T,_,U),T=T.sibling}function insertOrAppendPlacementNode(T,_,U){var H=T.tag;if(H===5||H===6)T=T.stateNode,_?U.insertBefore(T,_):U.appendChild(T);else if(H!==4&&H!==27&&(T=T.child,T!==null))for(insertOrAppendPlacementNode(T,_,U),T=T.sibling;T!==null;)insertOrAppendPlacementNode(T,_,U),T=T.sibling}var offscreenSubtreeIsHidden=!1,offscreenSubtreeWasHidden=!1,needsFormReset=!1,PossiblyWeakSet=typeof WeakSet=="function"?WeakSet:Set,nextEffect=null,shouldFireAfterActiveInstanceBlur=!1;function commitBeforeMutationEffects(T,_){if(T=T.containerInfo,eventsEnabled=_enabled,T=getActiveElementDeep(T),hasSelectionCapabilities(T)){if("selectionStart"in T)var U={start:T.selectionStart,end:T.selectionEnd};else e:{U=(U=T.ownerDocument)&&U.defaultView||window;var H=U.getSelection&&U.getSelection();if(H&&H.rangeCount!==0){U=H.anchorNode;var z=H.anchorOffset,j=H.focusNode;H=H.focusOffset;try{U.nodeType,j.nodeType}catch{U=null;break e}var q=0,K=-1,Y=-1,X=0,Z=0,ne=T,ie=null;t:for(;;){for(var se;ne!==U||z!==0&&ne.nodeType!==3||(K=q+z),ne!==j||H!==0&&ne.nodeType!==3||(Y=q+H),ne.nodeType===3&&(q+=ne.nodeValue.length),(se=ne.firstChild)!==null;)ie=ne,ne=se;for(;;){if(ne===T)break t;if(ie===U&&++X===z&&(K=q),ie===j&&++Z===H&&(Y=q),(se=ne.nextSibling)!==null)break;ne=ie,ie=ne.parentNode}ne=se}U=K===-1||Y===-1?null:{start:K,end:Y}}else U=null}U=U||{start:0,end:0}}else U=null;for(selectionInformation={focusedElem:T,selectionRange:U},_enabled=!1,nextEffect=_;nextEffect!==null;)if(_=nextEffect,T=_.child,(_.subtreeFlags&1028)!==0&&T!==null)T.return=_,nextEffect=T;else for(;nextEffect!==null;){switch(_=nextEffect,j=_.alternate,T=_.flags,_.tag){case 0:break;case 11:case 15:break;case 1:if(T&1024&&j!==null){T=void 0,U=_,z=j.memoizedProps,j=j.memoizedState,H=U.stateNode;try{var de=resolveClassComponentProps(U.type,z,U.elementType===U.type);T=H.getSnapshotBeforeUpdate(de,j),H.__reactInternalSnapshotBeforeUpdate=T}catch(Ee){captureCommitPhaseError(U,U.return,Ee)}}break;case 3:if(T&1024){if(T=_.stateNode.containerInfo,U=T.nodeType,U===9)clearContainerSparingly(T);else if(U===1)switch(T.nodeName){case"HEAD":case"HTML":case"BODY":clearContainerSparingly(T);break;default:T.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(T&1024)throw Error(formatProdErrorMessage(163))}if(T=_.sibling,T!==null){T.return=_.return,nextEffect=T;break}nextEffect=_.return}return de=shouldFireAfterActiveInstanceBlur,shouldFireAfterActiveInstanceBlur=!1,de}function commitLayoutEffectOnFiber(T,_,U){var H=U.flags;switch(U.tag){case 0:case 11:case 15:recursivelyTraverseLayoutEffects(T,U),H&4&&commitHookEffectListMount(5,U);break;case 1:if(recursivelyTraverseLayoutEffects(T,U),H&4)if(T=U.stateNode,_===null)try{T.componentDidMount()}catch(K){captureCommitPhaseError(U,U.return,K)}else{var z=resolveClassComponentProps(U.type,_.memoizedProps);_=_.memoizedState;try{T.componentDidUpdate(z,_,T.__reactInternalSnapshotBeforeUpdate)}catch(K){captureCommitPhaseError(U,U.return,K)}}H&64&&commitClassCallbacks(U),H&512&&safelyAttachRef(U,U.return);break;case 3:if(recursivelyTraverseLayoutEffects(T,U),H&64&&(H=U.updateQueue,H!==null)){if(T=null,U.child!==null)switch(U.child.tag){case 27:case 5:T=U.child.stateNode;break;case 1:T=U.child.stateNode}try{commitCallbacks(H,T)}catch(K){captureCommitPhaseError(U,U.return,K)}}break;case 26:recursivelyTraverseLayoutEffects(T,U),H&512&&safelyAttachRef(U,U.return);break;case 27:case 5:recursivelyTraverseLayoutEffects(T,U),_===null&&H&4&&commitHostMount(U),H&512&&safelyAttachRef(U,U.return);break;case 12:recursivelyTraverseLayoutEffects(T,U);break;case 13:recursivelyTraverseLayoutEffects(T,U),H&4&&commitSuspenseHydrationCallbacks(T,U);break;case 22:if(z=U.memoizedState!==null||offscreenSubtreeIsHidden,!z){_=_!==null&&_.memoizedState!==null||offscreenSubtreeWasHidden;var j=offscreenSubtreeIsHidden,q=offscreenSubtreeWasHidden;offscreenSubtreeIsHidden=z,(offscreenSubtreeWasHidden=_)&&!q?recursivelyTraverseReappearLayoutEffects(T,U,(U.subtreeFlags&8772)!==0):recursivelyTraverseLayoutEffects(T,U),offscreenSubtreeIsHidden=j,offscreenSubtreeWasHidden=q}H&512&&(U.memoizedProps.mode==="manual"?safelyAttachRef(U,U.return):safelyDetachRef(U,U.return));break;default:recursivelyTraverseLayoutEffects(T,U)}}function detachFiberAfterEffects(T){var _=T.alternate;_!==null&&(T.alternate=null,detachFiberAfterEffects(_)),T.child=null,T.deletions=null,T.sibling=null,T.tag===5&&(_=T.stateNode,_!==null&&detachDeletedInstance(_)),T.stateNode=null,T.return=null,T.dependencies=null,T.memoizedProps=null,T.memoizedState=null,T.pendingProps=null,T.stateNode=null,T.updateQueue=null}var hostParent=null,hostParentIsContainer=!1;function recursivelyTraverseDeletionEffects(T,_,U){for(U=U.child;U!==null;)commitDeletionEffectsOnFiber(T,_,U),U=U.sibling}function commitDeletionEffectsOnFiber(T,_,U){if(injectedHook&&typeof injectedHook.onCommitFiberUnmount=="function")try{injectedHook.onCommitFiberUnmount(rendererID,U)}catch{}switch(U.tag){case 26:offscreenSubtreeWasHidden||safelyDetachRef(U,_),recursivelyTraverseDeletionEffects(T,_,U),U.memoizedState?U.memoizedState.count--:U.stateNode&&(U=U.stateNode,U.parentNode.removeChild(U));break;case 27:offscreenSubtreeWasHidden||safelyDetachRef(U,_);var H=hostParent,z=hostParentIsContainer;for(hostParent=U.stateNode,recursivelyTraverseDeletionEffects(T,_,U),U=U.stateNode,_=U.attributes;_.length;)U.removeAttributeNode(_[0]);detachDeletedInstance(U),hostParent=H,hostParentIsContainer=z;break;case 5:offscreenSubtreeWasHidden||safelyDetachRef(U,_);case 6:z=hostParent;var j=hostParentIsContainer;if(hostParent=null,recursivelyTraverseDeletionEffects(T,_,U),hostParent=z,hostParentIsContainer=j,hostParent!==null)if(hostParentIsContainer)try{T=hostParent,H=U.stateNode,T.nodeType===8?T.parentNode.removeChild(H):T.removeChild(H)}catch(q){captureCommitPhaseError(U,_,q)}else try{hostParent.removeChild(U.stateNode)}catch(q){captureCommitPhaseError(U,_,q)}break;case 18:hostParent!==null&&(hostParentIsContainer?(_=hostParent,U=U.stateNode,_.nodeType===8?clearSuspenseBoundary(_.parentNode,U):_.nodeType===1&&clearSuspenseBoundary(_,U),retryIfBlockedOn(_)):clearSuspenseBoundary(hostParent,U.stateNode));break;case 4:H=hostParent,z=hostParentIsContainer,hostParent=U.stateNode.containerInfo,hostParentIsContainer=!0,recursivelyTraverseDeletionEffects(T,_,U),hostParent=H,hostParentIsContainer=z;break;case 0:case 11:case 14:case 15:offscreenSubtreeWasHidden||commitHookEffectListUnmount(2,U,_),offscreenSubtreeWasHidden||commitHookEffectListUnmount(4,U,_),recursivelyTraverseDeletionEffects(T,_,U);break;case 1:offscreenSubtreeWasHidden||(safelyDetachRef(U,_),H=U.stateNode,typeof H.componentWillUnmount=="function"&&safelyCallComponentWillUnmount(U,_,H)),recursivelyTraverseDeletionEffects(T,_,U);break;case 21:recursivelyTraverseDeletionEffects(T,_,U);break;case 22:offscreenSubtreeWasHidden||safelyDetachRef(U,_),offscreenSubtreeWasHidden=(H=offscreenSubtreeWasHidden)||U.memoizedState!==null,recursivelyTraverseDeletionEffects(T,_,U),offscreenSubtreeWasHidden=H;break;default:recursivelyTraverseDeletionEffects(T,_,U)}}function commitSuspenseHydrationCallbacks(T,_){if(_.memoizedState===null&&(T=_.alternate,T!==null&&(T=T.memoizedState,T!==null&&(T=T.dehydrated,T!==null))))try{retryIfBlockedOn(T)}catch(U){captureCommitPhaseError(_,_.return,U)}}function getRetryCache(T){switch(T.tag){case 13:case 19:var _=T.stateNode;return _===null&&(_=T.stateNode=new PossiblyWeakSet),_;case 22:return T=T.stateNode,_=T._retryCache,_===null&&(_=T._retryCache=new PossiblyWeakSet),_;default:throw Error(formatProdErrorMessage(435,T.tag))}}function attachSuspenseRetryListeners(T,_){var U=getRetryCache(T);_.forEach(function(H){var z=resolveRetryWakeable.bind(null,T,H);U.has(H)||(U.add(H),H.then(z,z))})}function recursivelyTraverseMutationEffects(T,_){var U=_.deletions;if(U!==null)for(var H=0;H<U.length;H++){var z=U[H],j=T,q=_,K=q;e:for(;K!==null;){switch(K.tag){case 27:case 5:hostParent=K.stateNode,hostParentIsContainer=!1;break e;case 3:hostParent=K.stateNode.containerInfo,hostParentIsContainer=!0;break e;case 4:hostParent=K.stateNode.containerInfo,hostParentIsContainer=!0;break e}K=K.return}if(hostParent===null)throw Error(formatProdErrorMessage(160));commitDeletionEffectsOnFiber(j,q,z),hostParent=null,hostParentIsContainer=!1,j=z.alternate,j!==null&&(j.return=null),z.return=null}if(_.subtreeFlags&13878)for(_=_.child;_!==null;)commitMutationEffectsOnFiber(_,T),_=_.sibling}var currentHoistableRoot=null;function commitMutationEffectsOnFiber(T,_){var U=T.alternate,H=T.flags;switch(T.tag){case 0:case 11:case 14:case 15:recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),H&4&&(commitHookEffectListUnmount(3,T,T.return),commitHookEffectListMount(3,T),commitHookEffectListUnmount(5,T,T.return));break;case 1:recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),H&512&&(offscreenSubtreeWasHidden||U===null||safelyDetachRef(U,U.return)),H&64&&offscreenSubtreeIsHidden&&(T=T.updateQueue,T!==null&&(H=T.callbacks,H!==null&&(U=T.shared.hiddenCallbacks,T.shared.hiddenCallbacks=U===null?H:U.concat(H))));break;case 26:var z=currentHoistableRoot;if(recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),H&512&&(offscreenSubtreeWasHidden||U===null||safelyDetachRef(U,U.return)),H&4){var j=U!==null?U.memoizedState:null;if(H=T.memoizedState,U===null)if(H===null)if(T.stateNode===null){e:{H=T.type,U=T.memoizedProps,z=z.ownerDocument||z;t:switch(H){case"title":j=z.getElementsByTagName("title")[0],(!j||j[internalHoistableMarker]||j[internalInstanceKey]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=z.createElement(H),z.head.insertBefore(j,z.querySelector("head > title"))),setInitialProperties(j,H,U),j[internalInstanceKey]=T,markNodeAsHoistable(j),H=j;break e;case"link":var q=getHydratableHoistableCache("link","href",z).get(H+(U.href||""));if(q){for(var K=0;K<q.length;K++)if(j=q[K],j.getAttribute("href")===(U.href==null?null:U.href)&&j.getAttribute("rel")===(U.rel==null?null:U.rel)&&j.getAttribute("title")===(U.title==null?null:U.title)&&j.getAttribute("crossorigin")===(U.crossOrigin==null?null:U.crossOrigin)){q.splice(K,1);break t}}j=z.createElement(H),setInitialProperties(j,H,U),z.head.appendChild(j);break;case"meta":if(q=getHydratableHoistableCache("meta","content",z).get(H+(U.content||""))){for(K=0;K<q.length;K++)if(j=q[K],j.getAttribute("content")===(U.content==null?null:""+U.content)&&j.getAttribute("name")===(U.name==null?null:U.name)&&j.getAttribute("property")===(U.property==null?null:U.property)&&j.getAttribute("http-equiv")===(U.httpEquiv==null?null:U.httpEquiv)&&j.getAttribute("charset")===(U.charSet==null?null:U.charSet)){q.splice(K,1);break t}}j=z.createElement(H),setInitialProperties(j,H,U),z.head.appendChild(j);break;default:throw Error(formatProdErrorMessage(468,H))}j[internalInstanceKey]=T,markNodeAsHoistable(j),H=j}T.stateNode=H}else mountHoistable(z,T.type,T.stateNode);else T.stateNode=acquireResource(z,H,T.memoizedProps);else j!==H?(j===null?U.stateNode!==null&&(U=U.stateNode,U.parentNode.removeChild(U)):j.count--,H===null?mountHoistable(z,T.type,T.stateNode):acquireResource(z,H,T.memoizedProps)):H===null&&T.stateNode!==null&&commitHostUpdate(T,T.memoizedProps,U.memoizedProps)}break;case 27:if(H&4&&T.alternate===null){z=T.stateNode,j=T.memoizedProps;try{for(var Y=z.firstChild;Y;){var X=Y.nextSibling,Z=Y.nodeName;Y[internalHoistableMarker]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||z.removeChild(Y),Y=X}for(var ne=T.type,ie=z.attributes;ie.length;)z.removeAttributeNode(ie[0]);setInitialProperties(z,ne,j),z[internalInstanceKey]=T,z[internalPropsKey]=j}catch(de){captureCommitPhaseError(T,T.return,de)}}case 5:if(recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),H&512&&(offscreenSubtreeWasHidden||U===null||safelyDetachRef(U,U.return)),T.flags&32){z=T.stateNode;try{setTextContent(z,"")}catch(de){captureCommitPhaseError(T,T.return,de)}}H&4&&T.stateNode!=null&&(z=T.memoizedProps,commitHostUpdate(T,z,U!==null?U.memoizedProps:z)),H&1024&&(needsFormReset=!0);break;case 6:if(recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),H&4){if(T.stateNode===null)throw Error(formatProdErrorMessage(162));H=T.memoizedProps,U=T.stateNode;try{U.nodeValue=H}catch(de){captureCommitPhaseError(T,T.return,de)}}break;case 3:if(tagCaches=null,z=currentHoistableRoot,currentHoistableRoot=getHoistableRoot(_.containerInfo),recursivelyTraverseMutationEffects(_,T),currentHoistableRoot=z,commitReconciliationEffects(T),H&4&&U!==null&&U.memoizedState.isDehydrated)try{retryIfBlockedOn(_.containerInfo)}catch(de){captureCommitPhaseError(T,T.return,de)}needsFormReset&&(needsFormReset=!1,recursivelyResetForms(T));break;case 4:H=currentHoistableRoot,currentHoistableRoot=getHoistableRoot(T.stateNode.containerInfo),recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),currentHoistableRoot=H;break;case 12:recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T);break;case 13:recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),T.child.flags&8192&&T.memoizedState!==null!=(U!==null&&U.memoizedState!==null)&&(globalMostRecentFallbackTime=now()),H&4&&(H=T.updateQueue,H!==null&&(T.updateQueue=null,attachSuspenseRetryListeners(T,H)));break;case 22:if(H&512&&(offscreenSubtreeWasHidden||U===null||safelyDetachRef(U,U.return)),Y=T.memoizedState!==null,X=U!==null&&U.memoizedState!==null,Z=offscreenSubtreeIsHidden,ne=offscreenSubtreeWasHidden,offscreenSubtreeIsHidden=Z||Y,offscreenSubtreeWasHidden=ne||X,recursivelyTraverseMutationEffects(_,T),offscreenSubtreeWasHidden=ne,offscreenSubtreeIsHidden=Z,commitReconciliationEffects(T),_=T.stateNode,_._current=T,_._visibility&=-3,_._visibility|=_._pendingVisibility&2,H&8192&&(_._visibility=Y?_._visibility&-2:_._visibility|1,Y&&(_=offscreenSubtreeIsHidden||offscreenSubtreeWasHidden,U===null||X||_||recursivelyTraverseDisappearLayoutEffects(T)),T.memoizedProps===null||T.memoizedProps.mode!=="manual"))e:for(U=null,_=T;;){if(_.tag===5||_.tag===26||_.tag===27){if(U===null){X=U=_;try{if(z=X.stateNode,Y)j=z.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{q=X.stateNode,K=X.memoizedProps.style;var se=K!=null&&K.hasOwnProperty("display")?K.display:null;q.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(de){captureCommitPhaseError(X,X.return,de)}}}else if(_.tag===6){if(U===null){X=_;try{X.stateNode.nodeValue=Y?"":X.memoizedProps}catch(de){captureCommitPhaseError(X,X.return,de)}}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===T)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===T)break e;for(;_.sibling===null;){if(_.return===null||_.return===T)break e;U===_&&(U=null),_=_.return}U===_&&(U=null),_.sibling.return=_.return,_=_.sibling}H&4&&(H=T.updateQueue,H!==null&&(U=H.retryQueue,U!==null&&(H.retryQueue=null,attachSuspenseRetryListeners(T,U))));break;case 19:recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T),H&4&&(H=T.updateQueue,H!==null&&(T.updateQueue=null,attachSuspenseRetryListeners(T,H)));break;case 21:break;default:recursivelyTraverseMutationEffects(_,T),commitReconciliationEffects(T)}}function commitReconciliationEffects(T){var _=T.flags;if(_&2){try{if(T.tag!==27){e:{for(var U=T.return;U!==null;){if(isHostParent(U)){var H=U;break e}U=U.return}throw Error(formatProdErrorMessage(160))}switch(H.tag){case 27:var z=H.stateNode,j=getHostSibling(T);insertOrAppendPlacementNode(T,j,z);break;case 5:var q=H.stateNode;H.flags&32&&(setTextContent(q,""),H.flags&=-33);var K=getHostSibling(T);insertOrAppendPlacementNode(T,K,q);break;case 3:case 4:var Y=H.stateNode.containerInfo,X=getHostSibling(T);insertOrAppendPlacementNodeIntoContainer(T,X,Y);break;default:throw Error(formatProdErrorMessage(161))}}}catch(Z){captureCommitPhaseError(T,T.return,Z)}T.flags&=-3}_&4096&&(T.flags&=-4097)}function recursivelyResetForms(T){if(T.subtreeFlags&1024)for(T=T.child;T!==null;){var _=T;recursivelyResetForms(_),_.tag===5&&_.flags&1024&&_.stateNode.reset(),T=T.sibling}}function recursivelyTraverseLayoutEffects(T,_){if(_.subtreeFlags&8772)for(_=_.child;_!==null;)commitLayoutEffectOnFiber(T,_.alternate,_),_=_.sibling}function recursivelyTraverseDisappearLayoutEffects(T){for(T=T.child;T!==null;){var _=T;switch(_.tag){case 0:case 11:case 14:case 15:commitHookEffectListUnmount(4,_,_.return),recursivelyTraverseDisappearLayoutEffects(_);break;case 1:safelyDetachRef(_,_.return);var U=_.stateNode;typeof U.componentWillUnmount=="function"&&safelyCallComponentWillUnmount(_,_.return,U),recursivelyTraverseDisappearLayoutEffects(_);break;case 26:case 27:case 5:safelyDetachRef(_,_.return),recursivelyTraverseDisappearLayoutEffects(_);break;case 22:safelyDetachRef(_,_.return),_.memoizedState===null&&recursivelyTraverseDisappearLayoutEffects(_);break;default:recursivelyTraverseDisappearLayoutEffects(_)}T=T.sibling}}function recursivelyTraverseReappearLayoutEffects(T,_,U){for(U=U&&(_.subtreeFlags&8772)!==0,_=_.child;_!==null;){var H=_.alternate,z=T,j=_,q=j.flags;switch(j.tag){case 0:case 11:case 15:recursivelyTraverseReappearLayoutEffects(z,j,U),commitHookEffectListMount(4,j);break;case 1:if(recursivelyTraverseReappearLayoutEffects(z,j,U),H=j,z=H.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(X){captureCommitPhaseError(H,H.return,X)}if(H=j,z=H.updateQueue,z!==null){var K=H.stateNode;try{var Y=z.shared.hiddenCallbacks;if(Y!==null)for(z.shared.hiddenCallbacks=null,z=0;z<Y.length;z++)callCallback(Y[z],K)}catch(X){captureCommitPhaseError(H,H.return,X)}}U&&q&64&&commitClassCallbacks(j),safelyAttachRef(j,j.return);break;case 26:case 27:case 5:recursivelyTraverseReappearLayoutEffects(z,j,U),U&&H===null&&q&4&&commitHostMount(j),safelyAttachRef(j,j.return);break;case 12:recursivelyTraverseReappearLayoutEffects(z,j,U);break;case 13:recursivelyTraverseReappearLayoutEffects(z,j,U),U&&q&4&&commitSuspenseHydrationCallbacks(z,j);break;case 22:j.memoizedState===null&&recursivelyTraverseReappearLayoutEffects(z,j,U),safelyAttachRef(j,j.return);break;default:recursivelyTraverseReappearLayoutEffects(z,j,U)}_=_.sibling}}function commitOffscreenPassiveMountEffects(T,_){var U=null;T!==null&&T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(U=T.memoizedState.cachePool.pool),T=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(T=_.memoizedState.cachePool.pool),T!==U&&(T!=null&&T.refCount++,U!=null&&releaseCache(U))}function commitCachePassiveMountEffect(T,_){T=null,_.alternate!==null&&(T=_.alternate.memoizedState.cache),_=_.memoizedState.cache,_!==T&&(_.refCount++,T!=null&&releaseCache(T))}function recursivelyTraversePassiveMountEffects(T,_,U,H){if(_.subtreeFlags&10256)for(_=_.child;_!==null;)commitPassiveMountOnFiber(T,_,U,H),_=_.sibling}function commitPassiveMountOnFiber(T,_,U,H){var z=_.flags;switch(_.tag){case 0:case 11:case 15:recursivelyTraversePassiveMountEffects(T,_,U,H),z&2048&&commitHookEffectListMount(9,_);break;case 3:recursivelyTraversePassiveMountEffects(T,_,U,H),z&2048&&(T=null,_.alternate!==null&&(T=_.alternate.memoizedState.cache),_=_.memoizedState.cache,_!==T&&(_.refCount++,T!=null&&releaseCache(T)));break;case 12:if(z&2048){recursivelyTraversePassiveMountEffects(T,_,U,H),T=_.stateNode;try{var j=_.memoizedProps,q=j.id,K=j.onPostCommit;typeof K=="function"&&K(q,_.alternate===null?"mount":"update",T.passiveEffectDuration,-0)}catch(Y){captureCommitPhaseError(_,_.return,Y)}}else recursivelyTraversePassiveMountEffects(T,_,U,H);break;case 23:break;case 22:j=_.stateNode,_.memoizedState!==null?j._visibility&4?recursivelyTraversePassiveMountEffects(T,_,U,H):recursivelyTraverseAtomicPassiveEffects(T,_):j._visibility&4?recursivelyTraversePassiveMountEffects(T,_,U,H):(j._visibility|=4,recursivelyTraverseReconnectPassiveEffects(T,_,U,H,(_.subtreeFlags&10256)!==0)),z&2048&&commitOffscreenPassiveMountEffects(_.alternate,_);break;case 24:recursivelyTraversePassiveMountEffects(T,_,U,H),z&2048&&commitCachePassiveMountEffect(_.alternate,_);break;default:recursivelyTraversePassiveMountEffects(T,_,U,H)}}function recursivelyTraverseReconnectPassiveEffects(T,_,U,H,z){for(z=z&&(_.subtreeFlags&10256)!==0,_=_.child;_!==null;){var j=T,q=_,K=U,Y=H,X=q.flags;switch(q.tag){case 0:case 11:case 15:recursivelyTraverseReconnectPassiveEffects(j,q,K,Y,z),commitHookEffectListMount(8,q);break;case 23:break;case 22:var Z=q.stateNode;q.memoizedState!==null?Z._visibility&4?recursivelyTraverseReconnectPassiveEffects(j,q,K,Y,z):recursivelyTraverseAtomicPassiveEffects(j,q):(Z._visibility|=4,recursivelyTraverseReconnectPassiveEffects(j,q,K,Y,z)),z&&X&2048&&commitOffscreenPassiveMountEffects(q.alternate,q);break;case 24:recursivelyTraverseReconnectPassiveEffects(j,q,K,Y,z),z&&X&2048&&commitCachePassiveMountEffect(q.alternate,q);break;default:recursivelyTraverseReconnectPassiveEffects(j,q,K,Y,z)}_=_.sibling}}function recursivelyTraverseAtomicPassiveEffects(T,_){if(_.subtreeFlags&10256)for(_=_.child;_!==null;){var U=T,H=_,z=H.flags;switch(H.tag){case 22:recursivelyTraverseAtomicPassiveEffects(U,H),z&2048&&commitOffscreenPassiveMountEffects(H.alternate,H);break;case 24:recursivelyTraverseAtomicPassiveEffects(U,H),z&2048&&commitCachePassiveMountEffect(H.alternate,H);break;default:recursivelyTraverseAtomicPassiveEffects(U,H)}_=_.sibling}}var suspenseyCommitFlag=8192;function recursivelyAccumulateSuspenseyCommit(T){if(T.subtreeFlags&suspenseyCommitFlag)for(T=T.child;T!==null;)accumulateSuspenseyCommitOnFiber(T),T=T.sibling}function accumulateSuspenseyCommitOnFiber(T){switch(T.tag){case 26:recursivelyAccumulateSuspenseyCommit(T),T.flags&suspenseyCommitFlag&&T.memoizedState!==null&&suspendResource(currentHoistableRoot,T.memoizedState,T.memoizedProps);break;case 5:recursivelyAccumulateSuspenseyCommit(T);break;case 3:case 4:var _=currentHoistableRoot;currentHoistableRoot=getHoistableRoot(T.stateNode.containerInfo),recursivelyAccumulateSuspenseyCommit(T),currentHoistableRoot=_;break;case 22:T.memoizedState===null&&(_=T.alternate,_!==null&&_.memoizedState!==null?(_=suspenseyCommitFlag,suspenseyCommitFlag=16777216,recursivelyAccumulateSuspenseyCommit(T),suspenseyCommitFlag=_):recursivelyAccumulateSuspenseyCommit(T));break;default:recursivelyAccumulateSuspenseyCommit(T)}}function detachAlternateSiblings(T){var _=T.alternate;if(_!==null&&(T=_.child,T!==null)){_.child=null;do _=T.sibling,T.sibling=null,T=_;while(T!==null)}}function recursivelyTraversePassiveUnmountEffects(T){var _=T.deletions;if(T.flags&16){if(_!==null)for(var U=0;U<_.length;U++){var H=_[U];nextEffect=H,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(H,T)}detachAlternateSiblings(T)}if(T.subtreeFlags&10256)for(T=T.child;T!==null;)commitPassiveUnmountOnFiber(T),T=T.sibling}function commitPassiveUnmountOnFiber(T){switch(T.tag){case 0:case 11:case 15:recursivelyTraversePassiveUnmountEffects(T),T.flags&2048&&commitHookEffectListUnmount(9,T,T.return);break;case 3:recursivelyTraversePassiveUnmountEffects(T);break;case 12:recursivelyTraversePassiveUnmountEffects(T);break;case 22:var _=T.stateNode;T.memoizedState!==null&&_._visibility&4&&(T.return===null||T.return.tag!==13)?(_._visibility&=-5,recursivelyTraverseDisconnectPassiveEffects(T)):recursivelyTraversePassiveUnmountEffects(T);break;default:recursivelyTraversePassiveUnmountEffects(T)}}function recursivelyTraverseDisconnectPassiveEffects(T){var _=T.deletions;if(T.flags&16){if(_!==null)for(var U=0;U<_.length;U++){var H=_[U];nextEffect=H,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(H,T)}detachAlternateSiblings(T)}for(T=T.child;T!==null;){switch(_=T,_.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,_,_.return),recursivelyTraverseDisconnectPassiveEffects(_);break;case 22:U=_.stateNode,U._visibility&4&&(U._visibility&=-5,recursivelyTraverseDisconnectPassiveEffects(_));break;default:recursivelyTraverseDisconnectPassiveEffects(_)}T=T.sibling}}function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(T,_){for(;nextEffect!==null;){var U=nextEffect;switch(U.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,U,_);break;case 23:case 22:if(U.memoizedState!==null&&U.memoizedState.cachePool!==null){var H=U.memoizedState.cachePool.pool;H!=null&&H.refCount++}break;case 24:releaseCache(U.memoizedState.cache)}if(H=U.child,H!==null)H.return=U,nextEffect=H;else e:for(U=T;nextEffect!==null;){H=nextEffect;var z=H.sibling,j=H.return;if(detachFiberAfterEffects(H),H===U){nextEffect=null;break e}if(z!==null){z.return=j,nextEffect=z;break e}nextEffect=j}}}function FiberNode(T,_,U,H){this.tag=T,this.key=U,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function createFiberImplClass(T,_,U,H){return new FiberNode(T,_,U,H)}function shouldConstruct(T){return T=T.prototype,!(!T||!T.isReactComponent)}function createWorkInProgress(T,_){var U=T.alternate;return U===null?(U=createFiberImplClass(T.tag,_,T.key,T.mode),U.elementType=T.elementType,U.type=T.type,U.stateNode=T.stateNode,U.alternate=T,T.alternate=U):(U.pendingProps=_,U.type=T.type,U.flags=0,U.subtreeFlags=0,U.deletions=null),U.flags=T.flags&31457280,U.childLanes=T.childLanes,U.lanes=T.lanes,U.child=T.child,U.memoizedProps=T.memoizedProps,U.memoizedState=T.memoizedState,U.updateQueue=T.updateQueue,_=T.dependencies,U.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},U.sibling=T.sibling,U.index=T.index,U.ref=T.ref,U.refCleanup=T.refCleanup,U}function resetWorkInProgress(T,_){T.flags&=31457282;var U=T.alternate;return U===null?(T.childLanes=0,T.lanes=_,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=U.childLanes,T.lanes=U.lanes,T.child=U.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=U.memoizedProps,T.memoizedState=U.memoizedState,T.updateQueue=U.updateQueue,T.type=U.type,_=U.dependencies,T.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),T}function createFiberFromTypeAndProps(T,_,U,H,z,j){var q=0;if(H=T,typeof T=="function")shouldConstruct(T)&&(q=1);else if(typeof T=="string")q=isHostHoistableType(T,U,contextStackCursor.current)?26:T==="html"||T==="head"||T==="body"?27:5;else e:switch(T){case REACT_FRAGMENT_TYPE:return createFiberFromFragment(U.children,z,j,_);case REACT_STRICT_MODE_TYPE:q=8,z|=24;break;case REACT_PROFILER_TYPE:return T=createFiberImplClass(12,U,_,z|2),T.elementType=REACT_PROFILER_TYPE,T.lanes=j,T;case REACT_SUSPENSE_TYPE:return T=createFiberImplClass(13,U,_,z),T.elementType=REACT_SUSPENSE_TYPE,T.lanes=j,T;case REACT_SUSPENSE_LIST_TYPE:return T=createFiberImplClass(19,U,_,z),T.elementType=REACT_SUSPENSE_LIST_TYPE,T.lanes=j,T;case REACT_OFFSCREEN_TYPE:return createFiberFromOffscreen(U,z,j,_);default:if(typeof T=="object"&&T!==null)switch(T.$$typeof){case REACT_PROVIDER_TYPE:case REACT_CONTEXT_TYPE:q=10;break e;case REACT_CONSUMER_TYPE:q=9;break e;case REACT_FORWARD_REF_TYPE:q=11;break e;case REACT_MEMO_TYPE:q=14;break e;case REACT_LAZY_TYPE:q=16,H=null;break e}q=29,U=Error(formatProdErrorMessage(130,T===null?"null":typeof T,"")),H=null}return _=createFiberImplClass(q,U,_,z),_.elementType=T,_.type=H,_.lanes=j,_}function createFiberFromFragment(T,_,U,H){return T=createFiberImplClass(7,T,H,_),T.lanes=U,T}function createFiberFromOffscreen(T,_,U,H){T=createFiberImplClass(22,T,H,_),T.elementType=REACT_OFFSCREEN_TYPE,T.lanes=U;var z={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=z._current;if(j===null)throw Error(formatProdErrorMessage(456));if(!(z._pendingVisibility&2)){var q=enqueueConcurrentRenderForLane(j,2);q!==null&&(z._pendingVisibility|=2,scheduleUpdateOnFiber(q,j,2))}},attach:function(){var j=z._current;if(j===null)throw Error(formatProdErrorMessage(456));if(z._pendingVisibility&2){var q=enqueueConcurrentRenderForLane(j,2);q!==null&&(z._pendingVisibility&=-3,scheduleUpdateOnFiber(q,j,2))}}};return T.stateNode=z,T}function createFiberFromText(T,_,U){return T=createFiberImplClass(6,T,null,_),T.lanes=U,T}function createFiberFromPortal(T,_,U){return _=createFiberImplClass(4,T.children!==null?T.children:[],T.key,_),_.lanes=U,_.stateNode={containerInfo:T.containerInfo,pendingChildren:null,implementation:T.implementation},_}function markUpdate(T){T.flags|=4}function preloadResourceAndSuspendIfNeeded(T,_){if(_.type!=="stylesheet"||_.state.loading&4)T.flags&=-16777217;else if(T.flags|=16777216,!preloadResource(_)){if(_=suspenseHandlerStackCursor.current,_!==null&&((workInProgressRootRenderLanes&4194176)===workInProgressRootRenderLanes?shellBoundary!==null:(workInProgressRootRenderLanes&62914560)!==workInProgressRootRenderLanes&&!(workInProgressRootRenderLanes&536870912)||_!==shellBoundary))throw suspendedThenable=noopSuspenseyCommitThenable,SuspenseyCommitException;T.flags|=8192}}function scheduleRetryEffect(T,_){_!==null&&(T.flags|=4),T.flags&16384&&(_=T.tag!==22?claimNextRetryLane():536870912,T.lanes|=_,workInProgressSuspendedRetryLanes|=_)}function cutOffTailIfNeeded(T,_){if(!isHydrating)switch(T.tailMode){case"hidden":_=T.tail;for(var U=null;_!==null;)_.alternate!==null&&(U=_),_=_.sibling;U===null?T.tail=null:U.sibling=null;break;case"collapsed":U=T.tail;for(var H=null;U!==null;)U.alternate!==null&&(H=U),U=U.sibling;H===null?_||T.tail===null?T.tail=null:T.tail.sibling=null:H.sibling=null}}function bubbleProperties(T){var _=T.alternate!==null&&T.alternate.child===T.child,U=0,H=0;if(_)for(var z=T.child;z!==null;)U|=z.lanes|z.childLanes,H|=z.subtreeFlags&31457280,H|=z.flags&31457280,z.return=T,z=z.sibling;else for(z=T.child;z!==null;)U|=z.lanes|z.childLanes,H|=z.subtreeFlags,H|=z.flags,z.return=T,z=z.sibling;return T.subtreeFlags|=H,T.childLanes=U,_}function completeWork(T,_,U){var H=_.pendingProps;switch(popTreeContext(_),_.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bubbleProperties(_),null;case 1:return bubbleProperties(_),null;case 3:return U=_.stateNode,H=null,T!==null&&(H=T.memoizedState.cache),_.memoizedState.cache!==H&&(_.flags|=2048),popProvider(CacheContext),popHostContainer(),U.pendingContext&&(U.context=U.pendingContext,U.pendingContext=null),(T===null||T.child===null)&&(popHydrationState(_)?markUpdate(_):T===null||T.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,hydrationErrors!==null&&(queueRecoverableErrors(hydrationErrors),hydrationErrors=null))),bubbleProperties(_),null;case 26:return U=_.memoizedState,T===null?(markUpdate(_),U!==null?(bubbleProperties(_),preloadResourceAndSuspendIfNeeded(_,U)):(bubbleProperties(_),_.flags&=-16777217)):U?U!==T.memoizedState?(markUpdate(_),bubbleProperties(_),preloadResourceAndSuspendIfNeeded(_,U)):(bubbleProperties(_),_.flags&=-16777217):(T.memoizedProps!==H&&markUpdate(_),bubbleProperties(_),_.flags&=-16777217),null;case 27:popHostContext(_),U=rootInstanceStackCursor.current;var z=_.type;if(T!==null&&_.stateNode!=null)T.memoizedProps!==H&&markUpdate(_);else{if(!H){if(_.stateNode===null)throw Error(formatProdErrorMessage(166));return bubbleProperties(_),null}T=contextStackCursor.current,popHydrationState(_)?prepareToHydrateHostInstance(_):(T=resolveSingletonInstance(z,H,U),_.stateNode=T,markUpdate(_))}return bubbleProperties(_),null;case 5:if(popHostContext(_),U=_.type,T!==null&&_.stateNode!=null)T.memoizedProps!==H&&markUpdate(_);else{if(!H){if(_.stateNode===null)throw Error(formatProdErrorMessage(166));return bubbleProperties(_),null}if(T=contextStackCursor.current,popHydrationState(_))prepareToHydrateHostInstance(_);else{switch(z=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current),T){case 1:T=z.createElementNS("http://www.w3.org/2000/svg",U);break;case 2:T=z.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;default:switch(U){case"svg":T=z.createElementNS("http://www.w3.org/2000/svg",U);break;case"math":T=z.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;case"script":T=z.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof H.is=="string"?z.createElement("select",{is:H.is}):z.createElement("select"),H.multiple?T.multiple=!0:H.size&&(T.size=H.size);break;default:T=typeof H.is=="string"?z.createElement(U,{is:H.is}):z.createElement(U)}}T[internalInstanceKey]=_,T[internalPropsKey]=H;e:for(z=_.child;z!==null;){if(z.tag===5||z.tag===6)T.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===_)break e;for(;z.sibling===null;){if(z.return===null||z.return===_)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}_.stateNode=T;e:switch(setInitialProperties(T,U,H),U){case"button":case"input":case"select":case"textarea":T=!!H.autoFocus;break e;case"img":T=!0;break e;default:T=!1}T&&markUpdate(_)}}return bubbleProperties(_),_.flags&=-16777217,null;case 6:if(T&&_.stateNode!=null)T.memoizedProps!==H&&markUpdate(_);else{if(typeof H!="string"&&_.stateNode===null)throw Error(formatProdErrorMessage(166));if(T=rootInstanceStackCursor.current,popHydrationState(_)){if(T=_.stateNode,U=_.memoizedProps,H=null,z=hydrationParentFiber,z!==null)switch(z.tag){case 27:case 5:H=z.memoizedProps}T[internalInstanceKey]=_,T=!!(T.nodeValue===U||H!==null&&H.suppressHydrationWarning===!0||checkForUnmatchedText(T.nodeValue,U)),T||throwOnHydrationMismatch(_)}else T=getOwnerDocumentFromRootContainer(T).createTextNode(H),T[internalInstanceKey]=_,_.stateNode=T}return bubbleProperties(_),null;case 13:if(H=_.memoizedState,T===null||T.memoizedState!==null&&T.memoizedState.dehydrated!==null){if(z=popHydrationState(_),H!==null&&H.dehydrated!==null){if(T===null){if(!z)throw Error(formatProdErrorMessage(318));if(z=_.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(formatProdErrorMessage(317));z[internalInstanceKey]=_}else resetHydrationState(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;bubbleProperties(_),z=!1}else hydrationErrors!==null&&(queueRecoverableErrors(hydrationErrors),hydrationErrors=null),z=!0;if(!z)return _.flags&256?(popSuspenseHandler(_),_):(popSuspenseHandler(_),null)}if(popSuspenseHandler(_),_.flags&128)return _.lanes=U,_;if(U=H!==null,T=T!==null&&T.memoizedState!==null,U){H=_.child,z=null,H.alternate!==null&&H.alternate.memoizedState!==null&&H.alternate.memoizedState.cachePool!==null&&(z=H.alternate.memoizedState.cachePool.pool);var j=null;H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(j=H.memoizedState.cachePool.pool),j!==z&&(H.flags|=2048)}return U!==T&&U&&(_.child.flags|=8192),scheduleRetryEffect(_,_.updateQueue),bubbleProperties(_),null;case 4:return popHostContainer(),T===null&&listenToAllSupportedEvents(_.stateNode.containerInfo),bubbleProperties(_),null;case 10:return popProvider(_.type),bubbleProperties(_),null;case 19:if(pop(suspenseStackCursor),z=_.memoizedState,z===null)return bubbleProperties(_),null;if(H=(_.flags&128)!==0,j=z.rendering,j===null)if(H)cutOffTailIfNeeded(z,!1);else{if(workInProgressRootExitStatus!==0||T!==null&&T.flags&128)for(T=_.child;T!==null;){if(j=findFirstSuspended(T),j!==null){for(_.flags|=128,cutOffTailIfNeeded(z,!1),T=j.updateQueue,_.updateQueue=T,scheduleRetryEffect(_,T),_.subtreeFlags=0,T=U,U=_.child;U!==null;)resetWorkInProgress(U,T),U=U.sibling;return push(suspenseStackCursor,suspenseStackCursor.current&1|2),_.child}T=T.sibling}z.tail!==null&&now()>workInProgressRootRenderTargetTime&&(_.flags|=128,H=!0,cutOffTailIfNeeded(z,!1),_.lanes=4194304)}else{if(!H)if(T=findFirstSuspended(j),T!==null){if(_.flags|=128,H=!0,T=T.updateQueue,_.updateQueue=T,scheduleRetryEffect(_,T),cutOffTailIfNeeded(z,!0),z.tail===null&&z.tailMode==="hidden"&&!j.alternate&&!isHydrating)return bubbleProperties(_),null}else 2*now()-z.renderingStartTime>workInProgressRootRenderTargetTime&&U!==536870912&&(_.flags|=128,H=!0,cutOffTailIfNeeded(z,!1),_.lanes=4194304);z.isBackwards?(j.sibling=_.child,_.child=j):(T=z.last,T!==null?T.sibling=j:_.child=j,z.last=j)}return z.tail!==null?(_=z.tail,z.rendering=_,z.tail=_.sibling,z.renderingStartTime=now(),_.sibling=null,T=suspenseStackCursor.current,push(suspenseStackCursor,H?T&1|2:T&1),_):(bubbleProperties(_),null);case 22:case 23:return popSuspenseHandler(_),popHiddenContext(),H=_.memoizedState!==null,T!==null?T.memoizedState!==null!==H&&(_.flags|=8192):H&&(_.flags|=8192),H?U&536870912&&!(_.flags&128)&&(bubbleProperties(_),_.subtreeFlags&6&&(_.flags|=8192)):bubbleProperties(_),U=_.updateQueue,U!==null&&scheduleRetryEffect(_,U.retryQueue),U=null,T!==null&&T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(U=T.memoizedState.cachePool.pool),H=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(H=_.memoizedState.cachePool.pool),H!==U&&(_.flags|=2048),T!==null&&pop(resumedCache),null;case 24:return U=null,T!==null&&(U=T.memoizedState.cache),_.memoizedState.cache!==U&&(_.flags|=2048),popProvider(CacheContext),bubbleProperties(_),null;case 25:return null}throw Error(formatProdErrorMessage(156,_.tag))}function unwindWork(T,_){switch(popTreeContext(_),_.tag){case 1:return T=_.flags,T&65536?(_.flags=T&-65537|128,_):null;case 3:return popProvider(CacheContext),popHostContainer(),T=_.flags,T&65536&&!(T&128)?(_.flags=T&-65537|128,_):null;case 26:case 27:case 5:return popHostContext(_),null;case 13:if(popSuspenseHandler(_),T=_.memoizedState,T!==null&&T.dehydrated!==null){if(_.alternate===null)throw Error(formatProdErrorMessage(340));resetHydrationState()}return T=_.flags,T&65536?(_.flags=T&-65537|128,_):null;case 19:return pop(suspenseStackCursor),null;case 4:return popHostContainer(),null;case 10:return popProvider(_.type),null;case 22:case 23:return popSuspenseHandler(_),popHiddenContext(),T!==null&&pop(resumedCache),T=_.flags,T&65536?(_.flags=T&-65537|128,_):null;case 24:return popProvider(CacheContext),null;case 25:return null;default:return null}}function unwindInterruptedWork(T,_){switch(popTreeContext(_),_.tag){case 3:popProvider(CacheContext),popHostContainer();break;case 26:case 27:case 5:popHostContext(_);break;case 4:popHostContainer();break;case 13:popSuspenseHandler(_);break;case 19:pop(suspenseStackCursor);break;case 10:popProvider(_.type);break;case 22:case 23:popSuspenseHandler(_),popHiddenContext(),T!==null&&pop(resumedCache);break;case 24:popProvider(CacheContext)}}var DefaultAsyncDispatcher={getCacheForType:function(T){var _=readContext(CacheContext),U=_.data.get(T);return U===void 0&&(U=T(),_.data.set(T,U)),U}},PossiblyWeakMap=typeof WeakMap=="function"?WeakMap:Map,executionContext=0,workInProgressRoot=null,workInProgress=null,workInProgressRootRenderLanes=0,workInProgressSuspendedReason=0,workInProgressThrownValue=null,workInProgressRootDidSkipSuspendedSiblings=!1,workInProgressRootIsPrerendering=!1,workInProgressRootDidAttachPingListener=!1,entangledRenderLanes=0,workInProgressRootExitStatus=0,workInProgressRootSkippedLanes=0,workInProgressRootInterleavedUpdatedLanes=0,workInProgressRootPingedLanes=0,workInProgressDeferredLane=0,workInProgressSuspendedRetryLanes=0,workInProgressRootConcurrentErrors=null,workInProgressRootRecoverableErrors=null,workInProgressRootDidIncludeRecursiveRenderUpdate=!1,globalMostRecentFallbackTime=0,workInProgressRootRenderTargetTime=1/0,workInProgressTransitions=null,legacyErrorBoundariesThatAlreadyFailed=null,rootDoesHavePassiveEffects=!1,rootWithPendingPassiveEffects=null,pendingPassiveEffectsLanes=0,pendingPassiveEffectsRemainingLanes=0,pendingPassiveTransitions=null,nestedUpdateCount=0,rootWithNestedUpdates=null;function requestUpdateLane(){if(executionContext&2&&workInProgressRootRenderLanes!==0)return workInProgressRootRenderLanes&-workInProgressRootRenderLanes;if(ReactSharedInternals.T!==null){var T=currentEntangledLane;return T!==0?T:requestTransitionLane()}return resolveUpdatePriority()}function requestDeferredLane(){workInProgressDeferredLane===0&&(workInProgressDeferredLane=!(workInProgressRootRenderLanes&536870912)||isHydrating?claimNextTransitionLane():536870912);var T=suspenseHandlerStackCursor.current;return T!==null&&(T.flags|=32),workInProgressDeferredLane}function scheduleUpdateOnFiber(T,_,U){(T===workInProgressRoot&&workInProgressSuspendedReason===2||T.cancelPendingCommit!==null)&&(prepareFreshStack(T,0),markRootSuspended(T,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)),markRootUpdated$1(T,U),(!(executionContext&2)||T!==workInProgressRoot)&&(T===workInProgressRoot&&(!(executionContext&2)&&(workInProgressRootInterleavedUpdatedLanes|=U),workInProgressRootExitStatus===4&&markRootSuspended(T,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)),ensureRootIsScheduled(T))}function performWorkOnRoot(T,_,U){if(executionContext&6)throw Error(formatProdErrorMessage(327));var H=!U&&(_&60)===0&&(_&T.expiredLanes)===0||checkIfRootIsPrerendering(T,_),z=H?renderRootConcurrent(T,_):renderRootSync(T,_,!0),j=H;do{if(z===0){workInProgressRootIsPrerendering&&!H&&markRootSuspended(T,_,0,!1);break}else if(z===6)markRootSuspended(T,_,0,!workInProgressRootDidSkipSuspendedSiblings);else{if(U=T.current.alternate,j&&!isRenderConsistentWithExternalStores(U)){z=renderRootSync(T,_,!1),j=!1;continue}if(z===2){if(j=_,T.errorRecoveryDisabledLanes&j)var q=0;else q=T.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){_=q;e:{var K=T;z=workInProgressRootConcurrentErrors;var Y=K.current.memoizedState.isDehydrated;if(Y&&(prepareFreshStack(K,q).flags|=256),q=renderRootSync(K,q,!1),q!==2){if(workInProgressRootDidAttachPingListener&&!Y){K.errorRecoveryDisabledLanes|=j,workInProgressRootInterleavedUpdatedLanes|=j,z=4;break e}j=workInProgressRootRecoverableErrors,workInProgressRootRecoverableErrors=z,j!==null&&queueRecoverableErrors(j)}z=q}if(j=!1,z!==2)continue}}if(z===1){prepareFreshStack(T,0),markRootSuspended(T,_,0,!0);break}e:{switch(H=T,z){case 0:case 1:throw Error(formatProdErrorMessage(345));case 4:if((_&4194176)===_){markRootSuspended(H,_,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings);break e}break;case 2:workInProgressRootRecoverableErrors=null;break;case 3:case 5:break;default:throw Error(formatProdErrorMessage(329))}if(H.finishedWork=U,H.finishedLanes=_,(_&62914560)===_&&(j=globalMostRecentFallbackTime+300-now(),10<j)){if(markRootSuspended(H,_,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings),getNextLanes(H,0)!==0)break e;H.timeoutHandle=scheduleTimeout(commitRootWhenReady.bind(null,H,U,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,_,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,2,-0,0),j);break e}commitRootWhenReady(H,U,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,_,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,0,-0,0)}}break}while(!0);ensureRootIsScheduled(T)}function queueRecoverableErrors(T){workInProgressRootRecoverableErrors===null?workInProgressRootRecoverableErrors=T:workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors,T)}function commitRootWhenReady(T,_,U,H,z,j,q,K,Y,X,Z,ne,ie){var se=_.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(suspendedState={stylesheets:null,count:0,unsuspend:noop$4},accumulateSuspenseyCommitOnFiber(_),_=waitForCommitToBeReady(),_!==null)){T.cancelPendingCommit=_(commitRoot.bind(null,T,U,H,z,q,K,Y,1,ne,ie)),markRootSuspended(T,j,q,!X);return}commitRoot(T,U,H,z,q,K,Y,Z,ne,ie)}function isRenderConsistentWithExternalStores(T){for(var _=T;;){var U=_.tag;if((U===0||U===11||U===15)&&_.flags&16384&&(U=_.updateQueue,U!==null&&(U=U.stores,U!==null)))for(var H=0;H<U.length;H++){var z=U[H],j=z.getSnapshot;z=z.value;try{if(!objectIs(j(),z))return!1}catch{return!1}}if(U=_.child,_.subtreeFlags&16384&&U!==null)U.return=_,_=U;else{if(_===T)break;for(;_.sibling===null;){if(_.return===null||_.return===T)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function markRootSuspended(T,_,U,H){_&=~workInProgressRootPingedLanes,_&=~workInProgressRootInterleavedUpdatedLanes,T.suspendedLanes|=_,T.pingedLanes&=~_,H&&(T.warmLanes|=_),H=T.expirationTimes;for(var z=_;0<z;){var j=31-clz32(z),q=1<<j;H[j]=-1,z&=~q}U!==0&&markSpawnedDeferredLane(T,U,_)}function flushSyncWork$1(){return executionContext&6?!0:(flushSyncWorkAcrossRoots_impl(0),!1)}function resetWorkInProgressStack(){if(workInProgress!==null){if(workInProgressSuspendedReason===0)var T=workInProgress.return;else T=workInProgress,lastContextDependency=currentlyRenderingFiber=null,resetHooksOnUnwind(T),thenableState$1=null,thenableIndexCounter$1=0,T=workInProgress;for(;T!==null;)unwindInterruptedWork(T.alternate,T),T=T.return;workInProgress=null}}function prepareFreshStack(T,_){T.finishedWork=null,T.finishedLanes=0;var U=T.timeoutHandle;U!==-1&&(T.timeoutHandle=-1,cancelTimeout(U)),U=T.cancelPendingCommit,U!==null&&(T.cancelPendingCommit=null,U()),resetWorkInProgressStack(),workInProgressRoot=T,workInProgress=U=createWorkInProgress(T.current,null),workInProgressRootRenderLanes=_,workInProgressSuspendedReason=0,workInProgressThrownValue=null,workInProgressRootDidSkipSuspendedSiblings=!1,workInProgressRootIsPrerendering=checkIfRootIsPrerendering(T,_),workInProgressRootDidAttachPingListener=!1,workInProgressSuspendedRetryLanes=workInProgressDeferredLane=workInProgressRootPingedLanes=workInProgressRootInterleavedUpdatedLanes=workInProgressRootSkippedLanes=workInProgressRootExitStatus=0,workInProgressRootRecoverableErrors=workInProgressRootConcurrentErrors=null,workInProgressRootDidIncludeRecursiveRenderUpdate=!1,_&8&&(_|=_&32);var H=T.entangledLanes;if(H!==0)for(T=T.entanglements,H&=_;0<H;){var z=31-clz32(H),j=1<<z;_|=T[z],H&=~j}return entangledRenderLanes=_,finishQueueingConcurrentUpdates(),U}function handleThrow(T,_){currentlyRenderingFiber$1=null,ReactSharedInternals.H=ContextOnlyDispatcher,_===SuspenseException?(_=getSuspendedThenable(),workInProgressSuspendedReason=3):_===SuspenseyCommitException?(_=getSuspendedThenable(),workInProgressSuspendedReason=4):workInProgressSuspendedReason=_===SelectiveHydrationException?8:_!==null&&typeof _=="object"&&typeof _.then=="function"?6:1,workInProgressThrownValue=_,workInProgress===null&&(workInProgressRootExitStatus=1,logUncaughtError(T,createCapturedValueAtFiber(_,T.current)))}function pushDispatcher(){var T=ReactSharedInternals.H;return ReactSharedInternals.H=ContextOnlyDispatcher,T===null?ContextOnlyDispatcher:T}function pushAsyncDispatcher(){var T=ReactSharedInternals.A;return ReactSharedInternals.A=DefaultAsyncDispatcher,T}function renderDidSuspendDelayIfPossible(){workInProgressRootExitStatus=4,workInProgressRootDidSkipSuspendedSiblings||(workInProgressRootRenderLanes&4194176)!==workInProgressRootRenderLanes&&suspenseHandlerStackCursor.current!==null||(workInProgressRootIsPrerendering=!0),!(workInProgressRootSkippedLanes&134217727)&&!(workInProgressRootInterleavedUpdatedLanes&134217727)||workInProgressRoot===null||markRootSuspended(workInProgressRoot,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)}function renderRootSync(T,_,U){var H=executionContext;executionContext|=2;var z=pushDispatcher(),j=pushAsyncDispatcher();(workInProgressRoot!==T||workInProgressRootRenderLanes!==_)&&(workInProgressTransitions=null,prepareFreshStack(T,_)),_=!1;var q=workInProgressRootExitStatus;e:do try{if(workInProgressSuspendedReason!==0&&workInProgress!==null){var K=workInProgress,Y=workInProgressThrownValue;switch(workInProgressSuspendedReason){case 8:resetWorkInProgressStack(),q=6;break e;case 3:case 2:case 6:suspenseHandlerStackCursor.current===null&&(_=!0);var X=workInProgressSuspendedReason;if(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(T,K,Y,X),U&&workInProgressRootIsPrerendering){q=0;break e}break;default:X=workInProgressSuspendedReason,workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(T,K,Y,X)}}workLoopSync(),q=workInProgressRootExitStatus;break}catch(Z){handleThrow(T,Z)}while(!0);return _&&T.shellSuspendCounter++,lastContextDependency=currentlyRenderingFiber=null,executionContext=H,ReactSharedInternals.H=z,ReactSharedInternals.A=j,workInProgress===null&&(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates()),q}function workLoopSync(){for(;workInProgress!==null;)performUnitOfWork(workInProgress)}function renderRootConcurrent(T,_){var U=executionContext;executionContext|=2;var H=pushDispatcher(),z=pushAsyncDispatcher();workInProgressRoot!==T||workInProgressRootRenderLanes!==_?(workInProgressTransitions=null,workInProgressRootRenderTargetTime=now()+500,prepareFreshStack(T,_)):workInProgressRootIsPrerendering=checkIfRootIsPrerendering(T,_);e:do try{if(workInProgressSuspendedReason!==0&&workInProgress!==null){_=workInProgress;var j=workInProgressThrownValue;t:switch(workInProgressSuspendedReason){case 1:workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(T,_,j,1);break;case 2:if(isThenableResolved(j)){workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork(_);break}_=function(){workInProgressSuspendedReason===2&&workInProgressRoot===T&&(workInProgressSuspendedReason=7),ensureRootIsScheduled(T)},j.then(_,_);break e;case 3:workInProgressSuspendedReason=7;break e;case 4:workInProgressSuspendedReason=5;break e;case 7:isThenableResolved(j)?(workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork(_)):(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(T,_,j,7));break;case 5:var q=null;switch(workInProgress.tag){case 26:q=workInProgress.memoizedState;case 5:case 27:var K=workInProgress;if(!q||preloadResource(q)){workInProgressSuspendedReason=0,workInProgressThrownValue=null;var Y=K.sibling;if(Y!==null)workInProgress=Y;else{var X=K.return;X!==null?(workInProgress=X,completeUnitOfWork(X)):workInProgress=null}break t}}workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(T,_,j,5);break;case 6:workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(T,_,j,6);break;case 8:resetWorkInProgressStack(),workInProgressRootExitStatus=6;break e;default:throw Error(formatProdErrorMessage(462))}}workLoopConcurrent();break}catch(Z){handleThrow(T,Z)}while(!0);return lastContextDependency=currentlyRenderingFiber=null,ReactSharedInternals.H=H,ReactSharedInternals.A=z,executionContext=U,workInProgress!==null?0:(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates(),workInProgressRootExitStatus)}function workLoopConcurrent(){for(;workInProgress!==null&&!shouldYield();)performUnitOfWork(workInProgress)}function performUnitOfWork(T){var _=beginWork(T.alternate,T,entangledRenderLanes);T.memoizedProps=T.pendingProps,_===null?completeUnitOfWork(T):workInProgress=_}function replaySuspendedUnitOfWork(T){var _=T,U=_.alternate;switch(_.tag){case 15:case 0:_=replayFunctionComponent(U,_,_.pendingProps,_.type,void 0,workInProgressRootRenderLanes);break;case 11:_=replayFunctionComponent(U,_,_.pendingProps,_.type.render,_.ref,workInProgressRootRenderLanes);break;case 5:resetHooksOnUnwind(_);default:unwindInterruptedWork(U,_),_=workInProgress=resetWorkInProgress(_,entangledRenderLanes),_=beginWork(U,_,entangledRenderLanes)}T.memoizedProps=T.pendingProps,_===null?completeUnitOfWork(T):workInProgress=_}function throwAndUnwindWorkLoop(T,_,U,H){lastContextDependency=currentlyRenderingFiber=null,resetHooksOnUnwind(_),thenableState$1=null,thenableIndexCounter$1=0;var z=_.return;try{if(throwException(T,z,_,U,workInProgressRootRenderLanes)){workInProgressRootExitStatus=1,logUncaughtError(T,createCapturedValueAtFiber(U,T.current)),workInProgress=null;return}}catch(j){if(z!==null)throw workInProgress=z,j;workInProgressRootExitStatus=1,logUncaughtError(T,createCapturedValueAtFiber(U,T.current)),workInProgress=null;return}_.flags&32768?(isHydrating||H===1?T=!0:workInProgressRootIsPrerendering||workInProgressRootRenderLanes&536870912?T=!1:(workInProgressRootDidSkipSuspendedSiblings=T=!0,(H===2||H===3||H===6)&&(H=suspenseHandlerStackCursor.current,H!==null&&H.tag===13&&(H.flags|=16384))),unwindUnitOfWork(_,T)):completeUnitOfWork(_)}function completeUnitOfWork(T){var _=T;do{if(_.flags&32768){unwindUnitOfWork(_,workInProgressRootDidSkipSuspendedSiblings);return}T=_.return;var U=completeWork(_.alternate,_,entangledRenderLanes);if(U!==null){workInProgress=U;return}if(_=_.sibling,_!==null){workInProgress=_;return}workInProgress=_=T}while(_!==null);workInProgressRootExitStatus===0&&(workInProgressRootExitStatus=5)}function unwindUnitOfWork(T,_){do{var U=unwindWork(T.alternate,T);if(U!==null){U.flags&=32767,workInProgress=U;return}if(U=T.return,U!==null&&(U.flags|=32768,U.subtreeFlags=0,U.deletions=null),!_&&(T=T.sibling,T!==null)){workInProgress=T;return}workInProgress=T=U}while(T!==null);workInProgressRootExitStatus=6,workInProgress=null}function commitRoot(T,_,U,H,z,j,q,K,Y,X){var Z=ReactSharedInternals.T,ne=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=2,ReactSharedInternals.T=null,commitRootImpl(T,_,U,H,ne,z,j,q,K,Y,X)}finally{ReactSharedInternals.T=Z,ReactDOMSharedInternals.p=ne}}function commitRootImpl(T,_,U,H,z,j,q,K){do flushPassiveEffects();while(rootWithPendingPassiveEffects!==null);if(executionContext&6)throw Error(formatProdErrorMessage(327));var Y=T.finishedWork;if(H=T.finishedLanes,Y===null)return null;if(T.finishedWork=null,T.finishedLanes=0,Y===T.current)throw Error(formatProdErrorMessage(177));T.callbackNode=null,T.callbackPriority=0,T.cancelPendingCommit=null;var X=Y.lanes|Y.childLanes;if(X|=concurrentlyUpdatedLanes,markRootFinished(T,H,X,j,q,K),T===workInProgressRoot&&(workInProgress=workInProgressRoot=null,workInProgressRootRenderLanes=0),!(Y.subtreeFlags&10256)&&!(Y.flags&10256)||rootDoesHavePassiveEffects||(rootDoesHavePassiveEffects=!0,pendingPassiveEffectsRemainingLanes=X,pendingPassiveTransitions=U,scheduleCallback$1(NormalPriority$1,function(){return flushPassiveEffects(),null})),U=(Y.flags&15990)!==0,Y.subtreeFlags&15990||U?(U=ReactSharedInternals.T,ReactSharedInternals.T=null,j=ReactDOMSharedInternals.p,ReactDOMSharedInternals.p=2,q=executionContext,executionContext|=4,commitBeforeMutationEffects(T,Y),commitMutationEffectsOnFiber(Y,T),restoreSelection(selectionInformation,T.containerInfo),_enabled=!!eventsEnabled,selectionInformation=eventsEnabled=null,T.current=Y,commitLayoutEffectOnFiber(T,Y.alternate,Y),requestPaint(),executionContext=q,ReactDOMSharedInternals.p=j,ReactSharedInternals.T=U):T.current=Y,rootDoesHavePassiveEffects?(rootDoesHavePassiveEffects=!1,rootWithPendingPassiveEffects=T,pendingPassiveEffectsLanes=H):releaseRootPooledCache(T,X),X=T.pendingLanes,X===0&&(legacyErrorBoundariesThatAlreadyFailed=null),onCommitRoot(Y.stateNode),ensureRootIsScheduled(T),_!==null)for(z=T.onRecoverableError,Y=0;Y<_.length;Y++)X=_[Y],z(X.value,{componentStack:X.stack});return pendingPassiveEffectsLanes&3&&flushPassiveEffects(),X=T.pendingLanes,H&4194218&&X&42?T===rootWithNestedUpdates?nestedUpdateCount++:(nestedUpdateCount=0,rootWithNestedUpdates=T):nestedUpdateCount=0,flushSyncWorkAcrossRoots_impl(0),null}function releaseRootPooledCache(T,_){(T.pooledCacheLanes&=_)===0&&(_=T.pooledCache,_!=null&&(T.pooledCache=null,releaseCache(_)))}function flushPassiveEffects(){if(rootWithPendingPassiveEffects!==null){var T=rootWithPendingPassiveEffects,_=pendingPassiveEffectsRemainingLanes;pendingPassiveEffectsRemainingLanes=0;var U=lanesToEventPriority(pendingPassiveEffectsLanes),H=ReactSharedInternals.T,z=ReactDOMSharedInternals.p;try{if(ReactDOMSharedInternals.p=32>U?32:U,ReactSharedInternals.T=null,rootWithPendingPassiveEffects===null)var j=!1;else{U=pendingPassiveTransitions,pendingPassiveTransitions=null;var q=rootWithPendingPassiveEffects,K=pendingPassiveEffectsLanes;if(rootWithPendingPassiveEffects=null,pendingPassiveEffectsLanes=0,executionContext&6)throw Error(formatProdErrorMessage(331));var Y=executionContext;if(executionContext|=4,commitPassiveUnmountOnFiber(q.current),commitPassiveMountOnFiber(q,q.current,K,U),executionContext=Y,flushSyncWorkAcrossRoots_impl(0,!1),injectedHook&&typeof injectedHook.onPostCommitFiberRoot=="function")try{injectedHook.onPostCommitFiberRoot(rendererID,q)}catch{}j=!0}return j}finally{ReactDOMSharedInternals.p=z,ReactSharedInternals.T=H,releaseRootPooledCache(T,_)}}return!1}function captureCommitPhaseErrorOnRoot(T,_,U){_=createCapturedValueAtFiber(U,_),_=createRootErrorUpdate(T.stateNode,_,2),T=enqueueUpdate(T,_,2),T!==null&&(markRootUpdated$1(T,2),ensureRootIsScheduled(T))}function captureCommitPhaseError(T,_,U){if(T.tag===3)captureCommitPhaseErrorOnRoot(T,T,U);else for(;_!==null;){if(_.tag===3){captureCommitPhaseErrorOnRoot(_,T,U);break}else if(_.tag===1){var H=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(legacyErrorBoundariesThatAlreadyFailed===null||!legacyErrorBoundariesThatAlreadyFailed.has(H))){T=createCapturedValueAtFiber(U,T),U=createClassErrorUpdate(2),H=enqueueUpdate(_,U,2),H!==null&&(initializeClassErrorUpdate(U,H,_,T),markRootUpdated$1(H,2),ensureRootIsScheduled(H));break}}_=_.return}}function attachPingListener(T,_,U){var H=T.pingCache;if(H===null){H=T.pingCache=new PossiblyWeakMap;var z=new Set;H.set(_,z)}else z=H.get(_),z===void 0&&(z=new Set,H.set(_,z));z.has(U)||(workInProgressRootDidAttachPingListener=!0,z.add(U),T=pingSuspendedRoot.bind(null,T,_,U),_.then(T,T))}function pingSuspendedRoot(T,_,U){var H=T.pingCache;H!==null&&H.delete(_),T.pingedLanes|=T.suspendedLanes&U,T.warmLanes&=~U,workInProgressRoot===T&&(workInProgressRootRenderLanes&U)===U&&(workInProgressRootExitStatus===4||workInProgressRootExitStatus===3&&(workInProgressRootRenderLanes&62914560)===workInProgressRootRenderLanes&&300>now()-globalMostRecentFallbackTime?!(executionContext&2)&&prepareFreshStack(T,0):workInProgressRootPingedLanes|=U,workInProgressSuspendedRetryLanes===workInProgressRootRenderLanes&&(workInProgressSuspendedRetryLanes=0)),ensureRootIsScheduled(T)}function retryTimedOutBoundary(T,_){_===0&&(_=claimNextRetryLane()),T=enqueueConcurrentRenderForLane(T,_),T!==null&&(markRootUpdated$1(T,_),ensureRootIsScheduled(T))}function retryDehydratedSuspenseBoundary(T){var _=T.memoizedState,U=0;_!==null&&(U=_.retryLane),retryTimedOutBoundary(T,U)}function resolveRetryWakeable(T,_){var U=0;switch(T.tag){case 13:var H=T.stateNode,z=T.memoizedState;z!==null&&(U=z.retryLane);break;case 19:H=T.stateNode;break;case 22:H=T.stateNode._retryCache;break;default:throw Error(formatProdErrorMessage(314))}H!==null&&H.delete(_),retryTimedOutBoundary(T,U)}function scheduleCallback$1(T,_){return scheduleCallback$3(T,_)}var firstScheduledRoot=null,lastScheduledRoot=null,didScheduleMicrotask=!1,mightHavePendingSyncWork=!1,isFlushingWork=!1,currentEventTransitionLane=0;function ensureRootIsScheduled(T){T!==lastScheduledRoot&&T.next===null&&(lastScheduledRoot===null?firstScheduledRoot=lastScheduledRoot=T:lastScheduledRoot=lastScheduledRoot.next=T),mightHavePendingSyncWork=!0,didScheduleMicrotask||(didScheduleMicrotask=!0,scheduleImmediateTask(processRootScheduleInMicrotask))}function flushSyncWorkAcrossRoots_impl(T,_){if(!isFlushingWork&&mightHavePendingSyncWork){isFlushingWork=!0;do for(var U=!1,H=firstScheduledRoot;H!==null;){if(T!==0){var z=H.pendingLanes;if(z===0)var j=0;else{var q=H.suspendedLanes,K=H.pingedLanes;j=(1<<31-clz32(42|T)+1)-1,j&=z&~(q&~K),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(U=!0,performSyncWorkOnRoot(H,j))}else j=workInProgressRootRenderLanes,j=getNextLanes(H,H===workInProgressRoot?j:0),!(j&3)||checkIfRootIsPrerendering(H,j)||(U=!0,performSyncWorkOnRoot(H,j));H=H.next}while(U);isFlushingWork=!1}}function processRootScheduleInMicrotask(){mightHavePendingSyncWork=didScheduleMicrotask=!1;var T=0;currentEventTransitionLane!==0&&(shouldAttemptEagerTransition()&&(T=currentEventTransitionLane),currentEventTransitionLane=0);for(var _=now(),U=null,H=firstScheduledRoot;H!==null;){var z=H.next,j=scheduleTaskForRootDuringMicrotask(H,_);j===0?(H.next=null,U===null?firstScheduledRoot=z:U.next=z,z===null&&(lastScheduledRoot=U)):(U=H,(T!==0||j&3)&&(mightHavePendingSyncWork=!0)),H=z}flushSyncWorkAcrossRoots_impl(T)}function scheduleTaskForRootDuringMicrotask(T,_){for(var U=T.suspendedLanes,H=T.pingedLanes,z=T.expirationTimes,j=T.pendingLanes&-62914561;0<j;){var q=31-clz32(j),K=1<<q,Y=z[q];Y===-1?(!(K&U)||K&H)&&(z[q]=computeExpirationTime(K,_)):Y<=_&&(T.expiredLanes|=K),j&=~K}if(_=workInProgressRoot,U=workInProgressRootRenderLanes,U=getNextLanes(T,T===_?U:0),H=T.callbackNode,U===0||T===_&&workInProgressSuspendedReason===2||T.cancelPendingCommit!==null)return H!==null&&H!==null&&cancelCallback$1(H),T.callbackNode=null,T.callbackPriority=0;if(!(U&3)||checkIfRootIsPrerendering(T,U)){if(_=U&-U,_===T.callbackPriority)return _;switch(H!==null&&cancelCallback$1(H),lanesToEventPriority(U)){case 2:case 8:U=UserBlockingPriority;break;case 32:U=NormalPriority$1;break;case 268435456:U=IdlePriority;break;default:U=NormalPriority$1}return H=performWorkOnRootViaSchedulerTask.bind(null,T),U=scheduleCallback$3(U,H),T.callbackPriority=_,T.callbackNode=U,_}return H!==null&&H!==null&&cancelCallback$1(H),T.callbackPriority=2,T.callbackNode=null,2}function performWorkOnRootViaSchedulerTask(T,_){var U=T.callbackNode;if(flushPassiveEffects()&&T.callbackNode!==U)return null;var H=workInProgressRootRenderLanes;return H=getNextLanes(T,T===workInProgressRoot?H:0),H===0?null:(performWorkOnRoot(T,H,_),scheduleTaskForRootDuringMicrotask(T,now()),T.callbackNode!=null&&T.callbackNode===U?performWorkOnRootViaSchedulerTask.bind(null,T):null)}function performSyncWorkOnRoot(T,_){if(flushPassiveEffects())return null;performWorkOnRoot(T,_,!0)}function scheduleImmediateTask(T){scheduleMicrotask(function(){executionContext&6?scheduleCallback$3(ImmediatePriority,T):T()})}function requestTransitionLane(){return currentEventTransitionLane===0&&(currentEventTransitionLane=claimNextTransitionLane()),currentEventTransitionLane}function coerceFormActionProp(T){return T==null||typeof T=="symbol"||typeof T=="boolean"?null:typeof T=="function"?T:sanitizeURL(""+T)}function createFormDataWithSubmitter(T,_){var U=_.ownerDocument.createElement("input");return U.name=_.name,U.value=_.value,T.id&&U.setAttribute("form",T.id),_.parentNode.insertBefore(U,_),T=new FormData(T),U.parentNode.removeChild(U),T}function extractEvents$1(T,_,U,H,z){if(_==="submit"&&U&&U.stateNode===z){var j=coerceFormActionProp((z[internalPropsKey]||null).action),q=H.submitter;q&&(_=(_=q[internalPropsKey]||null)?coerceFormActionProp(_.formAction):q.getAttribute("formAction"),_!==null&&(j=_,q=null));var K=new SyntheticEvent("action","action",null,H,z);T.push({event:K,listeners:[{instance:null,listener:function(){if(H.defaultPrevented){if(currentEventTransitionLane!==0){var Y=q?createFormDataWithSubmitter(z,q):new FormData(z);startHostTransition(U,{pending:!0,data:Y,method:z.method,action:j},null,Y)}}else typeof j=="function"&&(K.preventDefault(),Y=q?createFormDataWithSubmitter(z,q):new FormData(z),startHostTransition(U,{pending:!0,data:Y,method:z.method,action:j},j,Y))},currentTarget:z}]})}}for(var i$jscomp$inline_1439=0;i$jscomp$inline_1439<simpleEventPluginEvents.length;i$jscomp$inline_1439++){var eventName$jscomp$inline_1440=simpleEventPluginEvents[i$jscomp$inline_1439],domEventName$jscomp$inline_1441=eventName$jscomp$inline_1440.toLowerCase(),capitalizedEvent$jscomp$inline_1442=eventName$jscomp$inline_1440[0].toUpperCase()+eventName$jscomp$inline_1440.slice(1);registerSimpleEvent(domEventName$jscomp$inline_1441,"on"+capitalizedEvent$jscomp$inline_1442)}registerSimpleEvent(ANIMATION_END,"onAnimationEnd");registerSimpleEvent(ANIMATION_ITERATION,"onAnimationIteration");registerSimpleEvent(ANIMATION_START,"onAnimationStart");registerSimpleEvent("dblclick","onDoubleClick");registerSimpleEvent("focusin","onFocus");registerSimpleEvent("focusout","onBlur");registerSimpleEvent(TRANSITION_RUN,"onTransitionRun");registerSimpleEvent(TRANSITION_START,"onTransitionStart");registerSimpleEvent(TRANSITION_CANCEL,"onTransitionCancel");registerSimpleEvent(TRANSITION_END,"onTransitionEnd");registerDirectEvent("onMouseEnter",["mouseout","mouseover"]);registerDirectEvent("onMouseLeave",["mouseout","mouseover"]);registerDirectEvent("onPointerEnter",["pointerout","pointerover"]);registerDirectEvent("onPointerLeave",["pointerout","pointerover"]);registerTwoPhaseEvent("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));registerTwoPhaseEvent("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));registerTwoPhaseEvent("onBeforeInput",["compositionend","keypress","textInput","paste"]);registerTwoPhaseEvent("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));registerTwoPhaseEvent("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));registerTwoPhaseEvent("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mediaEventTypes="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nonDelegatedEvents=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mediaEventTypes));function processDispatchQueue(T,_){_=(_&4)!==0;for(var U=0;U<T.length;U++){var H=T[U],z=H.event;H=H.listeners;e:{var j=void 0;if(_)for(var q=H.length-1;0<=q;q--){var K=H[q],Y=K.instance,X=K.currentTarget;if(K=K.listener,Y!==j&&z.isPropagationStopped())break e;j=K,z.currentTarget=X;try{j(z)}catch(Z){reportGlobalError(Z)}z.currentTarget=null,j=Y}else for(q=0;q<H.length;q++){if(K=H[q],Y=K.instance,X=K.currentTarget,K=K.listener,Y!==j&&z.isPropagationStopped())break e;j=K,z.currentTarget=X;try{j(z)}catch(Z){reportGlobalError(Z)}z.currentTarget=null,j=Y}}}}function listenToNonDelegatedEvent(T,_){var U=_[internalEventHandlersKey];U===void 0&&(U=_[internalEventHandlersKey]=new Set);var H=T+"__bubble";U.has(H)||(addTrappedEventListener(_,T,2,!1),U.add(H))}function listenToNativeEvent(T,_,U){var H=0;_&&(H|=4),addTrappedEventListener(U,T,H,_)}var listeningMarker="_reactListening"+Math.random().toString(36).slice(2);function listenToAllSupportedEvents(T){if(!T[listeningMarker]){T[listeningMarker]=!0,allNativeEvents.forEach(function(U){U!=="selectionchange"&&(nonDelegatedEvents.has(U)||listenToNativeEvent(U,!1,T),listenToNativeEvent(U,!0,T))});var _=T.nodeType===9?T:T.ownerDocument;_===null||_[listeningMarker]||(_[listeningMarker]=!0,listenToNativeEvent("selectionchange",!1,_))}}function addTrappedEventListener(T,_,U,H){switch(getEventPriority(_)){case 2:var z=dispatchDiscreteEvent;break;case 8:z=dispatchContinuousEvent;break;default:z=dispatchEvent}U=z.bind(null,_,U,T),z=void 0,!passiveBrowserEventsSupported||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(z=!0),H?z!==void 0?T.addEventListener(_,U,{capture:!0,passive:z}):T.addEventListener(_,U,!0):z!==void 0?T.addEventListener(_,U,{passive:z}):T.addEventListener(_,U,!1)}function dispatchEventForPluginEventSystem(T,_,U,H,z){var j=H;if(!(_&1)&&!(_&2)&&H!==null)e:for(;;){if(H===null)return;var q=H.tag;if(q===3||q===4){var K=H.stateNode.containerInfo;if(K===z||K.nodeType===8&&K.parentNode===z)break;if(q===4)for(q=H.return;q!==null;){var Y=q.tag;if((Y===3||Y===4)&&(Y=q.stateNode.containerInfo,Y===z||Y.nodeType===8&&Y.parentNode===z))return;q=q.return}for(;K!==null;){if(q=getClosestInstanceFromNode(K),q===null)return;if(Y=q.tag,Y===5||Y===6||Y===26||Y===27){H=j=q;continue e}K=K.parentNode}}H=H.return}batchedUpdates$1(function(){var X=j,Z=getEventTarget(U),ne=[];e:{var ie=topLevelEventsToReactNames.get(T);if(ie!==void 0){var se=SyntheticEvent,de=T;switch(T){case"keypress":if(getEventCharCode(U)===0)break e;case"keydown":case"keyup":se=SyntheticKeyboardEvent;break;case"focusin":de="focus",se=SyntheticFocusEvent;break;case"focusout":de="blur",se=SyntheticFocusEvent;break;case"beforeblur":case"afterblur":se=SyntheticFocusEvent;break;case"click":if(U.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=SyntheticMouseEvent;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=SyntheticDragEvent;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=SyntheticTouchEvent;break;case ANIMATION_END:case ANIMATION_ITERATION:case ANIMATION_START:se=SyntheticAnimationEvent;break;case TRANSITION_END:se=SyntheticTransitionEvent;break;case"scroll":case"scrollend":se=SyntheticUIEvent;break;case"wheel":se=SyntheticWheelEvent;break;case"copy":case"cut":case"paste":se=SyntheticClipboardEvent;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=SyntheticPointerEvent;break;case"toggle":case"beforetoggle":se=SyntheticToggleEvent}var Ee=(_&4)!==0,pe=!Ee&&(T==="scroll"||T==="scrollend"),le=Ee?ie!==null?ie+"Capture":null:ie;Ee=[];for(var ue=X,fe;ue!==null;){var ve=ue;if(fe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||fe===null||le===null||(ve=getListener(ue,le),ve!=null&&Ee.push(createDispatchListener(ue,ve,fe))),pe)break;ue=ue.return}0<Ee.length&&(ie=new se(ie,de,null,U,Z),ne.push({event:ie,listeners:Ee}))}}if(!(_&7)){e:{if(ie=T==="mouseover"||T==="pointerover",se=T==="mouseout"||T==="pointerout",ie&&U!==currentReplayingEvent&&(de=U.relatedTarget||U.fromElement)&&(getClosestInstanceFromNode(de)||de[internalContainerInstanceKey]))break e;if((se||ie)&&(ie=Z.window===Z?Z:(ie=Z.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(de=U.relatedTarget||U.toElement,se=X,de=de?getClosestInstanceFromNode(de):null,de!==null&&(pe=getNearestMountedFiber(de),Ee=de.tag,de!==pe||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):(se=null,de=X),se!==de)){if(Ee=SyntheticMouseEvent,ve="onMouseLeave",le="onMouseEnter",ue="mouse",(T==="pointerout"||T==="pointerover")&&(Ee=SyntheticPointerEvent,ve="onPointerLeave",le="onPointerEnter",ue="pointer"),pe=se==null?ie:getNodeFromInstance(se),fe=de==null?ie:getNodeFromInstance(de),ie=new Ee(ve,ue+"leave",se,U,Z),ie.target=pe,ie.relatedTarget=fe,ve=null,getClosestInstanceFromNode(Z)===X&&(Ee=new Ee(le,ue+"enter",de,U,Z),Ee.target=fe,Ee.relatedTarget=pe,ve=Ee),pe=ve,se&&de)t:{for(Ee=se,le=de,ue=0,fe=Ee;fe;fe=getParent(fe))ue++;for(fe=0,ve=le;ve;ve=getParent(ve))fe++;for(;0<ue-fe;)Ee=getParent(Ee),ue--;for(;0<fe-ue;)le=getParent(le),fe--;for(;ue--;){if(Ee===le||le!==null&&Ee===le.alternate)break t;Ee=getParent(Ee),le=getParent(le)}Ee=null}else Ee=null;se!==null&&accumulateEnterLeaveListenersForEvent(ne,ie,se,Ee,!1),de!==null&&pe!==null&&accumulateEnterLeaveListenersForEvent(ne,pe,de,Ee,!0)}}e:{if(ie=X?getNodeFromInstance(X):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var me=getTargetInstForChangeEvent;else if(isTextInputElement(ie))if(isInputEventSupported)me=getTargetInstForInputOrChangeEvent;else{me=getTargetInstForInputEventPolyfill;var Ae=handleEventsForInputEventPolyfill}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?X&&isCustomElement(X.elementType)&&(me=getTargetInstForChangeEvent):me=getTargetInstForClickEvent;if(me&&(me=me(T,X))){createAndAccumulateChangeEvent(ne,me,U,Z);break e}Ae&&Ae(T,ie,X),T==="focusout"&&X&&ie.type==="number"&&X.memoizedProps.value!=null&&setDefaultValue(ie,"number",ie.value)}switch(Ae=X?getNodeFromInstance(X):window,T){case"focusin":(isTextInputElement(Ae)||Ae.contentEditable==="true")&&(activeElement=Ae,activeElementInst=X,lastSelection=null);break;case"focusout":lastSelection=activeElementInst=activeElement=null;break;case"mousedown":mouseDown=!0;break;case"contextmenu":case"mouseup":case"dragend":mouseDown=!1,constructSelectEvent(ne,U,Z);break;case"selectionchange":if(skipSelectionChangeEvent)break;case"keydown":case"keyup":constructSelectEvent(ne,U,Z)}var ae;if(canUseCompositionEvent)e:{switch(T){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else isComposing?isFallbackCompositionEnd(T,U)&&(oe="onCompositionEnd"):T==="keydown"&&U.keyCode===229&&(oe="onCompositionStart");oe&&(useFallbackCompositionData&&U.locale!=="ko"&&(isComposing||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&isComposing&&(ae=getData()):(root$1=Z,startText="value"in root$1?root$1.value:root$1.textContent,isComposing=!0)),Ae=accumulateTwoPhaseListeners(X,oe),0<Ae.length&&(oe=new SyntheticCompositionEvent(oe,T,null,U,Z),ne.push({event:oe,listeners:Ae}),ae?oe.data=ae:(ae=getDataFromCustomEvent(U),ae!==null&&(oe.data=ae)))),(ae=canUseTextInputEvent?getNativeBeforeInputChars(T,U):getFallbackBeforeInputChars(T,U))&&(oe=accumulateTwoPhaseListeners(X,"onBeforeInput"),0<oe.length&&(Ae=new SyntheticCompositionEvent("onBeforeInput","beforeinput",null,U,Z),ne.push({event:Ae,listeners:oe}),Ae.data=ae)),extractEvents$1(ne,T,X,U,Z)}processDispatchQueue(ne,_)})}function createDispatchListener(T,_,U){return{instance:T,listener:_,currentTarget:U}}function accumulateTwoPhaseListeners(T,_){for(var U=_+"Capture",H=[];T!==null;){var z=T,j=z.stateNode;z=z.tag,z!==5&&z!==26&&z!==27||j===null||(z=getListener(T,U),z!=null&&H.unshift(createDispatchListener(T,z,j)),z=getListener(T,_),z!=null&&H.push(createDispatchListener(T,z,j))),T=T.return}return H}function getParent(T){if(T===null)return null;do T=T.return;while(T&&T.tag!==5&&T.tag!==27);return T||null}function accumulateEnterLeaveListenersForEvent(T,_,U,H,z){for(var j=_._reactName,q=[];U!==null&&U!==H;){var K=U,Y=K.alternate,X=K.stateNode;if(K=K.tag,Y!==null&&Y===H)break;K!==5&&K!==26&&K!==27||X===null||(Y=X,z?(X=getListener(U,j),X!=null&&q.unshift(createDispatchListener(U,X,Y))):z||(X=getListener(U,j),X!=null&&q.push(createDispatchListener(U,X,Y)))),U=U.return}q.length!==0&&T.push({event:_,listeners:q})}var NORMALIZE_NEWLINES_REGEX=/\r\n?/g,NORMALIZE_NULL_AND_REPLACEMENT_REGEX=/\u0000|\uFFFD/g;function normalizeMarkupForTextOrAttribute(T){return(typeof T=="string"?T:""+T).replace(NORMALIZE_NEWLINES_REGEX,`
`).replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX,"")}function checkForUnmatchedText(T,_){return _=normalizeMarkupForTextOrAttribute(_),normalizeMarkupForTextOrAttribute(T)===_}function noop$1$1(){}function setProp(T,_,U,H,z,j){switch(U){case"children":typeof H=="string"?_==="body"||_==="textarea"&&H===""||setTextContent(T,H):(typeof H=="number"||typeof H=="bigint")&&_!=="body"&&setTextContent(T,""+H);break;case"className":setValueForKnownAttribute(T,"class",H);break;case"tabIndex":setValueForKnownAttribute(T,"tabindex",H);break;case"dir":case"role":case"viewBox":case"width":case"height":setValueForKnownAttribute(T,U,H);break;case"style":setValueForStyles(T,H,j);break;case"data":if(_!=="object"){setValueForKnownAttribute(T,"data",H);break}case"src":case"href":if(H===""&&(_!=="a"||U!=="href")){T.removeAttribute(U);break}if(H==null||typeof H=="function"||typeof H=="symbol"||typeof H=="boolean"){T.removeAttribute(U);break}H=sanitizeURL(""+H),T.setAttribute(U,H);break;case"action":case"formAction":if(typeof H=="function"){T.setAttribute(U,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(U==="formAction"?(_!=="input"&&setProp(T,_,"name",z.name,z,null),setProp(T,_,"formEncType",z.formEncType,z,null),setProp(T,_,"formMethod",z.formMethod,z,null),setProp(T,_,"formTarget",z.formTarget,z,null)):(setProp(T,_,"encType",z.encType,z,null),setProp(T,_,"method",z.method,z,null),setProp(T,_,"target",z.target,z,null)));if(H==null||typeof H=="symbol"||typeof H=="boolean"){T.removeAttribute(U);break}H=sanitizeURL(""+H),T.setAttribute(U,H);break;case"onClick":H!=null&&(T.onclick=noop$1$1);break;case"onScroll":H!=null&&listenToNonDelegatedEvent("scroll",T);break;case"onScrollEnd":H!=null&&listenToNonDelegatedEvent("scrollend",T);break;case"dangerouslySetInnerHTML":if(H!=null){if(typeof H!="object"||!("__html"in H))throw Error(formatProdErrorMessage(61));if(U=H.__html,U!=null){if(z.children!=null)throw Error(formatProdErrorMessage(60));T.innerHTML=U}}break;case"multiple":T.multiple=H&&typeof H!="function"&&typeof H!="symbol";break;case"muted":T.muted=H&&typeof H!="function"&&typeof H!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(H==null||typeof H=="function"||typeof H=="boolean"||typeof H=="symbol"){T.removeAttribute("xlink:href");break}U=sanitizeURL(""+H),T.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",U);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":H!=null&&typeof H!="function"&&typeof H!="symbol"?T.setAttribute(U,""+H):T.removeAttribute(U);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":H&&typeof H!="function"&&typeof H!="symbol"?T.setAttribute(U,""):T.removeAttribute(U);break;case"capture":case"download":H===!0?T.setAttribute(U,""):H!==!1&&H!=null&&typeof H!="function"&&typeof H!="symbol"?T.setAttribute(U,H):T.removeAttribute(U);break;case"cols":case"rows":case"size":case"span":H!=null&&typeof H!="function"&&typeof H!="symbol"&&!isNaN(H)&&1<=H?T.setAttribute(U,H):T.removeAttribute(U);break;case"rowSpan":case"start":H==null||typeof H=="function"||typeof H=="symbol"||isNaN(H)?T.removeAttribute(U):T.setAttribute(U,H);break;case"popover":listenToNonDelegatedEvent("beforetoggle",T),listenToNonDelegatedEvent("toggle",T),setValueForAttribute(T,"popover",H);break;case"xlinkActuate":setValueForNamespacedAttribute(T,"http://www.w3.org/1999/xlink","xlink:actuate",H);break;case"xlinkArcrole":setValueForNamespacedAttribute(T,"http://www.w3.org/1999/xlink","xlink:arcrole",H);break;case"xlinkRole":setValueForNamespacedAttribute(T,"http://www.w3.org/1999/xlink","xlink:role",H);break;case"xlinkShow":setValueForNamespacedAttribute(T,"http://www.w3.org/1999/xlink","xlink:show",H);break;case"xlinkTitle":setValueForNamespacedAttribute(T,"http://www.w3.org/1999/xlink","xlink:title",H);break;case"xlinkType":setValueForNamespacedAttribute(T,"http://www.w3.org/1999/xlink","xlink:type",H);break;case"xmlBase":setValueForNamespacedAttribute(T,"http://www.w3.org/XML/1998/namespace","xml:base",H);break;case"xmlLang":setValueForNamespacedAttribute(T,"http://www.w3.org/XML/1998/namespace","xml:lang",H);break;case"xmlSpace":setValueForNamespacedAttribute(T,"http://www.w3.org/XML/1998/namespace","xml:space",H);break;case"is":setValueForAttribute(T,"is",H);break;case"innerText":case"textContent":break;default:(!(2<U.length)||U[0]!=="o"&&U[0]!=="O"||U[1]!=="n"&&U[1]!=="N")&&(U=aliases.get(U)||U,setValueForAttribute(T,U,H))}}function setPropOnCustomElement(T,_,U,H,z,j){switch(U){case"style":setValueForStyles(T,H,j);break;case"dangerouslySetInnerHTML":if(H!=null){if(typeof H!="object"||!("__html"in H))throw Error(formatProdErrorMessage(61));if(U=H.__html,U!=null){if(z.children!=null)throw Error(formatProdErrorMessage(60));T.innerHTML=U}}break;case"children":typeof H=="string"?setTextContent(T,H):(typeof H=="number"||typeof H=="bigint")&&setTextContent(T,""+H);break;case"onScroll":H!=null&&listenToNonDelegatedEvent("scroll",T);break;case"onScrollEnd":H!=null&&listenToNonDelegatedEvent("scrollend",T);break;case"onClick":H!=null&&(T.onclick=noop$1$1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!registrationNameDependencies.hasOwnProperty(U))e:{if(U[0]==="o"&&U[1]==="n"&&(z=U.endsWith("Capture"),_=U.slice(2,z?U.length-7:void 0),j=T[internalPropsKey]||null,j=j!=null?j[U]:null,typeof j=="function"&&T.removeEventListener(_,j,z),typeof H=="function")){typeof j!="function"&&j!==null&&(U in T?T[U]=null:T.hasAttribute(U)&&T.removeAttribute(U)),T.addEventListener(_,H,z);break e}U in T?T[U]=H:H===!0?T.setAttribute(U,""):setValueForAttribute(T,U,H)}}}function setInitialProperties(T,_,U){switch(_){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":listenToNonDelegatedEvent("error",T),listenToNonDelegatedEvent("load",T);var H=!1,z=!1,j;for(j in U)if(U.hasOwnProperty(j)){var q=U[j];if(q!=null)switch(j){case"src":H=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,_));default:setProp(T,_,j,q,U,null)}}z&&setProp(T,_,"srcSet",U.srcSet,U,null),H&&setProp(T,_,"src",U.src,U,null);return;case"input":listenToNonDelegatedEvent("invalid",T);var K=j=q=z=null,Y=null,X=null;for(H in U)if(U.hasOwnProperty(H)){var Z=U[H];if(Z!=null)switch(H){case"name":z=Z;break;case"type":q=Z;break;case"checked":Y=Z;break;case"defaultChecked":X=Z;break;case"value":j=Z;break;case"defaultValue":K=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(formatProdErrorMessage(137,_));break;default:setProp(T,_,H,Z,U,null)}}initInput(T,j,K,Y,X,q,z,!1),track(T);return;case"select":listenToNonDelegatedEvent("invalid",T),H=q=j=null;for(z in U)if(U.hasOwnProperty(z)&&(K=U[z],K!=null))switch(z){case"value":j=K;break;case"defaultValue":q=K;break;case"multiple":H=K;default:setProp(T,_,z,K,U,null)}_=j,U=q,T.multiple=!!H,_!=null?updateOptions(T,!!H,_,!1):U!=null&&updateOptions(T,!!H,U,!0);return;case"textarea":listenToNonDelegatedEvent("invalid",T),j=z=H=null;for(q in U)if(U.hasOwnProperty(q)&&(K=U[q],K!=null))switch(q){case"value":H=K;break;case"defaultValue":z=K;break;case"children":j=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(formatProdErrorMessage(91));break;default:setProp(T,_,q,K,U,null)}initTextarea(T,H,z,j),track(T);return;case"option":for(Y in U)if(U.hasOwnProperty(Y)&&(H=U[Y],H!=null))switch(Y){case"selected":T.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:setProp(T,_,Y,H,U,null)}return;case"dialog":listenToNonDelegatedEvent("cancel",T),listenToNonDelegatedEvent("close",T);break;case"iframe":case"object":listenToNonDelegatedEvent("load",T);break;case"video":case"audio":for(H=0;H<mediaEventTypes.length;H++)listenToNonDelegatedEvent(mediaEventTypes[H],T);break;case"image":listenToNonDelegatedEvent("error",T),listenToNonDelegatedEvent("load",T);break;case"details":listenToNonDelegatedEvent("toggle",T);break;case"embed":case"source":case"link":listenToNonDelegatedEvent("error",T),listenToNonDelegatedEvent("load",T);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in U)if(U.hasOwnProperty(X)&&(H=U[X],H!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,_));default:setProp(T,_,X,H,U,null)}return;default:if(isCustomElement(_)){for(Z in U)U.hasOwnProperty(Z)&&(H=U[Z],H!==void 0&&setPropOnCustomElement(T,_,Z,H,U,void 0));return}}for(K in U)U.hasOwnProperty(K)&&(H=U[K],H!=null&&setProp(T,_,K,H,U,null))}function updateProperties(T,_,U,H){switch(_){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,j=null,q=null,K=null,Y=null,X=null,Z=null;for(se in U){var ne=U[se];if(U.hasOwnProperty(se)&&ne!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":Y=ne;default:H.hasOwnProperty(se)||setProp(T,_,se,null,H,ne)}}for(var ie in H){var se=H[ie];if(ne=U[ie],H.hasOwnProperty(ie)&&(se!=null||ne!=null))switch(ie){case"type":j=se;break;case"name":z=se;break;case"checked":X=se;break;case"defaultChecked":Z=se;break;case"value":q=se;break;case"defaultValue":K=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(formatProdErrorMessage(137,_));break;default:se!==ne&&setProp(T,_,ie,se,H,ne)}}updateInput(T,q,K,Y,X,Z,j,z);return;case"select":se=q=K=ie=null;for(j in U)if(Y=U[j],U.hasOwnProperty(j)&&Y!=null)switch(j){case"value":break;case"multiple":se=Y;default:H.hasOwnProperty(j)||setProp(T,_,j,null,H,Y)}for(z in H)if(j=H[z],Y=U[z],H.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"value":ie=j;break;case"defaultValue":K=j;break;case"multiple":q=j;default:j!==Y&&setProp(T,_,z,j,H,Y)}_=K,U=q,H=se,ie!=null?updateOptions(T,!!U,ie,!1):!!H!=!!U&&(_!=null?updateOptions(T,!!U,_,!0):updateOptions(T,!!U,U?[]:"",!1));return;case"textarea":se=ie=null;for(K in U)if(z=U[K],U.hasOwnProperty(K)&&z!=null&&!H.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:setProp(T,_,K,null,H,z)}for(q in H)if(z=H[q],j=U[q],H.hasOwnProperty(q)&&(z!=null||j!=null))switch(q){case"value":ie=z;break;case"defaultValue":se=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(formatProdErrorMessage(91));break;default:z!==j&&setProp(T,_,q,z,H,j)}updateTextarea(T,ie,se);return;case"option":for(var de in U)if(ie=U[de],U.hasOwnProperty(de)&&ie!=null&&!H.hasOwnProperty(de))switch(de){case"selected":T.selected=!1;break;default:setProp(T,_,de,null,H,ie)}for(Y in H)if(ie=H[Y],se=U[Y],H.hasOwnProperty(Y)&&ie!==se&&(ie!=null||se!=null))switch(Y){case"selected":T.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:setProp(T,_,Y,ie,H,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in U)ie=U[Ee],U.hasOwnProperty(Ee)&&ie!=null&&!H.hasOwnProperty(Ee)&&setProp(T,_,Ee,null,H,ie);for(X in H)if(ie=H[X],se=U[X],H.hasOwnProperty(X)&&ie!==se&&(ie!=null||se!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(formatProdErrorMessage(137,_));break;default:setProp(T,_,X,ie,H,se)}return;default:if(isCustomElement(_)){for(var pe in U)ie=U[pe],U.hasOwnProperty(pe)&&ie!==void 0&&!H.hasOwnProperty(pe)&&setPropOnCustomElement(T,_,pe,void 0,H,ie);for(Z in H)ie=H[Z],se=U[Z],!H.hasOwnProperty(Z)||ie===se||ie===void 0&&se===void 0||setPropOnCustomElement(T,_,Z,ie,H,se);return}}for(var le in U)ie=U[le],U.hasOwnProperty(le)&&ie!=null&&!H.hasOwnProperty(le)&&setProp(T,_,le,null,H,ie);for(ne in H)ie=H[ne],se=U[ne],!H.hasOwnProperty(ne)||ie===se||ie==null&&se==null||setProp(T,_,ne,ie,H,se)}var eventsEnabled=null,selectionInformation=null;function getOwnerDocumentFromRootContainer(T){return T.nodeType===9?T:T.ownerDocument}function getOwnHostContext(T){switch(T){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function getChildHostContextProd(T,_){if(T===0)switch(_){case"svg":return 1;case"math":return 2;default:return 0}return T===1&&_==="foreignObject"?0:T}function shouldSetTextContent(T,_){return T==="textarea"||T==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.children=="bigint"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var currentPopstateTransitionEvent=null;function shouldAttemptEagerTransition(){var T=window.event;return T&&T.type==="popstate"?T===currentPopstateTransitionEvent?!1:(currentPopstateTransitionEvent=T,!0):(currentPopstateTransitionEvent=null,!1)}var scheduleTimeout=typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout=typeof clearTimeout=="function"?clearTimeout:void 0,localPromise=typeof Promise=="function"?Promise:void 0,scheduleMicrotask=typeof queueMicrotask=="function"?queueMicrotask:typeof localPromise<"u"?function(T){return localPromise.resolve(null).then(T).catch(handleErrorInNextTick)}:scheduleTimeout;function handleErrorInNextTick(T){setTimeout(function(){throw T})}function clearSuspenseBoundary(T,_){var U=_,H=0;do{var z=U.nextSibling;if(T.removeChild(U),z&&z.nodeType===8)if(U=z.data,U==="/$"){if(H===0){T.removeChild(z),retryIfBlockedOn(_);return}H--}else U!=="$"&&U!=="$?"&&U!=="$!"||H++;U=z}while(U);retryIfBlockedOn(_)}function clearContainerSparingly(T){var _=T.firstChild;for(_&&_.nodeType===10&&(_=_.nextSibling);_;){var U=_;switch(_=_.nextSibling,U.nodeName){case"HTML":case"HEAD":case"BODY":clearContainerSparingly(U),detachDeletedInstance(U);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(U.rel.toLowerCase()==="stylesheet")continue}T.removeChild(U)}}function canHydrateInstance(T,_,U,H){for(;T.nodeType===1;){var z=U;if(T.nodeName.toLowerCase()!==_.toLowerCase()){if(!H&&(T.nodeName!=="INPUT"||T.type!=="hidden"))break}else if(H){if(!T[internalHoistableMarker])switch(_){case"meta":if(!T.hasAttribute("itemprop"))break;return T;case"link":if(j=T.getAttribute("rel"),j==="stylesheet"&&T.hasAttribute("data-precedence"))break;if(j!==z.rel||T.getAttribute("href")!==(z.href==null?null:z.href)||T.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||T.getAttribute("title")!==(z.title==null?null:z.title))break;return T;case"style":if(T.hasAttribute("data-precedence"))break;return T;case"script":if(j=T.getAttribute("src"),(j!==(z.src==null?null:z.src)||T.getAttribute("type")!==(z.type==null?null:z.type)||T.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&j&&T.hasAttribute("async")&&!T.hasAttribute("itemprop"))break;return T;default:return T}}else if(_==="input"&&T.type==="hidden"){var j=z.name==null?null:""+z.name;if(z.type==="hidden"&&T.getAttribute("name")===j)return T}else return T;if(T=getNextHydratable(T.nextSibling),T===null)break}return null}function canHydrateTextInstance(T,_,U){if(_==="")return null;for(;T.nodeType!==3;)if((T.nodeType!==1||T.nodeName!=="INPUT"||T.type!=="hidden")&&!U||(T=getNextHydratable(T.nextSibling),T===null))return null;return T}function getNextHydratable(T){for(;T!=null;T=T.nextSibling){var _=T.nodeType;if(_===1||_===3)break;if(_===8){if(_=T.data,_==="$"||_==="$!"||_==="$?"||_==="F!"||_==="F")break;if(_==="/$")return null}}return T}function getParentSuspenseInstance(T){T=T.previousSibling;for(var _=0;T;){if(T.nodeType===8){var U=T.data;if(U==="$"||U==="$!"||U==="$?"){if(_===0)return T;_--}else U==="/$"&&_++}T=T.previousSibling}return null}function resolveSingletonInstance(T,_,U){switch(_=getOwnerDocumentFromRootContainer(U),T){case"html":if(T=_.documentElement,!T)throw Error(formatProdErrorMessage(452));return T;case"head":if(T=_.head,!T)throw Error(formatProdErrorMessage(453));return T;case"body":if(T=_.body,!T)throw Error(formatProdErrorMessage(454));return T;default:throw Error(formatProdErrorMessage(451))}}var preloadPropsMap=new Map,preconnectsSet=new Set;function getHoistableRoot(T){return typeof T.getRootNode=="function"?T.getRootNode():T.ownerDocument}var previousDispatcher=ReactDOMSharedInternals.d;ReactDOMSharedInternals.d={f:flushSyncWork,r:requestFormReset,D:prefetchDNS,C:preconnect,L:preload,m:preloadModule,X:preinitScript,S:preinitStyle,M:preinitModuleScript};function flushSyncWork(){var T=previousDispatcher.f(),_=flushSyncWork$1();return T||_}function requestFormReset(T){var _=getInstanceFromNode(T);_!==null&&_.tag===5&&_.type==="form"?requestFormReset$1(_):previousDispatcher.r(T)}var globalDocument=typeof document>"u"?null:document;function preconnectAs(T,_,U){var H=globalDocument;if(H&&typeof _=="string"&&_){var z=escapeSelectorAttributeValueInsideDoubleQuotes(_);z='link[rel="'+T+'"][href="'+z+'"]',typeof U=="string"&&(z+='[crossorigin="'+U+'"]'),preconnectsSet.has(z)||(preconnectsSet.add(z),T={rel:T,crossOrigin:U,href:_},H.querySelector(z)===null&&(_=H.createElement("link"),setInitialProperties(_,"link",T),markNodeAsHoistable(_),H.head.appendChild(_)))}}function prefetchDNS(T){previousDispatcher.D(T),preconnectAs("dns-prefetch",T,null)}function preconnect(T,_){previousDispatcher.C(T,_),preconnectAs("preconnect",T,_)}function preload(T,_,U){previousDispatcher.L(T,_,U);var H=globalDocument;if(H&&T&&_){var z='link[rel="preload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(_)+'"]';_==="image"&&U&&U.imageSrcSet?(z+='[imagesrcset="'+escapeSelectorAttributeValueInsideDoubleQuotes(U.imageSrcSet)+'"]',typeof U.imageSizes=="string"&&(z+='[imagesizes="'+escapeSelectorAttributeValueInsideDoubleQuotes(U.imageSizes)+'"]')):z+='[href="'+escapeSelectorAttributeValueInsideDoubleQuotes(T)+'"]';var j=z;switch(_){case"style":j=getStyleKey(T);break;case"script":j=getScriptKey(T)}preloadPropsMap.has(j)||(T=assign({rel:"preload",href:_==="image"&&U&&U.imageSrcSet?void 0:T,as:_},U),preloadPropsMap.set(j,T),H.querySelector(z)!==null||_==="style"&&H.querySelector(getStylesheetSelectorFromKey(j))||_==="script"&&H.querySelector(getScriptSelectorFromKey(j))||(_=H.createElement("link"),setInitialProperties(_,"link",T),markNodeAsHoistable(_),H.head.appendChild(_)))}}function preloadModule(T,_){previousDispatcher.m(T,_);var U=globalDocument;if(U&&T){var H=_&&typeof _.as=="string"?_.as:"script",z='link[rel="modulepreload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(H)+'"][href="'+escapeSelectorAttributeValueInsideDoubleQuotes(T)+'"]',j=z;switch(H){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=getScriptKey(T)}if(!preloadPropsMap.has(j)&&(T=assign({rel:"modulepreload",href:T},_),preloadPropsMap.set(j,T),U.querySelector(z)===null)){switch(H){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(U.querySelector(getScriptSelectorFromKey(j)))return}H=U.createElement("link"),setInitialProperties(H,"link",T),markNodeAsHoistable(H),U.head.appendChild(H)}}}function preinitStyle(T,_,U){previousDispatcher.S(T,_,U);var H=globalDocument;if(H&&T){var z=getResourcesFromRoot(H).hoistableStyles,j=getStyleKey(T);_=_||"default";var q=z.get(j);if(!q){var K={loading:0,preload:null};if(q=H.querySelector(getStylesheetSelectorFromKey(j)))K.loading=5;else{T=assign({rel:"stylesheet",href:T,"data-precedence":_},U),(U=preloadPropsMap.get(j))&&adoptPreloadPropsForStylesheet(T,U);var Y=q=H.createElement("link");markNodeAsHoistable(Y),setInitialProperties(Y,"link",T),Y._p=new Promise(function(X,Z){Y.onload=X,Y.onerror=Z}),Y.addEventListener("load",function(){K.loading|=1}),Y.addEventListener("error",function(){K.loading|=2}),K.loading|=4,insertStylesheet(q,_,H)}q={type:"stylesheet",instance:q,count:1,state:K},z.set(j,q)}}}function preinitScript(T,_){previousDispatcher.X(T,_);var U=globalDocument;if(U&&T){var H=getResourcesFromRoot(U).hoistableScripts,z=getScriptKey(T),j=H.get(z);j||(j=U.querySelector(getScriptSelectorFromKey(z)),j||(T=assign({src:T,async:!0},_),(_=preloadPropsMap.get(z))&&adoptPreloadPropsForScript(T,_),j=U.createElement("script"),markNodeAsHoistable(j),setInitialProperties(j,"link",T),U.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},H.set(z,j))}}function preinitModuleScript(T,_){previousDispatcher.M(T,_);var U=globalDocument;if(U&&T){var H=getResourcesFromRoot(U).hoistableScripts,z=getScriptKey(T),j=H.get(z);j||(j=U.querySelector(getScriptSelectorFromKey(z)),j||(T=assign({src:T,async:!0,type:"module"},_),(_=preloadPropsMap.get(z))&&adoptPreloadPropsForScript(T,_),j=U.createElement("script"),markNodeAsHoistable(j),setInitialProperties(j,"link",T),U.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},H.set(z,j))}}function getResource(T,_,U,H){var z=(z=rootInstanceStackCursor.current)?getHoistableRoot(z):null;if(!z)throw Error(formatProdErrorMessage(446));switch(T){case"meta":case"title":return null;case"style":return typeof U.precedence=="string"&&typeof U.href=="string"?(_=getStyleKey(U.href),U=getResourcesFromRoot(z).hoistableStyles,H=U.get(_),H||(H={type:"style",instance:null,count:0,state:null},U.set(_,H)),H):{type:"void",instance:null,count:0,state:null};case"link":if(U.rel==="stylesheet"&&typeof U.href=="string"&&typeof U.precedence=="string"){T=getStyleKey(U.href);var j=getResourcesFromRoot(z).hoistableStyles,q=j.get(T);if(q||(z=z.ownerDocument||z,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(T,q),(j=z.querySelector(getStylesheetSelectorFromKey(T)))&&!j._p&&(q.instance=j,q.state.loading=5),preloadPropsMap.has(T)||(U={rel:"preload",as:"style",href:U.href,crossOrigin:U.crossOrigin,integrity:U.integrity,media:U.media,hrefLang:U.hrefLang,referrerPolicy:U.referrerPolicy},preloadPropsMap.set(T,U),j||preloadStylesheet(z,T,U,q.state))),_&&H===null)throw Error(formatProdErrorMessage(528,""));return q}if(_&&H!==null)throw Error(formatProdErrorMessage(529,""));return null;case"script":return _=U.async,U=U.src,typeof U=="string"&&_&&typeof _!="function"&&typeof _!="symbol"?(_=getScriptKey(U),U=getResourcesFromRoot(z).hoistableScripts,H=U.get(_),H||(H={type:"script",instance:null,count:0,state:null},U.set(_,H)),H):{type:"void",instance:null,count:0,state:null};default:throw Error(formatProdErrorMessage(444,T))}}function getStyleKey(T){return'href="'+escapeSelectorAttributeValueInsideDoubleQuotes(T)+'"'}function getStylesheetSelectorFromKey(T){return'link[rel="stylesheet"]['+T+"]"}function stylesheetPropsFromRawProps(T){return assign({},T,{"data-precedence":T.precedence,precedence:null})}function preloadStylesheet(T,_,U,H){T.querySelector('link[rel="preload"][as="style"]['+_+"]")?H.loading=1:(_=T.createElement("link"),H.preload=_,_.addEventListener("load",function(){return H.loading|=1}),_.addEventListener("error",function(){return H.loading|=2}),setInitialProperties(_,"link",U),markNodeAsHoistable(_),T.head.appendChild(_))}function getScriptKey(T){return'[src="'+escapeSelectorAttributeValueInsideDoubleQuotes(T)+'"]'}function getScriptSelectorFromKey(T){return"script[async]"+T}function acquireResource(T,_,U){if(_.count++,_.instance===null)switch(_.type){case"style":var H=T.querySelector('style[data-href~="'+escapeSelectorAttributeValueInsideDoubleQuotes(U.href)+'"]');if(H)return _.instance=H,markNodeAsHoistable(H),H;var z=assign({},U,{"data-href":U.href,"data-precedence":U.precedence,href:null,precedence:null});return H=(T.ownerDocument||T).createElement("style"),markNodeAsHoistable(H),setInitialProperties(H,"style",z),insertStylesheet(H,U.precedence,T),_.instance=H;case"stylesheet":z=getStyleKey(U.href);var j=T.querySelector(getStylesheetSelectorFromKey(z));if(j)return _.state.loading|=4,_.instance=j,markNodeAsHoistable(j),j;H=stylesheetPropsFromRawProps(U),(z=preloadPropsMap.get(z))&&adoptPreloadPropsForStylesheet(H,z),j=(T.ownerDocument||T).createElement("link"),markNodeAsHoistable(j);var q=j;return q._p=new Promise(function(K,Y){q.onload=K,q.onerror=Y}),setInitialProperties(j,"link",H),_.state.loading|=4,insertStylesheet(j,U.precedence,T),_.instance=j;case"script":return j=getScriptKey(U.src),(z=T.querySelector(getScriptSelectorFromKey(j)))?(_.instance=z,markNodeAsHoistable(z),z):(H=U,(z=preloadPropsMap.get(j))&&(H=assign({},U),adoptPreloadPropsForScript(H,z)),T=T.ownerDocument||T,z=T.createElement("script"),markNodeAsHoistable(z),setInitialProperties(z,"link",H),T.head.appendChild(z),_.instance=z);case"void":return null;default:throw Error(formatProdErrorMessage(443,_.type))}else _.type==="stylesheet"&&!(_.state.loading&4)&&(H=_.instance,_.state.loading|=4,insertStylesheet(H,U.precedence,T));return _.instance}function insertStylesheet(T,_,U){for(var H=U.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=H.length?H[H.length-1]:null,j=z,q=0;q<H.length;q++){var K=H[q];if(K.dataset.precedence===_)j=K;else if(j!==z)break}j?j.parentNode.insertBefore(T,j.nextSibling):(_=U.nodeType===9?U.head:U,_.insertBefore(T,_.firstChild))}function adoptPreloadPropsForStylesheet(T,_){T.crossOrigin==null&&(T.crossOrigin=_.crossOrigin),T.referrerPolicy==null&&(T.referrerPolicy=_.referrerPolicy),T.title==null&&(T.title=_.title)}function adoptPreloadPropsForScript(T,_){T.crossOrigin==null&&(T.crossOrigin=_.crossOrigin),T.referrerPolicy==null&&(T.referrerPolicy=_.referrerPolicy),T.integrity==null&&(T.integrity=_.integrity)}var tagCaches=null;function getHydratableHoistableCache(T,_,U){if(tagCaches===null){var H=new Map,z=tagCaches=new Map;z.set(U,H)}else z=tagCaches,H=z.get(U),H||(H=new Map,z.set(U,H));if(H.has(T))return H;for(H.set(T,null),U=U.getElementsByTagName(T),z=0;z<U.length;z++){var j=U[z];if(!(j[internalHoistableMarker]||j[internalInstanceKey]||T==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var q=j.getAttribute(_)||"";q=T+q;var K=H.get(q);K?K.push(j):H.set(q,[j])}}return H}function mountHoistable(T,_,U){T=T.ownerDocument||T,T.head.insertBefore(U,_==="title"?T.querySelector("head > title"):null)}function isHostHoistableType(T,_,U){if(U===1||_.itemProp!=null)return!1;switch(T){case"meta":case"title":return!0;case"style":if(typeof _.precedence!="string"||typeof _.href!="string"||_.href==="")break;return!0;case"link":if(typeof _.rel!="string"||typeof _.href!="string"||_.href===""||_.onLoad||_.onError)break;switch(_.rel){case"stylesheet":return T=_.disabled,typeof _.precedence=="string"&&T==null;default:return!0}case"script":if(_.async&&typeof _.async!="function"&&typeof _.async!="symbol"&&!_.onLoad&&!_.onError&&_.src&&typeof _.src=="string")return!0}return!1}function preloadResource(T){return!(T.type==="stylesheet"&&!(T.state.loading&3))}var suspendedState=null;function noop$4(){}function suspendResource(T,_,U){if(suspendedState===null)throw Error(formatProdErrorMessage(475));var H=suspendedState;if(_.type==="stylesheet"&&(typeof U.media!="string"||matchMedia(U.media).matches!==!1)&&!(_.state.loading&4)){if(_.instance===null){var z=getStyleKey(U.href),j=T.querySelector(getStylesheetSelectorFromKey(z));if(j){T=j._p,T!==null&&typeof T=="object"&&typeof T.then=="function"&&(H.count++,H=onUnsuspend.bind(H),T.then(H,H)),_.state.loading|=4,_.instance=j,markNodeAsHoistable(j);return}j=T.ownerDocument||T,U=stylesheetPropsFromRawProps(U),(z=preloadPropsMap.get(z))&&adoptPreloadPropsForStylesheet(U,z),j=j.createElement("link"),markNodeAsHoistable(j);var q=j;q._p=new Promise(function(K,Y){q.onload=K,q.onerror=Y}),setInitialProperties(j,"link",U),_.instance=j}H.stylesheets===null&&(H.stylesheets=new Map),H.stylesheets.set(_,T),(T=_.state.preload)&&!(_.state.loading&3)&&(H.count++,_=onUnsuspend.bind(H),T.addEventListener("load",_),T.addEventListener("error",_))}}function waitForCommitToBeReady(){if(suspendedState===null)throw Error(formatProdErrorMessage(475));var T=suspendedState;return T.stylesheets&&T.count===0&&insertSuspendedStylesheets(T,T.stylesheets),0<T.count?function(_){var U=setTimeout(function(){if(T.stylesheets&&insertSuspendedStylesheets(T,T.stylesheets),T.unsuspend){var H=T.unsuspend;T.unsuspend=null,H()}},6e4);return T.unsuspend=_,function(){T.unsuspend=null,clearTimeout(U)}}:null}function onUnsuspend(){if(this.count--,this.count===0){if(this.stylesheets)insertSuspendedStylesheets(this,this.stylesheets);else if(this.unsuspend){var T=this.unsuspend;this.unsuspend=null,T()}}}var precedencesByRoot=null;function insertSuspendedStylesheets(T,_){T.stylesheets=null,T.unsuspend!==null&&(T.count++,precedencesByRoot=new Map,_.forEach(insertStylesheetIntoRoot,T),precedencesByRoot=null,onUnsuspend.call(T))}function insertStylesheetIntoRoot(T,_){if(!(_.state.loading&4)){var U=precedencesByRoot.get(T);if(U)var H=U.get(null);else{U=new Map,precedencesByRoot.set(T,U);for(var z=T.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<z.length;j++){var q=z[j];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(U.set(q.dataset.precedence,q),H=q)}H&&U.set(null,H)}z=_.instance,q=z.getAttribute("data-precedence"),j=U.get(q)||H,j===H&&U.set(null,z),U.set(q,z),this.count++,H=onUnsuspend.bind(this),z.addEventListener("load",H),z.addEventListener("error",H),j?j.parentNode.insertBefore(z,j.nextSibling):(T=T.nodeType===9?T.head:T,T.insertBefore(z,T.firstChild)),_.state.loading|=4}}var HostTransitionContext={$$typeof:REACT_CONTEXT_TYPE,Provider:null,Consumer:null,_currentValue:sharedNotPendingObject,_currentValue2:sharedNotPendingObject,_threadCount:0};function FiberRootNode(T,_,U,H,z,j,q,K){this.tag=1,this.containerInfo=T,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=createLaneMap(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=createLaneMap(0),this.hiddenUpdates=createLaneMap(null),this.identifierPrefix=H,this.onUncaughtError=z,this.onCaughtError=j,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function createFiberRoot(T,_,U,H,z,j,q,K,Y,X,Z,ne){return T=new FiberRootNode(T,_,U,q,K,Y,X,ne),_=1,j===!0&&(_|=24),j=createFiberImplClass(3,null,null,_),T.current=j,j.stateNode=T,_=createCache(),_.refCount++,T.pooledCache=_,_.refCount++,j.memoizedState={element:H,isDehydrated:U,cache:_},initializeUpdateQueue(j),T}function getContextForSubtree(T){return T?(T=emptyContextObject,T):emptyContextObject}function updateContainerImpl(T,_,U,H,z,j){z=getContextForSubtree(z),H.context===null?H.context=z:H.pendingContext=z,H=createUpdate(_),H.payload={element:U},j=j===void 0?null:j,j!==null&&(H.callback=j),U=enqueueUpdate(T,H,_),U!==null&&(scheduleUpdateOnFiber(U,T,_),entangleTransitions(U,T,_))}function markRetryLaneImpl(T,_){if(T=T.memoizedState,T!==null&&T.dehydrated!==null){var U=T.retryLane;T.retryLane=U!==0&&U<_?U:_}}function markRetryLaneIfNotHydrated(T,_){markRetryLaneImpl(T,_),(T=T.alternate)&&markRetryLaneImpl(T,_)}function attemptContinuousHydration(T){if(T.tag===13){var _=enqueueConcurrentRenderForLane(T,67108864);_!==null&&scheduleUpdateOnFiber(_,T,67108864),markRetryLaneIfNotHydrated(T,67108864)}}var _enabled=!0;function dispatchDiscreteEvent(T,_,U,H){var z=ReactSharedInternals.T;ReactSharedInternals.T=null;var j=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=2,dispatchEvent(T,_,U,H)}finally{ReactDOMSharedInternals.p=j,ReactSharedInternals.T=z}}function dispatchContinuousEvent(T,_,U,H){var z=ReactSharedInternals.T;ReactSharedInternals.T=null;var j=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=8,dispatchEvent(T,_,U,H)}finally{ReactDOMSharedInternals.p=j,ReactSharedInternals.T=z}}function dispatchEvent(T,_,U,H){if(_enabled){var z=findInstanceBlockingEvent(H);if(z===null)dispatchEventForPluginEventSystem(T,_,H,return_targetInst,U),clearIfContinuousEvent(T,H);else if(queueIfContinuousEvent(z,T,_,U,H))H.stopPropagation();else if(clearIfContinuousEvent(T,H),_&4&&-1<discreteReplayableEvents.indexOf(T)){for(;z!==null;){var j=getInstanceFromNode(z);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var q=getHighestPriorityLanes(j.pendingLanes);if(q!==0){var K=j;for(K.pendingLanes|=2,K.entangledLanes|=2;q;){var Y=1<<31-clz32(q);K.entanglements[1]|=Y,q&=~Y}ensureRootIsScheduled(j),!(executionContext&6)&&(workInProgressRootRenderTargetTime=now()+500,flushSyncWorkAcrossRoots_impl(0))}}break;case 13:K=enqueueConcurrentRenderForLane(j,2),K!==null&&scheduleUpdateOnFiber(K,j,2),flushSyncWork$1(),markRetryLaneIfNotHydrated(j,2)}if(j=findInstanceBlockingEvent(H),j===null&&dispatchEventForPluginEventSystem(T,_,H,return_targetInst,U),j===z)break;z=j}z!==null&&H.stopPropagation()}else dispatchEventForPluginEventSystem(T,_,H,null,U)}}function findInstanceBlockingEvent(T){return T=getEventTarget(T),findInstanceBlockingTarget(T)}var return_targetInst=null;function findInstanceBlockingTarget(T){if(return_targetInst=null,T=getClosestInstanceFromNode(T),T!==null){var _=getNearestMountedFiber(T);if(_===null)T=null;else{var U=_.tag;if(U===13){if(T=getSuspenseInstanceFromFiber(_),T!==null)return T;T=null}else if(U===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;T=null}else _!==T&&(T=null)}}return return_targetInst=T,null}function getEventPriority(T){switch(T){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(getCurrentPriorityLevel()){case ImmediatePriority:return 2;case UserBlockingPriority:return 8;case NormalPriority$1:case LowPriority:return 32;case IdlePriority:return 268435456;default:return 32}default:return 32}}var hasScheduledReplayAttempt=!1,queuedFocus=null,queuedDrag=null,queuedMouse=null,queuedPointers=new Map,queuedPointerCaptures=new Map,queuedExplicitHydrationTargets=[],discreteReplayableEvents="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function clearIfContinuousEvent(T,_){switch(T){case"focusin":case"focusout":queuedFocus=null;break;case"dragenter":case"dragleave":queuedDrag=null;break;case"mouseover":case"mouseout":queuedMouse=null;break;case"pointerover":case"pointerout":queuedPointers.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":queuedPointerCaptures.delete(_.pointerId)}}function accumulateOrCreateContinuousQueuedReplayableEvent(T,_,U,H,z,j){return T===null||T.nativeEvent!==j?(T={blockedOn:_,domEventName:U,eventSystemFlags:H,nativeEvent:j,targetContainers:[z]},_!==null&&(_=getInstanceFromNode(_),_!==null&&attemptContinuousHydration(_)),T):(T.eventSystemFlags|=H,_=T.targetContainers,z!==null&&_.indexOf(z)===-1&&_.push(z),T)}function queueIfContinuousEvent(T,_,U,H,z){switch(_){case"focusin":return queuedFocus=accumulateOrCreateContinuousQueuedReplayableEvent(queuedFocus,T,_,U,H,z),!0;case"dragenter":return queuedDrag=accumulateOrCreateContinuousQueuedReplayableEvent(queuedDrag,T,_,U,H,z),!0;case"mouseover":return queuedMouse=accumulateOrCreateContinuousQueuedReplayableEvent(queuedMouse,T,_,U,H,z),!0;case"pointerover":var j=z.pointerId;return queuedPointers.set(j,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointers.get(j)||null,T,_,U,H,z)),!0;case"gotpointercapture":return j=z.pointerId,queuedPointerCaptures.set(j,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointerCaptures.get(j)||null,T,_,U,H,z)),!0}return!1}function attemptExplicitHydrationTarget(T){var _=getClosestInstanceFromNode(T.target);if(_!==null){var U=getNearestMountedFiber(_);if(U!==null){if(_=U.tag,_===13){if(_=getSuspenseInstanceFromFiber(U),_!==null){T.blockedOn=_,runWithPriority(T.priority,function(){if(U.tag===13){var H=requestUpdateLane(),z=enqueueConcurrentRenderForLane(U,H);z!==null&&scheduleUpdateOnFiber(z,U,H),markRetryLaneIfNotHydrated(U,H)}});return}}else if(_===3&&U.stateNode.current.memoizedState.isDehydrated){T.blockedOn=U.tag===3?U.stateNode.containerInfo:null;return}}}T.blockedOn=null}function attemptReplayContinuousQueuedEvent(T){if(T.blockedOn!==null)return!1;for(var _=T.targetContainers;0<_.length;){var U=findInstanceBlockingEvent(T.nativeEvent);if(U===null){U=T.nativeEvent;var H=new U.constructor(U.type,U);currentReplayingEvent=H,U.target.dispatchEvent(H),currentReplayingEvent=null}else return _=getInstanceFromNode(U),_!==null&&attemptContinuousHydration(_),T.blockedOn=U,!1;_.shift()}return!0}function attemptReplayContinuousQueuedEventInMap(T,_,U){attemptReplayContinuousQueuedEvent(T)&&U.delete(_)}function replayUnblockedEvents(){hasScheduledReplayAttempt=!1,queuedFocus!==null&&attemptReplayContinuousQueuedEvent(queuedFocus)&&(queuedFocus=null),queuedDrag!==null&&attemptReplayContinuousQueuedEvent(queuedDrag)&&(queuedDrag=null),queuedMouse!==null&&attemptReplayContinuousQueuedEvent(queuedMouse)&&(queuedMouse=null),queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap),queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap)}function scheduleCallbackIfUnblocked(T,_){T.blockedOn===_&&(T.blockedOn=null,hasScheduledReplayAttempt||(hasScheduledReplayAttempt=!0,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,replayUnblockedEvents)))}var lastScheduledReplayQueue=null;function scheduleReplayQueueIfNeeded(T){lastScheduledReplayQueue!==T&&(lastScheduledReplayQueue=T,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,function(){lastScheduledReplayQueue===T&&(lastScheduledReplayQueue=null);for(var _=0;_<T.length;_+=3){var U=T[_],H=T[_+1],z=T[_+2];if(typeof H!="function"){if(findInstanceBlockingTarget(H||U)===null)continue;break}var j=getInstanceFromNode(U);j!==null&&(T.splice(_,3),_-=3,startHostTransition(j,{pending:!0,data:z,method:U.method,action:H},H,z))}}))}function retryIfBlockedOn(T){function _(Y){return scheduleCallbackIfUnblocked(Y,T)}queuedFocus!==null&&scheduleCallbackIfUnblocked(queuedFocus,T),queuedDrag!==null&&scheduleCallbackIfUnblocked(queuedDrag,T),queuedMouse!==null&&scheduleCallbackIfUnblocked(queuedMouse,T),queuedPointers.forEach(_),queuedPointerCaptures.forEach(_);for(var U=0;U<queuedExplicitHydrationTargets.length;U++){var H=queuedExplicitHydrationTargets[U];H.blockedOn===T&&(H.blockedOn=null)}for(;0<queuedExplicitHydrationTargets.length&&(U=queuedExplicitHydrationTargets[0],U.blockedOn===null);)attemptExplicitHydrationTarget(U),U.blockedOn===null&&queuedExplicitHydrationTargets.shift();if(U=(T.ownerDocument||T).$$reactFormReplay,U!=null)for(H=0;H<U.length;H+=3){var z=U[H],j=U[H+1],q=z[internalPropsKey]||null;if(typeof j=="function")q||scheduleReplayQueueIfNeeded(U);else if(q){var K=null;if(j&&j.hasAttribute("formAction")){if(z=j,q=j[internalPropsKey]||null)K=q.formAction;else if(findInstanceBlockingTarget(z)!==null)continue}else K=q.action;typeof K=="function"?U[H+1]=K:(U.splice(H,3),H-=3),scheduleReplayQueueIfNeeded(U)}}}function ReactDOMRoot(T){this._internalRoot=T}ReactDOMHydrationRoot.prototype.render=ReactDOMRoot.prototype.render=function(T){var _=this._internalRoot;if(_===null)throw Error(formatProdErrorMessage(409));var U=_.current,H=requestUpdateLane();updateContainerImpl(U,H,T,_,null,null)};ReactDOMHydrationRoot.prototype.unmount=ReactDOMRoot.prototype.unmount=function(){var T=this._internalRoot;if(T!==null){this._internalRoot=null;var _=T.containerInfo;T.tag===0&&flushPassiveEffects(),updateContainerImpl(T.current,2,null,T,null,null),flushSyncWork$1(),_[internalContainerInstanceKey]=null}};function ReactDOMHydrationRoot(T){this._internalRoot=T}ReactDOMHydrationRoot.prototype.unstable_scheduleHydration=function(T){if(T){var _=resolveUpdatePriority();T={blockedOn:null,target:T,priority:_};for(var U=0;U<queuedExplicitHydrationTargets.length&&_!==0&&_<queuedExplicitHydrationTargets[U].priority;U++);queuedExplicitHydrationTargets.splice(U,0,T),U===0&&attemptExplicitHydrationTarget(T)}};var isomorphicReactPackageVersion$jscomp$inline_1686=React.version;if(isomorphicReactPackageVersion$jscomp$inline_1686!=="19.0.0")throw Error(formatProdErrorMessage(527,isomorphicReactPackageVersion$jscomp$inline_1686,"19.0.0"));ReactDOMSharedInternals.findDOMNode=function(T){var _=T._reactInternals;if(_===void 0)throw typeof T.render=="function"?Error(formatProdErrorMessage(188)):(T=Object.keys(T).join(","),Error(formatProdErrorMessage(268,T)));return T=findCurrentFiberUsingSlowPath(_),T=T!==null?findCurrentHostFiberImpl(T):null,T=T===null?null:T.stateNode,T};var internals$jscomp$inline_2165={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ReactSharedInternals,findFiberByHostInstance:getClosestInstanceFromNode,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hook$jscomp$inline_2166=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hook$jscomp$inline_2166.isDisabled&&hook$jscomp$inline_2166.supportsFiber)try{rendererID=hook$jscomp$inline_2166.inject(internals$jscomp$inline_2165),injectedHook=hook$jscomp$inline_2166}catch{}}reactDomClient_production.createRoot=function(T,_){if(!isValidContainer(T))throw Error(formatProdErrorMessage(299));var U=!1,H="",z=defaultOnUncaughtError,j=defaultOnCaughtError,q=defaultOnRecoverableError,K=null;return _!=null&&(_.unstable_strictMode===!0&&(U=!0),_.identifierPrefix!==void 0&&(H=_.identifierPrefix),_.onUncaughtError!==void 0&&(z=_.onUncaughtError),_.onCaughtError!==void 0&&(j=_.onCaughtError),_.onRecoverableError!==void 0&&(q=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(K=_.unstable_transitionCallbacks)),_=createFiberRoot(T,1,!1,null,null,U,H,z,j,q,K,null),T[internalContainerInstanceKey]=_.current,listenToAllSupportedEvents(T.nodeType===8?T.parentNode:T),new ReactDOMRoot(_)};reactDomClient_production.hydrateRoot=function(T,_,U){if(!isValidContainer(T))throw Error(formatProdErrorMessage(299));var H=!1,z="",j=defaultOnUncaughtError,q=defaultOnCaughtError,K=defaultOnRecoverableError,Y=null,X=null;return U!=null&&(U.unstable_strictMode===!0&&(H=!0),U.identifierPrefix!==void 0&&(z=U.identifierPrefix),U.onUncaughtError!==void 0&&(j=U.onUncaughtError),U.onCaughtError!==void 0&&(q=U.onCaughtError),U.onRecoverableError!==void 0&&(K=U.onRecoverableError),U.unstable_transitionCallbacks!==void 0&&(Y=U.unstable_transitionCallbacks),U.formState!==void 0&&(X=U.formState)),_=createFiberRoot(T,1,!0,_,U??null,H,z,j,q,K,Y,X),_.context=getContextForSubtree(null),U=_.current,H=requestUpdateLane(),z=createUpdate(H),z.callback=null,enqueueUpdate(U,z,H),_.current.lanes=H,markRootUpdated$1(_,H),ensureRootIsScheduled(_),T[internalContainerInstanceKey]=_.current,listenToAllSupportedEvents(T),new ReactDOMHydrationRoot(_)};reactDomClient_production.version="19.0.0";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(T){console.error(T)}}checkDCE(),client.exports=reactDomClient_production;var clientExports=client.exports;const ReactDOM=getDefaultExportFromCjs(clientExports);var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.parse=parse;dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function parse(T,_){const U=new NullObject,H=T.length;if(H<2)return U;const z=(_==null?void 0:_.decode)||decode;let j=0;do{const q=T.indexOf("=",j);if(q===-1)break;const K=T.indexOf(";",j),Y=K===-1?H:K;if(q>Y){j=T.lastIndexOf(";",q-1)+1;continue}const X=startIndex(T,j,q),Z=endIndex(T,q,X),ne=T.slice(X,Z);if(U[ne]===void 0){let ie=startIndex(T,q+1,Y),se=endIndex(T,Y,ie);const de=z(T.slice(ie,se));U[ne]=de}j=Y+1}while(j<H);return U}function startIndex(T,_,U){do{const H=T.charCodeAt(_);if(H!==32&&H!==9)return _}while(++_<U);return U}function endIndex(T,_,U){for(;_>U;){const H=T.charCodeAt(--_);if(H!==32&&H!==9)return _+1}return U}function serialize(T,_,U){const H=(U==null?void 0:U.encode)||encodeURIComponent;if(!cookieNameRegExp.test(T))throw new TypeError(`argument name is invalid: ${T}`);const z=H(_);if(!cookieValueRegExp.test(z))throw new TypeError(`argument val is invalid: ${_}`);let j=T+"="+z;if(!U)return j;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);j+="; Max-Age="+U.maxAge}if(U.domain){if(!domainValueRegExp.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);j+="; Domain="+U.domain}if(U.path){if(!pathValueRegExp.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);j+="; Path="+U.path}if(U.expires){if(!isDate$2(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);j+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(j+="; HttpOnly"),U.secure&&(j+="; Secure"),U.partitioned&&(j+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return j}function decode(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function isDate$2(T){return __toString.call(T)==="[object Date]"}/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(T={}){function _(H,z){let{pathname:j,search:q,hash:K}=H.location;return createLocation("",{pathname:j,search:q,hash:K},z.state&&z.state.usr||null,z.state&&z.state.key||"default")}function U(H,z){return typeof z=="string"?z:createPath(z)}return getUrlBasedHistory(_,U,null,T)}function invariant(T,_){if(T===!1||T===null||typeof T>"u")throw new Error(_)}function warning(T,_){if(!T){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(T,_){return{usr:T.state,key:T.key,idx:_}}function createLocation(T,_,U=null,H){return{pathname:typeof T=="string"?T:T.pathname,search:"",hash:"",...typeof _=="string"?parsePath(_):_,state:U,key:_&&_.key||H||createKey()}}function createPath({pathname:T="/",search:_="",hash:U=""}){return _&&_!=="?"&&(T+=_.charAt(0)==="?"?_:"?"+_),U&&U!=="#"&&(T+=U.charAt(0)==="#"?U:"#"+U),T}function parsePath(T){let _={};if(T){let U=T.indexOf("#");U>=0&&(_.hash=T.substring(U),T=T.substring(0,U));let H=T.indexOf("?");H>=0&&(_.search=T.substring(H),T=T.substring(0,H)),T&&(_.pathname=T)}return _}function getUrlBasedHistory(T,_,U,H={}){let{window:z=document.defaultView,v5Compat:j=!1}=H,q=z.history,K="POP",Y=null,X=Z();X==null&&(X=0,q.replaceState({...q.state,idx:X},""));function Z(){return(q.state||{idx:null}).idx}function ne(){K="POP";let pe=Z(),le=pe==null?null:pe-X;X=pe,Y&&Y({action:K,location:Ee.location,delta:le})}function ie(pe,le){K="PUSH";let ue=createLocation(Ee.location,pe,le);X=Z()+1;let fe=getHistoryState(ue,X),ve=Ee.createHref(ue);try{q.pushState(fe,"",ve)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;z.location.assign(ve)}j&&Y&&Y({action:K,location:Ee.location,delta:1})}function se(pe,le){K="REPLACE";let ue=createLocation(Ee.location,pe,le);X=Z();let fe=getHistoryState(ue,X),ve=Ee.createHref(ue);q.replaceState(fe,"",ve),j&&Y&&Y({action:K,location:Ee.location,delta:0})}function de(pe){let le=z.location.origin!=="null"?z.location.origin:z.location.href,ue=typeof pe=="string"?pe:createPath(pe);return ue=ue.replace(/ $/,"%20"),invariant(le,`No window.location.(origin|href) available to create URL for href: ${ue}`),new URL(ue,le)}let Ee={get action(){return K},get location(){return T(z,q)},listen(pe){if(Y)throw new Error("A history only accepts one active listener");return z.addEventListener(PopStateEventType,ne),Y=pe,()=>{z.removeEventListener(PopStateEventType,ne),Y=null}},createHref(pe){return _(z,pe)},createURL:de,encodeLocation(pe){let le=de(pe);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:ie,replace:se,go(pe){return q.go(pe)}};return Ee}function matchRoutes(T,_,U="/"){return matchRoutesImpl(T,_,U,!1)}function matchRoutesImpl(T,_,U,H){let z=typeof _=="string"?parsePath(_):_,j=stripBasename(z.pathname||"/",U);if(j==null)return null;let q=flattenRoutes(T);rankRouteBranches(q);let K=null;for(let Y=0;K==null&&Y<q.length;++Y){let X=decodePath(j);K=matchRouteBranch(q[Y],X,H)}return K}function flattenRoutes(T,_=[],U=[],H=""){let z=(j,q,K)=>{let Y={relativePath:K===void 0?j.path||"":K,caseSensitive:j.caseSensitive===!0,childrenIndex:q,route:j};Y.relativePath.startsWith("/")&&(invariant(Y.relativePath.startsWith(H),`Absolute route path "${Y.relativePath}" nested under path "${H}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Y.relativePath=Y.relativePath.slice(H.length));let X=joinPaths([H,Y.relativePath]),Z=U.concat(Y);j.children&&j.children.length>0&&(invariant(j.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${X}".`),flattenRoutes(j.children,_,Z,X)),!(j.path==null&&!j.index)&&_.push({path:X,score:computeScore(X,j.index),routesMeta:Z})};return T.forEach((j,q)=>{var K;if(j.path===""||!((K=j.path)!=null&&K.includes("?")))z(j,q);else for(let Y of explodeOptionalSegments(j.path))z(j,q,Y)}),_}function explodeOptionalSegments(T){let _=T.split("/");if(_.length===0)return[];let[U,...H]=_,z=U.endsWith("?"),j=U.replace(/\?$/,"");if(H.length===0)return z?[j,""]:[j];let q=explodeOptionalSegments(H.join("/")),K=[];return K.push(...q.map(Y=>Y===""?j:[j,Y].join("/"))),z&&K.push(...q),K.map(Y=>T.startsWith("/")&&Y===""?"/":Y)}function rankRouteBranches(T){T.sort((_,U)=>_.score!==U.score?U.score-_.score:compareIndexes(_.routesMeta.map(H=>H.childrenIndex),U.routesMeta.map(H=>H.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=T=>T==="*";function computeScore(T,_){let U=T.split("/"),H=U.length;return U.some(isSplat)&&(H+=splatPenalty),_&&(H+=indexRouteValue),U.filter(z=>!isSplat(z)).reduce((z,j)=>z+(paramRe.test(j)?dynamicSegmentValue:j===""?emptySegmentValue:staticSegmentValue),H)}function compareIndexes(T,_){return T.length===_.length&&T.slice(0,-1).every((H,z)=>H===_[z])?T[T.length-1]-_[_.length-1]:0}function matchRouteBranch(T,_,U=!1){let{routesMeta:H}=T,z={},j="/",q=[];for(let K=0;K<H.length;++K){let Y=H[K],X=K===H.length-1,Z=j==="/"?_:_.slice(j.length)||"/",ne=matchPath({path:Y.relativePath,caseSensitive:Y.caseSensitive,end:X},Z),ie=Y.route;if(!ne&&X&&U&&!H[H.length-1].route.index&&(ne=matchPath({path:Y.relativePath,caseSensitive:Y.caseSensitive,end:!1},Z)),!ne)return null;Object.assign(z,ne.params),q.push({params:z,pathname:joinPaths([j,ne.pathname]),pathnameBase:normalizePathname(joinPaths([j,ne.pathnameBase])),route:ie}),ne.pathnameBase!=="/"&&(j=joinPaths([j,ne.pathnameBase]))}return q}function matchPath(T,_){typeof T=="string"&&(T={path:T,caseSensitive:!1,end:!0});let[U,H]=compilePath(T.path,T.caseSensitive,T.end),z=_.match(U);if(!z)return null;let j=z[0],q=j.replace(/(.)\/+$/,"$1"),K=z.slice(1);return{params:H.reduce((X,{paramName:Z,isOptional:ne},ie)=>{if(Z==="*"){let de=K[ie]||"";q=j.slice(0,j.length-de.length).replace(/(.)\/+$/,"$1")}const se=K[ie];return ne&&!se?X[Z]=void 0:X[Z]=(se||"").replace(/%2F/g,"/"),X},{}),pathname:j,pathnameBase:q,pattern:T}}function compilePath(T,_=!1,U=!0){warning(T==="*"||!T.endsWith("*")||T.endsWith("/*"),`Route path "${T}" will be treated as if it were "${T.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${T.replace(/\*$/,"/*")}".`);let H=[],z="^"+T.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(q,K,Y)=>(H.push({paramName:K,isOptional:Y!=null}),Y?"/?([^\\/]+)?":"/([^\\/]+)"));return T.endsWith("*")?(H.push({paramName:"*"}),z+=T==="*"||T==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):U?z+="\\/*$":T!==""&&T!=="/"&&(z+="(?:(?=\\/|$))"),[new RegExp(z,_?void 0:"i"),H]}function decodePath(T){try{return T.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return warning(!1,`The URL path "${T}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_}).`),T}}function stripBasename(T,_){if(_==="/")return T;if(!T.toLowerCase().startsWith(_.toLowerCase()))return null;let U=_.endsWith("/")?_.length-1:_.length,H=T.charAt(U);return H&&H!=="/"?null:T.slice(U)||"/"}function resolvePath(T,_="/"){let{pathname:U,search:H="",hash:z=""}=typeof T=="string"?parsePath(T):T;return{pathname:U?U.startsWith("/")?U:resolvePathname(U,_):_,search:normalizeSearch(H),hash:normalizeHash(z)}}function resolvePathname(T,_){let U=_.replace(/\/+$/,"").split("/");return T.split("/").forEach(z=>{z===".."?U.length>1&&U.pop():z!=="."&&U.push(z)}),U.length>1?U.join("/"):"/"}function getInvalidPathError(T,_,U,H){return`Cannot include a '${T}' character in a manually specified \`to.${_}\` field [${JSON.stringify(H)}].  Please separate it out to the \`to.${U}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(T){return T.filter((_,U)=>U===0||_.route.path&&_.route.path.length>0)}function getResolveToMatches(T){let _=getPathContributingMatches(T);return _.map((U,H)=>H===_.length-1?U.pathname:U.pathnameBase)}function resolveTo(T,_,U,H=!1){let z;typeof T=="string"?z=parsePath(T):(z={...T},invariant(!z.pathname||!z.pathname.includes("?"),getInvalidPathError("?","pathname","search",z)),invariant(!z.pathname||!z.pathname.includes("#"),getInvalidPathError("#","pathname","hash",z)),invariant(!z.search||!z.search.includes("#"),getInvalidPathError("#","search","hash",z)));let j=T===""||z.pathname==="",q=j?"/":z.pathname,K;if(q==null)K=U;else{let ne=_.length-1;if(!H&&q.startsWith("..")){let ie=q.split("/");for(;ie[0]==="..";)ie.shift(),ne-=1;z.pathname=ie.join("/")}K=ne>=0?_[ne]:"/"}let Y=resolvePath(z,K),X=q&&q!=="/"&&q.endsWith("/"),Z=(j||q===".")&&U.endsWith("/");return!Y.pathname.endsWith("/")&&(X||Z)&&(Y.pathname+="/"),Y}var joinPaths=T=>T.join("/").replace(/\/\/+/g,"/"),normalizePathname=T=>T.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=T=>!T||T==="?"?"":T.startsWith("?")?T:"?"+T,normalizeHash=T=>!T||T==="#"?"":T.startsWith("#")?T:"#"+T;function isRouteErrorResponse(T){return T!=null&&typeof T.status=="number"&&typeof T.statusText=="string"&&typeof T.internal=="boolean"&&"data"in T}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(T,{relative:_}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:U,navigator:H}=reactExports.useContext(NavigationContext),{hash:z,pathname:j,search:q}=useResolvedPath(T,{relative:_}),K=j;return U!=="/"&&(K=j==="/"?U:joinPaths([U,j])),H.createHref({pathname:K,search:q,hash:z})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(T){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(T)}function useNavigate(){let{isDataRoute:T}=reactExports.useContext(RouteContext);return T?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let T=reactExports.useContext(DataRouterContext),{basename:_,navigator:U}=reactExports.useContext(NavigationContext),{matches:H}=reactExports.useContext(RouteContext),{pathname:z}=useLocation(),j=JSON.stringify(getResolveToMatches(H)),q=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{q.current=!0}),reactExports.useCallback((Y,X={})=>{if(warning(q.current,navigateEffectWarning),!q.current)return;if(typeof Y=="number"){U.go(Y);return}let Z=resolveTo(Y,JSON.parse(j),z,X.relative==="path");T==null&&_!=="/"&&(Z.pathname=Z.pathname==="/"?_:joinPaths([_,Z.pathname])),(X.replace?U.replace:U.push)(Z,X.state,X)},[_,U,j,z,T])}reactExports.createContext(null);function useResolvedPath(T,{relative:_}={}){let{matches:U}=reactExports.useContext(RouteContext),{pathname:H}=useLocation(),z=JSON.stringify(getResolveToMatches(U));return reactExports.useMemo(()=>resolveTo(T,JSON.parse(z),H,_==="path"),[T,z,H,_])}function useRoutes(T,_){return useRoutesImpl(T,_)}function useRoutesImpl(T,_,U,H){var ue;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:z,static:j}=reactExports.useContext(NavigationContext),{matches:q}=reactExports.useContext(RouteContext),K=q[q.length-1],Y=K?K.params:{},X=K?K.pathname:"/",Z=K?K.pathnameBase:"/",ne=K&&K.route;{let fe=ne&&ne.path||"";warningOnce(X,!ne||fe.endsWith("*")||fe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${X}" (under <Route path="${fe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${fe}"> to <Route path="${fe==="/"?"*":`${fe}/*`}">.`)}let ie=useLocation(),se;if(_){let fe=typeof _=="string"?parsePath(_):_;invariant(Z==="/"||((ue=fe.pathname)==null?void 0:ue.startsWith(Z)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Z}" but pathname "${fe.pathname}" was given in the \`location\` prop.`),se=fe}else se=ie;let de=se.pathname||"/",Ee=de;if(Z!=="/"){let fe=Z.replace(/^\//,"").split("/");Ee="/"+de.replace(/^\//,"").split("/").slice(fe.length).join("/")}let pe=!j&&U&&U.matches&&U.matches.length>0?U.matches:matchRoutes(T,{pathname:Ee});warning(ne||pe!=null,`No routes matched location "${se.pathname}${se.search}${se.hash}" `),warning(pe==null||pe[pe.length-1].route.element!==void 0||pe[pe.length-1].route.Component!==void 0||pe[pe.length-1].route.lazy!==void 0,`Matched leaf route at location "${se.pathname}${se.search}${se.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let le=_renderMatches(pe&&pe.map(fe=>Object.assign({},fe,{params:Object.assign({},Y,fe.params),pathname:joinPaths([Z,z.encodeLocation?z.encodeLocation(fe.pathname).pathname:fe.pathname]),pathnameBase:fe.pathnameBase==="/"?Z:joinPaths([Z,z.encodeLocation?z.encodeLocation(fe.pathnameBase).pathname:fe.pathnameBase])})),q,U,H);return _&&le?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...se},navigationType:"POP"}},le):le}function DefaultErrorComponent(){let T=useRouteError(),_=isRouteErrorResponse(T)?`${T.status} ${T.statusText}`:T instanceof Error?T.message:JSON.stringify(T),U=T instanceof Error?T.stack:null,H="rgba(200,200,200, 0.5)",z={padding:"0.5rem",backgroundColor:H},j={padding:"2px 4px",backgroundColor:H},q=null;return console.error("Error handled by React Router default ErrorBoundary:",T),q=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:j},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:j},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),U?reactExports.createElement("pre",{style:z},U):null,q)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(T){super(T),this.state={location:T.location,revalidation:T.revalidation,error:T.error}}static getDerivedStateFromError(T){return{error:T}}static getDerivedStateFromProps(T,_){return _.location!==T.location||_.revalidation!=="idle"&&T.revalidation==="idle"?{error:T.error,location:T.location,revalidation:T.revalidation}:{error:T.error!==void 0?T.error:_.error,location:_.location,revalidation:T.revalidation||_.revalidation}}componentDidCatch(T,_){console.error("React Router caught the following error during render",T,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:T,match:_,children:U}){let H=reactExports.useContext(DataRouterContext);return H&&H.static&&H.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(H.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:T},U)}function _renderMatches(T,_=[],U=null,H=null){if(T==null){if(!U)return null;if(U.errors)T=U.matches;else if(_.length===0&&!U.initialized&&U.matches.length>0)T=U.matches;else return null}let z=T,j=U==null?void 0:U.errors;if(j!=null){let Y=z.findIndex(X=>X.route.id&&(j==null?void 0:j[X.route.id])!==void 0);invariant(Y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(j).join(",")}`),z=z.slice(0,Math.min(z.length,Y+1))}let q=!1,K=-1;if(U)for(let Y=0;Y<z.length;Y++){let X=z[Y];if((X.route.HydrateFallback||X.route.hydrateFallbackElement)&&(K=Y),X.route.id){let{loaderData:Z,errors:ne}=U,ie=X.route.loader&&!Z.hasOwnProperty(X.route.id)&&(!ne||ne[X.route.id]===void 0);if(X.route.lazy||ie){q=!0,K>=0?z=z.slice(0,K+1):z=[z[0]];break}}}return z.reduceRight((Y,X,Z)=>{let ne,ie=!1,se=null,de=null;U&&(ne=j&&X.route.id?j[X.route.id]:void 0,se=X.route.errorElement||defaultErrorElement,q&&(K<0&&Z===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ie=!0,de=null):K===Z&&(ie=!0,de=X.route.hydrateFallbackElement||null)));let Ee=_.concat(z.slice(0,Z+1)),pe=()=>{let le;return ne?le=se:ie?le=de:X.route.Component?le=reactExports.createElement(X.route.Component,null):X.route.element?le=X.route.element:le=Y,reactExports.createElement(RenderedRoute,{match:X,routeContext:{outlet:Y,matches:Ee,isDataRoute:U!=null},children:le})};return U&&(X.route.ErrorBoundary||X.route.errorElement||Z===0)?reactExports.createElement(RenderErrorBoundary,{location:U.location,revalidation:U.revalidation,component:se,error:ne,children:pe(),routeContext:{outlet:null,matches:Ee,isDataRoute:!0}}):pe()},null)}function getDataRouterConsoleError(T){return`${T} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(T){let _=reactExports.useContext(DataRouterContext);return invariant(_,getDataRouterConsoleError(T)),_}function useDataRouterState(T){let _=reactExports.useContext(DataRouterStateContext);return invariant(_,getDataRouterConsoleError(T)),_}function useRouteContext(T){let _=reactExports.useContext(RouteContext);return invariant(_,getDataRouterConsoleError(T)),_}function useCurrentRouteId(T){let _=useRouteContext(T),U=_.matches[_.matches.length-1];return invariant(U.route.id,`${T} can only be used on routes that contain a unique "id"`),U.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var H;let T=reactExports.useContext(RouteErrorContext),_=useDataRouterState("useRouteError"),U=useCurrentRouteId("useRouteError");return T!==void 0?T:(H=_.errors)==null?void 0:H[U]}function useNavigateStable(){let{router:T}=useDataRouterContext("useNavigate"),_=useCurrentRouteId("useNavigate"),U=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{U.current=!0}),reactExports.useCallback(async(z,j={})=>{warning(U.current,navigateEffectWarning),U.current&&(typeof z=="number"?T.navigate(z):await T.navigate(z,{fromRouteId:_,...j}))},[T,_])}var alreadyWarned={};function warningOnce(T,_,U){!_&&!alreadyWarned[T]&&(alreadyWarned[T]=!0,warning(!1,U))}reactExports.memo(DataRoutes);function DataRoutes({routes:T,future:_,state:U}){return useRoutesImpl(T,void 0,U,_)}function Navigate({to:T,replace:_,state:U,relative:H}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:z}=reactExports.useContext(NavigationContext);warning(!z,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:j}=reactExports.useContext(RouteContext),{pathname:q}=useLocation(),K=useNavigate(),Y=resolveTo(T,getResolveToMatches(j),q,H==="path"),X=JSON.stringify(Y);return reactExports.useEffect(()=>{K(JSON.parse(X),{replace:_,state:U,relative:H})},[K,X,H,_,U]),null}function Route(T){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:T="/",children:_=null,location:U,navigationType:H="POP",navigator:z,static:j=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let q=T.replace(/^\/*/,"/"),K=reactExports.useMemo(()=>({basename:q,navigator:z,static:j,future:{}}),[q,z,j]);typeof U=="string"&&(U=parsePath(U));let{pathname:Y="/",search:X="",hash:Z="",state:ne=null,key:ie="default"}=U,se=reactExports.useMemo(()=>{let de=stripBasename(Y,q);return de==null?null:{location:{pathname:de,search:X,hash:Z,state:ne,key:ie},navigationType:H}},[q,Y,X,Z,ne,ie,H]);return warning(se!=null,`<Router basename="${q}"> is not able to match the URL "${Y}${X}${Z}" because it does not start with the basename, so the <Router> won't render anything.`),se==null?null:reactExports.createElement(NavigationContext.Provider,{value:K},reactExports.createElement(LocationContext.Provider,{children:_,value:se}))}function Routes({children:T,location:_}){return useRoutes(createRoutesFromChildren(T),_)}function createRoutesFromChildren(T,_=[]){let U=[];return reactExports.Children.forEach(T,(H,z)=>{if(!reactExports.isValidElement(H))return;let j=[..._,z];if(H.type===reactExports.Fragment){U.push.apply(U,createRoutesFromChildren(H.props.children,j));return}invariant(H.type===Route,`[${typeof H.type=="string"?H.type:H.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!H.props.index||!H.props.children,"An index route cannot have child routes.");let q={id:H.props.id||j.join("-"),caseSensitive:H.props.caseSensitive,element:H.props.element,Component:H.props.Component,index:H.props.index,path:H.props.path,loader:H.props.loader,action:H.props.action,hydrateFallbackElement:H.props.hydrateFallbackElement,HydrateFallback:H.props.HydrateFallback,errorElement:H.props.errorElement,ErrorBoundary:H.props.ErrorBoundary,hasErrorBoundary:H.props.hasErrorBoundary===!0||H.props.ErrorBoundary!=null||H.props.errorElement!=null,shouldRevalidate:H.props.shouldRevalidate,handle:H.props.handle,lazy:H.props.lazy};H.props.children&&(q.children=createRoutesFromChildren(H.props.children,j)),U.push(q)}),U}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(T){return T!=null&&typeof T.tagName=="string"}function isButtonElement(T){return isHtmlElement(T)&&T.tagName.toLowerCase()==="button"}function isFormElement(T){return isHtmlElement(T)&&T.tagName.toLowerCase()==="form"}function isInputElement(T){return isHtmlElement(T)&&T.tagName.toLowerCase()==="input"}function isModifiedEvent(T){return!!(T.metaKey||T.altKey||T.ctrlKey||T.shiftKey)}function shouldProcessLinkClick(T,_){return T.button===0&&(!_||_==="_self")&&!isModifiedEvent(T)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(T){return T!=null&&!supportedFormEncTypes.has(T)?(warning(!1,`"${T}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):T}function getFormSubmissionInfo(T,_){let U,H,z,j,q;if(isFormElement(T)){let K=T.getAttribute("action");H=K?stripBasename(K,_):null,U=T.getAttribute("method")||defaultMethod,z=getFormEncType(T.getAttribute("enctype"))||defaultEncType,j=new FormData(T)}else if(isButtonElement(T)||isInputElement(T)&&(T.type==="submit"||T.type==="image")){let K=T.form;if(K==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Y=T.getAttribute("formaction")||K.getAttribute("action");if(H=Y?stripBasename(Y,_):null,U=T.getAttribute("formmethod")||K.getAttribute("method")||defaultMethod,z=getFormEncType(T.getAttribute("formenctype"))||getFormEncType(K.getAttribute("enctype"))||defaultEncType,j=new FormData(K,T),!isFormDataSubmitterSupported()){let{name:X,type:Z,value:ne}=T;if(Z==="image"){let ie=X?`${X}.`:"";j.append(`${ie}x`,"0"),j.append(`${ie}y`,"0")}else X&&j.append(X,ne)}}else{if(isHtmlElement(T))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');U=defaultMethod,H=null,z=defaultEncType,q=T}return j&&z==="text/plain"&&(q=j,j=void 0),{action:H,method:U.toLowerCase(),encType:z,formData:j,body:q}}function invariant2(T,_){if(T===!1||T===null||typeof T>"u")throw new Error(_)}async function loadRouteModule(T,_){if(T.id in _)return _[T.id];try{let U=await import(T.module);return _[T.id]=U,U}catch(U){return console.error(`Error loading route module \`${T.module}\`, reloading page...`),console.error(U),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(T){return T==null?!1:T.href==null?T.rel==="preload"&&typeof T.imageSrcSet=="string"&&typeof T.imageSizes=="string":typeof T.rel=="string"&&typeof T.href=="string"}async function getKeyedPrefetchLinks(T,_,U){let H=await Promise.all(T.map(async z=>{let j=_.routes[z.route.id];if(j){let q=await loadRouteModule(j,U);return q.links?q.links():[]}return[]}));return dedupeLinkDescriptors(H.flat(1).filter(isHtmlLinkDescriptor).filter(z=>z.rel==="stylesheet"||z.rel==="preload").map(z=>z.rel==="stylesheet"?{...z,rel:"prefetch",as:"style"}:{...z,rel:"prefetch"}))}function getNewMatchesForLinks(T,_,U,H,z,j){let q=(Y,X)=>U[X]?Y.route.id!==U[X].route.id:!0,K=(Y,X)=>{var Z;return U[X].pathname!==Y.pathname||((Z=U[X].route.path)==null?void 0:Z.endsWith("*"))&&U[X].params["*"]!==Y.params["*"]};return j==="assets"?_.filter((Y,X)=>q(Y,X)||K(Y,X)):j==="data"?_.filter((Y,X)=>{var ne;let Z=H.routes[Y.route.id];if(!Z||!Z.hasLoader)return!1;if(q(Y,X)||K(Y,X))return!0;if(Y.route.shouldRevalidate){let ie=Y.route.shouldRevalidate({currentUrl:new URL(z.pathname+z.search+z.hash,window.origin),currentParams:((ne=U[0])==null?void 0:ne.params)||{},nextUrl:new URL(T,window.origin),nextParams:Y.params,defaultShouldRevalidate:!0});if(typeof ie=="boolean")return ie}return!0}):[]}function getModuleLinkHrefs(T,_,{includeHydrateFallback:U}={}){return dedupeHrefs(T.map(H=>{let z=_.routes[H.route.id];if(!z)return[];let j=[z.module];return z.clientActionModule&&(j=j.concat(z.clientActionModule)),z.clientLoaderModule&&(j=j.concat(z.clientLoaderModule)),U&&z.hydrateFallbackModule&&(j=j.concat(z.hydrateFallbackModule)),z.imports&&(j=j.concat(z.imports)),j}).flat(1))}function dedupeHrefs(T){return[...new Set(T)]}function sortKeys(T){let _={},U=Object.keys(T).sort();for(let H of U)_[H]=T[H];return _}function dedupeLinkDescriptors(T,_){let U=new Set;return new Set(_),T.reduce((H,z)=>{let j=JSON.stringify(sortKeys(z));return U.has(j)||(U.add(j),H.push({key:j,link:z})),H},[])}function singleFetchUrl(T,_){let U=typeof T=="string"?new URL(T,typeof window>"u"?"server://singlefetch/":window.location.origin):T;return U.pathname==="/"?U.pathname="_root.data":_&&stripBasename(U.pathname,_)==="/"?U.pathname=`${_.replace(/\/$/,"")}/_root.data`:U.pathname=`${U.pathname.replace(/\/$/,"")}.data`,U}function useDataRouterContext2(){let T=reactExports.useContext(DataRouterContext);return invariant2(T,"You must render this element inside a <DataRouterContext.Provider> element"),T}function useDataRouterStateContext(){let T=reactExports.useContext(DataRouterStateContext);return invariant2(T,"You must render this element inside a <DataRouterStateContext.Provider> element"),T}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let T=reactExports.useContext(FrameworkContext);return invariant2(T,"You must render this element inside a <HydratedRouter> element"),T}function usePrefetchBehavior(T,_){let U=reactExports.useContext(FrameworkContext),[H,z]=reactExports.useState(!1),[j,q]=reactExports.useState(!1),{onFocus:K,onBlur:Y,onMouseEnter:X,onMouseLeave:Z,onTouchStart:ne}=_,ie=reactExports.useRef(null);reactExports.useEffect(()=>{if(T==="render"&&q(!0),T==="viewport"){let Ee=le=>{le.forEach(ue=>{q(ue.isIntersecting)})},pe=new IntersectionObserver(Ee,{threshold:.5});return ie.current&&pe.observe(ie.current),()=>{pe.disconnect()}}},[T]),reactExports.useEffect(()=>{if(H){let Ee=setTimeout(()=>{q(!0)},100);return()=>{clearTimeout(Ee)}}},[H]);let se=()=>{z(!0)},de=()=>{z(!1),q(!1)};return U?T!=="intent"?[j,ie,{}]:[j,ie,{onFocus:composeEventHandlers(K,se),onBlur:composeEventHandlers(Y,de),onMouseEnter:composeEventHandlers(X,se),onMouseLeave:composeEventHandlers(Z,de),onTouchStart:composeEventHandlers(ne,se)}]:[!1,ie,{}]}function composeEventHandlers(T,_){return U=>{T&&T(U),U.defaultPrevented||_(U)}}function PrefetchPageLinks({page:T,..._}){let{router:U}=useDataRouterContext2(),H=reactExports.useMemo(()=>matchRoutes(U.routes,T,U.basename),[U.routes,T,U.basename]);return H?reactExports.createElement(PrefetchPageLinksImpl,{page:T,matches:H,..._}):null}function useKeyedPrefetchLinks(T){let{manifest:_,routeModules:U}=useFrameworkContext(),[H,z]=reactExports.useState([]);return reactExports.useEffect(()=>{let j=!1;return getKeyedPrefetchLinks(T,_,U).then(q=>{j||z(q)}),()=>{j=!0}},[T,_,U]),H}function PrefetchPageLinksImpl({page:T,matches:_,...U}){let H=useLocation(),{manifest:z,routeModules:j}=useFrameworkContext(),{basename:q}=useDataRouterContext2(),{loaderData:K,matches:Y}=useDataRouterStateContext(),X=reactExports.useMemo(()=>getNewMatchesForLinks(T,_,Y,z,H,"data"),[T,_,Y,z,H]),Z=reactExports.useMemo(()=>getNewMatchesForLinks(T,_,Y,z,H,"assets"),[T,_,Y,z,H]),ne=reactExports.useMemo(()=>{if(T===H.pathname+H.search+H.hash)return[];let de=new Set,Ee=!1;if(_.forEach(le=>{var fe;let ue=z.routes[le.route.id];!ue||!ue.hasLoader||(!X.some(ve=>ve.route.id===le.route.id)&&le.route.id in K&&((fe=j[le.route.id])!=null&&fe.shouldRevalidate)||ue.hasClientLoader?Ee=!0:de.add(le.route.id))}),de.size===0)return[];let pe=singleFetchUrl(T,q);return Ee&&de.size>0&&pe.searchParams.set("_routes",_.filter(le=>de.has(le.route.id)).map(le=>le.route.id).join(",")),[pe.pathname+pe.search]},[q,K,H,z,X,_,T,j]),ie=reactExports.useMemo(()=>getModuleLinkHrefs(Z,z),[Z,z]),se=useKeyedPrefetchLinks(Z);return reactExports.createElement(reactExports.Fragment,null,ne.map(de=>reactExports.createElement("link",{key:de,rel:"prefetch",as:"fetch",href:de,...U})),ie.map(de=>reactExports.createElement("link",{key:de,rel:"modulepreload",href:de,...U})),se.map(({key:de,link:Ee})=>reactExports.createElement("link",{key:de,...Ee})))}function mergeRefs(...T){return _=>{T.forEach(U=>{typeof U=="function"?U(_):U!=null&&(U.current=_)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.4.0")}catch{}function BrowserRouter({basename:T,children:_,window:U}){let H=reactExports.useRef();H.current==null&&(H.current=createBrowserHistory({window:U,v5Compat:!0}));let z=H.current,[j,q]=reactExports.useState({action:z.action,location:z.location}),K=reactExports.useCallback(Y=>{reactExports.startTransition(()=>q(Y))},[q]);return reactExports.useLayoutEffect(()=>z.listen(K),[z,K]),reactExports.createElement(Router,{basename:T,children:_,location:j.location,navigationType:j.action,navigator:z})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:_,discover:U="render",prefetch:H="none",relative:z,reloadDocument:j,replace:q,state:K,target:Y,to:X,preventScrollReset:Z,viewTransition:ne,...ie},se){let{basename:de}=reactExports.useContext(NavigationContext),Ee=typeof X=="string"&&ABSOLUTE_URL_REGEX2.test(X),pe,le=!1;if(typeof X=="string"&&Ee&&(pe=X,isBrowser))try{let ce=new URL(window.location.href),Se=X.startsWith("//")?new URL(ce.protocol+X):new URL(X),he=stripBasename(Se.pathname,de);Se.origin===ce.origin&&he!=null?X=he+Se.search+Se.hash:le=!0}catch{warning(!1,`<Link to="${X}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=useHref(X,{relative:z}),[fe,ve,me]=usePrefetchBehavior(H,ie),Ae=useLinkClickHandler(X,{replace:q,state:K,target:Y,preventScrollReset:Z,relative:z,viewTransition:ne});function ae(ce){_&&_(ce),ce.defaultPrevented||Ae(ce)}let oe=reactExports.createElement("a",{...ie,...me,href:pe||ue,onClick:le||j?_:ae,ref:mergeRefs(se,ve),target:Y,"data-discover":!Ee&&U==="render"?"true":void 0});return fe&&!Ee?reactExports.createElement(reactExports.Fragment,null,oe,reactExports.createElement(PrefetchPageLinks,{page:ue})):oe});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":_="page",caseSensitive:U=!1,className:H="",end:z=!1,style:j,to:q,viewTransition:K,children:Y,...X},Z){let ne=useResolvedPath(q,{relative:X.relative}),ie=useLocation(),se=reactExports.useContext(DataRouterStateContext),{navigator:de,basename:Ee}=reactExports.useContext(NavigationContext),pe=se!=null&&useViewTransitionState(ne)&&K===!0,le=de.encodeLocation?de.encodeLocation(ne).pathname:ne.pathname,ue=ie.pathname,fe=se&&se.navigation&&se.navigation.location?se.navigation.location.pathname:null;U||(ue=ue.toLowerCase(),fe=fe?fe.toLowerCase():null,le=le.toLowerCase()),fe&&Ee&&(fe=stripBasename(fe,Ee)||fe);const ve=le!=="/"&&le.endsWith("/")?le.length-1:le.length;let me=ue===le||!z&&ue.startsWith(le)&&ue.charAt(ve)==="/",Ae=fe!=null&&(fe===le||!z&&fe.startsWith(le)&&fe.charAt(le.length)==="/"),ae={isActive:me,isPending:Ae,isTransitioning:pe},oe=me?_:void 0,ce;typeof H=="function"?ce=H(ae):ce=[H,me?"active":null,Ae?"pending":null,pe?"transitioning":null].filter(Boolean).join(" ");let Se=typeof j=="function"?j(ae):j;return reactExports.createElement(Link,{...X,"aria-current":oe,className:ce,ref:Z,style:Se,to:q,viewTransition:K},typeof Y=="function"?Y(ae):Y)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:T="render",fetcherKey:_,navigate:U,reloadDocument:H,replace:z,state:j,method:q=defaultMethod,action:K,onSubmit:Y,relative:X,preventScrollReset:Z,viewTransition:ne,...ie},se)=>{let de=useSubmit(),Ee=useFormAction(K,{relative:X}),pe=q.toLowerCase()==="get"?"get":"post",le=typeof K=="string"&&ABSOLUTE_URL_REGEX2.test(K),ue=fe=>{if(Y&&Y(fe),fe.defaultPrevented)return;fe.preventDefault();let ve=fe.nativeEvent.submitter,me=(ve==null?void 0:ve.getAttribute("formmethod"))||q;de(ve||fe.currentTarget,{fetcherKey:_,method:me,navigate:U,replace:z,state:j,relative:X,preventScrollReset:Z,viewTransition:ne})};return reactExports.createElement("form",{ref:se,method:pe,action:Ee,onSubmit:H?Y:ue,...ie,"data-discover":!le&&T==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(T){return`${T} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(T){let _=reactExports.useContext(DataRouterContext);return invariant(_,getDataRouterConsoleError2(T)),_}function useLinkClickHandler(T,{target:_,replace:U,state:H,preventScrollReset:z,relative:j,viewTransition:q}={}){let K=useNavigate(),Y=useLocation(),X=useResolvedPath(T,{relative:j});return reactExports.useCallback(Z=>{if(shouldProcessLinkClick(Z,_)){Z.preventDefault();let ne=U!==void 0?U:createPath(Y)===createPath(X);K(T,{replace:ne,state:H,preventScrollReset:z,relative:j,viewTransition:q})}},[Y,K,X,U,H,_,T,z,j,q])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:T}=useDataRouterContext3("useSubmit"),{basename:_}=reactExports.useContext(NavigationContext),U=useRouteId();return reactExports.useCallback(async(H,z={})=>{let{action:j,method:q,encType:K,formData:Y,body:X}=getFormSubmissionInfo(H,_);if(z.navigate===!1){let Z=z.fetcherKey||getUniqueFetcherId();await T.fetch(Z,U,z.action||j,{preventScrollReset:z.preventScrollReset,formData:Y,body:X,formMethod:z.method||q,formEncType:z.encType||K,flushSync:z.flushSync})}else await T.navigate(z.action||j,{preventScrollReset:z.preventScrollReset,formData:Y,body:X,formMethod:z.method||q,formEncType:z.encType||K,replace:z.replace,state:z.state,fromRouteId:U,flushSync:z.flushSync,viewTransition:z.viewTransition})},[T,_,U])}function useFormAction(T,{relative:_}={}){let{basename:U}=reactExports.useContext(NavigationContext),H=reactExports.useContext(RouteContext);invariant(H,"useFormAction must be used inside a RouteContext");let[z]=H.matches.slice(-1),j={...useResolvedPath(T||".",{relative:_})},q=useLocation();if(T==null){j.search=q.search;let K=new URLSearchParams(j.search),Y=K.getAll("index");if(Y.some(Z=>Z==="")){K.delete("index"),Y.filter(ne=>ne).forEach(ne=>K.append("index",ne));let Z=K.toString();j.search=Z?`?${Z}`:""}}return(!T||T===".")&&z.route.index&&(j.search=j.search?j.search.replace(/^\?/,"?index&"):"?index"),U!=="/"&&(j.pathname=j.pathname==="/"?U:joinPaths([U,j.pathname])),createPath(j)}function useViewTransitionState(T,_={}){let U=reactExports.useContext(ViewTransitionContext);invariant(U!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:H}=useDataRouterContext3("useViewTransitionState"),z=useResolvedPath(T,{relative:_.relative});if(!U.isTransitioning)return!1;let j=stripBasename(U.currentLocation.pathname,H)||U.currentLocation.pathname,q=stripBasename(U.nextLocation.pathname,H)||U.nextLocation.pathname;return matchPath(z.pathname,q)!=null||matchPath(z.pathname,j)!=null}new TextEncoder;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function T(H,z,j,q,K,Y){if(Y!==ReactPropTypesSecret){var X=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw X.name="Invariant Violation",X}}T.isRequired=T;function _(){return T}var U={array:T,bigint:T,bool:T,func:T,number:T,object:T,string:T,symbol:T,any:T,arrayOf:_,element:T,elementType:T,instanceOf:_,node:T,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return U.PropTypes=U,U};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const n$f=getDefaultExportFromCjs(propTypesExports);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const t$9=reactExports.createContext(0),n$e=()=>reactExports.useContext(t$9);t$9.displayName="KendoReactZIndexContext";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const t$8=":not(.k-dropdownlist button):not(.k-colorpicker button):not(.k-numerictextbox button):not(.k-split-button .k-split-button-arrow)",o$g=":not(.k-dropdownlist select)",n$d=["input:not([disabled]):not([type=hidden])","select:not([disabled]):not(.k-dropdownlist select)","textarea:not([disabled])",`button:not([disabled])${t$8}`,"a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],s$g=[...n$d,`[tabindex]${t$8}${o$g}`];/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$g=!!(typeof window<"u"&&window.document&&window.document.createElement);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const n$c=(...T)=>{const _={},U=z=>typeof z=="object"?Object.keys(z).forEach(j=>{_[j]=z[j]}):_[z]=!0,H=z=>z.filter(j=>j!==!0&&!!j).map(j=>Array.isArray(j)?H(j):U(j));return H(T),Object.keys(_).map(z=>_[z]&&z||null).filter(z=>z!==null).join(" ")};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$f={enter:13,esc:27,space:32,end:35,home:36,left:37,up:38,right:39,down:40};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c$9=(T,_=s$g)=>T.querySelectorAll(_.join(",")),a$7=(T,_=s$g)=>{if(T){const U=c$9(T,_);if(U.length&&U[0].focus)return U[0]}},e$e=(T,_)=>{if(T){const U=a$7(T,_);U&&U.focus()}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$d=(T,_,U)=>{const H=typeof T=="string"?parseInt(T):T;if(!Number.isNaN(H))return H!==void 0?H:_?-1:0};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$c=()=>{let T="",_,U;for(_=0;_<32;_++)U=Math.random()*16|0,(_===8||_===12||_===16||_===20)&&(T+="-"),T+=(_===12?4:_===16?U&3|8:U).toString(16);return T};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const o$f=function(){},_0x215b73=_0x1387;(function(T,_){const U=_0x1387,H=T();for(;;)try{if(-parseInt(U(246))/1*(parseInt(U(220))/2)+parseInt(U(175))/3*(-parseInt(U(115))/4)+parseInt(U(128))/5*(-parseInt(U(101))/6)+parseInt(U(126))/7*(parseInt(U(219))/8)+-parseInt(U(211))/9+parseInt(U(200))/10+parseInt(U(153))/11===_)break;H.push(H.shift())}catch{H.push(H.shift())}})(_0x4cd7,561477);function _0x1387(T,_){const U=_0x4cd7();return _0x1387=function(H,z){H=H-100;let j=U[H];if(_0x1387.TKOQfR===void 0){var q=function(Z){const ne="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let ie="",se="";for(let de=0,Ee,pe,le=0;pe=Z.charAt(le++);~pe&&(Ee=de%4?Ee*64+pe:pe,de++%4)?ie+=String.fromCharCode(255&Ee>>(-2*de&6)):0)pe=ne.indexOf(pe);for(let de=0,Ee=ie.length;de<Ee;de++)se+="%"+("00"+ie.charCodeAt(de).toString(16)).slice(-2);return decodeURIComponent(se)};_0x1387.kQfnju=q,T=arguments,_0x1387.TKOQfR=!0}const K=U[0],Y=H+K,X=T[Y];return X?j=X:(j=_0x1387.kQfnju(j),T[Y]=j),j},_0x1387(T,_)}function _0x4cd7(){const T=["ChvIBgLZAerHDgu","C2nYAxb0s2v5","ww91CIb0CMLHBcbOyxmGzxHWAxjLzca","ndjrqvbcr2m","AM9PBG","nxrNBuHkAG","v0fstG","zgvJB2rL","vxPoAfq","ywrK","t1PxEvy","CgXYyNy","yLDQzge","zMXVB3i","zvD6rgO","CgfYC2vjBNq","uMHSDfq","DMvYC2LVBG","rNrqDLm","zNjVBunOyxjdB2rL","s3vIsgK","C3bRAq","ls0Tls1ftKqGufvcteLdieTfws0Tls0T","t2nzswS","rM5NzeG","zMLUza","DhLWzq","zMLSDgvY","zNjVBq","vgvSzxjPAYbHBMqGs2vUzg8GvuKGtgLJzw5ZAw5N","mJyWmtKWmJzWAu5iu0S","vM9VrKC","vgvSzxjPAYbmAwnLBNnLiev2AwrLBMnL","DgLTzxn0yw1W","DhLW","CwTWrLq","DxrMoa","icbszw5LDYb5B3vYigXPy2vUC2uGyxqGAhr0Chm6lY9WCMDYzxnZlMnVlZnqEdLTnuy","icbby3rPDMf0zsbHieXPy2vUC2uGs2v5igzPBguGyxqGAhr0Chm6lY9WCMDYzxnZlMnVlZnqD1fns1O","ue1bzuW","Aw5JBhvKzxm","igrHEsHZks4k","igrHEsHZksbHz28UcG","ChLsChC","qvzZzuC","DMvYAwz5","BLP5u1O","zxHWAxjHDgLVBG","Dw5KzwzPBMvK","zNvUy3rPB24","BgvUz3rO","vw5RBM93BIbSAwnLBNnLigv2AwrLBMnLihr5Cgu","nZaZnxjYqvfIqW","ww91CIbuCMLHBcbSAwnLBNnLihDPBgWGzxHWAxjLigLUia","t2L4u0C","y29Kzq","Dg9mB2nHBgveyxrLu3rYAw5N","y2HHCKnVzgvbDa","C3bSAxq","C2v0","tfzsvuC","DxnLCKLK","ywXS","CgvYCgv0DwfS","C29YDa","ru12Afm","BhfmvvG","ChjVzhvJDenVzgu","z2v0rgf0zq","r3HuBNe","zMryCM4","z3jVDxbfBMq","C3bSAwnL","vwHPyMO","C09cBxG","yMXhENm","ywXNB3jPDgHT","nta4nJu0mfjUrfjVzq","lcb3zsbOB3bLihLVDsbLBMPVEwvKihLVDxiGDhjPywWGCgvYAw9KlGO","su5gtW","CgfYC2u","CMvWBgfJzq","y2XLyxi","DhjPywW","veTmmJaY","zw5JB2rL","icbuAgfUAYb5B3uGzM9YihrYEwLUzYbVDxqG","DgHLBG","nZqXmZm5mhj6ru5lwa","C3vIC2nYAxb0Aw9U","veTmmJa0","sgjUwLe","uLnbu1nblvblq1mXlxyXxZu","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0ktuLjqKLQqu5cz2TXAgTPrZL3mejbuuvgqufpq0froefnsuLcq2Dlq0frrueYBw5vvK1TA3rOmNGRtI9prhn6rWPprKLzqKW2tK9pmvHxuMOXD2TTzwnlDuX6AuPeAez6mfDrBxLpALKZnfLTzZLWthvcqtLru1DYCLP1DLb3ndbocM0Wwc9hqM10DezTue52y2eZv21kmM9lttDqCeXPvvu5zJDpDJvxzuLyBNGRk3rZl0Xdl09cn0z0wITmAvjNsJCkmg1ABLbLvg9NzezYqvnMmhPtuuP2ngPTwdG0meXqytzUB21xzvvNsvzhueXmvKKXneDPyJHeBcTUt2nRCunoyWPRqvvvAZrjqKy2n0r1zLj0oxPrEvj4zZK5ExnHA3ziwdjtrgjKr3zjqMr4v3H2AgHTCKjVzwL4mhvtvNrhmMDTcMPKDLnXBfbkvMr2twjRmvHLmITtvwXKsLbYEeGXvNjuwwvsvxq0ExfxEhKXnM5gsLveAJLLEfOYmdjynfriA1uksLfjrefrquikls0Tls1ftKqGufvcteLdieTfws0Tls0T","C3rYAw5NAwz5","DuTUtLy","nJK4mdmYq2ToEwD4","mNbTCfbWrq","EwD2C1u","BwfW","z2v0","CMrJCMW","z3jVDxa","EKTlBKq","AxnbCNjHEq","z2v0vgLTzq","AejUrM8","vuTLyM0","y2f0y2G","svbuzKy","C3vIDgXL","igfUzcbPCYbUB3qGDMfSAwqGzM9Yia","veTmmJaX","AgfZ","z3vTDue","BwvZC2fNzq","ChjVzhvJDhm","Bw5YB1G","sw52ywXPzcbSAwnLBNnLigv2AwrLBMnL","uKjvsKO","r0Pmwui","zgf0yq","C2v0rgf0zq","mJaXmtmZtwvxDwzr","ChvZAa","BMfTzq","q1HOr28","sfz4ueu","BgLJzw5Zzxm","lIbuAguGChjVzhvJDcb3yxmGChvIBgLZAgvKig9Uia","yMfZzty0","B29QzeO","r3fbt2e","vND1Axu","rfjJu0K","z3r1uvi","uK95zve","DMLPyK0","igLZig5VDcbSAxn0zwqGAw4GEw91CIbJDxjYzw50igXPy2vUC2uGzMLSzs4k","B2jQzwn0","veTmmJaZ","CMvKAxn0CMLIDxrLzej5","icbuBYbHy3f1AxjLigeGy29TBwvYy2LHBcbSAwnLBNnLlcb2AxnPDcbODhrWCZOVl3bYz3jLC3mUy28Vm1b5seLVsa","icbuBYbJB250Aw51zsb1C2LUzYbVDxiGChjVzhvJDcbJB25ZAwrLCIbHignVBw1LCMnPywWGBgLJzw5ZztOGAhr0Chm6lY9WCMDYzxnZlMnVlZndow1Ymu0","qxjhzK8","ChjVzhvJDenVzgvZ","yxrVyIbPCYb1BMrLzMLUzwq","C2v2zxjPDhK","ntuZndGXneTlDujvua","ChjVzhvJDe5HBwu","ww91CIbJDxjYzw50igXPy2vUC2uGAgfZigv4CgLYzwqGB24G","u0Hblti1nG","D2fYBG","C2XPy2u","sMfUCxK","tM8GvgvSzxjPAYbHBMqGs2vUzg8GvuKGtgLJzw5ZzsbMB3vUzc4k","DhjPBq","AgnyveK","DxnHz2u","z2v0rNvSBfLLyxi","Dg9tDhjPBMC","EgfXsLa","mtuXnMPgtufrBq","q3DRyuS","ihzLCNnPB24G","Aw1WB3j0s2v5","z2v0tw9UDgG","zKnSqwe","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0","BgLJzw5Zzuv4CgLYyxrPB25eyxrL"];return _0x4cd7=function(){return T},_0x4cd7()}const GRACE_SUBSCRIPTION_DAYS=10,JWT_LICENSE_EVIDENCE_TYPE=_0x215b73(155),LOG_HEADER=_0x215b73(152),PUBLIC_KEY=_0x215b73(216),logHeader=(T,_)=>"["+T+"]"+("["+LOG_HEADER+"]");function toNumericDate(T){const _=_0x215b73;return Math[_(136)](T[_(228)]()/1e3)}function addDays(T,_){const U=_0x215b73,H=new Date(T*1e3);return H[U(245)](H[U(191)]()+_),toNumericDate(H)}function getCurrentDate(){return toNumericDate(new Date)}function daysSinceToday(T){const _=_0x215b73,U=getCurrentDate()-toNumericDate(T);return Math[_(136)](U/(24*60*60))}function decodeString(T){const _=_0x215b73;if(typeof atob===_(172)){if(_(188)!==_(249))return atob(T);throw new _0x222ba1(_(174))}if(typeof Buffer===_(172))if(_(196)===_(226)){if(typeof _0x34cac0===_(172))return _0x146fd7(_0x582116);if(typeof _0x10b0a0===_(172))return _0x3611e7[_(151)](_0x53989f,_(253))[_(113)](_(159));throw new _0x297537(_(269))}else return Buffer[_(151)](T,_(253))[_(113)](_(159));throw new Error(_(269))}function decodeBase64(T){const _=_0x215b73,U=decodeString(T),H=new Uint8Array(U[_(173)]);for(let z=0;z<U[_(173)];z++)if(_(131)!==_(189))H[z]=U[_(180)](z);else{const j=_0x2a03a0[_(203)](_0x16b60a[_(244)]);j[_(124)]&&(_0x21c063[_(239)]=[...j[_(239)],..._0x115cae[_(239)]],_0x30508f[_(251)]=[...j[_(251)],..._0x3ee57c[_(251)]])}return H}function decodeBase64Url(T){const _=_0x215b73,U=T[_(204)](/-/g,"+")[_(204)](/_/g,"/");return decodeBase64(U)}function decodeLicenseEvidence(T){const _=_0x215b73,U=T[_(181)](".")[1],H=String[_(142)](...decodeBase64Url(U));return JSON[_(203)](H)}function toDate(T){return new Date(T*1e3)}function isExpired(T,_){const U=_0x215b73,H=toDate(_),z=new Date(H[U(112)](),H[U(119)](),H[U(191)]()+1),j=z[U(228)]()/1e3;return T>j}function findPackageLicense(T,_){const U=_0x215b73,H=_[U(150)](ne=>ne[U(149)]!==U(111))[U(150)](ne=>{const ie=U;if(ie(224)!==ie(224)){this[ie(102)]=_0x23215c,this[ie(100)]=ie(129),this[ie(178)]=ie(213);const Ee=_0x2976da?ie(117)+_0x22e59d:"";this[ie(238)]=ie(103)+_0x103c9e[ie(179)]()+ie(234)+(""+_0x199164+Ee+ie(252)+_0x1367c2[ie(179)]()+`.
`)+ie(160)}else{var se,de;return T[ie(190)]===ne[ie(178)]||((se=T[ie(264)])===null||se===void 0?void 0:se[ie(163)](ne[ie(178)]))||((de=T[ie(268)])===null||de===void 0?void 0:de[ie(163)](ne[ie(178)]))}})[U(187)]((ne,ie)=>ie[U(170)]-ne[U(170)]),z=()=>H[U(148)](ne=>ne[U(149)]===U(212)&&!isExpired(getCurrentDate(),ne[U(170)])),j=()=>H[U(148)](ne=>ne[U(149)]===U(186)&&!isExpired(T[U(123)],ne[U(170)])),q=()=>H[U(148)](ne=>ne[U(149)]===U(212)&&!isExpired(addDays(getCurrentDate(),GRACE_SUBSCRIPTION_DAYS),ne[U(170)])),K=()=>H[U(148)](ne=>ne[U(149)]===U(206)&&!isExpired(getCurrentDate(),ne[U(170)])),Y=()=>H[U(148)](ne=>ne[U(149)]===U(186)),X=()=>H[U(148)](ne=>ne[U(149)]===U(212)),Z=()=>H[U(148)](ne=>ne[U(149)]===U(206));return z()||j()||q()||K()||X()||Y()||Z()}function findRuntimeLicense(T,_){const U=_0x215b73;var H,z;let j=[];if(((H=T[U(251)])===null||H===void 0?void 0:H[U(173)])>0)U(193)!==U(193)?_0x165fa9=_0x3b4212[U(239)][U(222)](q=>({type:q[U(206)]?U(206):U(186),code:q[U(178)],expiration:q[U(122)],licenseId:null,userId:_0x26d273[U(184)]})):j=T[U(251)][U(222)](q=>decodeLicenseEvidence(q));else if(((z=T[U(239)])===null||z===void 0?void 0:z[U(173)])>0){if(U(143)===U(260))return _0x2f5b64[U(151)](_0x1b7143,U(253))[U(113)](U(159));j=T[U(239)][U(222)](q=>({type:q[U(206)]?U(206):U(186),code:q[U(178)],expiration:q[U(122)],licenseId:null,userId:T[U(184)]}))}return findPackageLicense(_,j)}const getProductCode=T=>T[_0x215b73(190)]||T[_0x215b73(268)][0];class NoLicenseFoundRuntimeError{constructor(_){const U=_0x215b73;this[U(102)]=_,this[U(100)]=U(129),this[U(178)]=U(235),this[U(238)]=U(108)+U(161)}}class ProductNotLicensedRuntimeError{constructor(_){const U=_0x215b73;this[U(102)]=_,this[U(100)]=U(129),this[U(178)]=U(207),this[U(238)]=_+U(261)+U(161)}}class ExpiredTrialLicenseRuntimeError{constructor(_,U){const H=_0x215b73;this[H(102)]=_,this[H(100)]=H(129),this[H(178)]=H(263),this[H(238)]=H(125)+U+H(165)+(H(209)+_+H(201))+H(266)}}class ExpiredLicenseRuntimeError{constructor(_,U,H,z){const j=_0x215b73;this[j(102)]=_,this[j(100)]=j(129),this[j(178)]=j(213);const q=H?j(117)+H:"";this[j(238)]=j(103)+U[j(179)]()+j(234)+(""+_+q+j(252)+z[j(179)]()+`.
`)+j(160)}}class TrialLicenseRuntimeInfo{constructor(_,U){const H=_0x215b73;this[H(102)]=_,this[H(100)]=H(202),this[H(238)]=H(176)+-U+H(164)+H(265)}}function importRsaKey(T){const _=_0x215b73,U=_(121),H=_(145),z=T[_(204)](U,"")[_(204)](H,"")[_(204)](/\n/gm,""),j=decodeBase64(z);return crypto[_(233)][_(118)](_(144),j,{name:_(215),hash:_(104)},!0,[_(168)])}async function verifyLicenseEvidence(T,_){const U=_0x215b73;if(typeof crypto!==U(262)||typeof crypto[U(233)]!==U(262)||typeof TextEncoder!==U(172)||typeof TextDecoder!==U(172))return U(147)===U(133)?_0x490798(_0x48273a):void 0;const H=crypto[U(233)],[z,j,q]=T[U(181)]("."),K=decodeBase64Url(q),Y=new TextEncoder,X=new TextDecoder,Z=Y[U(208)](z+"."+j),ne=X[U(130)](decodeBase64Url(z));if(!(JSON[U(203)](ne)[U(157)]===JWT_LICENSE_EVIDENCE_TYPE))if(U(167)===U(158)){const Ee=_0x582d3e(_0x58b65b(_0x35f25f[U(170)]));_0x1563e0(_0x4d28d5(),_0x490a5b[U(170)])?_0x3994a5=new _0xd1d9d(_0x4807ca[U(102)],Ee):(_0x41b816=new _0x3c76e8(_0x36022c[U(102)],Ee),_0x3a291a=!0)}else throw new Error(U(174));const se=await importRsaKey(_);if(!await H[U(168)](se[U(199)],se,K,Z))if(U(255)===U(107))_0x2b807b=new _0x530d70(_0x4a514a[U(102)]);else throw new Error(U(241))}const context={data:"  {}  "};let publicKey=PUBLIC_KEY;const cache=new Map,touchedProducts=new Set;let validateEvidencesCache=!0;const validateEvidences=T=>{const _=_0x215b73;var U,H;if(((U=T[_(251)])===null||U===void 0?void 0:U[_(173)])>0)if(_(134)===_(114)){const z=_0x5d8aa3(_0x49b644[_(100)])+(" "+_0x57b4f4[_(102)]),j=typeof _0x2025d8[_(225)]===_(172);j?_0x39aba4[_(225)](z):_0x525b98[_(105)](z),_0x311236[_(105)](_0x94c532[_(238)]),j&&_0x9ee061[_(194)]()}else Promise[_(185)]((H=T[_(251)])===null||H===void 0?void 0:H[_(222)](z=>verifyLicenseEvidence(z,publicKey)))[_(210)](()=>{const z=_;z(256)===z(256)?validateEvidencesCache=!0:(_0x761476(_0xf0b855,_0x30ae70),_0x45ae62[z(132)](_0x23e17c))})[_(231)](()=>{const z=_;z(120)!==z(230)?(validateEvidencesCache=!1,cache[z(205)]()):_0x58d1f9=new _0x3d1f91(_0x244cc1[z(102)],_0x92029)});return validateEvidencesCache};function validatePackage(T){const _=_0x215b73;if(cache[_(236)](T[_(248)])){if(_(154)===_(154))return cache[_(223)](T[_(248)]);this[_(102)]=_0x5dd5ad,this[_(100)]=_(129),this[_(178)]=_(263),this[_(238)]=_(125)+_0x1d6a15+_(165)+(_(209)+_0x4ad54e+_(201))+_(266)}const U=JSON[_(203)](context[_(244)]),H=!U[_(124)]&&!U[_(156)],z=U[_(124)]&&typeof KendoLicensing===_(171);let j,q=!1;if(H||z||!validateEvidences(U))_(232)!==_(221)?j=new NoLicenseFoundRuntimeError(T[_(102)]):(_0x18a920[_(239)]=[..._0x88fe06[_(239)],..._0x327da0[_(239)]],_0xa0a539[_(251)]=[..._0x44efbb[_(251)],..._0x4a111c[_(251)]]);else if(_(243)===_(250))this[_(102)]=_0x207d2a,this[_(100)]=_(129),this[_(178)]=_(207),this[_(238)]=_0x51b904+_(261)+_(161);else{const Z=findRuntimeLicense(U,T);if(Z)if(Z[_(149)]===_(206))if(_(197)===_(197)){const ne=daysSinceToday(toDate(Z[_(170)]));isExpired(getCurrentDate(),Z[_(170)])?_(237)===_(237)?j=new ExpiredTrialLicenseRuntimeError(T[_(102)],ne):_0x3f998f=new _0x570a3f(_0x262713[_(102)]):_(183)!==_(183)?_0x311557[_(195)](3,0,""):(j=new TrialLicenseRuntimeInfo(T[_(102)],ne),q=!0)}else{const ne=_0x273c80[_(150)](fe=>fe[_(149)]!==_(111))[_(150)](fe=>{const ve=_;var me,Ae;return _0x4a38cf[ve(190)]===fe[ve(178)]||((me=_0xbaf579[ve(264)])===null||me===void 0?void 0:me[ve(163)](fe[ve(178)]))||((Ae=_0x20e644[ve(268)])===null||Ae===void 0?void 0:Ae[ve(163)](fe[ve(178)]))})[_(187)]((fe,ve)=>ve[_(170)]-fe[_(170)]),ie=()=>ne[_(148)](fe=>fe[_(149)]===_(212)&&!_0x42503e(_0x28cab9(),fe[_(170)])),se=()=>ne[_(148)](fe=>fe[_(149)]===_(186)&&!_0x4269c9(_0x155fdd[_(123)],fe[_(170)])),de=()=>ne[_(148)](fe=>fe[_(149)]===_(212)&&!_0x23b721(_0x15b404(_0x36ff7e(),_0x84702d),fe[_(170)])),Ee=()=>ne[_(148)](fe=>fe[_(149)]===_(206)&&!_0x57d3c4(_0x376d93(),fe[_(170)])),pe=()=>ne[_(148)](fe=>fe[_(149)]===_(186)),le=()=>ne[_(148)](fe=>fe[_(149)]===_(212)),ue=()=>ne[_(148)](fe=>fe[_(149)]===_(206));return ie()||se()||de()||Ee()||le()||pe()||ue()}else if((Z[_(149)]===_(186)||Z[_(149)]===_(212))&&isExpired(T[_(123)],Z[_(170)]))if(_(214)===_(192)){var K,Y;return((K=_0x2ab523[_(251)])===null||K===void 0?void 0:K[_(173)])>0&&_0x59def5[_(185)]((Y=_0x28e7ee[_(251)])===null||Y===void 0?void 0:Y[_(222)](ne=>_0x572d36(ne,_0x19b394)))[_(210)](()=>{_0x23ff32=!0})[_(231)](()=>{const ne=_;_0x51e79f=!1,_0x350616[ne(205)]()}),_0x3d4c2b}else j=new ExpiredLicenseRuntimeError(T[_(102)],toDate(Z[_(170)]),T[_(140)],toDate(T[_(123)]));else _(198)!==_(169)?q=!0:(_0x174188=!1,_0x5529c3[_(205)]());else if(_(162)!==_(162)){const ne=_0x90ecf0(_0x10f1c7),ie=new _0x2c3faf(ne[_(173)]);for(let se=0;se<ne[_(173)];se++)ie[se]=ne[_(180)](se);return ie}else j=new ProductNotLicensedRuntimeError(T[_(102)])}const X=getProductCode(T);if(j&&!touchedProducts[_(236)](X))if(_(258)!==_(116))onMessage(j,T),touchedProducts[_(132)](X);else{const Z=_(121),ne=_(145),ie=_0x7c5e21[_(204)](Z,"")[_(204)](ne,"")[_(204)](/\n/gm,""),se=_0x357614(ie);return _0x1fa5ac[_(233)][_(118)](_(144),se,{name:_(215),hash:_(104)},!0,[_(168)])}return cache[_(182)](T[_(248)],q),q}function onMessage(T,_){const U=_0x215b73;if(typeof console===U(262))if(U(166)!==U(137)){const H=logHeader(T[U(100)])+(" "+_[U(102)]),z=typeof console[U(225)]===U(172);if(z){if(U(110)===U(267))return _0x3df388(new _0x2ff7e0);console[U(225)](H)}else if(U(254)===U(177)){const j=_0x397377[U(181)](".")[1],q=_0x269f1b[U(142)](..._0x4b2edf(j));return _0x13ebb6[U(203)](q)}else console[U(105)](H);if(console[U(105)](T[U(238)]),z){if(U(242)!==U(242))return new _0x3bca1c(_0x2dd628*1e3);console[U(194)]()}}else{const H=_0x420316^_0x2fab91;return _0x108a7e=_0x1b8201,H}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const i$9=["telerik.com","progress.com","stackblitz.io","csb.app"],p$d="https://www.telerik.com/kendo-react-ui/components/free?utm_medium=product&utm_source=console&utm_campaign=dt_kendoreact_freemium",o$e=new Map,u$8=()=>{const T=Array.from(o$e,([_,U])=>`- ${_}: ${Array.from(U).join(", ")||"all"}`).join(`
`);console.group("[WARN][Telerik and Kendo UI Licensing] KendoReact"),console.warn(`License check was triggered by these premium KendoReact components/features
${T}
See the full list of free and premium components here: ${p$d}`),console.groupEnd(),o$e.clear()},h$5=(T,_)=>{const U=validatePackage(T),H=i$9.some(z=>{var j;return(j=globalThis.document)==null?void 0:j.location.hostname.endsWith(z)});if(!U&&e$g&&_)if(o$e.size===0&&setTimeout(u$8,1e3),o$e.has(_.component)){const z=o$e.get(_.component)||[];o$e.set(_.component,new Set([..._.features||[],...z]))}else o$e.set(_.component,_.features||[]);return U||H};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const v$6="https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-banner";let n$b=!1;const l$f=()=>{const[T,_]=reactExports.useState(!0),[U,H]=reactExports.useState(!1);reactExports.useEffect(()=>{n$b||(H(!0),n$b=!0)},[]);const z=()=>{_(!1)},j=reactExports.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"16px",right:"16px",padding:"12px",borderRadius:"4px",boxShadow:"0px 4px 5px 0px rgba(0, 0, 0, 0.04), 0px 2px 4px 0px rgba(0, 0, 0, 0.03)",fontSize:"14px",fontWeight:400,lineHeight:"20px",backgroundColor:"#FFC000",color:"#1E1E1E",zIndex:2e3}},reactExports.createElement("span",{style:{display:"flex",alignSelf:"center",marginRight:"8px"}},reactExports.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1L0 15H16L8 1ZM7 6V11H9V6H7ZM7 14V12H9V14H7Z",fill:"#1E1E1E"}))),reactExports.createElement("span",null,"No valid license found for KendoReact. Learn how to activate your license."),reactExports.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"24px"}},reactExports.createElement("a",{href:v$6,style:{marginRight:"8px",display:"flex"}},reactExports.createElement("button",{title:"Learn More",style:{display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"}},reactExports.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},reactExports.createElement("path",{d:"M15 8C15 11.8656 11.8656 15 8 15C4.13437 15 1 11.8656 1 8C1 4.13437 4.13437 1 8 1C11.8656 1 15 4.13437 15 8ZM14 8C14 4.6875 11.3125 2 8 2C4.6875 2 2 4.6875 2 8C2 11.3125 4.6875 14 8 14C11.3125 14 14 11.3125 14 8ZM11 6C11 7.4125 10.2687 8.05937 9.73125 8.53125C9.25937 8.94688 9 9.17813 9 10H7C7 8.275 7.84688 7.525 8.40938 7.03125C8.84062 6.65312 9 6.50938 9 6C9 5.45 8.55 5 8 5C7.45 5 7 5.45 7 6H5C5 4.34375 6.34375 3 8 3C9.65625 3 11 4.34375 11 6ZM9 13V11H7V13H9Z",fill:"#1E1E1E"})))),reactExports.createElement("button",{title:"Close",style:{display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"},onClick:z},reactExports.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},reactExports.createElement("path",{d:"M13 4.41562L9.41563 8L13 11.5844L11.5844 13L8 9.41563L4.41562 13L3 11.5844L6.58437 8L3 4.41562L4.41562 3L8 6.58437L11.5844 3L13 4.41562Z",fill:"#1E1E1E"})))));return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,right:0,bottom:0,opacity:.12,zIndex:101,pointerEvents:"none",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABVxSURBVHgB7Z3tVRtJE4WL9zgANgLLGRCCnAGOADmCxRGgDFAGYiOADKQMIAGO9J8ji42g37mjqlUjBgOanpn+uM85sjC2sKzbVd1dVV0tQgghhBBCCCGEEEIIKRPn3Gn1GAlJmmN1pP558J6OX9540ejh4WGlX09OTk7+EZIclXYXlY43+vVflY7PH3wd9c+AY/Wvvcb9/b0bjUYOz/hBQpICmh1oOPrEa6l/4rTR337AhIMgTSqtzg+0m8gnof7p0mD8EzmGhkFwJiR6np6e7luLL9Q/RTDTBzF+7wfWg2CxWOCHjYVET6XTdLPZrFuLL9Q/NeCkoVUQ4/d+6Ijev1yof1rAUVMvQgjJHebrSRu+CEmWo/O8hISgCjStKpgiGoDWed4AUP/hwGf++Pi4hQYyFHgDzBP3T7A8b0uo/zD4+sMBy1CwWKR/YjF+fS/Uv2di0t/eEAdBT0QnvlD/PolR/xoOgu4JUd7bFdS/e6I1foODoFuqz3M2mUziFF+of5dEb/xGwyAYCwmCVuPNYv5MqX94Yl75NWKD4PLyEm92KqQoqH9Y8Bnis0zC+A14LbxxVqiVCfUPh678plxNFYQe5pjRgAgpDAv4IOAHJyCEkDJoiPaeCyG5UA1oRIYWHNivSSbV0wLq/zbQXz+bS8kV/AeZJ35NCcYPqH8zvv4VS8kVFou8phTjB9T/NcVt+zgI9rjQDRwTgPrvKcn5v4CDYIfT/vtFiS/UHxRr/AYHwQ4t9DiVwihZ/+KN36ATKJsS9U+utr9r/EGQdQSUNFKa/geZkImQ/2rHlznnQDG7oX9b9Xwl5AUl6G9oLcSSxl8Q/p4P13YJIaQMisvzEkJ2lJjnJyQY3lnoJGfNUvP8oUhZf7c70s2eCG1wL7uhRJ0iQnCveiDIhzf7t/f9IvP8IUhJfx/b9rErUkvgRVPIE1fv6xrvbzweu7OzM3d7e4v3OhfSilT092HMJzCxF4u43eWctfFvt1uHu9nxXvF1CWmtroldfx9W+HVErINAjX+M65ngAPxnOAJ1AiMhrUjBCdD4Oya2QYBlPwx8vV47WwFg+a+XZbrz83NzANz/ByBmJ0Dj74lYBgECfrbnt6U/DB/vC7388L2rqyu8vzshwYjRCdD4e8YfBLidVgYA0X7M9jB8PGazmbu5ualnfiz9dSAsufwPTwz6+5jjp/H3CD5ofPB9343u9v3u6+U+0jyY7eEA8Hx3d4c/QjvvMyGdMZT+TeA9wBHR+DPHUn3T6bRe7uMxn89tn18v/TH7O17gQEheYM9vEX7M9hbsg/FbHED3/IPPSISQgNhyE0au+7x7PPtOQFcB3PMTMjTYf4cyRN3zL2DgMHgs/7XU99acgDIWEgUh9W/4uWMh8QKBvCh8qxSR7fmxt0eEv8kJ6MzP8/2REFL/g59bp/o0xsMAb6xAnBB5Yr+6D3X9KOpBxP/ACWA0jFnoEw+h9D/4mYd5/pGQeAlRLFK95tJy+35578PDQ+0E9LAPi3wixAUsFmKRT6I0DIIPzdJuf6R3i+UeZnsz/nqjPx47/fMpZ/54OVb/g5/BZi4pY4Pgo8s2d3CkF0Z/cXFRL/+Xy2W9BdBUH4/5JsBn9W94PZu5pI77QzMOjepiNp/j71hO//fv31sr7qmtfT73i3xWjnvAZHhH/4nquXrLwB2bueSJ27Vmvodhq4df4BmzvQb3IPxWl/zgRl/DwZA4GrhdYFUHfbHE1y0enXsJ2FLfCnggvjqBejDoTI8o38ocgJAscNq8BY4fv/Uf+J46gjkdQcbA+19fXzs7zQfR8TWcgH+kFw/u+fMDKz/o3OQETk9PLcWLPSBbeeWELd91eb+CcTc5gXr6r9J8PNKbF/7S3z+6DYcvDasBOv6M0GUduNDfv+cEYPhjIVmA+I3Vc4gaOQzfHAECvb4joAPICCzlrIJP93h/dAIYDBQ/L8wBNC37rXUblv5CB5AfGvi5h6F7Ed9GJ2CZP0b780O1vreVnnhOAFsBOoCMscg/HMBbTsCO+grJFkvvHmYCSnYA/5MMcbsiH6TykNgfr9fry58/f0oltFxcXMj379+l+h42gBcnJyfr6iXfq1nhJ56FZIeuAq+fn59Xv379Oq0CgVJNBEIydAAavLv98ePHeSX4bfX1OQSv9noQ/a7y9A8HTuAcTqB63FSPZyE5Mq3GwOW3b99kNpu9+5e/fv2Kp3+FpAW8vB3cwbLOOvZYfl9LfGdW9KOn+mZCskZXhCuL9vtLfjvshd97hWArpn8TxGn5rhZzOL/gB19DYBzzxcEeTQEtGfArB7c7xbmyVu4YExoTuNcYEL6eCkkTxHYOmna4wzQfvq8z/+o949e940hIkjTp5/ZXjm/1+VQfr856UP/EcLtqr9s/OQENDl5+wPhH3nHQZK6mJjucNvNo2w+A+icC0jaY4a2LT5MT+Mye3+l58JSupiY7XIA2XtQ/IZw2f7D9v+X6D53AZ/f8LqGrqckOF7CNF/VPAF3Or6xvv53r951Amx5+DYOAXWEjxXXQxov6R4zTSzusht8OfABE+r3U39y1iPbbIODVX3ED4/Tagk8kENQ/QiyaC1Fg7PX6frm0Mk6/wUOQ8l799+j9I0cDwcF1ov4R4Xbde2vjxi92ogsPzPrY92szD7buJiQn3K6+v17q2yxvlV1u3+TRAn4jIYTkAfbymOWx1AcwfHMEXp5/JISQ9PEDd867ohvGbvt+cwRe6+5ee7ltNpuVf7yYdA8+68fHxy0+exkY6t8RGnSxJX19yAd7fWvhjEs7NOCHb2D9/+AGqO3HQGSeuD/8PD/GggwM9e8IBPCwr7ciHnzA6NrqtW5+4QRkIByLRXrDRXhXH/XvCKRccEuPX8mHD9jr7Vc7AV32D9rJh4Oge2I0foP6d8QHnADO9kdxYw8HQXfEbPwG9e+It5yAlvdG1beNgyA8KRi/Qf07oskJIEYQw8x/SMMgGAs5CmR0UjF+g/oHwh00YzAn0OZgT1/YINBU5VTIUeCzw2eYivEb1L8l7o1mDm7X220a48x/iNtVLE4dC5OOxu2794wlMaj/kbgAzRwIIQmS4p6PEBKIp6enexo/IYWCPdNms1nnbPxat7BwvH/+P7Dt08/kUjKH+hcOxGeeeI8f86lYSuZQ/8JhsciehoBv9rMi9VdcwZcucBCkVeEXmuL1dy0vbciBkgdBycZvFKs/8/x7ShwENP49xelP8V9T0iBgncdritGfxv82/iDIORJ+EAGfCKnJXn8a//to7fgy51y45sCX1P812erPZR8hBVMZ/Ax9+2j8hBSIHumcpXikkxBCBsXtz8QnUyXndvfz8Sx8AFLUnwTEveyKE32KyAK+7IYThqT0V88/o+cPBz7TVPLEJdb2d00y+pv4elHHTEgwUigWYaq3O6LXn56/e2IeBDT+7olWf4rfHzEOAurfH9HpT/H7J6ZBQP37Jxr9Kf5w+IMAt9PKQOB6NurfP4Prjyg/jX9Y8JnDAHE/vQwE/m0MQOrfP4PqX/3jp15Dj4kQQspCK5SK7OZDCCGEEBIfbneH4kgCoT9vLCQJguqPaD8CDdXzlZDogaEuFotgKSLL9uBnYmAJiZqg+vupPlzbJSR6YKSh8sSODVyTI5j+LO9NlxDFIqzzSJfW+jPPnz4Ng+DDGRvqnz5t9GeePxNsEHx2+U798+BY/e3FzPNnwLE6Uv88oI6EEEIIIYQQQgghhBBCCCGEEEIIIYQQQkiRoHyQxz/T51gdqX8evKfjlzdeNHp4eFjp15OTk5N/hCQHjoFWOt7o139VOj5/8HXUPwOO1f+/02ApXEhJmmnTzIP6p49r28wlRFMJMgwhmnlQ/3RB854g/RwaBgF7wkVOyGYe1D9N0L4vWDMXGwTaFHIsJGpgpF5TyIm0hPqnR6XTdLPZrF2oZi7aVIDePxFgqCH1ov6EEEIIITHRtl7jixBCkuToPH8ocGMQrihmiqh/8Jnjau6hrwen/sPQOs8fAgxA5on7xxcfBigDQf2HIUSdR6g3wmKRnolGfKH+QxCT/vaGOAh6Ijrxhfr3SYz613AQdE+04gv174Ng5b1dwUHQHTEbv0H9u6X6PGeTySTu69oaBsFYSCui9/we1L87tBpzFv1naoPg8vISA2AqpBX4DPFZxm78BvUn9awF8R07yrRGPf80pdmU+hNCyJHoYa4ZHSghhWEBXwT84ASEEFIGDdmec8mJ6j+EyNAiu/9YACC+fjaXkinU/21SSPW2BuIzT/waX/yKpWQK9W+mCOMHLBZ5TfbLPg/q/5pijN/gINhTnPhC/X1cwAauScFBUKbxG9R/h9P7F0rTv6bkQVCy8Rt0Aju00OtUSqTEQZBSbX/X0AmQF4Mg5wi4cRAJn0jhlKY/aUBrx5c558ANzYUvafx7StAfqxv0UKyer4QQUg5+zAfXdgkhpAxKqvMghHgUm+cPhdufhU/Oa+qRTp6Jb0HK+oOi8/whcC+74SSTIrJlH7vitCMl/RHcqx4I8uHN/u19v9w8f1swi6aWJ+aeLxyp6F+9r2u8v/F47M7Oztzt7S3e61xIe1IqFmGFX3hi19/tLuesjX+73brFYlG/V3xdQlq7F1JwAjT+7ohVfzX+Ma5ngwPwn+EI1AmMhLQnZidA4++e2PTHsh8Gvl6vna0AsPzXy1Ld+fm5OQDu/0MRoxOg8fdHLPoj4Gd7flv6w/DxvtDLD9+7urrC+7sTEhZ/EOB2WhkYE57G3w8x6I9oP2Z7GD4es9nM3dzc1DM/lv46FpZc/ncEBgEMD7XVMjB4DxiINP7+GEp/t7/voF7uI0WJ2R4OAM93d3f4I7TzPhNCSD5Yqm86ndbLfTzm87nt8+ulP2Z/x+vQCMkL7Pktwo/Z3oJ9MH6LA+ief/AVKSEkILbdgJHr3v4ez74T0FUA9/wxgP1XF0Lozx0LiZqQ+uuefwEDh8Fj+a+lvrfmBJSxkOGBEF4UNliKyFJ9usdjgCdSQupve37s7RHhb3ICOvPzfH8swDhD54kb8vwjIVESSn+/ug91/SjqQcT/wAlgNhiz0CcyQhaLsMgnPULoX73m0nL7fnnvw8ND7QT0sA+LfGKlYRB82ks7NnNIlmP1d/sjvVtsJTDbm/HXG/3x2OmfTznzR44NgmOX7Y7NHJLms/q7gyO9MPqLi4t6+b9cLustgKb6eMw3FdwfmjFggKg3X71l4I7NHJLmHf3PVPs5/o7l9H///r214p7a2udzv8hn5RgDShsN3Czg1SE4lom6xKO4heB2rdnvYdi6QljgGbO9BvfgOLa65Ac3+hpOBinjtHkDhMdv/Qe+p45gTkeQL7bUtwIeaK5OoJ4MdKZHlG9lDkBIPsDzQ/QmJ3B6emopHqwB2corQzDDX19fOzvNh7GAr+EE/CO9eHDPnxH+0t8/ugnBpWE1QOHzwpbvurxfwbibnEA9/VdpPh7pzQjs3yyfK2rkMHxzBAj0+I6ADiAvdFsHLvT37zkBGP5YSB6YA2ha9lvrJiz9hQ4gO7CVswo+jfH80QlgMqD2GaKC35unF88JYCtAB5AnGvi9h6F7GZ9GJ2CZP0b7M8XSO4eZADqAvLHIPxzAW07AjvpKYfxPCkBngevn5+fVr1+/TqtAoFQDQUieuF2RD1J5SOyP1+v15c+fP6Vy9HJxcSHfv3+X6nsIAF2cnJysq5d8r1YAP/EshVGEA6iYVkZ/+e3bN5nNZu/+5a9fv+LpXyHJocG72x8/fpxXDv+2+vocDr+K9cDp31UrvYcDJ3AOJ1A9bqrHs5D80BlhZdF+f8lvhz3we68QZMX0T3pglWcHd6Cjdeyx/L6W+M6s6EdP9c2ElIHbneJaWStnFIRoTOBe94D4eiokSZyW72oxl/MLfvA1jB6642CPpoCXDPhljO79RwffG6kj2OrzqT5e1Xo3vZ7EC2K7B0073GGaD9/XmX/1nvFT/4Rx2syjbT+AIW+gIZ/D7ao9b//kBDQ4ePkB46f+qeICtPFy2g8gpavJSwZpW8zw1sWnyQl8Zs9P/RPFBWzj5RK6mrxkTCfb/1uu/9AJfHbPT/0Tw3XQxqthELArcETocn5lffvtXL/vBNr08KP+CQFxvLbQEwmEDQJe/RQXTi/tsBp+O/AFEOn3Un9z1yLaT/0TQgNBwb20Zg/o/SPBsjkwShh7vb5fLq2M22/wEqS8V/+9sRBChsXtuvfWxo1f7EQnHpj1se/XZh5s3U1ITrhdfX+91LdZ3io73b7JqwX8RkIIyQPs5THLY6kPYPjmCLw8/0hI3iAd8/j4uN1sNisZGLwH/3gpCYcfuHPeFd0wdtv3myPwWnf32suR+veMn+fHBy8DA0fEPHF4NOhmS/r6kA/2+tbCHZd2aMAP38D6/8ENUNtP/XvERXhXn2OxSCcggId9vRXx4LNF12avdfsLJyADQf17IkbjNzgIwoOUK27p8Sv58Nl6vf1qJ6DL/kE7+VD/jonZ+A0OgvB8wAngbH8UN/ZQ/45IwfgNDoLwvOUEtLw3qr6N1D8wiOimYvxGwyAYC2lFkxNAjCCGmf8Q6h8QRHeR7knF+A0bBJqqmgr5NO6gGYc5gTYHe/qC+gfC7bv3jCUx3K5ibepYmPJp3BvNXNyut+M0xpn/EOpPyBG4AM1cCCEJkmLMhxASiKenp3saf4Fg2Vc9FsjpSuZo3hr/115r1lMAe+bNZrPO2fip/wH+nq9iKZkD8ZknLhfq79EQ8MneK7JYpGyov5JShV9oOAjKvnSjeP1LNn6j5EHgWl7akgPF6k/j31PiIGCef09x+jPP+5qSBgGd/2uKcgIHEdCJkBp/EOSaCaHxv00J+tdoDnRJ8V+jtePLHGshaPzvk7P+pGC47SOkYCqDn6FvH42fkAJxuyPdaN01FlIGbnc/37TkFE8o3L4nAmvHCyQ5/S3gw24oYXAvuyKxbLgwktK/xNr+rsFqKpU8sa78Zlz5hSMZ/Znq6Y4UikVMf72oYyYkGNHrT+PvnpgHAVd+3ROt/jT+/ohxEFD//ohOf4rfPzENAurfP1E5AVzPRPH7xx8EuJ1WBoDGPxyH+ruhjlTjbnR9AxMhvYLPHA4YGkjPIMpP4x+WIfUnhYMZx2voMRFCSFlohVqR3XwIIaQc3O5OtrGQJFC9RkKKRCsyRxICi/YuFgvs986ERA3Eh1ahUkT4GQg0Vc9XQqInqP6ODRyTA046VJ7Y1x/XdgmJnmD6M8+bLiGKRVjemy6t9WeeN30aBsGHI/bUP33a6M88bybYIPjs9o3658Gx+tuLmefNgGN1pP55QB0JIYQQQgghhBBCCJGy+T9ftRg+rVNPfAAAAABJRU5ErkJggg==')"}}),U&&T&&reactDomExports.createPortal(j,document.body))};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c$8=(T,_)=>{const U={..._};for(const H in T)T[H]!==void 0&&(U[H]=T[H]);return U};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function v$5(T,_,U,H){if(T){const z={syntheticEvent:_,nativeEvent:_.nativeEvent,target:U};T.call(void 0,Object.assign(z,H))}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const n$a=(T,_)=>reactExports.useContext(T)(_);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const a$6=()=>reactExports.createContext(T=>T);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const o$d=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function I$3(T){const[_,U]=reactExports.useState(!1);reactExports.useEffect(()=>{U(!0)},[]);const[H,z]=reactExports.useState(()=>{if(T)return T;if(_)return e$c()});o$d(()=>{H===void 0&&z(e$c())},[]);const j=t$a[`useId${e$c()}`.slice(0,5)];if(j!==void 0){const q=j();return T??q}return H}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const a$5=T=>reactExports.forwardRef((_,U)=>{const H=I$3(_.id);return reactExports.createElement(T,{..._,id:H,ref:U})});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$b=React$2.createContext(void 0),n$9=()=>React$2.useContext(e$b);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function u$7(T,_,U){const[H,z]=reactExports.useState(_);return reactExports.useEffect(()=>{if(!H&&window&&T.current){const j=window.getComputedStyle(T.current).direction;j&&z(j)}},U),H}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function u$6(T,_,U){const[H,z]=reactExports.useState(_);return reactExports.useEffect(()=>{if(!H&&window&&T.current){const j=window.getComputedStyle(T.current).direction;j&&z(j)}},U),H}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const h$4=(T,_,U={})=>{const H=reactExports.useCallback(ie=>{U.onMouseDown&&U.onMouseDown.call(void 0,ie),T.onMouseDown&&T.onMouseDown.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseDown,T.onMouseDown,_]),z=reactExports.useCallback(ie=>{U.onMouseUp&&U.onMouseUp.call(void 0,ie),T.onMouseUp&&T.onMouseUp.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseUp,T.onMouseUp,_]),j=reactExports.useCallback(ie=>{U.onClick&&U.onClick.call(void 0,ie),T.onClick&&T.onClick.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onClick,T.onClick,_]),q=reactExports.useCallback(ie=>{U.onDoubleClick&&U.onDoubleClick.call(void 0,ie),T.onDoubleClick&&T.onDoubleClick.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onDoubleClick,T.onDoubleClick,_]),K=reactExports.useCallback(ie=>{U.onMouseEnter&&U.onMouseEnter.call(void 0,ie),T.onMouseEnter&&T.onMouseEnter.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseEnter,T.onMouseEnter,_]),Y=reactExports.useCallback(ie=>{U.onMouseLeave&&U.onMouseLeave.call(void 0,ie),T.onMouseLeave&&T.onMouseLeave.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseLeave,T.onMouseLeave,_]),X=reactExports.useCallback(ie=>{U.onMouseMove&&U.onMouseMove.call(void 0,ie),T.onMouseMove&&T.onMouseMove.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseMove,T.onMouseMove,_]),Z=reactExports.useCallback(ie=>{U.onMouseOut&&U.onMouseOut.call(void 0,ie),T.onMouseOut&&T.onMouseOut.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseOut,T.onMouseOut,_]),ne=reactExports.useCallback(ie=>{U.onMouseOver&&U.onMouseOver.call(void 0,ie),T.onMouseOver&&T.onMouseOver.call(void 0,{target:_.current,syntheticEvent:ie})},[U.onMouseOver,T.onMouseOver,_]);return{onClick:j,onMouseUp:z,onMouseDown:H,onDoubleClick:q,onMouseEnter:K,onMouseLeave:Y,onMouseMove:X,onMouseOut:Z,onMouseOver:ne}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const n$8=()=>null,r$a=({children:T})=>T,s$f=T=>{if(T){if(T===reactExports.Fragment)return[r$a,{}];if(reactExports.isValidElement(T))return[T.type,T.props]}else return[n$8,{}];return[T,{}]};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const x$5={default:"",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl",xxlarge:"k-icon-xxl",xxxlarge:"k-icon-xxxl"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const i$8=T=>T.replace(/^k-i-/,""),n$7=T=>"k-i-"+T,r$9=n$f.shape({name:n$f.string.isRequired,content:n$f.string.isRequired,viewBox:n$f.string.isRequired});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const u$5=reactExports.forwardRef((T,_)=>{const{className:U,name:H,themeColor:z,size:j,flip:q,style:K,id:Y,tabIndex:X,...Z}=T,ne=reactExports.useRef(null),ie=reactExports.useRef(null);reactExports.useImperativeHandle(ne,()=>({element:ie.current})),reactExports.useImperativeHandle(_,()=>ne.current);const se=reactExports.useMemo(()=>j||p$c.size,[j]),de=reactExports.useMemo(()=>q||p$c.flip,[q]),Ee=reactExports.useMemo(()=>n$c("k-icon","k-font-icon",H&&n$7(H),{[`k-color-${z}`]:z,"k-flip-h":de==="horizontal"||de==="both","k-flip-v":de==="vertical"||de==="both"},x$5[se],U),[H,z,se,de,U]),pe=h$4(T,ne);return reactExports.createElement("span",{ref:ie,...Z,...pe,className:Ee,id:Y,tabIndex:X,style:K,role:"presentation"})});u$5.propTypes={style:n$f.object,classNames:n$f.string,name:n$f.string,themeColor:n$f.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:n$f.oneOf(["default","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge"]),flip:n$f.oneOf(["default","horizontal","vertical","both"])};const p$c={size:"default",flip:"default"};u$5.displayName="KendoIcon";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$a={prefix:"k",rtl:"rtl",rounded:"rounded",value:"value",clear:"clear"},t$7={menu:"menu"},l$e={xsmall:"xs",small:"sm",medium:"md",large:"lg",xlarge:"xl",xxlarge:"xxl",xxxlarge:"xxxl"},s$e={solid:"solid",outline:"outline",flat:"flat",link:"link",clear:"clear"},c$7={base:"base",primary:"primary",secondary:"secondary",tertiary:"tertiary",info:"info",success:"success",warning:"warning",error:"error",dark:"dark",light:"light",inherit:"inherit",inverse:"inverse"},d$6={small:"sm",medium:"md",large:"lg"},u$4={up:"up",down:"down",left:"left",right:"right"},r$8={container:"container",group:"group",popup:"popup",item:"item"},a$4={text:"text",button:"button",icon:"icon",link:"link"},x$4={focus:"focus",selected:"selected",disabled:"disabled",invalid:"invalid",required:"required",empty:"empty",shown:"shown"},b$5={prefix:"animation",child:"child",relative:"relative",slide:"slide",appear:"appear",active:"active",enter:"enter",exit:"exit",pushRight:"push-right",pushLeft:"push-left",pushDown:"push-down",pushUp:"push-up",expandVertical:"expand-vertical",expandHorizontal:"expand-horizontal",fade:"fade",zoomIn:"zoom-in",zoomOut:"zoom-out",slideIn:"slide-in",slideDown:"slide-down",slideUp:"slide-up",slideRight:"slide-right",slideLeft:"slide-left",revealVertical:"reveal-vertical",revealHorizontal:"reveal-horizontal","animation-container":"animation-container","animation-container-shown":"animation-container-shown","animation-container-relative":"animation-container-relative","animation-container-fixed":"animation-container-fixed","child-animation-container":"child-animation-container"},i$7={input:"input"},v$4={prefix:"icon",svg:"svg",i:"i",color:"color",flipH:"flip-h",flipV:"flip-v"},w$2={text:"text",floatingLabel:"floating-label",container:"container"},y$1={prefix:"popup"},L$3=`${e$a.prefix}-${a$4.button}`,I$2=`${e$a.prefix}-${t$7.menu}`;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c$6={wrapper:{main:`${e$a.prefix}-${v$4.prefix}`,svgPrefix:`${e$a.prefix}-${v$4.svg}-${v$4.prefix}`,namePrefix:`${e$a.prefix}-${v$4.svg}-${v$4.i}-`,flipH:`${e$a.prefix}-${v$4.flipH}`,flipV:`${e$a.prefix}-${v$4.flipV}`,themeColor:{inherit:`${e$a.prefix}-${v$4.color}-${c$7.inherit}`,primary:`${e$a.prefix}-${v$4.color}-${c$7.primary}`,secondary:`${e$a.prefix}-${v$4.color}-${c$7.secondary}`,tertiary:`${e$a.prefix}-${v$4.color}-${c$7.tertiary}`,info:`${e$a.prefix}-${v$4.color}-${c$7.info}`,success:`${e$a.prefix}-${v$4.color}-${c$7.success}`,warning:`${e$a.prefix}-${v$4.color}-${c$7.warning}`,error:`${e$a.prefix}-${v$4.color}-${c$7.error}`,dark:`${e$a.prefix}-${v$4.color}-${c$7.dark}`,light:`${e$a.prefix}-${v$4.color}-${c$7.light}`},size:{default:"",xsmall:`${e$a.prefix}-${v$4.prefix}-${l$e.xsmall}`,small:`${e$a.prefix}-${v$4.prefix}-${l$e.small}`,medium:`${e$a.prefix}-${v$4.prefix}-${l$e.medium}`,large:`${e$a.prefix}-${v$4.prefix}-${l$e.large}`,xlarge:`${e$a.prefix}-${v$4.prefix}-${l$e.xlarge}`,xxlarge:`${e$a.prefix}-${v$4.prefix}-${l$e.xxlarge}`,xxxlarge:`${e$a.prefix}-${v$4.prefix}-${l$e.xxxlarge}`}},svg:{main:"",flipH:"",flipV:""}},m$3={wrapper:T=>{const{iconNameProp:_,themeColor:U,flipH:H,flipV:z,size:j,c:q=c$6}=T,K=q.wrapper||{};return{[K.main||""]:!0,[K.svgPrefix||""]:!0,[`${K.namePrefix||""}${_}`]:_,[K.themeColor[U]||""]:U,[K.flipH||""]:H,[K.flipV||""]:z,[K.size[j]||""]:K.size[j]}},svg:T=>{const{flipH:_,flipV:U,c:H=c$6}=T,z=H.svg;return{[z.main||""]:!0,[z.flipH||""]:_,[z.flipV||""]:U}}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const M$3=reactExports.forwardRef((T,_)=>{const{children:U,className:H,svgClassName:z,icon:j,flip:q,id:K,tabIndex:Y,size:X,style:Z,svgStyle:ne,themeColor:ie,viewBox:se,name:de,onClick:Ee,...pe}=T,le=reactExports.useRef(null),ue=n$9(),fe=ue&&ue.uSvgIcon;reactExports.useImperativeHandle(_,()=>({element:le.current}));const ve=reactExports.useMemo(()=>j?j.name:l$d.icon,[j]),me=reactExports.useMemo(()=>j?j.content:void 0,[j]),Ae=reactExports.useMemo(()=>X||l$d.size,[X]),ae=reactExports.useMemo(()=>q||l$d.flip,[q]),oe=reactExports.useMemo(()=>se||l$d.viewBox,[se]),ce=reactExports.useMemo(()=>n$c(m$3.wrapper({c:fe,iconNameProp:ve,themeColor:ie,flipH:ae==="horizontal"||ae==="both",flipV:ae==="vertical"||ae==="both",size:Ae}),H),[fe,ve,ie,ae,Ae,H]),Se=reactExports.useMemo(()=>T.width&&T.height?{width:T.width,height:T.height,...Z}:T.width?{width:T.width,height:T.width,...Z}:T.height?{width:T.height,height:T.height,...Z}:{...Z},[T.width,T.height,Z]),he=reactExports.useMemo(()=>me?{__html:me}:void 0,[me]);return reactExports.createElement("span",{className:n$c(m$3.svg({c:fe,themeColor:ie,flipH:ae==="horizontal"||ae==="both",flipV:ae==="vertical"||ae==="both"}),ce),style:Se,ref:le,onClick:Ee,"aria-hidden":!0},reactExports.createElement("svg",{id:K,className:z,style:ne,"aria-hidden":!0,tabIndex:Y,focusable:!1,xmlns:"http://www.w3.org/2000/svg",viewBox:j?j.viewBox:oe,dangerouslySetInnerHTML:he,...pe},j?void 0:U))});M$3.propTypes={style:n$f.object,classNames:n$f.string,children:n$f.any,icon:n$f.object,themeColor:n$f.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:n$f.oneOf(["default","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge"]),flip:n$f.oneOf(["default","horizontal","vertical","both"])};const l$d={size:"default",flip:"default",icon:"",viewBox:"0 0 24 24"};M$3.displayName="KendoSvgIcon";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$9=reactExports.createContext({type:"svg"});e$9.displayName="KendoReactIconsContext";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const v$3=reactExports.forwardRef((T,_)=>{var U,H;const{type:z,icons:j}=reactExports.useContext(e$9),{icon:q,...K}=T;let Y=z==="svg"?((U=T.icon)==null?void 0:U.name)||T.name:T.name||((H=T.icon)==null?void 0:H.name);Y=Y&&j&&j[Y]&&typeof j[Y]=="string"?j[Y]:Y;const X=Y&&j&&j[Y]&&typeof j[Y]!="string"?j[Y]:q;return z==="svg"&&X?reactExports.createElement(M$3,{...T,icon:X,ref:_}):reactExports.createElement(u$5,{...K,name:Y,ref:_})});v$3.displayName="KendoIconWrap";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const a$3={sizeMap:{small:"sm",medium:"md",large:"lg"},roundedMap:{small:"sm",medium:"md",large:"lg"}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let l$c=class{constructor(_){this.rovingTabIndex=!0,this.update=()=>{},this.setFocusClass=U=>{U.target.classList.add(this.focusClass)},this.disableTabindexForRest=U=>{this.elements.forEach(H=>{H!==U&&H.setAttribute("tabindex","-1")})},this.focusNextIndex=(U,H,z)=>{const j=H===1?this.next(U,z):this.previous(U,z);return this.focusElement(j,U),j},this.tabIndex=_.tabIndex||0,this.root=_.root,this.selectors=_.selectors,this.focusOptions=_.focusOptions||{preventScroll:!0},this.rovingTabIndex=_.rovingTabIndex!==void 0?_.rovingTabIndex:!0,this.mouseEvents=_.mouseEvents||{},this.keyboardEvents=_.keyboardEvents||{},this.focusClass=_.focusClass,this.lastFocused=null}get elements(){return this.root.current?Array.from(this.root.current.querySelectorAll(this.selectors.join(","))):[]}get first(){return this.root.current&&this.root.current.querySelector(this.selectors.join(","))||null}get last(){const _=this.elements;return _[_.length-1]||null}get current(){return this.elements.find(_=>_.matches(":focus"))||null}next(_,U){const H=U?this.customElements(U):this.elements;let z=H.indexOf(_)+1;return z=z<0?H.length-1:z,H[z%H.length]}previous(_,U){const H=U?this.customElements(U):this.elements;let z=H.indexOf(_)-1;return z=z<0?H.length-1:z,H[z%H.length]}focusNext(_,U){return this.focusNextIndex(_,1,U)}focusPrevious(_,U){return this.focusNextIndex(_,-1,U)}triggerKeyboardEvent(_,U){const H=this.target(_.target),z=H&&H.closest(this.selectors.join(",")),j=_.key===" "?"Space":_.key,q=_.nativeEvent.type;z&&this.keyboardEvents[q][j]&&this.keyboardEvents[q][j].call(void 0,z,this,_,U)}triggerMouseEvent(_){const U=this.target(_.target),H=U&&U.closest(this.selectors.join(",")),z=_.nativeEvent.type;H&&this.mouseEvents[z].call(void 0,H,this,_)}focusElement(_,U){_&&(U&&(this.rovingTabIndex&&U.setAttribute("tabindex","-1"),this.focusClass&&(this.removeFocusClass(U),U.removeEventListener("focus",this.setFocusClass))),this.rovingTabIndex&&_.setAttribute("tabindex",String(this.tabIndex)),this.focusClass&&(_.classList.add(this.focusClass),_.addEventListener("focus",this.setFocusClass)),_.focus(this.focusOptions),this.lastFocused=_)}initializeRovingTab(_){const U=_?this.elements[_]:this.first;U&&(this.focusClass&&U.addEventListener("focus",this.setFocusClass),U.setAttribute("tabindex",String(this.tabIndex)),this.disableTabindexForRest(U))}removeFocusListener(){this.lastFocused&&this.lastFocused.removeEventListener("focus",this.setFocusClass)}removeFocusClass(_){this.focusClass&&_.classList.remove(this.focusClass)}customElements(_){return this.root.current?Array.from(this.root.current.querySelectorAll(_.join(","))):[]}target(_){var U;const H=_,z=H&&H.ownerDocument||null,j=z&&((U=z==null?void 0:z.defaultView)==null?void 0:U.Element)||Element;return _ instanceof j?_:null}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c$5=T=>{const _=T.shadowRoot,U=T.contentDocument;return _&&_.activeElement?c$5(_.activeElement):U&&U.activeElement?c$5(U.activeElement):T},o$c=T=>{if(!(!T||!T.activeElement))return c$5(T.activeElement)};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$b={child:{container:`${e$a.prefix}-${b$5[`${b$5.prefix}-${r$8.container}`]}`,relative:`${e$a.prefix}-${b$5[`${b$5.prefix}-${r$8.container}-${b$5.relative}`]}`},childContainer:{container:`${e$a.prefix}-${b$5[`${b$5.child}-${b$5.prefix}-${r$8.container}`]}`},appear:{"push-right":`${e$a.prefix}-${b$5.pushRight}-${b$5.appear}`,"push-left":`${e$a.prefix}-${b$5.pushLeft}-${b$5.appear}`,"push-down":`${e$a.prefix}-${b$5.pushDown}-${b$5.appear}`,"push-up":`${e$a.prefix}-${b$5.pushUp}-${b$5.appear}`,"expand-vertical":`${e$a.prefix}-${b$5.expandVertical}-${b$5.appear}`,"expand-horizontal":`${e$a.prefix}-${b$5.expandHorizontal}-${b$5.appear}`,fade:`${e$a.prefix}-${b$5.fade}-${b$5.appear}`,"zoom-in":`${e$a.prefix}-${b$5.zoomIn}-${b$5.appear}`,"zoom-out":`${e$a.prefix}-${b$5.zoomOut}-${b$5.appear}`,"slide-in":`${e$a.prefix}-${b$5.slideIn}-${b$5.appear}`,"slide-down":`${e$a.prefix}-${b$5.slideDown}-${b$5.appear}`,"slide-up":`${e$a.prefix}-${b$5.slideUp}-${b$5.appear}`,"slide-right":`${e$a.prefix}-${b$5.slideRight}-${b$5.appear}`,"slide-left":`${e$a.prefix}-${b$5.slideLeft}-${b$5.appear}`,"reveal-vertical":`${e$a.prefix}-${b$5.revealVertical}-${b$5.appear}`,"reveal-horizontal":`${e$a.prefix}-${b$5.revealHorizontal}-${b$5.appear}`},appearActive:{"push-right":`${e$a.prefix}-${b$5.pushRight}-${b$5.appear}-${b$5.active}`,"push-left":`${e$a.prefix}-${b$5.pushLeft}-${b$5.appear}-${b$5.active}`,"push-down":`${e$a.prefix}-${b$5.pushDown}-${b$5.appear}-${b$5.active}`,"push-up":`${e$a.prefix}-${b$5.pushUp}-${b$5.appear}-${b$5.active}`,"expand-vertical":`${e$a.prefix}-${b$5.expandVertical}-${b$5.appear}-${b$5.active}`,"expand-horizontal":`${e$a.prefix}-${b$5.expandHorizontal}-${b$5.appear}-${b$5.active}`,fade:`${e$a.prefix}-${b$5.fade}-${b$5.appear}-${b$5.active}`,"zoom-in":`${e$a.prefix}-${b$5.zoomIn}-${b$5.appear}-${b$5.active}`,"zoom-out":`${e$a.prefix}-${b$5.zoomOut}-${b$5.appear}-${b$5.active}`,"slide-in":`${e$a.prefix}-${b$5.slideIn}-${b$5.appear}-${b$5.active}`,"slide-down":`${e$a.prefix}-${b$5.slideDown}-${b$5.appear}-${b$5.active}`,"slide-up":`${e$a.prefix}-${b$5.slideUp}-${b$5.appear}-${b$5.active}`,"slide-right":`${e$a.prefix}-${b$5.slideRight}-${b$5.appear}-${b$5.active}`,"slide-left":`${e$a.prefix}-${b$5.slideLeft}-${b$5.appear}-${b$5.active}`,"reveal-vertical":`${e$a.prefix}-${b$5.revealVertical}-${b$5.appear}-${b$5.active}`,"reveal-horizontal":`${e$a.prefix}-${b$5.revealHorizontal}-${b$5.appear}-${b$5.active}`},enter:{"push-right":`${e$a.prefix}-${b$5.pushRight}-${b$5.enter}`,"push-left":`${e$a.prefix}-${b$5.pushLeft}-${b$5.enter}`,"push-down":`${e$a.prefix}-${b$5.pushDown}-${b$5.enter}`,"push-up":`${e$a.prefix}-${b$5.pushUp}-${b$5.enter}`,"expand-vertical":`${e$a.prefix}-${b$5.expandVertical}-${b$5.enter}`,"expand-horizontal":`${e$a.prefix}-${b$5.expandHorizontal}-${b$5.enter}`,fade:`${e$a.prefix}-${b$5.fade}-${b$5.enter}`,"zoom-in":`${e$a.prefix}-${b$5.zoomIn}-${b$5.enter}`,"zoom-out":`${e$a.prefix}-${b$5.zoomOut}-${b$5.enter}`,"slide-in":`${e$a.prefix}-${b$5.slideIn}-${b$5.enter}`,"slide-down":`${e$a.prefix}-${b$5.slideDown}-${b$5.enter}`,"slide-up":`${e$a.prefix}-${b$5.slideUp}-${b$5.enter}`,"slide-right":`${e$a.prefix}-${b$5.slideRight}-${b$5.enter}`,"slide-left":`${e$a.prefix}-${b$5.slideLeft}-${b$5.enter}`,"reveal-vertical":`${e$a.prefix}-${b$5.revealVertical}-${b$5.enter}`,"reveal-horizontal":`${e$a.prefix}-${b$5.revealHorizontal}-${b$5.enter}`},enterActive:{"push-right":`${e$a.prefix}-${b$5.pushRight}-${b$5.enter}-${b$5.active}`,"push-left":`${e$a.prefix}-${b$5.pushLeft}-${b$5.enter}-${b$5.active}`,"push-down":`${e$a.prefix}-${b$5.pushDown}-${b$5.enter}-${b$5.active}`,"push-up":`${e$a.prefix}-${b$5.pushUp}-${b$5.enter}-${b$5.active}`,"expand-vertical":`${e$a.prefix}-${b$5.expandVertical}-${b$5.enter}-${b$5.active}`,"expand-horizontal":`${e$a.prefix}-${b$5.expandHorizontal}-${b$5.enter}-${b$5.active}`,fade:`${e$a.prefix}-${b$5.fade}-${b$5.enter}-${b$5.active}`,"zoom-in":`${e$a.prefix}-${b$5.zoomIn}-${b$5.enter}-${b$5.active}`,"zoom-out":`${e$a.prefix}-${b$5.zoomOut}-${b$5.enter}-${b$5.active}`,"slide-in":`${e$a.prefix}-${b$5.slideIn}-${b$5.enter}-${b$5.active}`,"slide-down":`${e$a.prefix}-${b$5.slideDown}-${b$5.enter}-${b$5.active}`,"slide-up":`${e$a.prefix}-${b$5.slideUp}-${b$5.enter}-${b$5.active}`,"slide-right":`${e$a.prefix}-${b$5.slideRight}-${b$5.enter}-${b$5.active}`,"slide-left":`${e$a.prefix}-${b$5.slideLeft}-${b$5.enter}-${b$5.active}`,"reveal-vertical":`${e$a.prefix}-${b$5.revealVertical}-${b$5.enter}-${b$5.active}`,"reveal-horizontal":`${e$a.prefix}-${b$5.revealHorizontal}-${b$5.enter}-${b$5.active}`},exit:{"push-right":`${e$a.prefix}-${b$5.pushRight}-${b$5.exit}`,"push-left":`${e$a.prefix}-${b$5.pushLeft}-${b$5.exit}`,"push-down":`${e$a.prefix}-${b$5.pushDown}-${b$5.exit}`,"push-up":`${e$a.prefix}-${b$5.pushUp}-${b$5.exit}`,"expand-vertical":`${e$a.prefix}-${b$5.expandVertical}-${b$5.exit}`,"expand-horizontal":`${e$a.prefix}-${b$5.expandHorizontal}-${b$5.exit}`,fade:`${e$a.prefix}-${b$5.fade}-${b$5.exit}`,"zoom-in":`${e$a.prefix}-${b$5.zoomIn}-${b$5.exit}`,"zoom-out":`${e$a.prefix}-${b$5.zoomOut}-${b$5.exit}`,"slide-in":`${e$a.prefix}-${b$5.slideIn}-${b$5.exit}`,"slide-down":`${e$a.prefix}-${b$5.slideDown}-${b$5.exit}`,"slide-up":`${e$a.prefix}-${b$5.slideUp}-${b$5.exit}`,"slide-right":`${e$a.prefix}-${b$5.slideRight}-${b$5.exit}`,"slide-left":`${e$a.prefix}-${b$5.slideLeft}-${b$5.exit}`,"reveal-vertical":`${e$a.prefix}-${b$5.revealVertical}-${b$5.exit}`,"reveal-horizontal":`${e$a.prefix}-${b$5.revealHorizontal}-${b$5.exit}`},exitActive:{"push-right":`${e$a.prefix}-${b$5.pushRight}-${b$5.exit}-${b$5.active}`,"push-left":`${e$a.prefix}-${b$5.pushLeft}-${b$5.exit}-${b$5.active}`,"push-down":`${e$a.prefix}-${b$5.pushDown}-${b$5.exit}-${b$5.active}`,"push-up":`${e$a.prefix}-${b$5.pushUp}-${b$5.exit}-${b$5.active}`,"expand-vertical":`${e$a.prefix}-${b$5.expandVertical}-${b$5.exit}-${b$5.active}`,"expand-horizontal":`${e$a.prefix}-${b$5.expandHorizontal}-${b$5.exit}-${b$5.active}`,fade:`${e$a.prefix}-${b$5.fade}-${b$5.exit}-${b$5.active}`,"zoom-in":`${e$a.prefix}-${b$5.zoomIn}-${b$5.exit}-${b$5.active}`,"zoom-out":`${e$a.prefix}-${b$5.zoomOut}-${b$5.exit}-${b$5.active}`,"slide-in":`${e$a.prefix}-${b$5.slideIn}-${b$5.exit}-${b$5.active}`,"slide-down":`${e$a.prefix}-${b$5.slideDown}-${b$5.exit}-${b$5.active}`,"slide-up":`${e$a.prefix}-${b$5.slideUp}-${b$5.exit}-${b$5.active}`,"slide-right":`${e$a.prefix}-${b$5.slideRight}-${b$5.exit}-${b$5.active}`,"slide-left":`${e$a.prefix}-${b$5.slideLeft}-${b$5.exit}-${b$5.active}`,"reveal-vertical":`${e$a.prefix}-${b$5.revealVertical}-${b$5.exit}-${b$5.active}`,"reveal-horizontal":`${e$a.prefix}-${b$5.revealHorizontal}-${b$5.exit}-${b$5.active}`}},x$3={child:T=>{const{c:_=p$b}=T;return{[_.child.container]:!0,[_.child.relative]:!0}},childContainer:T=>{const{c:_=p$b}=T;return{[_.childContainer.container]:!0}},appear:T=>{const{c:_=p$b,transitionName:U}=T;return{[`${_.appear[U]}`]:_.appear[U],[`${U}-${b$5.appear}`]:!_.appear[U]}},appearActive:T=>{const{c:_=p$b,transitionName:U}=T;return{[`${_.appearActive[U]}`]:_.appearActive[U],[`${U}-${b$5.appear}-${b$5.active}`]:!_.appearActive[U]}},enter:T=>{const{c:_=p$b,transitionName:U}=T;return{[`${_.enter[U]}`]:_.enter[U],[`${U}-${b$5.enter}`]:!_.enter[U]}},enterActive:T=>{const{c:_=p$b,transitionName:U}=T;return{[`${_.enterActive[U]}`]:_.enterActive[U],[`${U}-${b$5.enter}-${b$5.active}`]:!_.enterActive[U]}},exit:T=>{const{c:_=p$b,transitionName:U}=T;return{[`${_.exit[U]}`]:_.exit[U],[`${U}-${b$5.exit}`]:!_.exit[U]}},exitActive:T=>{const{c:_=p$b,transitionName:U}=T;return{[`${_.exitActive[U]}`]:_.exitActive[U],[`${U}-${b$5.exit}-${b$5.active}`]:!_.exitActive[U]}}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s$d=(T,_)=>U=>{const{c:H=T}=U;return{[H[_]||""]:!0}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const M$2={wrapper:{main:L$3,size:{small:`${L$3}-${l$e.small}`,medium:`${L$3}-${l$e.medium}`,large:`${L$3}-${l$e.large}`},fillMode:{solid:`${L$3}-${s$e.solid}`,outline:`${L$3}-${s$e.outline}`,flat:`${L$3}-${s$e.flat}`,link:`${L$3}-${s$e.link}`,clear:`${L$3}-${s$e.clear}`},themeColor:{base:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.base}`,outline:`${L$3}-${s$e.outline}-${c$7.base}`,flat:`${L$3}-${s$e.flat}-${c$7.base}`,link:`${L$3}-${s$e.link}-${c$7.base}`,clear:`${L$3}-${s$e.clear}-${c$7.base}`}},primary:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.primary}`,outline:`${L$3}-${s$e.outline}-${c$7.primary}`,flat:`${L$3}-${s$e.flat}-${c$7.primary}`,link:`${L$3}-${s$e.link}-${c$7.primary}`,clear:`${L$3}-${s$e.clear}-${c$7.primary}`}},secondary:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.secondary}`,outline:`${L$3}-${s$e.outline}-${c$7.secondary}`,flat:`${L$3}-${s$e.flat}-${c$7.secondary}`,link:`${L$3}-${s$e.link}-${c$7.secondary}`,clear:`${L$3}-${s$e.clear}-${c$7.secondary}`}},tertiary:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.tertiary}`,outline:`${L$3}-${s$e.outline}-${c$7.tertiary}`,flat:`${L$3}-${s$e.flat}-${c$7.tertiary}`,link:`${L$3}-${s$e.link}-${c$7.tertiary}`,clear:`${L$3}-${s$e.clear}-${c$7.tertiary}`}},info:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.info}`,outline:`${L$3}-${s$e.outline}-${c$7.info}`,flat:`${L$3}-${s$e.flat}-${c$7.info}`,link:`${L$3}-${s$e.link}-${c$7.info}`,clear:`${L$3}-${s$e.clear}-${c$7.info}`}},success:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.success}`,outline:`${L$3}-${s$e.outline}-${c$7.success}`,flat:`${L$3}-${s$e.flat}-${c$7.success}`,link:`${L$3}-${s$e.link}-${c$7.success}`,clear:`${L$3}-${s$e.clear}-${c$7.success}`}},warning:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.warning}`,outline:`${L$3}-${s$e.outline}-${c$7.warning}`,flat:`${L$3}-${s$e.flat}-${c$7.warning}`,link:`${L$3}-${s$e.link}-${c$7.warning}`,clear:`${L$3}-${s$e.clear}-${c$7.warning}`}},error:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.error}`,outline:`${L$3}-${s$e.outline}-${c$7.error}`,flat:`${L$3}-${s$e.flat}-${c$7.error}`,link:`${L$3}-${s$e.link}-${c$7.error}`,clear:`${L$3}-${s$e.clear}-${c$7.error}`}},dark:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.dark}`,outline:`${L$3}-${s$e.outline}-${c$7.dark}`,flat:`${L$3}-${s$e.flat}-${c$7.dark}`,link:`${L$3}-${s$e.link}-${c$7.dark}`,clear:`${L$3}-${s$e.clear}-${c$7.dark}`}},light:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.light}`,outline:`${L$3}-${s$e.outline}-${c$7.light}`,flat:`${L$3}-${s$e.flat}-${c$7.light}`,link:`${L$3}-${s$e.link}-${c$7.light}`,clear:`${L$3}-${s$e.clear}-${c$7.light}`}},inverse:{fillMode:{solid:`${L$3}-${s$e.solid}-${c$7.inverse}`,outline:`${L$3}-${s$e.outline}-${c$7.inverse}`,flat:`${L$3}-${s$e.flat}-${c$7.inverse}`,link:`${L$3}-${s$e.link}-${c$7.inverse}`,clear:`${L$3}-${s$e.clear}-${c$7.inverse}`}}},rounded:{small:`${e$a.prefix}-${e$a.rounded}-${d$6.small}`,medium:`${e$a.prefix}-${e$a.rounded}-${d$6.medium}`,large:`${e$a.prefix}-${e$a.rounded}-${d$6.large}`},iconButton:`${e$a.prefix}-${a$4.icon}-${a$4.button}`,disabled:`${e$a.prefix}-${x$4.disabled}`,selected:`${e$a.prefix}-${x$4.selected}`,isRtl:`${e$a.prefix}-${e$a.rtl}`},text:`${L$3}-${a$4.text}`,icon:`${L$3}-${a$4.icon}`},G$1={wrapper:T=>{const{isRtl:_,selected:U,disabled:H,size:z,fillMode:j,rounded:q,themeColor:K,iconButton:Y,c:X=M$2}=T,Z=X.wrapper,ne=Z.themeColor[K],ie=ne.fillMode[j];return{[Z.main]:!0,[Z.size[z]]:Z.size[z],[`${L$3}-${z}`]:z&&!Z.size[z],[Z.fillMode[j]]:Z.fillMode[j],[ie]:ie,[Z.rounded[q]]:Z.rounded[q],[`${e$a.prefix}-${e$a.rounded}-${q}`]:q&&!Z.rounded[q],[Z.iconButton]:Y,[ne.disabled]:H&&ne&&ne.disabled,[ne.selected]:U&&ne&&ne.selected,[Z.disabled]:H,[Z.selected]:U,[Z.isRtl]:_}},text:T=>{const{c:_=M$2}=T;return{[_.text]:!0}},icon:T=>{const{c:_=M$2}=T;return{[_.icon]:!0}}},m$2={wrapper:{main:`${I$2}-${a$4.button}`,focus:`${e$a.prefix}-${x$4.focus}`,disabled:`${e$a.prefix}-${x$4.disabled}`},ul:{group:`${I$2}-${r$8.group}`,size:{small:`${I$2}-${r$8.group}-${l$e.small}`,medium:`${I$2}-${r$8.group}-${l$e.medium}`,large:`${I$2}-${r$8.group}-${l$e.large}`}},li:{item:`${e$a.prefix}-${r$8.item}`,focus:`${e$a.prefix}-${x$4.focus}`},item:`${I$2}-${r$8.item}`,link:{main:`${e$a.prefix}-${a$4.link}`,link:`${I$2}-${a$4.link}`,selected:`${e$a.prefix}-${x$4.selected}`,disabled:`${e$a.prefix}-${x$4.disabled}`},popup:`${I$2}-${r$8.popup}`},F$2={wrapper:T=>{const{focused:_,disabled:U,c:H=m$2}=T,z=H.wrapper;return{[z.main]:!0,[z.focus]:_,[z.disabled]:U}},ul:T=>{const{size:_,c:U=m$2}=T,H=U.ul;return{[H.group]:!0,[H.size[_]]:H.size[_],[`${I$2}-${r$8.group}-${_}`]:_&&!H.size[_]}},li:T=>{const{focused:_,c:U=m$2}=T,H=U.li;return{[H.item]:!0,[H.focus]:_}},item:s$d(m$2,"item"),link:T=>{const{selected:_,disabled:U,c:H=m$2}=T,z=H.link;return{[z.main]:!0,[z.link]:!0,[z.selected]:_,[z.disabled]:U}},popup:s$d(m$2,"popup")};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s$c=`${e$a.prefix}-${i$7.input}`,k$1={input:{main:`${s$c} ${s$c}-${l$e.medium} ${e$a.prefix}-${e$a.rounded}-${d$6.medium} ${s$c}-${s$e.solid}`,disabled:`${e$a.prefix}-${x$4.disabled}`,required:`${e$a.prefix}-${x$4.required}`,invalid:`${e$a.prefix}-${x$4.invalid}`,isRtl:`${e$a.prefix}-${e$a.rtl}`},clearButton:`${e$a.prefix}-${e$a.clear}-${e$a.value}`},F$1={input:T=>{const{disabled:_,invalid:U,required:H,isRtl:z,c:j=k$1}=T,q=j.input;return{[q==null?void 0:q.main]:!0,[q==null?void 0:q.disabled]:_,[q==null?void 0:q.required]:H,[q==null?void 0:q.invalid]:U,[q==null?void 0:q.isRtl]:z}},clearButton:s$d(k$1,"clearButton")};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const m$1=`${e$a.prefix}-${w$2.floatingLabel}`,f$5={wrapper:{main:`${m$1}-${w$2.container}`,focused:`${e$a.prefix}-${x$4.focus}`,empty:`${e$a.prefix}-${x$4.empty}`,notEmpty:"",disabled:`${e$a.prefix}-${w$2.text}-${x$4.disabled}`,isRtl:`${e$a.prefix}-${e$a.rtl}`},label:{main:m$1,focused:"",empty:"",notEmpty:"",invalid:`${e$a.prefix}-${w$2.text}-${c$7.error}`,disabled:`${e$a.prefix}-${w$2.text}-${x$4.disabled}`}},g$5={wrapper:T=>{const{focused:_,empty:U,notEmpty:H,disabled:z,isRtl:j,c:q=f$5}=T,K=q.wrapper;return{[K==null?void 0:K.main]:!0,[K==null?void 0:K.focused]:_,[K==null?void 0:K.empty]:U,[K==null?void 0:K.notEmpty]:H,[K==null?void 0:K.disabled]:z,[K==null?void 0:K.isRtl]:j}},label:T=>{const{focused:_,empty:U,notEmpty:H,invalid:z,disabled:j,c:q=f$5}=T,K=q.label;return{[K==null?void 0:K.main]:!0,[K==null?void 0:K.focused]:_,[K==null?void 0:K.empty]:U,[K==null?void 0:K.notEmpty]:H,[K==null?void 0:K.invalid]:z,[K==null?void 0:K.disabled]:j}}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$a={animationContainer:`${e$a.prefix}-${b$5.prefix}-${r$8.container}`,animationContainerShown:`${e$a.prefix}-${b$5.prefix}-${r$8.container}-${x$4.shown}`,animationChild:`${e$a.prefix}-${b$5.child}-${b$5.prefix}-${r$8.container}`,popup:`${e$a.prefix}-${y$1.prefix}`,slide:{up:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.up}-${b$5.enter}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.up}-${b$5.exit}`},down:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.down}-${b$5.enter}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.down}-${b$5.exit}`},left:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.left}-${b$5.enter}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.left}-${b$5.exit}`},right:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.right}-${b$5.enter}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.right}-${b$5.exit}`}},slideActive:{up:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.up}-${b$5.enter}-${b$5.active}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.up}-${b$5.exit}-${b$5.active}`},down:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.down}-${b$5.enter}-${b$5.active}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.down}-${b$5.exit}-${b$5.active}`},left:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.left}-${b$5.enter}-${b$5.active}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.left}-${b$5.exit}-${b$5.active}`},right:{enter:`${e$a.prefix}-${b$5.slide}-${u$4.right}-${b$5.enter}-${b$5.active}`,exit:`${e$a.prefix}-${b$5.slide}-${u$4.right}-${b$5.exit}-${b$5.active}`}}},l$b={animationContainer:T=>{const{c:_=p$a}=T;return{[_.animationContainer]:!0}},animationContainerShown:T=>{const{c:_=p$a}=T;return{[_.animationContainerShown]:!0}},animationChild:T=>{const{c:_=p$a}=T;return{[_.animationChild]:!0}},popup:T=>{const{c:_=p$a}=T;return{[_.popup]:!0}},slide:T=>{const{direction:_,type:U,c:H=p$a}=T;return{[H.slide[_][U]]:H.slide[_]&&H.slide[_][U]}},slideActive:T=>{const{direction:_,type:U,c:H=p$a}=T;return{[H.slideActive[_][U]]:H.slideActive[_]&&H.slideActive[_][U]}}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const u$3="",c$4="0",t$6="_";function f$4(T,_){if(i$6(T))return _[Number(T)];const U=_[Number(s$b(T))];return U.items?f$4(g$4(T),U.items):void 0}function s$b(T){return o$b(T)?T:T.split(t$6)[0]}function g$4(T){if(o$b(T))return T;const _=T.indexOf(t$6);return T.substring(_+1)}function b$4(T){return a$2("0",T)}function x$2(T,_){return _.indexOf(T)===0?_.length===T.length||_.charAt(T.length)===t$6:!1}function a$2(T,_){return _?_+t$6+T:T}function O$1(T){const _=T.lastIndexOf(t$6);return _<0?u$3:T.substring(0,_)}function o$b(T){return T===u$3||T.indexOf(t$6)<0}function i$6(T){return T!==u$3&&T.indexOf(t$6)<0}function E$1(T){return S$1(T)===1}function p$9(T){return l$a(T)===c$4}function l$a(T){const _=T.lastIndexOf(t$6);return _<0?T:T.substring(_+1)}function L$2(T,_,U){return i$6(_)?T?Number(_)<U-1?(Number(_)+1).toString():"0":Number(_)>0?(Number(_)-1).toString():(U-1).toString():_}function S$1(T){return T.split(t$6).length-1}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s$a=class extends reactExports.Component{render(){return null}};s$a.propTypes={text:n$f.string,url:n$f.string,icon:n$f.string,disabled:n$f.bool,cssClass:n$f.string,cssStyle:n$f.object,render:n$f.any,linkRender:n$f.any,contentRender:n$f.any,data:n$f.any,separator:n$f.bool};let t$5=s$a;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function L$1(T,_){if(T&&T.length>0)return{items:c$3(T),inputItems:T};if(s$9(_).length>0){const U=R$3(s$9(_));return{items:c$3(U),inputItems:U}}return{items:[],inputItems:[]}}function h$3(T,_){const U={},{text:H,url:z,icon:j,svgIcon:q,disabled:K,cssClass:Y,cssStyle:X,render:Z,linkRender:ne,contentRender:ie,data:se,separator:de}=T||_.props;return H!==void 0&&(U.text=H),z!==void 0&&(U.url=z),j!==void 0&&(U.icon=j),q!==void 0&&(U.svgIcon=q),K!==void 0&&(U.disabled=K),Y!==void 0&&(U.cssClass=Y),X!==void 0&&(U.cssStyle=X),Z!==void 0&&(U.render=Z),ne!==void 0&&(U.linkRender=ne),ie!==void 0&&(U.contentRender=ie),se!==void 0&&(U.data=se),de!==void 0&&(U.separator=de),U}function s$9(T){return reactExports.Children.toArray(T).filter(_=>_&&_.type===t$5)}function R$3(T){const _=[];for(let U=0;U<T.length;U++){const H=T[U],z=h$3(void 0,H),j=R$3(s$9(H.props.children));j.length>0&&(z.items=j),_.push(z)}return _}function c$3(T,_){const U=[];for(let H=0;H<T.length;H++){const z=T[H],j=h$3(z);j.id=a$2(H.toString(),_),j.isLastFromSiblings=H===T.length-1,j.separator=z.separator===!0,j.items=E(z,j),U.push(j)}return U}function E(T,_){return T.contentRender?[{contentParentItemId:_.id,id:a$2(c$4,_.id),isLastFromSiblings:!0,separator:!1,contentRender:T.contentRender,items:[]}]:T.items?c$3(T.items,_.id):[]}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Q$1=/\S/;function V$1(T,_,U,H,z,j){const q=ae();switch(U){case e$f.left:return K();case e$f.right:return Y();case e$f.up:return Z();case e$f.down:return X();case e$f.enter:case e$f.space:return ne();case e$f.home:return ie();case e$f.end:return se();case e$f.esc:return de();default:return Ae()?Ee():_}function K(){return z?j?fe():le():j?ue():pe()}function Y(){return z?j?le():fe():j?pe():ue()}function X(){return z?Se():i$6(_)?ve():Se()}function Z(){return z?ce():i$6(_)?me():ce()}function ne(){return q.disabled?_:oe()?b$4(_):s$b(_)}function ie(){return xe()[0].id}function se(){const qe=xe();return qe[qe.length-1].id}function de(){return i$6(_)?_:O$1(_)}function Ee(){const qe=H.toLowerCase(),Fe=xe(),He=Number(l$a(_)),Ye=Fe.slice(He+1).concat(Fe.slice(0,He+1)).find(ke=>(ke.text||"").toLowerCase().startsWith(qe));return Ye?Ye.id:_}function pe(){return i$6(_)?ce():E$1(_)?ve(ce(s$b(_))):O$1(_)}function le(){return i$6(_)?me():O$1(_)}function ue(){return i$6(_)?Se():ve(oe()?_:Se(s$b(_)))}function fe(){return ve(i$6(_)||oe()?_:Se(s$b(_)))}function ve(qe){return ye(!0,qe)}function me(qe){return ye(!1,qe)}function Ae(){return H.length===1&&Q$1.test(H)}function ae(qe,Fe){return qe===void 0&&(qe=_),Fe===void 0&&(Fe=T),f$4(qe,Fe)}function oe(qe){return ae(qe).items.length>0}function ce(qe){return Ge(!1,qe)}function Se(qe){return Ge(!0,qe)}function he(qe){const Fe=ae(qe).items;return Fe[Fe.length-1].id}function xe(){return i$6(_)?T:ae(O$1(_),T).items}function ye(qe,Fe){Fe===void 0&&(Fe=_);const He=ae(Fe);return oe(Fe)&&!He.disabled?qe?b$4(Fe):he(Fe):Fe}function Ge(qe,Fe){if(Fe===void 0&&(Fe=_),i$6(Fe))return L$2(qe,Fe,T.length);const He=O$1(Fe),Ye=l$a(Fe),ke=ae(He).items.length;return a$2(L$2(qe,Ye,ke),He)}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function n$6(T){return T.hoverOpenDelay!==void 0?T.hoverOpenDelay:T.openOnClick?0:100}function o$a(T){return T.hoverCloseDelay!==void 0?T.hoverCloseDelay:100}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$8=(T,_,U)=>{T.style.transitionDuration="",_&&T.classList.remove(..._.split(" ")),U&&T.classList.remove(...U.split(" "))},y=typeof window<"u"&&/Firefox/.test(window.navigator.userAgent),x$1=(T,_,U,H,z,j)=>{if(U===0)return z();const q=n$c(l$b.slide({direction:_,type:H,c:j})),K=n$c(l$b.slideActive({direction:_,type:H,c:j})),Y=ie=>{ie.target===T&&(T.removeEventListener("transitionend",Y),p$8(T,q,K),H==="exit"?T.style.display="none":T.style.display="",z())};T.addEventListener("transitionend",Y);const X=T.ownerDocument;if(!X)return;const Z=X.defaultView;if(!Z)return;const ne=()=>{p$8(T,q,K),H==="enter"&&(T.style.display=""),q&&T.classList.add(...q.split(" ").filter(ie=>ie)),Z.requestAnimationFrame(()=>{T.style.transitionDuration=U+"ms",T.classList.add(...K.split(" ").filter(ie=>ie))})};y?Z.requestAnimationFrame(ne):ne()},s$8={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"};var align=function(T){var _=T.anchorRect,U=T.anchorAlign,H=T.elementRect,z=T.elementAlign,j=T.margin;j===void 0&&(j={});var q=U.horizontal,K=U.vertical,Y=z.horizontal,X=z.vertical,Z=j.horizontal||0,ne=j.vertical||0,ie=_.top,se=_.left;return K===s$8.bottom&&(ie+=_.height),(K===s$8.center||K===s$8.middle)&&(ie+=Math.round(_.height/2)),X===s$8.bottom&&(ie-=H.height,ne*=-1),(X===s$8.center||X===s$8.middle)&&(ie-=Math.round(H.height/2),ne*=-1),q===s$8.right&&(se+=_.width),(q===s$8.center||q===s$8.middle)&&(se+=Math.round(_.width/2)),Y===s$8.right&&(se-=H.width,Z*=-1),(Y===s$8.center||Y===s$8.middle)&&(se-=Math.round(H.width/2),Z*=-1),{top:ie+ne,left:se+Z}};function addScroll(T,_){return{top:T.top+_.y,left:T.left+_.x,height:T.height,width:T.width}}function ownerDocument(T){return T.ownerDocument||T.document||T}var getWindow$1=function(T){return ownerDocument(T).defaultView},getDocument$1=function(T){return ownerDocument(T).documentElement},cachedWidth=0;function scrollbarWidth(){if(!cachedWidth&&typeof document<"u"){var T=document.createElement("div");T.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",T.innerHTML="&nbsp;",document.body.appendChild(T),cachedWidth=T.offsetWidth-T.scrollWidth,document.body.removeChild(T)}return cachedWidth}function windowViewport(T){var _=getWindow$1(T),U=getDocument$1(T),H={height:_.innerHeight,width:_.innerWidth};return U.scrollHeight-U.clientHeight>0&&(H.width-=scrollbarWidth()),H}var boundingOffset=function(T){if(!T.getBoundingClientRect){var _=windowViewport(T);return{bottom:_.height,left:0,right:_.width,top:0}}var U=T.getBoundingClientRect(),H=U.bottom,z=U.left,j=U.right,q=U.top;return{bottom:H,left:z,right:j,top:q}},offsetParent=function(T){for(var _=T.offsetParent;_&&_.style.position==="static";)_=_.offsetParent;return _||getDocument$1(T)},rectOfHiddenElement=function(T){var _=T.style,U=_.display,H=_.left,z=_.position;T.style.display="",T.style.left="-10000px",T.style.position="absolute";var j=T.getBoundingClientRect();return T.style.display=U,T.style.left=H,T.style.position=z,j},offset$1=function(T){var _=T.getBoundingClientRect(),U=_.left,H=_.top;return!_.height&&!_.width&&(_=rectOfHiddenElement(T)),{top:H,left:U,height:_.height,width:_.width}};function parents(T,_){for(var U=[],H=T.parentNode;H&&(U.push(H),H!==_);)H=H.parentNode;return U}function scrollPosition(T){var _=getDocument$1(T),U=getWindow$1(T);return{x:U.pageXOffset||_.scrollLeft||0,y:U.pageYOffset||_.scrollTop||0}}function elementScrollPosition$1(T){return T===(T.ownerDocument||{}).body?scrollPosition(T):{x:T.scrollLeft,y:T.scrollTop}}function parentScrollPosition(T){var _=offsetParent(T);return _?elementScrollPosition$1(_):{x:0,y:0}}var position$1=function(T,_){var U=getWindow$1(T),H=U.getComputedStyle(T),z=offset$1(T),j=_||offsetParent(T),q=T.ownerDocument,K=j!==q.body&&j!==q.documentElement,Y={top:0,left:0};if(H.position!=="fixed"&&K){var X=U.getComputedStyle(j);Y=offset$1(j),Y.top+=parseInt(X.borderTopWidth,10),Y.left+=parseInt(X.borderLeftWidth,10)}return{top:z.top-Y.top,left:z.left-Y.left,height:z.height,width:z.width}};function offsetParentScrollPosition(T,_){return T?elementScrollPosition$1(T):parentScrollPosition(_)}function positionWithScroll(T,_,U){U===void 0&&(U=1);var H=_?offsetParent(_):null,z=position$1(T,H),j=z.top,q=z.left,K=z.height,Y=z.width,X=offsetParentScrollPosition(H,T),Z=X.x,ne=X.y,ie=T.ownerDocument,se=H===ie.body||H===ie.documentElement?1:U;return{top:j+ne*se,left:q+Z*se,height:K,width:Y}}function removeScroll(T,_){return{top:T.top-_.y,left:T.left-_.x,height:T.height,width:T.width}}const w$1={fit:"fit",flip:"flip",none:"none"};var fit=function(T,_,U){var H=0;return T+_>U&&(H=U-(T+_)),T<0&&(H=-T),H},flip=function(T){var _=T.offset,U=T.size,H=T.anchorSize,z=T.viewPortSize,j=T.anchorAlignPoint,q=T.elementAlignPoint,K=T.margin,Y=0,X=q===s$8.center||q===s$8.middle,Z=j===s$8.center||j===s$8.middle,ne=2*K;if(q!==j&&!X&&!Z){var ie=j===s$8.top||j===s$8.left;_<0&&ie?(Y=U+H+ne,_+Y+U>z&&(Y=0)):_>=0&&!ie&&(_+U>z&&(Y+=-(H+U+ne)),_+Y<0&&(Y=0))}return Y},restrictToView=function(T){var _=T.anchorRect,U=T.anchorAlign,H=T.elementRect,z=T.elementAlign,j=T.collisions,q=T.viewPort,K=T.margin;K===void 0&&(K={});var Y=H.top,X=H.left,Z=H.height,ne=H.width,ie=q.height,se=q.width,de=K.horizontal||0,Ee=K.vertical||0,pe=0,le=0,ue=j.vertical===w$1.fit,fe=j.horizontal===w$1.fit,ve=j.vertical===w$1.flip,me=j.horizontal===w$1.flip;ue&&(le+=fit(Y,Z,ie)),fe&&(pe+=fit(X,ne,se)),ve&&(le+=flip({margin:Ee,offset:Y,size:Z,anchorSize:_.height,viewPortSize:ie,anchorAlignPoint:U.vertical,elementAlignPoint:z.vertical})),me&&(pe+=flip({margin:de,offset:X,size:ne,anchorSize:_.width,viewPortSize:se,anchorAlignPoint:U.horizontal,elementAlignPoint:z.horizontal}));var Ae=ve&&le!==0,ae=me&&pe!==0,oe=ue&&le!==0,ce=fe&&pe!==0;return{flipped:ae||Ae,fitted:oe||ce,flip:{horizontal:ae,vertical:Ae},fit:{horizontal:ce,vertical:oe},offset:{left:pe,top:le}}};function siblings(T){for(var _=[],U=T.parentNode.firstElementChild;U;)U!==T&&_.push(U),U=U.nextElementSibling;return _}function siblingContainer(T,_){for(var U=parents(T),H=_,z,j;H&&(z=siblings(H),j=U.reduce(function(q,K){return q.concat(z.filter(function(Y){return Y===K}))},[])[0],!j);)H=H.parentElement;return j}var eitherRect=function(T,_){return T||{height:0,left:_.left,top:_.top,width:0}},scaleRect=function(T,_){return!T||_===1?T:{height:T.height/_,left:T.left/_,top:T.top/_,width:T.width/_}},removeStackingOffset=function(T,_){if(!_)return T;var U={height:T.height,left:T.left-_.left,top:T.top-_.top,width:T.width};return U};function memoize(T){var _,U=!1;return function(){for(var H=[],z=arguments.length;z--;)H[z]=arguments[z];return U||(_=T.apply(void 0,H),U=!0),_}}var hasRelativeStackingContext=memoize(function(T){if(!canUseDOM())return!1;var _=T?T.ownerDocument:document;if(!_||!_.body)return!1;var U=10,H=_.createElement("div");H.style.transform="matrix(10, 0, 0, 10, 0, 0)",H.innerHTML='<div style="position: fixed; top: '+U+'px;">child</div>',_.body.appendChild(H);var z=H.children[0].getBoundingClientRect().top!==U;return _.body.removeChild(H),z}),canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},utils$2={eitherRect,scaleRect,removeStackingOffset,hasRelativeStackingContext,canUseDOM},STYLES=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],addOffset=function(T,_){return{left:T.left+_.left,top:T.top+_.top}},getWindow=function(){return utils$2.canUseDOM()?window:null},getFontStyles=function(T){var _=getWindow();if(!_||!T)return[];var U=_.getComputedStyle(T);return STYLES.map(function(H){return{key:H,value:U[H]}})},hasOffsetParent=function(T){return T?!!T.offsetParent:!1},offset=function(T){return T?offset$1(T):null},offsetAtPoint=function(T,_){if(!T)return null;var U=T.style,H=U.left,z=U.top,j=U.transition;T.style.transition="none",T.style.left=_.left+"px",T.style.top=_.top+"px";var q=offset$1(T);return T.style.left=H,T.style.top=z,T.offsetHeight,T.style.transition=j,q},position=function(T,_,U){if(!T||!_)return null;var H=U||1;return positionWithScroll(T,_,H)},OVERFLOW_REGEXP=/auto|scroll/,overflowElementStyle=function(T){return""+T.style.overflow+T.style.overflowX+T.style.overflowY},overflowComputedStyle=function(T){var _=window.getComputedStyle(T);return""+_.overflow+_.overflowX+_.overflowY},overflowStyle=function(T){return overflowElementStyle(T)||overflowComputedStyle(T)},scrollableParents=function(T){var _=[];if(!utils$2.canUseDOM())return _;for(var U=T.parentElement;U;)(OVERFLOW_REGEXP.test(overflowStyle(U))||U.hasAttribute("data-scrollable"))&&_.push(U),U=U.parentElement;return _.push(window),_},getRelativeContextElement=function(T){if(!T||!utils$2.hasRelativeStackingContext())return null;for(var _=T.parentElement;_;){if(window.getComputedStyle(_).transform!=="none")return _;_=_.parentElement}return null},stackingElementOffset=function(T){var _=getRelativeContextElement(T);return _?offset$1(_):null},stackingElementScroll=function(T){var _=getRelativeContextElement(T);return _?{x:_.scrollLeft,y:_.scrollTop}:{x:0,y:0}},stackingElementViewPort=function(T){var _=getRelativeContextElement(T);return _?{height:_.scrollHeight,width:_.scrollWidth}:null},useRelativePosition=function(T){return!!getRelativeContextElement(T)},zoomLevel=function(){return utils$2.canUseDOM()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1},isZoomed=function(){return zoomLevel()>1},zIndex=function(T,_){if(!T||!utils$2.canUseDOM())return null;var U=siblingContainer(T,_);if(!U)return null;var H=[T].concat(parents(T,U)).reduce(function(z,j){var q=j.style.zIndex||window.getComputedStyle(j).zIndex,K=parseInt(q,10);return K>z?K:z},0);return H?H+1:null},domUtils={addOffset,addScroll,align,boundingOffset,getFontStyles,getWindow,hasOffsetParent,offset,offsetAtPoint,position,removeScroll,restrictToView,scrollPosition,scrollableParents,getRelativeContextElement,stackingElementOffset,stackingElementScroll,stackingElementViewPort,useRelativePosition,windowViewPort:windowViewport,zoomLevel,isZoomed,zIndex},absoluteRect=function(T,_,U,H){var z=elementScrollPosition(T,_),j=utils$2.eitherRect(domUtils.offset(T),U),q=2*H,K=domUtils.stackingElementScroll(_);H!==1&&K&&(K.x/=q,K.y/=q);var Y=domUtils.stackingElementOffset(_);return H!==1&&Y&&(Y.left/=q,Y.top/=q),domUtils.removeScroll(domUtils.addScroll(utils$2.removeStackingOffset(utils$2.scaleRect(j,H),Y),K),z)},relativeRect=function(T,_,U,H){var z=utils$2.eitherRect(domUtils.position(T,_,H),U);return utils$2.scaleRect(z,H)},elementScrollPosition=function(T,_){return T?{x:0,y:0}:domUtils.scrollPosition(_)},alignElement=function(T){var _=T.anchor,U=T.element,H=T.anchorAlign,z=T.elementAlign,j=T.margin,q=T.offset,K=T.positionMode,Y=T.scale,X=Y||1,Z=K==="fixed"||!domUtils.hasOffsetParent(U),ne=Z?absoluteRect(_,U,q,X):relativeRect(_,U,q,X),ie=utils$2.scaleRect(domUtils.offset(U),X),se=domUtils.align({anchorAlign:H,anchorRect:ne,elementAlign:z,elementRect:ie,margin:j});return se},positionElement=function(T){var _=T.anchor,U=T.currentLocation,H=T.element,z=T.anchorAlign,j=T.elementAlign,q=T.collisions,K=T.margin,Y=T.scale,X=Y||1,Z=domUtils.offsetAtPoint(H,U),ne=utils$2.scaleRect(Z,X),ie=utils$2.scaleRect(domUtils.offset(_),X),se=utils$2.eitherRect(ie,U),de=T.viewPort||domUtils.windowViewPort(H);de.width=de.width/X,de.height=de.height/X;var Ee=domUtils.restrictToView({anchorAlign:z,anchorRect:se,collisions:q,elementAlign:j,elementRect:ne,margin:K,viewPort:de}),pe=domUtils.addOffset(U,Ee.offset);return{flip:Ee.flip,flipped:Ee.flipped,fit:Ee.fit,fitted:Ee.fitted,offset:pe}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const d$5=16.666666666666668,g$3=function(T,_,U={}){let H,z,j,q,K=0;U=U||{};const Y=function(){K=U.leading===!1?0:new Date().getTime(),H=void 0,q=T.apply(z,j),H||(z=j=null)};return function(){const X=new Date().getTime();!K&&U.leading===!1&&(K=X);const Z=_-(X-K);return z=void 0,j=arguments,Z<=0||Z>_?(H&&(clearTimeout(H),H=void 0),K=X,q=T.apply(z,j),H||(z=j=null)):!H&&U.trailing!==!1&&(H=window.setTimeout(Y,Z)),q}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Te=reactExports.createContext(T=>T),Re=100,Ne=1;function b$3(T,_){if(T===_)return!0;if(!!T!=!!_)return!1;const U=Object.getOwnPropertyNames(T),H=Object.getOwnPropertyNames(_);if(U.length!==H.length)return!1;for(let z=0;z<U.length;z++){const j=U[z];if(T[j]!==_[j])return!1}return!0}const ze={left:-1e3,top:0},te=reactExports.forwardRef((T,_)=>{const U=reactExports.useContext(Te).call(void 0,T),{collision:H=g$2.collision,anchorAlign:z=g$2.anchorAlign,popupAlign:j=g$2.popupAlign,offset:q=g$2.offset,animate:K=g$2.animate,show:Y=g$2.show,margin:X=g$2.margin,positionMode:Z=g$2.positionMode,appendTo:ne,contentKey:ie,anchor:se,scale:de,role:Ee,onKeyDown:pe,onPosition:le,onOpen:ue,onMouseDownOutside:fe,onClose:ve,className:me,popupClass:Ae,id:ae,style:oe,children:ce}=U,Se=n$9(),he=U.unstyled||Se,xe=he&&he.uPopup,[ye,Ge]=reactExports.useState({current:"hidden",previous:"hidden",props:{}}),qe=$e=>{window==null||window.addEventListener("mousedown",ke),Fe($e),Ye($e.firstChild,"enter",He),Ge({...on,current:"shown",previous:on.current})},Fe=$e=>{const{width:Be,height:ct}=$e.style;$e.style.width=$e.offsetWidth+"px",$e.style.height=$e.offsetHeight+"px";const vt=alignElement({anchor:se,anchorAlign:z,element:$e,elementAlign:j,offset:q,margin:X,positionMode:Z,scale:de}),qt=positionElement({anchor:se,anchorAlign:z,element:$e,elementAlign:j,collisions:H,currentLocation:vt,margin:X});if($e.style.top=qt.offset.top+"px",$e.style.left=qt.offset.left+"px",$e.style.width=Be,$e.style.height=ct,Le.current={fit:qt.fit,fitted:qt.fitted,flip:qt.flip,flipped:qt.flipped},le){const fn={target:Bt.current,flipped:qt.flipped,fitted:qt.fitted};le.call(void 0,fn)}},He=()=>{const $e=ut.current;$e&&(Y&&$e.classList.add(...n$c(l$b.animationContainerShown({c:xe})).split(" ").filter(Be=>Be)),Ie($e),ue&&ue.call(void 0,{target:Bt.current}))},Ye=($e,Be,ct)=>{if(!j)return;let vt;const{horizontal:qt,vertical:fn}=j;qt==="left"&&fn==="center"?vt="right":qt==="right"&&fn==="center"?vt="left":fn==="top"?vt="down":vt="up";const pn={down:"up",up:"down",left:"right",right:"left"};Le.current&&Le.current.flipped&&(vt=pn[vt]),x$1($e,vt,De()[Be],Be,ct,xe)},ke=$e=>{var Be;const ct=((Be=$e==null?void 0:$e.target)==null?void 0:Be.closest(".k-animation-container"))===null,vt=(se==null?void 0:se.contains($e==null?void 0:$e.target))||!1;if(ct){if(fe){const qt={target:Bt.current,event:$e,state:ye,isAnchorClicked:vt};fe.call(void 0,qt)}window==null||window.removeEventListener("mousedown",ke)}},Ke=$e=>{if(!Y){const Be=he&&he.uPopup;$e.classList.remove(...n$c(l$b.animationContainerShown({c:Be})).split(" ").filter(ct=>ct))}Pe()},gt=()=>{on.current==="hiding"&&(on.previous==="shown"||on.previous==="reposition")&&Ge({...on,current:"hidden",previous:on.current}),ve&&ve.call(void 0,{target:Bt.current})},De=()=>{const $e=K;let Be=0,ct=0;return $e&&($e===!0?Be=ct=300:(Be=$e.openDuration||0,ct=$e.closeDuration||0)),{enter:Be,exit:ct}},Ie=$e=>{Pe(),Qe.current=domUtils.scrollableParents(se||$e),Qe.current&&Qe.current.map(Be=>Be.addEventListener("scroll",we)),window.addEventListener("resize",we)},Pe=()=>{Qe.current&&(Qe.current.map($e=>$e.removeEventListener("scroll",we)),Qe.current=void 0),window.removeEventListener("resize",we)},we=g$3(()=>{on.current!=="hidden"&&on.current!=="hiding"&&Ge({...ye,current:"reposition",previous:on.current})},d$5),Ve=()=>Me?Me+Ne:Re,Me=n$e()||0,Le=reactExports.useRef(),Qe=reactExports.useRef(),ut=reactExports.useRef(null),Bt=reactExports.useRef(null),nn=reactExports.useRef({}),un=reactExports.useRef(!1);reactExports.useImperativeHandle(Bt,()=>({element:ut.current,setPosition:Fe,props:T})),reactExports.useImperativeHandle(_,()=>Bt.current);const on=reactExports.useMemo(()=>{const $e={...ye,props:{show:Y,anchor:se,anchorAlign:z,appendTo:ne,collision:H,popupAlign:j,className:me,popupClass:Ae,style:oe,offset:q,contentKey:ie}};return Y?ye.current==="hidden"||ye.current==="hiding"?{...$e,current:"showing",previous:ye.current}:ye.current==="showing"?{...$e,current:"shown",previous:ye.current}:ye.current==="shown"&&(!b$3(q,ye.props.offset)||!b$3(z,ye.props.anchorAlign)||!b$3(ne,ye.props.appendTo)||!b$3(H,ye.props.collision)||!b$3(j,ye.props.popupAlign)||!b$3(oe,ye.props.style)||se!==ye.props.anchor||Ae!==ye.props.popupClass||me!==ye.props.className)?{...$e,current:"reposition",previous:ye.current}:$e:ye.current==="hiding"||ye.current==="hidden"?{...$e,current:"hidden",previous:ye.current}:{...$e,current:"hiding",previous:ye.current}},[Y,se,z,ne,H,j,me,Ae,oe,q,ie,ye]);reactExports.useEffect(()=>{on.current==="hiding"&&!un.current&&ut.current?(un.current=!0,Ke(ut.current),Ye(ut.current.firstChild,"exit",gt)):(un.current=!1,on.current==="showing"&&ut.current?qe(ut.current):on.current==="hiding"&&ut.current?gt():on.current==="reposition"&&on.previous==="shown"?setTimeout(()=>{Ge({...on,current:"shown",previous:on.current})},0):on.current==="shown"&&nn.current.contentKey!==ie&&ut.current&&Fe(ut.current)),on.current==="reposition"&&(on.previous==="shown"||on.previous==="showing")&&ut.current&&Fe(ut.current),nn.current={contentKey:ie}},[on]),reactExports.useEffect(()=>(on.current==="showing"&&ut.current&&qe(ut.current),()=>{Pe()}),[]);const hn=ne||(e$g?se&&se.ownerDocument?se.ownerDocument.body:document.body:void 0),At=Object.assign({},{position:Z,top:0,left:-1e4},oe||{}),xt=on.current==="hiding";if((Y||xt)&&hn){const $e=Ve(),Be=reactExports.createElement(t$9.Provider,{value:$e},reactExports.createElement("div",{onKeyDown:pe,className:n$c(l$b.animationContainer({c:xe}),me),id:ae,ref:ut,style:{zIndex:$e,...At}},reactExports.createElement("div",{className:n$c(l$b.animationChild({c:xe})),style:{transitionDelay:"0ms"}},reactExports.createElement("div",{role:Ee,className:n$c(l$b.popup({c:xe}),Ae)},ce))));return ne!==null?reactDomExports.createPortal(Be,hn):Be}return null}),g$2={collision:{horizontal:w$1.fit,vertical:w$1.flip},anchorAlign:{horizontal:s$8.left,vertical:s$8.bottom},popupAlign:{horizontal:s$8.left,vertical:s$8.top},offset:ze,animate:!0,show:!1,margin:{horizontal:0,vertical:0},positionMode:"absolute"};te.displayName="Popup";te.propTypes={anchor:function(T){const _=T.anchor;return _&&typeof _.nodeType!="number"?new Error("Invalid prop `anchor` supplied to `Kendo React Popup`. Validation failed."):null},appendTo:function(T){const _=T.appendTo;return _&&typeof _.nodeType!="number"?new Error("Invalid prop `appendTo` supplied to `Kendo React Popup`. Validation failed."):null},className:n$f.oneOfType([n$f.string,n$f.arrayOf(n$f.string.isRequired)]),id:n$f.string,popupClass:n$f.oneOfType([n$f.string,n$f.arrayOf(n$f.string),n$f.object]),collision:n$f.shape({horizontal:n$f.oneOf([w$1.fit,w$1.flip,w$1.none]),vertical:n$f.oneOf([w$1.fit,w$1.flip,w$1.none])}),anchorAlign:n$f.shape({horizontal:n$f.oneOf([s$8.left,s$8.center,s$8.right]),vertical:n$f.oneOf([s$8.top,s$8.center,s$8.bottom])}),popupAlign:n$f.shape({horizontal:n$f.oneOf([s$8.left,s$8.center,s$8.right]),vertical:n$f.oneOf([s$8.top,s$8.center,s$8.bottom])}),offset:n$f.shape({left:n$f.number,top:n$f.number}),children:n$f.oneOfType([n$f.element,n$f.node]),show:n$f.bool,animate:n$f.oneOfType([n$f.bool,n$f.shape({openDuration:n$f.number,closeDuration:n$f.number})]),margin:n$f.shape({horizontal:n$f.number,vertical:n$f.number}),positionMode:n$f.oneOf(["fixed","absolute"]),scale:n$f.number,style:n$f.object,onClose:n$f.func,onPosition:n$f.func,onOpen:n$f.func,onKeyDown:n$f.func,onMouseDownOutside:n$f.func};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const o$9={vertical:"top",horizontal:"left"},t$4={vertical:"top",horizontal:"right"},i$5={vertical:"flip",horizontal:"fit"},l$9={vertical:"fit",horizontal:"flip"},n$5={downward:{anchorAlign:{vertical:"bottom",horizontal:"right"},popupAlign:t$4,collision:i$5},leftward:{anchorAlign:{vertical:"top",horizontal:"left"},popupAlign:t$4,collision:l$9}},r$7={downward:{anchorAlign:{vertical:"bottom",horizontal:"left"},popupAlign:o$9,collision:i$5},rightward:{anchorAlign:{vertical:"top",horizontal:"right"},popupAlign:o$9,collision:l$9}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function f$3(T,_,U){const H=i$4(T,_,U);return U?H==="downward"?n$5.downward:n$5.leftward:H==="downward"?r$7.downward:r$7.rightward}function i$4(T,_,U){return i$6(T)?_?U?"leftward":"rightward":"downward":U?"leftward":"rightward"}function l$8(T){return T?"rtl":"ltr"}function P(T,_){return`${T}_${_}`}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s$7=class extends reactExports.Component{render(){return this.props.url?reactExports.createElement("a",{className:this.getMenuItemClassName(),role:"presentation",href:this.props.url,tabIndex:-1},this.props.children):reactExports.createElement("span",{id:this.props.id,className:n$c(this.getMenuItemClassName(),this.props.className),style:this.props.style,role:"presentation"},this.props.children)}getMenuItemClassName(){return n$c("k-link","k-menu-link",{"k-active":this.props.opened})}};s$7.propTypes={opened:n$f.bool,url:n$f.string};let p$7=s$7;const caretAltUpIcon={name:"caret-alt-up",content:'<path d="m256 160 128 192H128z" />',viewBox:"0 0 512 512"},caretAltRightIcon={name:"caret-alt-right",content:'<path d="M352 256 160 384V128z" />',viewBox:"0 0 512 512"},caretAltDownIcon={name:"caret-alt-down",content:'<path d="M256 352 128 160h256z" />',viewBox:"0 0 512 512"},caretAltLeftIcon={name:"caret-alt-left",content:'<path d="m160 256 192-128v256z" />',viewBox:"0 0 512 512"},arrowRightIcon={name:"arrow-right",content:'<path d="M224 384v-96H96v-64h128v-96l192 128z" />',viewBox:"0 0 512 512"},checkOutlineIcon={name:"check-outline",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192m-32-154-83-83-45 45 128 128 176-176-45-45z" />',viewBox:"0 0 512 512"},xIcon={name:"x",content:'<path d="M416 141.3 301.3 256 416 370.7 370.7 416 256 301.3 141.3 416 96 370.7 210.7 256 96 141.3 141.3 96 256 210.7 370.7 96z" />',viewBox:"0 0 512 512"},xOutlineIcon={name:"x-outline",content:'<path d="M384 338.7 338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7zM256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192" />',viewBox:"0 0 512 512"},infoCircleIcon={name:"info-circle",content:'<path d="M288 352h32v32H192v-32h32v-96h-32v-32h96zm0-224h-64v64h64zm192 128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},exclamationCircleIcon={name:"exclamation-circle",content:'<path d="M224 128h64v160h-64zm0 256h64v-64h-64zm256-128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},clipboardTextIcon={name:"clipboard-text",content:'<path d="M416 32H311.4C300.3 12.9 279.7 0 256 0s-44.3 12.9-55.4 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32m-160 0c17.7 0 32 14.3 32 32h-64c0-17.7 14.3-32 32-32m160 416H96V64h64v64h192V64h64zm-32-224H128v-32h256zm0 64H128v-32h256zm0 64H128v-32h256zm0 64H128v-32h256z" />',viewBox:"0 0 512 512"},userIcon={name:"user",content:'<path d="M352 128c0 53-43 96-96 96s-96-43-96-96 43-96 96-96 96 43 96 96m-96 128c-106 0-192 86-192 192 0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32 0-106-86-192-192-192" />',viewBox:"0 0 512 512"},fileTxtIcon={name:"file-txt",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-96v32H128v-32zM256 160v32H128v-32m256 64v32H128v-32zm-256 96v-32h224v32z" />',viewBox:"0 0 512 512"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const l$7="caret-alt-down",p$6="caret-alt-right",d$4="caret-alt-left",r$6=class extends reactExports.Component{render(){return reactExports.createElement(v$3,{"aria-hidden":!0,...this.getIcon()})}getIcon(){switch(i$4(this.props.itemId,this.props.verticalMenu===!0,this.props.dir==="rtl")){case"downward":return{name:l$7,icon:caretAltDownIcon};case"rightward":return{name:p$6,icon:caretAltRightIcon};case"leftward":return{name:d$4,icon:caretAltLeftIcon};default:return{}}}};r$6.propTypes={itemId:n$f.string,dir:n$f.string,verticalMenu:n$f.bool};let o$8=r$6;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let f$2=class extends reactExports.Component{constructor(){super(...arguments),this.onMouseOver=_=>{this.props.onMouseOver(this.props.parentItemId),_.stopPropagation()},this.onMouseLeave=_=>{this.props.onMouseLeave(this.props.parentItemId),_.stopPropagation()}}render(){const _=this.props.parentItemId;return reactExports.createElement("ul",{className:this.props.className,role:this.props.role?this.props.role:_!==void 0?"menu":"menubar",id:_!==void 0?P(this.props.menuGuid,_):void 0,onMouseOver:_!==void 0?this.onMouseOver:void 0,onMouseLeave:_!==void 0?this.onMouseLeave:void 0,"aria-orientation":this.props["aria-orientation"]},this.renderChildItems())}renderChildItems(){return this.props.items.length>0?this.props.items.map((_,U)=>reactExports.createElement(v$2,{item:_,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.props.menuGuid,onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded,key:U})):null}},v$2=class extends reactExports.Component{constructor(_){super(_),this.isFirstRender=!0,this.onMouseOver=U=>{this.props.onMouseOver(this.props.item.id),U.stopPropagation()},this.onMouseLeave=U=>{this.props.onMouseLeave(this.props.item.id),U.stopPropagation()},this.state={opened:!1}}componentDidMount(){const _=this.props.focusedItemId,U=this.props.item.id;_&&_===U&&this.itemElement.focus({preventScroll:!0}),this.isFirstRender=!1}componentDidUpdate(_){const U=this.props.focusedItemId,H=this.props.item.id;if(U){const z=o$c(document);_.focusedItemId!==U&&U===H&&!this.itemElement.contains(z)&&this.itemElement.focus({preventScroll:!0})}}render(){const _=this.props.item,U=_.id,H=P(this.props.menuGuid,U),z=_.separator;return reactExports.createElement(reactExports.Fragment,null,z?reactExports.createElement("li",{className:"k-separator k-item","aria-hidden":!0,key:H,id:H,ref:j=>this.itemElement=j}):reactExports.createElement("li",{id:H,className:this.getMenuItemClassName(_),style:_.cssStyle,tabIndex:U===this.props.tabbableItemId?0:-1,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:j=>this.props.onMouseDown(j),onBlur:j=>this.props.onBlur(U,j),onFocus:()=>this.props.onFocus(U),onClick:j=>this.props.onClick(j,U),role:"menuitem","aria-disabled":_.disabled?!0:void 0,"aria-haspopup":_.items.length>0?!0:void 0,"aria-expanded":_.items.length>0?this.Opened:void 0,"aria-label":_.text,"aria-owns":this.Opened?H:void 0,ref:j=>this.itemElement=j,key:H},this.contentRender?this.renderContent():this.renderMenuItemLink()),this.renderPopupIfOpened())}renderContent(){const _=this.props.item.contentParentItemId;return reactExports.createElement("div",{className:"k-content",role:"presentation"},reactExports.createElement(this.contentRender,{item:this.props.onOriginalItemNeeded(_),itemId:_}))}renderMenuItemLink(){const _=this.props.item;if(this.linkRender)return reactExports.createElement(this.linkRender,{item:this.props.onOriginalItemNeeded(_.id),itemId:_.id,opened:this.Opened,dir:l$8(this.props.isDirectionRightToLeft)});const U=this.itemRender?reactExports.createElement(this.itemRender,{item:this.props.onOriginalItemNeeded(_.id),itemId:_.id,key:"1"}):reactExports.createElement("span",{className:"k-menu-link-text"},_.text);return reactExports.createElement(p$7,{url:_.url,opened:this.Opened},this.renderMenuIconIfApplicable(),U,this.renderArrowIfApplicable())}renderPopupIfOpened(){if(this.Opened){const _=this.props.item.id,{anchorAlign:U,popupAlign:H,collision:z}=f$3(_,this.props.isMenuVertical,this.props.isDirectionRightToLeft);return reactExports.createElement(te,{anchor:this.itemElement,show:!0,popupClass:this.getPopupClassName(),anchorAlign:U,popupAlign:H,collision:z,animate:!1,key:"1"},reactExports.createElement(f$2,{parentItemId:_,items:this.props.item.items,menuGuid:this.props.menuGuid,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,className:"k-group k-menu-group k-reset k-menu-group-md",onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded}))}return null}renderMenuIconIfApplicable(){const{icon:_,svgIcon:U}=this.props.item;return _||U?reactExports.createElement(v$3,{name:_,icon:U,key:"0"}):null}renderArrowIfApplicable(){return this.props.item.items.length>0?reactExports.createElement("span",{className:"k-menu-expand-arrow","aria-hidden":!0},reactExports.createElement(o$8,{itemId:this.props.item.id,verticalMenu:this.props.isMenuVertical,dir:l$8(this.props.isDirectionRightToLeft),key:"2"})):null}get itemRender(){return this.props.item.render||this.props.itemRender}get linkRender(){return this.props.item.linkRender||this.props.linkRender}get contentRender(){return this.props.item.contentParentItemId?this.props.item.contentRender:null}get Opened(){const _=this.props;return _.item.items.length>0&&x$2(_.item.id,_.lastItemIdToBeOpened)&&!this.isFirstRender}getPopupClassName(){return n$c("k-menu-popup",{"k-rtl":this.props.isDirectionRightToLeft})}getMenuItemClassName(_){return n$c("k-item","k-menu-item",{"k-first":p$9(_.id),"k-last":_.isLastFromSiblings,"k-disabled":_.disabled},_.cssClass)}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let e$8=class{constructor(){this.phase="Initialized"}getIsDirectionRightToLeft(){return this.isDirectionRightToLeft}setIsDirectionRightToLeft(_){this.phase=this.phase==="NotInitialized"?"Initialized":"NewValueReceived",this.previousIsDirectionRightToLeft=this.isDirectionRightToLeft,this.isDirectionRightToLeft=_}hasDirectionChanged(){return this.phase==="NewValueReceived"?this.previousIsDirectionRightToLeft!==this.isDirectionRightToLeft:!1}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let n$4=class{constructor(_,U,H){this.openOnClick=_,this.resetMenu=U,this.openItem=H,this.mouseDown=!1,this.openOnClick=_,this.isMouseOverEnabled=!_}set OpenOnClick(_){!!_!=!!this.openOnClick&&(this.mouseDown=!1,this.isMouseOverEnabled=!_),this.openOnClick=_}handleItemSelectedViaKeyboard(){this.openOnClick&&(this.isMouseOverEnabled=!1,this.resetMenu())}get IsMouseOverEnabled(){return this.isMouseOverEnabled}handleItemMouseDown(){this.mouseDown=!0}handleItemFocus(){this.openOnClick&&!this.mouseDown&&(this.isMouseOverEnabled=!0),this.mouseDown=!1}handleItemClick(_,U){this.openOnClick&&(this.isMouseOverEnabled?U&&(this.isMouseOverEnabled=!1,this.resetMenu()):(this.isMouseOverEnabled=!0,this.openItem(_)))}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$5={focusedItemId:u$3,hoveredItemId:u$3,tabbableItemId:c$4},a$1=class extends reactExports.Component{constructor(_){super(_),this.menuWrapperEl=null,this.directionHolder=new e$8,this.inputItems=[],this.items=[],this.reset=()=>{this.clearItemHoverAndLeaveRequestsIfApplicable(),this.setState(p$5)},this.onKeyDown=U=>{if(this.state.focusedItemId!==u$3){const H=f$4(this.state.focusedItemId,this.items);let z=V$1(this.items,H.id,U.keyCode,U.key,this.props.vertical,this.directionHolder.getIsDirectionRightToLeft());const j=f$4(z,this.items);j&&j.separator&&(z=V$1(this.items,z,U.keyCode,U.key,this.props.vertical,this.directionHolder.getIsDirectionRightToLeft())),H.id!==z&&(U.preventDefault(),this.setFocusedItemId(z)),(U.keyCode===e$f.enter||U.keyCode===e$f.space)&&!H.disabled&&(this.mouseOverHandler.handleItemSelectedViaKeyboard(),this.dispatchSelectEventIfWired(U,H.id),!U.isDefaultPrevented()&&H.items.length===0&&H.url&&window.location.assign(H.url))}U.keyCode===e$f.esc&&this.props.onClose&&this.props.onClose.call(void 0,U)},this.onItemMouseOver=U=>{this.mouseOverHandler.IsMouseOverEnabled&&(this.clearItemHoverAndLeaveRequestsIfApplicable(),this.itemHoverRequest=window.setTimeout(()=>{this.setHoveredItemId(U),this.itemHoverRequest=null},n$6(this.props)))},this.onItemMouseLeave=U=>{this.mouseOverHandler.IsMouseOverEnabled&&this.isItemWithDefaultClose(U)&&(this.clearItemHoverAndLeaveRequestsIfApplicable(),this.itemLeaveRequest=window.setTimeout(()=>{this.setHoveredItemId(u$3),this.itemLeaveRequest=null},o$a(this.props)))},this.onItemMouseDown=()=>{this.mouseOverHandler.handleItemMouseDown()},this.onItemFocus=U=>{this.setFocusedItemId(U),this.mouseOverHandler.handleItemFocus()},this.onItemClick=(U,H)=>{const z=f$4(H,this.items);z.disabled||(this.setFocusedItemId(H),this.mouseOverHandler.handleItemClick(H,this.isItemWithDefaultClose(H)),this.dispatchSelectEventIfWired(U,H),!U.isDefaultPrevented()&&z.url&&window.location.assign(z.url))},this.onItemBlur=(U,H)=>{if(this.isItemWithDefaultClose(U)&&this.setFocusedItemId(u$3),H.relatedTarget&&H.relatedTarget.nodeName==="LI"){const z=H.relatedTarget.getAttribute("id");if(z&&z.includes(this.menuItemId))return}this.props.onClose&&this.props.onClose.call(void 0,H)},this.getInputItem=U=>f$4(U,this.inputItems),this.mouseOverHandler=new n$4(this.props.openOnClick,this.reset,this.onItemMouseOver),this.state=Object.assign({},p$5,{isFirstRender:!0})}get menuItemId(){return this.props.id}get element(){return this.menuWrapperEl}render(){this.prepareItems(),this.state.isFirstRender||this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());const _=this.state.hoveredItemId?this.state.hoveredItemId:this.state.focusedItemId?O$1(this.state.focusedItemId):u$3;return reactExports.createElement("div",{id:this.props.id,onKeyDown:this.onKeyDown,style:this.props.style,className:this.directionHolder.getIsDirectionRightToLeft()?"k-rtl":void 0,ref:U=>this.menuWrapperEl=U},reactExports.createElement(f$2,{className:this.getMenuClassName(),"aria-orientation":this.props.vertical?"vertical":void 0,items:this.items,isMenuVertical:this.props.vertical,isDirectionRightToLeft:this.directionHolder.getIsDirectionRightToLeft(),focusedItemId:this.state.focusedItemId,lastItemIdToBeOpened:_,tabbableItemId:this.state.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.menuItemId,onMouseLeave:this.onItemMouseLeave,onMouseOver:this.onItemMouseOver,onMouseDown:this.onItemMouseDown,onFocus:this.onItemFocus,onClick:this.onItemClick,onBlur:this.onItemBlur,onOriginalItemNeeded:this.getInputItem,role:this.props.role}))}componentDidMount(){this.setState({isFirstRender:!1})}componentDidUpdate(_){(!!_.vertical!=!!this.props.vertical||this.directionHolder.hasDirectionChanged())&&this.reset(),this.mouseOverHandler.OpenOnClick=this.props.openOnClick}componentWillUnmount(){this.clearItemHoverAndLeaveRequestsIfApplicable()}setFocusedItemId(_){this.setState(U=>{const H=_===u$3?U.tabbableItemId:s$b(_);return{hoveredItemId:_===u$3||o$b(U.hoveredItemId)&&o$b(_)?U.hoveredItemId:u$3,focusedItemId:_,tabbableItemId:H}})}setHoveredItemId(_){this.setState(U=>o$b(_)&&o$b(U.focusedItemId)?{hoveredItemId:_,focusedItemId:U.focusedItemId,tabbableItemId:U.tabbableItemId}:{hoveredItemId:_,focusedItemId:u$3,tabbableItemId:c$4})}getMenuClassName(){return n$c("k-reset","k-header","k-menu",{"k-menu-horizontal":!this.props.vertical},{"k-menu-vertical":this.props.vertical},this.props.className)}clearItemHoverAndLeaveRequestsIfApplicable(){this.itemHoverRequest&&(clearTimeout(this.itemHoverRequest),this.itemHoverRequest=null),this.itemLeaveRequest&&(clearTimeout(this.itemLeaveRequest),this.itemLeaveRequest=null)}isItemWithDefaultClose(_){return!this.props.customCloseItemIds||this.props.customCloseItemIds.indexOf(_)===-1}checkIsDirectionRightToLeft(){return!!(this.props.dir!==void 0?this.props.dir==="rtl":this.menuWrapperEl&&getComputedStyle(this.menuWrapperEl).direction==="rtl")}prepareItems(){const{items:_,inputItems:U}=L$1(this.props.items,this.props.children);this.items=_,this.inputItems=U}dispatchSelectEventIfWired(_,U){v$5(this.props.onSelect,_,this,{item:this.getInputItem(U),itemId:U})}};a$1.propTypes={vertical:n$f.bool,items:n$f.arrayOf(n$f.object),style:n$f.object,dir:n$f.string,hoverOpenDelay:n$f.number,hoverCloseDelay:n$f.number,openOnClick:n$f.bool,itemRender:n$f.any,linkRender:n$f.any,customCloseItemIds:n$f.arrayOf(n$f.string),onSelect:n$f.func,role:n$f.string},a$1.defaultProps={vertical:!1};let u$2=a$1;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const o$7=class extends reactExports.Component{constructor(){super(...arguments),this.itemRef=null,this.focus=()=>{this.itemRef&&this.itemRef.focus()},this.blur=()=>{this.itemRef&&this.itemRef.blur()},this.onClick=()=>{this.props.onSelect&&this.props.onSelect(this.props.index),this.itemRef&&(this.itemRef.tabIndex=0,this.itemRef.focus())}}render(){const{id:_,active:U,disabled:H,title:z="Untitled",index:j,renderAllContent:q,first:K,last:Y}=this.props,X=q?`${this.props.contentPanelId}-${j.toString()}`:this.props.contentPanelId,Z={id:`${_}-${j.toString()}`,"aria-selected":U,"aria-controls":U?X:void 0,"aria-disabled":H,role:"tab",onClick:H?void 0:this.onClick},ne=n$c("k-item","k-tabstrip-item",{"k-disabled":H,"k-active":U,"k-first":K,"k-last":Y});return reactExports.createElement("li",{...Z,className:ne,ref:ie=>this.itemRef=ie,onBlur:this.blur,"aria-controls":X},reactExports.createElement("span",{className:"k-link"},z))}};o$7.propTypes={active:n$f.bool,disabled:n$f.bool,index:n$f.number,onSelect:n$f.func,title:n$f.oneOfType([n$f.string,n$f.element]),first:n$f.bool,last:n$f.bool};let l$6=o$7;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function G({imageUrl:T,name:_,iconClass:U,svgIcon:H,imageAlt:z,buttonClasses:j}){return T?reactExports.createElement("img",{role:"presentation",className:n$c(G$1.icon({c:j})),alt:z,src:T}):_||H?reactExports.createElement(v$3,{className:n$c(G$1.icon({c:j})),name:_,icon:H}):U?reactExports.createElement("span",{role:"presentation",className:n$c(G$1.icon({c:j}),U)}):null}const M$1=reactExports.forwardRef((T,_)=>{const{children:U,togglable:H,dir:z,disabled:j,selected:q,icon:K,iconClass:Y,svgIcon:X,imageUrl:Z,imageAlt:ne,className:ie,startIcon:se,endIcon:de,onClick:Ee,size:pe=p$4.size,rounded:le=p$4.rounded,fillMode:ue=p$4.fillMode,themeColor:fe=p$4.themeColor,...ve}=T,me=()=>{H&&q===void 0&&(ae.current=!ce,Se(!ce))},Ae=Ye=>{me(),Ee&&Ee.call(void 0,Ye)},ae=reactExports.useRef(),oe=reactExports.useRef(null),[ce,Se]=reactExports.useState(H===!0&&q===!0),he=X!==void 0||K!==void 0||Y!==void 0||Z!==void 0,xe=U!==void 0,ye=n$9(),Ge=T.unstyled||ye,qe=Ge&&Ge.uButton;reactExports.useImperativeHandle(_,()=>({element:oe.current,selected:ae.current!==void 0?ae.current:ce})),reactExports.useMemo(()=>{H&&q!==void 0&&q!==ce&&Se(q)},[H,q]),reactExports.useEffect(()=>{ae.current=void 0},[ce]);const Fe=G({name:K,svgIcon:X,iconClass:Y,imageUrl:Z,imageAlt:ne,buttonClasses:qe}),He=Ye=>reactExports.cloneElement(Ye,{className:n$c(G$1.icon({c:qe}))});return reactExports.createElement("button",{ref:oe,"aria-pressed":H?ce:void 0,...ve,dir:z,disabled:j,onClick:Ae,className:n$c(G$1.wrapper({c:qe,isRtl:z==="rtl",selected:ce,disabled:j,size:pe,fillMode:ue,rounded:le,themeColor:fe,iconButton:!xe&&he}),ie)},se&&He(se),Fe,U&&reactExports.createElement("span",{className:n$c(G$1.text({c:qe}))},U),de&&He(de))}),p$4={size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};M$1.displayName="KendoReactButton";M$1.propTypes={children:n$f.node,selected:n$f.bool,togglable:n$f.bool,icon:n$f.string,svgIcon:r$9,iconClass:n$f.string,imageUrl:n$f.string,imageAlt:n$f.string,size:n$f.oneOf([null,"small","medium","large"]),rounded:n$f.oneOf([null,"small","medium","large","full"]),fillMode:n$f.oneOf([null,"flat","link","outline","solid","clear"]),themeColor:n$f.oneOf([null,"base","primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const k=T=>{const _=n$9(),U=T.unstyled||_,H=U&&U.uDropDownButton,z=reactExports.useCallback(Y=>{T.onClick(Y,T.index)},[T]),j=T.dataItem.render||T.item||(T.item===void 0?T.render:null),q=T.dataItem.text!==void 0?T.dataItem.text:T.textField?T.dataItem[T.textField]:T.dataItem,K=reactExports.createElement("li",{id:T.id,className:n$c(F$2.li({c:H,focused:T.focused}),T.className),tabIndex:-1,onClick:z,onMouseDown:T.onDown,onPointerDown:T.onDown,role:"menuitem","aria-disabled":T.dataItem.disabled||void 0},reactExports.createElement("span",{tabIndex:-1,className:n$c(F$2.link({c:H,selected:T.dataItem.selected,disabled:T.dataItem.disabled})),key:"icon"},j?reactExports.createElement(j,{item:T.dataItem,itemIndex:T.index}):reactExports.createElement(reactExports.Fragment,null,(T.dataItem.icon||T.dataItem.iconClass||T.dataItem.svgIcon)&&reactExports.createElement(v$3,{className:T.dataItem.iconClass,name:T.dataItem.icon,icon:T.dataItem.svgIcon}),T.dataItem.imageUrl&&reactExports.createElement("img",{role:"presentation",alt:"",src:T.dataItem.imageUrl,className:"k-icon"}),q&&reactExports.createElement("span",{className:"k-menu-link-text"},q))));return T.item!==void 0&&T.render!==void 0?T.render.call(void 0,K,T):K};k.displayName="KendoReactButtonItem";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s$6=class extends reactExports.Component{render(){return null}};s$6.propTypes={text:n$f.string,icon:n$f.string,iconClass:n$f.string,imageUrl:n$f.string,disabled:n$f.bool,render:n$f.any};let e$7=s$6;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const i$3=(T,_,U,H)=>{if(U)return T;const z=Math.min(H-1,Math.max(0,T));switch(_){case e$f.enter:case e$f.space:case e$f.esc:return-1;case e$f.up:case e$f.left:return z-1<0?H-1:z-1;case e$f.down:case e$f.right:return z+1>=H?0:z+1;case e$f.home:return 0;case e$f.end:return H-1;default:return T}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function n$3(T){const _={horizontal:"left",vertical:"bottom"};return T&&(_.horizontal="right"),_}function i$2(T){const _={horizontal:"left",vertical:"top"};return T&&(_.horizontal="right"),_}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$6={name:"@progress/kendo-react-buttons",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1741695276,version:"10.0.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const u$1=class extends reactExports.Component{constructor(_){super(_),this.state={focused:!1,focusedIndex:-1,opened:!1},this.wrapper=null,this.mainButton=null,this.list=null,this.skipFocus=!1,this.buttonsData=[],this.showLicenseWatermark=!1,this.onKeyDown=U=>{const{focusedIndex:H}=this.state;if(U.altKey){!this.opened&&U.keyCode===e$f.down?(U.preventDefault(),this.setState({focusedIndex:0}),this.setOpen(!0,U)):this.opened&&U.keyCode===e$f.up&&(U.preventDefault(),this.setState({focusedIndex:-1}),this.setOpen(!1,U));return}let z;if(U.keyCode===e$f.enter||U.keyCode===e$f.space){if(U.preventDefault(),this.dispatchClickEvent(U,H),H>=0){z={focusedIndex:this.opened?-1:0};const j=!this.opened;this.setOpen(j,U)}}else if(this.opened&&U.keyCode===e$f.esc){this.setState({focusedIndex:-1}),this.setOpen(!1,U);return}if(this.opened){const j=i$3(H,U.keyCode,U.altKey,this.buttonsData.length);j!==H&&(z=z||{},z.focusedIndex=j);const q=U.keyCode===e$f.up||U.keyCode===e$f.down||U.keyCode===e$f.left||U.keyCode===e$f.right;!U.altKey&&(q||U.keyCode===e$f.home||U.keyCode===e$f.end)&&U.preventDefault()}z&&this.setState(z)},this.switchFocus=U=>{this.skipFocus=!0,U(),window.setTimeout(()=>this.skipFocus=!1,0)},this.onFocus=U=>{this.skipFocus||(v$5(this.props.onFocus,U,this,void 0),this.setState({focused:!0}))},this.setOpen=(U,H)=>{this.opened!==U&&(this.openedDuringOnChange=U,this.setState({opened:U}),H?this.dispatchPopupEvent(H,U):this.openedDuringOnChange=void 0)},this.onItemClick=(U,H)=>{this.opened&&this.setState({focusedIndex:0}),this.dispatchClickEvent(U,H),this.setOpen(!1,U)},this.onBlur=U=>{this.skipFocus||(this.setState({focused:!1,focusedIndex:-1}),v$5(this.props.onBlur,U,this,void 0),setTimeout(()=>{this.setOpen(!1,U)},0))},this.onPopupClose=U=>{var H;const z=o$c(document);this.element&&this.element.removeAttribute("tabindex"),(z===this.list||(H=this.list)!=null&&H.contains(z))&&this.switchFocus(()=>{this.element&&this.element.focus({preventScroll:!0})}),this.props.popupSettings&&this.props.popupSettings.onClose&&this.props.popupSettings.onClose.call(void 0,U)},this.listRef=U=>{this.list=U,U&&this.state.focused&&this.switchFocus(()=>{U.focus({preventScroll:!0}),this.element&&(this.element.tabIndex=-1)})},this.onSplitPartClick=U=>{if(this.buttonsData.length){const H=!this.opened;this.setState({focusedIndex:H?0:-1,focused:!0}),this.setOpen(H,U)}},this.onDownSplitPart=U=>{U.preventDefault();const H=o$c(document);this.element&&H!==this.element&&H!==this.list&&this.element.focus()},this.onItemDown=U=>{o$c(document)===this.list&&U.preventDefault()},this.dispatchPopupEvent=(U,H)=>{v$5(H?this.props.onOpen:this.props.onClose,U,this,void 0),this.openedDuringOnChange=void 0},this.showLicenseWatermark=!h$5(e$6,{component:"SplitButton"})}get guid(){return this.props.id?this.props.id+"-accessibility-id":this.props.id}get opened(){return this.openedDuringOnChange!==void 0?this.openedDuringOnChange:this.props.opened===void 0?this.state.opened:this.props.opened}render(){this.buttonsData=this.props.items||reactExports.Children.toArray(this.props.children).filter(K=>K&&K.type===e$7).map(K=>K.props);const _=this.isRtl(),U=_?"rtl":void 0,{id:H,style:z,tabIndex:j,disabled:q}=this.props;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{id:H,style:z,className:n$c("k-split-button","k-button-group",{"k-focus":this.state.focused},`k-rounded-${a$3.roundedMap[this.props.rounded||"medium"]}`,this.props.className),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,dir:U,ref:K=>this.wrapper=K},reactExports.createElement(M$1,{ref:K=>this.mainButton=K&&K.element,type:"button",size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode,themeColor:this.props.themeColor,onClick:K=>this.onItemClick(K,-1),disabled:q||void 0,tabIndex:j,accessKey:this.props.accessKey,className:this.props.buttonClass,icon:this.props.icon,svgIcon:this.props.svgIcon,iconClass:this.props.iconClass,startIcon:this.props.startIcon,endIcon:this.props.endIcon,imageUrl:this.props.imageUrl,dir:U,"aria-disabled":q,"aria-haspopup":!0,"aria-expanded":this.opened||void 0,"aria-label":this.props.ariaLabel,"aria-controls":this.opened?this.guid:void 0,id:"button-"+this.guid,title:this.props.title},this.props.text),reactExports.createElement(M$1,{type:"button",size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode,themeColor:this.props.themeColor,icon:"caret-alt-down",svgIcon:caretAltDownIcon,className:"k-split-button-arrow",disabled:q||void 0,tabIndex:-1,onClick:this.onSplitPartClick,onMouseDown:this.onDownSplitPart,onPointerDown:this.onDownSplitPart,dir:U,"aria-label":"menu toggling button"}),this.renderPopup(_)),this.showLicenseWatermark&&reactExports.createElement(l$f,null))}componentDidMount(){(this.props.dir===void 0&&this.isRtl()||this.opened)&&this.forceUpdate()}get element(){return this.mainButton}dispatchClickEvent(_,U){this.isItemDisabled(U)||(U===-1?v$5(this.props.onButtonClick,_,this,void 0):v$5(this.props.onItemClick,_,this,{item:this.buttonsData[U],itemIndex:U}))}renderPopup(_){const{popupSettings:U={}}=this.props,{focusedIndex:H}=this.state;return reactExports.createElement(te,{anchor:this.wrapper,show:this.opened,animate:U.animate,popupClass:n$c("k-menu-popup",U.popupClass),anchorAlign:U.anchorAlign||n$3(_),popupAlign:U.popupAlign||i$2(_),style:_?{direction:"rtl"}:void 0,onClose:this.onPopupClose},reactExports.createElement("ul",{role:"menu",id:this.guid,"aria-labelledby":"button-"+this.guid,tabIndex:-1,ref:this.listRef,"aria-activedescendant":H>=0?`${this.guid}-${H}`:void 0,className:n$c("k-menu-group",{[`k-menu-group-${a$3.sizeMap[this.props.size]||this.props.size}`]:this.props.size})},this.renderChildItems()))}renderChildItems(){const{item:_,itemRender:U,textField:H}=this.props;return this.buttonsData.length>0?this.buttonsData.map((z,j)=>reactExports.createElement(k,{className:n$c("k-menu-item",{"k-first":j===0},{"k-last":j===this.buttonsData.length-1}),dataItem:z,textField:H,focused:this.state.focusedIndex===j,onClick:this.onItemClick,onDown:this.onItemDown,render:U,item:_,key:j,index:j,id:`${this.guid}-${j}`})):null}isItemDisabled(_){return this.buttonsData[_]?this.buttonsData[_].disabled:this.props.disabled}isRtl(){return this.props.dir!==void 0?this.props.dir==="rtl":!!this.wrapper&&getComputedStyle(this.wrapper).direction==="rtl"}};u$1.propTypes={accessKey:n$f.string,ariaLabel:n$f.string,title:n$f.string,onButtonClick:n$f.func,onFocus:n$f.func,onBlur:n$f.func,onItemClick:n$f.func,onOpen:n$f.func,onClose:n$f.func,text:n$f.string,items:n$f.arrayOf(n$f.any),textField:n$f.string,tabIndex:n$f.number,disabled:n$f.bool,icon:n$f.string,svgIcon:r$9,iconClass:n$f.string,imageUrl:n$f.string,popupSettings:n$f.object,itemRender:n$f.any,item:n$f.func,className:n$f.string,buttonClass:n$f.string,dir:n$f.string},u$1.defaultProps={size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};let g$1=u$1;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const r$5=class extends reactExports.Component{render(){return null}};r$5.propTypes={text:n$f.string,icon:n$f.string,iconClass:n$f.string,imageUrl:n$f.string,selected:n$f.bool,disabled:n$f.bool,render:n$f.any};let s$5=r$5;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c$2=class extends reactExports.Component{constructor(_){super(_),this.state={opened:!1,focused:!1,focusedIndex:-1},this.mainButton=null,this.list=null,this.skipFocus=!1,this.showLicenseWatermark=!1,this.buttonsData=[],this.onKeyDown=U=>{const{focusedIndex:H}=this.state;if(U.altKey){!this.opened&&U.keyCode===e$f.down?(U.preventDefault(),this.setOpen(!0,U),this.setState({focusedIndex:0})):this.opened&&U.keyCode===e$f.up&&(U.preventDefault(),this.setState({focusedIndex:-1}),this.setOpen(!1,U));return}const z={...this.state};if(U.keyCode===e$f.enter||U.keyCode===e$f.space){U.preventDefault(),H>=0&&this.dispatchClickEvent(U,H);const j=!this.opened;this.setState({focused:!0,focusedIndex:j?0:-1}),this.setOpen(j,U);return}if(this.opened&&U.keyCode===e$f.esc){this.setState({focusedIndex:-1}),this.setOpen(!1,U);return}if(this.opened){const j=i$3(H,U.keyCode,U.altKey,this.buttonsData.length);z.focusedIndex=j;const q=U.keyCode===e$f.up||U.keyCode===e$f.down||U.keyCode===e$f.left||U.keyCode===e$f.right;!U.altKey&&(q||U.keyCode===e$f.home||U.keyCode===e$f.end)&&U.preventDefault()}this.setState(z)},this.switchFocus=U=>{this.skipFocus=!0,U(),window.setTimeout(()=>this.skipFocus=!1,0)},this.handleFocus=U=>{this.skipFocus||(this.setState({focused:!0,focusedIndex:this.opened?0:-1}),v$5(this.props.onFocus,U,this,void 0))},this.handleButtonBlur=U=>{this.opened||(this.setState({focused:!1}),v$5(this.props.onBlur,U,this,void 0))},this.handleMenuBlur=U=>{this.skipFocus||(this.setState({focused:!1,focusedIndex:-1}),v$5(this.props.onBlur,U,this,void 0),setTimeout(()=>{this.setOpen(!1,U)},0))},this.setOpen=(U,H)=>{this.opened!==U&&(this.openedDuringOnChange=U,this.setState({opened:U}),H?this.dispatchPopupEvent(H,U):this.openedDuringOnChange=void 0)},this.onItemClick=(U,H)=>{this.setState({focusedIndex:-1}),this.dispatchClickEvent(U,H),this.setOpen(!1,U)},this.onItemDown=U=>{o$c(document)===this.list&&U.preventDefault()},this.mouseDown=U=>{U.preventDefault();const H=o$c(document);this.element&&H!==this.element&&H!==this.list&&this.element.focus()},this.onPopupClose=U=>{var H;const z=o$c(document);this.element&&this.element.removeAttribute("tabindex"),(z===this.list||(H=this.list)!=null&&H.contains(z))&&this.switchFocus(()=>{this.element&&this.element.focus({preventScroll:!0})}),this.props.popupSettings&&this.props.popupSettings.onClose&&this.props.popupSettings.onClose.call(void 0,U)},this.listRef=U=>{this.list=U,U&&this.state.focused&&this.switchFocus(()=>{U.focus({preventScroll:!0}),this.element&&(this.element.tabIndex=-1)})},this.onClickMainButton=U=>{if(!this.buttonsData.length)return;const H=!this.opened;this.setState({focused:!0,focusedIndex:H?0:-1}),this.setOpen(H,U)},this.dispatchPopupEvent=(U,H)=>{v$5(H?this.props.onOpen:this.props.onClose,U,this,void 0),this.openedDuringOnChange=void 0},this.showLicenseWatermark=!h$5(e$6,{component:"DropDownButton"})}get guid(){return this.props.id+"-accessibility-id"}get opened(){return this.openedDuringOnChange!==void 0?this.openedDuringOnChange:this.props.opened===void 0?this.state.opened:this.props.opened}render(){const _=this.isRtl(),U=this.context&&this.context.uDropDownButton,H=_?"rtl":void 0,{id:z,style:j,tabIndex:q,disabled:K,size:Y,rounded:X,fillMode:Z,themeColor:ne,ariaLabel:ie,title:se,accessKey:de,icon:Ee,svgIcon:pe,iconClass:le,buttonClass:ue,className:fe,imageUrl:ve,startIcon:me,endIcon:Ae}=this.props;return this.buttonsData=this.props.items||reactExports.Children.toArray(this.props.children).filter(ae=>ae&&ae.type===s$5).map(ae=>ae.props),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(M$1,{id:z,size:Y,style:j,rounded:X,fillMode:Z,themeColor:ne,onClick:this.onClickMainButton,onMouseDown:this.mouseDown,onKeyDown:this.onKeyDown,onFocus:this.handleFocus,onBlur:this.handleButtonBlur,"aria-disabled":K?"true":void 0,tabIndex:q,accessKey:de,icon:Ee,svgIcon:pe,iconClass:le,className:n$c(ue,fe,F$2.wrapper({c:U,focused:this.state.focused,disabled:K})),imageUrl:ve,dir:H,ref:ae=>this.mainButton=ae&&ae.element,type:"button","aria-expanded":this.opened?"true":"false","aria-label":ie,"aria-controls":this.opened?this.guid:void 0,title:se,startIcon:me,endIcon:Ae},this.props.text),this.showLicenseWatermark&&reactExports.createElement(l$f,null),this.renderPopup(_))}componentDidMount(){(this.props.dir===void 0&&this.isRtl()||this.opened)&&this.forceUpdate()}get element(){return this.mainButton}dispatchClickEvent(_,U){this.isItemDisabled(U)||v$5(this.props.onItemClick,_,this,{item:this.buttonsData[U],itemIndex:U})}renderPopup(_){const{popupSettings:U={},id:H}=this.props,z=this.context&&this.context.uDropDownButton,{focusedIndex:j}=this.state;return reactExports.createElement(te,{anchor:this.mainButton,show:this.opened,animate:U.animate,popupClass:n$c(F$2.popup({c:z}),U.popupClass),anchorAlign:U.anchorAlign||n$3(_),popupAlign:U.popupAlign||i$2(_),style:_?{direction:"rtl"}:void 0,onClose:this.onPopupClose},reactExports.createElement("ul",{role:"list",id:this.guid,tabIndex:-1,"aria-activedescendant":j>=0?`${this.guid}-${j}`:void 0,ref:this.listRef,onKeyDown:this.onKeyDown,onBlur:this.handleMenuBlur,className:n$c(F$2.ul({c:z,size:this.props.size}))},this.renderChildItems()))}renderChildItems(){const{item:_,itemRender:U,textField:H}=this.props,z=this.context&&this.context.uDropDownButton;return this.buttonsData.length>0?this.buttonsData.map((j,q)=>reactExports.createElement(k,{className:n$c(F$2.item({c:z}),j.className,{"k-first":q===0},{"k-last":q===this.buttonsData.length-1}),dataItem:j,textField:H,focused:this.state.focusedIndex===q,onClick:this.onItemClick,onDown:this.onItemDown,render:U,item:_,index:q,key:q,id:`${this.guid}-${q}`})):null}isItemDisabled(_){return this.buttonsData[_]?this.buttonsData[_].disabled:this.props.disabled}isRtl(){return this.props.dir!==void 0?this.props.dir==="rtl":!!this.mainButton&&getComputedStyle(this.mainButton).direction==="rtl"}};c$2.propTypes={accessKey:n$f.string,ariaLabel:n$f.string,title:n$f.string,onFocus:n$f.func,onBlur:n$f.func,onItemClick:n$f.func,onOpen:n$f.func,onClose:n$f.func,items:n$f.arrayOf(n$f.any),textField:n$f.string,tabIndex:n$f.number,disabled:n$f.bool,icon:n$f.string,svgIcon:r$9,iconClass:n$f.string,imageUrl:n$f.string,popupSettings:n$f.object,itemRender:n$f.func,item:n$f.func,className:n$f.string,buttonClass:n$f.string,dir:n$f.string},c$2.defaultProps={size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};let f$1=c$2;f$1.contextType=e$b;var defaultData={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"×",perMille:"‰",infinity:"∞",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"€","symbol-alt-narrow":"€"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function isString$1(T){return typeof T=="string"}const errorDetails={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."};var formatRegExp$2=/\{(\d+)}?\}/g,IntlError=function(_){var U=_.name,H=_.message;if(!U||!H)throw new Error("{ name: string, message: string } object is required!");this.name=U,this.message=H};IntlError.prototype.formatMessage=function(){for(var _=[],U=arguments.length;U--;)_[U]=arguments[U];var H=flatten(_),z=this.message.replace(formatRegExp$2,function(j,q){return H[parseInt(q,10)]});return this.name+": "+z};IntlError.prototype.error=function(){for(var _=[],U=arguments.length;U--;)_[U]=arguments[U];return new Error(this.formatMessage(_))};var flatten=function(T){return T.reduce(function(_,U){return _.concat(U)},[])},toIntlErrors=function(T){var _=function(U,H){return U[H]=new IntlError({name:H,message:T[H]}),U};return Object.keys(T).reduce(_,{})},errors=toIntlErrors(errorDetails);function availableLocaleInfo(T,_){var U=T.split("-"),H=U[0],z=U[1],j=U[2];return cldr[T]||_.indexOf(j)!==-1&&cldr[H+"-"+j]||_.indexOf(z)!==-1&&cldr[H+"-"+z]||cldr[H]}function localeFullName(T,_){for(var U=cldr.supplemental.likelySubtags,H=0;H<_.length;H++){var z=U[T+"-"+_[H]];if(z)return z}if(U[T])return U[T]}var cldr=defaultData;function getLocaleInfo(T){var _;return isString$1(T)?_=localeInfo(T):_=T,_}function localeInfo(T){if(cldr[T])return cldr[T];var _=cldr.supplemental.likelySubtags;if(_){var U=T.split("-"),H=U[0],z=U.slice(1),j=localeFullName(H,z),q=j?availableLocaleInfo(j,z):null;if(q)return q}throw errors.NoLocale.error(T)}var DECIMAL="decimal",CURRENCY="currency",ACCOUNTING="accounting",PERCENT="percent",SCIENTIFIC="scientific",CURRENCY_PLACEHOLDER="$",PERCENT_PLACEHOLDER="%",NUMBER_PLACEHOLDER="n",LIST_SEPARATOR=";",GROUP_SEPARATOR=",",POINT=".",EMPTY="",DEFAULT_LOCALE="en";function territoryFromName(T,_){var U=cldr.supplemental.likelySubtags,H=T.split("-");if(U){var z=U[T]||U[H[0]];z&&(H=z.split("-"))}if(_)for(var j=H.length-1;j>=1;j--){var q=H[j];(q===_.variant||q===_.script)&&H.splice(j,1)}var K=H.length;if(K>1){var Y=H[K-1];return Y.toUpperCase()}}function localeTerritory(T){if(T.territory)return T.territory;var _=T.name,U=T.identity,H;return U&&U.territory?H=U.territory:H=territoryFromName(_,U),T.territory=H,H}function dateFieldName(T,_){_===void 0&&(_=DEFAULT_LOCALE);var U=localeInfo(_),H=U.calendar.dateFields;if(!H)throw errors.NoDateFieldNames.error();var z=H[T.type]||{};return z[T.nameType]||z.wide}function lowerArray(T){for(var _=[],U=0;U<T.length;U++)_.push(T[U].toLowerCase());return _}function lowerObject(T){var _={};for(var U in T)_[U]=T[U].toLowerCase();return _}function cloneLower(T){var _=Array.isArray(T)?lowerArray(T):lowerObject(T);return _}function dateFormatNames(T,_){var U=_.type,H=_.nameType,z=_.standAlone,j=_.lower,q=getLocaleInfo(T),K=z?"stand-alone":"format",Y=(j?"lower-":EMPTY)+H,X=q.calendar[U][K],Z=X[Y];return!Z&&j&&(Z=X[Y]=cloneLower(X[H])),Z}function parseRangeDate(T){var _=T.split("-"),U=parseInt(_[0],10),H=parseInt(_[1],10)-1,z=parseInt(_[2],10);return new Date(U,H,z)}var NoCurrency=errors.NoCurrency,NoCurrencyDisplay=errors.NoCurrencyDisplay,NoSupplementalCurrency=errors.NoSupplementalCurrency,NoCurrencyRegion=errors.NoCurrencyRegion,NoValidCurrency=errors.NoValidCurrency,DEFAULT_CURRENCY_FRACTIONS=2,SYMBOL="symbol",INVALID_CURRENCY_CODE="XXX",GLOBAL_CURRENCIES={"001":"USD",150:"EUR"};function getCurrencyInfo(T,_,U){var H=getLocaleInfo(T),z=H.numbers.currencies;if(!z){if(U)throw NoCurrency.error();return}var j=z[_];if(!j){if(U)throw NoCurrencyDisplay.error();return}return j}function lengthComparer(T,_){return _.length-T.length}function regionCurrency(T){for(var _,U,H,z,j=0;j<T.length;j++){var q=T[j],K=Object.keys(q)[0],Y=q[K];if(K!==INVALID_CURRENCY_CODE&&Y._tender!=="false"&&Y._from)if(Y._to){if(!H){var Z=parseRangeDate(Y._from),ne=parseRangeDate(Y._to);(!U||U.to<ne||U.from<Z)&&(_=K,U={from:Z,to:ne})}}else{var X=parseRangeDate(Y._from);(!z||z<X)&&(H=K,z=X)}}return H||_}function currencyDisplays(T,_,U){U===void 0&&(U=!0);var H=getCurrencyInfo(T,_,U);if(H){if(!H.displays){var z=[_];for(var j in H)z.push(H[j]);z.sort(lengthComparer),H.displays=z}return H.displays}}function currencyDisplay(T,_){var U=_.value,H=_.currency,z=_.currencyDisplay;if(z===void 0&&(z=SYMBOL),z==="code")return H;var j=getCurrencyInfo(T,H,!0),q;return z===SYMBOL?q=j["symbol-alt-narrow"]||j[SYMBOL]||H:typeof U>"u"||U!==1?q=j["displayName-count-other"]:q=j["displayName-count-one"],q}function currencyFractionOptions(T){var _=DEFAULT_CURRENCY_FRACTIONS,U=DEFAULT_CURRENCY_FRACTIONS,H=((cldr.supplemental.currencyData||{}).fractions||{})[T];return H&&H._digits&&(U=_=parseInt(H._digits,10)),{minimumFractionDigits:_,maximumFractionDigits:U}}function territoryCurrencyCode(T,_){if(_===void 0&&(_=!0),GLOBAL_CURRENCIES[T])return GLOBAL_CURRENCIES[T];var U=cldr.supplemental.currencyData;if(!U){if(_)throw NoSupplementalCurrency.error();return}var H=U.region[T];if(!H){if(_)throw NoCurrencyRegion.error(T);return}var z=regionCurrency(H);return z}function localeCurrency(T,_){var U=getLocaleInfo(T),H=U.numbers;if(!H.localeCurrency){var z=territoryCurrencyCode(localeTerritory(U),_);if(!z&&_)throw NoValidCurrency.error(U.name);H.localeCurrency=z}return H.localeCurrency}var DAYS_OF_WEEK=["sun","mon","tue","wed","thu","fri","sat"],DEFAULT_TERRITORY="001",NoWeekData=errors.NoWeekData,NoFirstDay=errors.NoFirstDay;function firstDay(T){var _=getLocaleInfo(T);if(!isNaN(_.firstDay))return _.firstDay;var U=cldr.supplemental.weekData;if(!U)throw NoWeekData.error();var H=U.firstDay[localeTerritory(_)]||U.firstDay[DEFAULT_TERRITORY];if(!H)throw NoFirstDay.error();return _.firstDay=DAYS_OF_WEEK.indexOf(H),_.firstDay}errors.NoWeekData;function numberSymbols(T){var _=getLocaleInfo(T);return _.numbers.symbols}function isNegativeZero(T){return 1/T===-1/0}function formatCurrencySymbol(T,_){_===void 0&&(_={}),_.currency||(_.currency=localeCurrency(T,!0));var U=currencyDisplay(T,_);return U}function groupInteger(T,_,U,H,z){var j=z.numbers.symbols,q=T.indexOf(j.decimal),K=H.groupSize.slice(),Y=K.shift(),X=q!==-1?q:U+1,Z=T.substring(_,X),ne=T,ie=Z.length;if(ie>=Y){for(var se=ie,de=[];se>-1;){var Ee=Z.substring(se-Y,se);Ee&&de.push(Ee),se-=Y;var pe=K.shift();if(Y=pe!==void 0?pe:Y,Y===0){Ee=Z.substring(0,se),Ee&&de.push(Ee);break}}Z=de.reverse().join(j.group),ne=T.substring(0,_)+Z+T.substring(X)}return ne}function isCurrencyStyle(T){return T===CURRENCY||T===ACCOUNTING}function pad(T,_,U){_===void 0&&(_=2),U===void 0&&(U=!1);var H=_-String(T).length,z=T;if(H>0){var j=new Array(H+1).join("0");z=U?T+j:j+T}return z}var MAX_PRECISION=20;function round(T,_){var U=T,H=_||0;return U=U.toString().split("e"),U=Math.round(+(U[0]+"e"+(U[1]?Number(U[1])+H:H))),U=U.toString().split("e"),U=+(U[0]+"e"+(U[1]?Number(U[1])-H:-H)),U.toFixed(Math.min(H,MAX_PRECISION))}var DEFAULT_DECIMAL_ROUNDING=3,DEFAULT_PERCENT_ROUNDING=0,trailingZeroRegex=/0+$/;function fractionOptions(T){var _=T.minimumFractionDigits,U=T.maximumFractionDigits,H=T.style,z=isCurrencyStyle(H),j;return z&&(j=currencyFractionOptions(T.currency)),_===void 0&&(_=z?j.minimumFractionDigits:0),U===void 0&&(H===PERCENT?U=Math.max(_,DEFAULT_PERCENT_ROUNDING):z?U=Math.max(_,j.maximumFractionDigits):U=Math.max(_,DEFAULT_DECIMAL_ROUNDING)),{minimumFractionDigits:_,maximumFractionDigits:U}}function applyPattern(T,_,U){for(var H=EMPTY,z=0,j=_.length;z<j;z++){var q=_.charAt(z);q===NUMBER_PLACEHOLDER?H+=T:q===CURRENCY_PLACEHOLDER||q===PERCENT_PLACEHOLDER?H+=U:H+=q}return H}function currencyUnitPattern(T,_){var U=T.numbers.currency,H=_!==1?U["unitPattern-count-other"]:U["unitPattern-count-one"];return _<0&&(H=H.replace(NUMBER_PLACEHOLDER,"-"+NUMBER_PLACEHOLDER)),H}function standardNumberFormat(T,_,U){var H=U.numbers.symbols,z=_.style,j=isCurrencyStyle(z);if(z===SCIENTIFIC){var q=_.minimumFractionDigits!==void 0?T.toExponential(_.minimumFractionDigits):T.toExponential();return q.replace(POINT,H.decimal)}var K=T,Y;j&&(_.value=K,Y=formatCurrencySymbol(U,_)),z===PERCENT&&(K*=100,Y=H.percentSign);var X=fractionOptions(_),Z=X.minimumFractionDigits,ne=X.maximumFractionDigits;K=round(K,ne);var ie=K<0,se=isNegativeZero(T),de=K.split(POINT),Ee=de[0],pe=pad(de[1]?de[1].replace(trailingZeroRegex,EMPTY):EMPTY,Z,!0);ie&&(Ee=Ee.substring(1)),_.minimumIntegerDigits&&(Ee=pad(Ee,_.minimumIntegerDigits));var le=_.useGrouping!==!1?groupInteger(Ee,0,Ee.length,_,U):Ee;pe&&(le+=H.decimal+pe);var ue;if(j&&_.currencyDisplay==="name")ue=currencyUnitPattern(U,T);else{var fe=_.patterns;ue=ie||se?fe[1]||"-"+fe[0]:fe[0]}if(ue===NUMBER_PLACEHOLDER&&!ie)return le;var ve=applyPattern(le,ue,Y);return ve}var literalRegExp=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,PLACEHOLDER$1="__??__";function setStyleOptions(T,_){var U=T.format;U.indexOf(PERCENT_PLACEHOLDER)!==-1&&(T.style=PERCENT,T.symbol=_.numbers.symbols.percentSign,T.number*=100),U.indexOf(CURRENCY_PLACEHOLDER)!==-1&&(T.style=CURRENCY,T.symbol=formatCurrencySymbol(_))}function setFormatLiterals(T){var _=T.format;if(_.indexOf("'")>-1||_.indexOf('"')>-1||_.indexOf("\\")>-1){var U=T.literals=[];T.format=_.replace(literalRegExp,function(H){var z=H.charAt(0).replace("\\",EMPTY),j=H.slice(1).replace(z,EMPTY);return U.push(j),PLACEHOLDER$1})}}function replaceLiterals(T,_){var U=T;if(_)for(var H=_.length,z=0;z<H;z++)U=U.replace(PLACEHOLDER$1,_[z]);return U}var SHARP="#",ZERO="0",trailingZerosRegExp=/(\.(?:[0-9]*[1-9])?)0+$/g,trailingPointRegExp=/\.$/,commaRegExp=/,/g;function trimTrailingZeros(T,_){var U;return _===0?U=trailingZerosRegExp:U=new RegExp("(\\.[0-9]{"+_+"}[1-9]*)0+$","g"),T.replace(U,"$1").replace(trailingPointRegExp,EMPTY)}function roundNumber(T){var _=T.number,U=T.format,H=U.indexOf(POINT);if(H!==-1){var z=U.lastIndexOf(ZERO)-H,j=U.lastIndexOf(SHARP)-H,q=z>-1,K=j>-1,Y=_.toString().split("e");Y[1]?Y=round(_,Math.abs(Y[1])):Y=Y[0],Y=Y.split(POINT)[1]||EMPTY;var X=Y.length,Z=-1;!q&&!K?(T.format=U.substring(0,H)+U.substring(H+1),H=-1,X=0):q&&z>j?X=z:j>z&&(K&&X>j?X=j:q&&X<z&&(X=z),Z=q?z:0),X>-1&&(_=round(_,X),Z>-1&&(_=trimTrailingZeros(_,Z)))}else _=round(_);T.negative&&_*-1>=0&&!T.negativeZero&&(T.negative=!1),T.number=_,T.decimalIndex=H}function isConstantFormat(T){return T.indexOf(SHARP)===-1&&T.indexOf(ZERO)===-1}function setValueSpecificFormat(T){var _=T.number,U=T.format;if(U=U.split(LIST_SEPARATOR),(T.negative||T.negativeZero)&&U[1])U=U[1],T.hasNegativeFormat=!0;else if(_===0){var H=U[2];U=H||U[0],H&&isConstantFormat(H)&&(T.constant=H)}else U=U[0];T.format=U}function setGroupOptions(T){T.hasGroup=T.format.indexOf(GROUP_SEPARATOR)>-1,T.hasGroup&&(T.format=T.format.replace(commaRegExp,EMPTY))}function placeholderIndex(T,_,U){var H;return T===-1&&_!==-1?H=_:T!==-1&&_===-1?H=T:H=U?Math.min(T,_):Math.max(T,_),H}function setPlaceholderIndices(T){var _=T.format,U=_.indexOf(SHARP),H=_.indexOf(ZERO),z=placeholderIndex(U,H,!0);U=_.lastIndexOf(SHARP),H=_.lastIndexOf(ZERO);var j=placeholderIndex(U,H);z===_.length&&(j=z),T.start=z,T.end=j,T.lastZeroIndex=H}function replaceStyleSymbols(T,_,U){var H=T;if(_===CURRENCY||_===PERCENT){H=EMPTY;for(var z=0,j=T.length;z<j;z++){var q=T.charAt(z);H+=q===CURRENCY_PLACEHOLDER||q===PERCENT_PLACEHOLDER?U:q}}return H}function replacePlaceHolders(T,_){var U=T.start,H=T.end,z=T.negative,j=T.negativeZero,q=T.format,K=T.decimalIndex,Y=T.lastZeroIndex,X=T.hasNegativeFormat,Z=T.hasGroup,ne=T.number,ie=ne.toString().split(POINT),se=q.length,de=ie[0],Ee=ie[1]||EMPTY,pe=de.length,le=EMPTY;ne=q.substring(0,U),(z||j)&&!X&&(ne+="-");for(var ue=U;ue<se;ue++){var fe=q.charAt(ue);if(K===-1){if(H-ue<pe){ne+=de;break}}else if(Y!==-1&&Y<ue&&(le=EMPTY),K-ue<=pe&&K-ue>-1&&(ne+=de,ue=K),K===ue){ne+=(Ee?_.numbers.symbols.decimal:EMPTY)+Ee,ue+=H-K+1;continue}fe===ZERO?(ne+=fe,le=fe):fe===SHARP&&(ne+=le)}return Z&&(ne=groupInteger(ne,U+(z&&!X?1:0),Math.max(H,pe+U),_.numbers.decimal,_)),H>=U&&(ne+=q.substring(H+1)),ne}function applyCustomFormat(T,_){var U=T.number;return T.start!==-1&&(U=replacePlaceHolders(T,_),U=replaceStyleSymbols(U,T.style,T.symbol),U=replaceLiterals(U,T.literals)),U}function customNumberFormat(T,_,U){var H={negative:T<0,number:Math.abs(T),negativeZero:isNegativeZero(T),format:_};return setValueSpecificFormat(H),H.constant?H.constant:(setFormatLiterals(H),setStyleOptions(H,U),setGroupOptions(H),roundNumber(H),setPlaceholderIndices(H),applyCustomFormat(H,U))}var standardFormatRegExp=/^(n|c|p|e|a)(\d*)$/i;function standardFormatOptions(T){var _=standardFormatRegExp.exec(T);if(_){var U={style:DECIMAL},H=_[1].toLowerCase();return H==="c"?U.style=CURRENCY:H==="a"?U.style=ACCOUNTING:H==="p"?U.style=PERCENT:H==="e"&&(U.style=SCIENTIFIC),_[2]&&(U.minimumFractionDigits=U.maximumFractionDigits=parseInt(_[2],10)),U}}function formatOptions(T){var _;return isString$1(T)?_=standardFormatOptions(T):_=T,_}function formatNumber(T,_,U){if(_===void 0&&(_=NUMBER_PLACEHOLDER),U===void 0&&(U=DEFAULT_LOCALE),T==null)return EMPTY;if(!isFinite(T))return String(T);var H=localeInfo(U),z=formatOptions(_),j;if(z){var q=z.style||DECIMAL;j=standardNumberFormat(T,Object.assign({},H.numbers[q],z),H)}else j=customNumberFormat(T,_,H);return j}function isNumber$1(T){return typeof T=="number"}var exponentRegExp=/[eE][-+]?[0-9]+/,nonBreakingSpaceRegExp=/\u00A0/g;function cleanNegativePattern(T,_){if(_.length>1){var U=(_[1]||EMPTY).replace(CURRENCY_PLACEHOLDER,EMPTY).split(NUMBER_PLACEHOLDER);if(T.indexOf(U[0])>-1&&T.indexOf(U[1])>-1)return T.replace(U[0],EMPTY).replace(U[1],EMPTY)}}function cleanCurrencyNumber(T,_,U){var H=formatOptions(U)||{},z=isCurrencyStyle(H.style),j=T,q,K=H.currency||localeCurrency(_,z);if(K){var Y=currencyDisplays(_,K,z);if(Y)for(var X=0;X<Y.length;X++){var Z=Y[X];if(j.includes(Z)){j=j.replace(Z,EMPTY),z=!0;break}}if(z){var ne=cleanNegativePattern(j,_.numbers.currency.patterns)||cleanNegativePattern(j,_.numbers.accounting.patterns);ne&&(q=!0,j=ne)}}return{number:j,negative:q}}function cleanLiterals(T,_){var U=_.literals,H=T;if(U)for(var z=0;z<U.length;z++)H=H.replace(U[z],EMPTY);return H}function divideBy100(T){var _=String(T),U=_.indexOf(POINT),H=2,z=T/Math.pow(10,H);if(U===-1||String(z).length<=_.length+H)return z;var j=_.length-U+1+H;return parseFloat(z.toFixed(j))}function parseNumber(T,_,U){if(_===void 0&&(_=DEFAULT_LOCALE),U===void 0&&(U={}),!T&&T!==0)return null;if(isNumber$1(T))return T;var H=localeInfo(_),z=H.numbers.symbols,j=T.toString(),q=U||{},K;if(isString$1(U)&&(q={format:U},setFormatLiterals(q),j=cleanLiterals(j,q),setStyleOptions(q,H)),(q.style===PERCENT||j.indexOf(z.percentSign)>-1)&&(j=j.replace(z.percentSign,EMPTY),K=!0),exponentRegExp.test(j))return j=parseFloat(j.replace(z.decimal,POINT)),isNaN(j)?null:j;var Y=cleanCurrencyNumber(j,H,q),X=Y.negative,Z=Y.number;j=String(Z).trim();var ne=j.indexOf("-");if(ne>0)return null;var ie=ne>-1;return ie=X!==void 0?X:ie,j=j.replace("-",EMPTY).replace(nonBreakingSpaceRegExp," ").split(z.group.replace(nonBreakingSpaceRegExp," ")).join(EMPTY).replace(z.decimal,POINT),j=parseFloat(j),isNaN(j)?j=null:ie&&(j*=-1),j&&K&&(j=divideBy100(j)),j}var formatRegExp$1=/\{(\d+)}/g;function formatString(T){var _=arguments;return T.replace(formatRegExp$1,function(U,H){var z=_[parseInt(H,10)+1];return z})}var REMOVAL_PENALTY=120,ADDITION_PENALTY=20,LENGHT_DELTA=[2,1,5,3,4],LONG_LESS_PENALTY_DELTA=-2,SHORT_LESS_PENALTY_DELTA=-1,SHORT_MORE_PENALTY_DELTA=1,LONG_MORE_PENALTY_DELTA=2,PENALTIES={};PENALTIES[LONG_LESS_PENALTY_DELTA.toString()]=8;PENALTIES[SHORT_LESS_PENALTY_DELTA.toString()]=6;PENALTIES[LONG_MORE_PENALTY_DELTA.toString()]=6;PENALTIES[SHORT_MORE_PENALTY_DELTA.toString()]=3;var VALUE_FORMAT_LENGTH={numeric:1,"2-digit":2,short:3,long:4,narrow:5},TIME_SPECIFIERS_REGEX=/[hHmsSzZoOvVxX]/;function getHourSpecifier(T){return T.hour12?"h":"H"}var DATE_OPTIONS_MAP=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:getHourSpecifier},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],STAND_ALONE_SPECIFIERS={e:"c",E:"c",M:"L",Q:"q"},specifiersRegex={},resolvedFormats={};function getSpecifierRegex(T){return specifiersRegex[T]||(specifiersRegex[T]=new RegExp(T+"+")),specifiersRegex[T]}function skeletonSpecifiers(T){for(var _=[],U=T.charAt(0),H=U,z=1;z<T.length;z++){var j=T.charAt(z);j===H?U+=j:(_.push(U),U=H=j)}return _.push(U),_}function findBestMatch(T,_){var U=T.length,H=-Number.MAX_VALUE,z,j;for(var q in _){for(var K=[],Y=q.replace("v","z"),X=0,Z=0;Z<U;Z++){var ne=T[Z],ie=getSpecifierRegex(ne[0]),se=(ie.exec(Y)||[])[0];if(!se)X-=REMOVAL_PENALTY;else if(Y=Y.replace(se,EMPTY),se.length!==ne.length){var de=Math.max(Math.min(LENGHT_DELTA[se.length]-LENGHT_DELTA[ne.length],2),-2);X-=PENALTIES[de]}if(K.push(se),X<H)break}Y.length&&(X-=skeletonSpecifiers(Y).length*ADDITION_PENALTY),X>H&&(H=X,z=K,j=_[q])}j=j.replace("v","z");for(var Ee=0;Ee<U;Ee++){var pe=z[Ee];if(pe&&pe!==T[Ee]){var le=z[Ee][0];j=j.replace(getSpecifierRegex(le),T[Ee]),STAND_ALONE_SPECIFIERS[le]&&(j=j.replace(getSpecifierRegex(STAND_ALONE_SPECIFIERS[le]),T[Ee]))}}return j}function cacheFormat(T,_,U){resolvedFormats[U]||(resolvedFormats[U]={}),resolvedFormats[U][T]=_}function skeletonFormat(T,_){var U=_.calendar.dateTimeFormats.availableFormats;if(U[T])return U[T];if(resolvedFormats[_.name]&&resolvedFormats[_.name][T])return resolvedFormats[_.name][T];var H=T.search(TIME_SPECIFIERS_REGEX),z;if(H>0){var j=T.substr(0,H),q=T.substr(H);z=formatString(_.calendar.dateTimeFormats.short,U[q]||findBestMatch(skeletonSpecifiers(q),U),U[j]||findBestMatch(skeletonSpecifiers(j),U))}else z=findBestMatch(skeletonSpecifiers(T),U);return cacheFormat(T,z,_.name),z}function skeletonFromOptions(T){for(var _=[],U=0;U<DATE_OPTIONS_MAP.length;U++){var H=DATE_OPTIONS_MAP[U],z=H.key,j=T[z];if(j){var q=H.specifier||H.getSpecifier(T);_.push(q.repeat(VALUE_FORMAT_LENGTH[j]))}}return _.join(EMPTY)}function datePattern(T,_){var U=_.calendar,H;if(isString$1(T))U.patterns[T]?H=U.patterns[T]:H=T;else if(T){if(T.pattern)return T.pattern;var z=T.skeleton;z||(T.datetime?H=formatString(U.dateTimeFormats[T.datetime],U.timeFormats[T.datetime],U.dateFormats[T.datetime]):T.date?H=U.dateFormats[T.date]:T.time?H=U.timeFormats[T.time]:z=skeletonFromOptions(T)),z&&(H=skeletonFormat(z,_))}return H||(H=U.patterns.d),H}function dateNameType(T){var _;return T<=3?_="abbreviated":T===4?_="wide":T===5?_="narrow":T===6&&(_="short"),_}function formatNames(T,_,U,H,z){return dateFormatNames(T,{type:_,nameType:dateNameType(U),standAlone:H,lower:z})}function isFunction$1(T){return typeof T=="function"}function isDate$1(T){return!!T&&isFunction$1(T.getTime)&&isFunction$1(T.getMonth)}var MONTH="month",HOUR="hour",ZONE="zone",WEEKDAY="weekday",QUARTER="quarter",DATE_FIELD_MAP={G:"era",y:"year",q:QUARTER,Q:QUARTER,M:MONTH,L:MONTH,d:"day",E:WEEKDAY,c:WEEKDAY,e:WEEKDAY,h:HOUR,H:HOUR,k:HOUR,K:HOUR,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:ZONE,X:ZONE,z:ZONE,Z:ZONE},dateFormatRegExp=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function formatDayOfWeekIndex(T,_,U){var H=firstDay(U),z;return T<H?z=7-H+T:z=T-H,z+1}function formatMonth(T,_,U,H){return _<=2?pad(T+1,_):formatNames(U,"months",_,H)[T]}function formatQuarter(T,_,U,H){var z=Math.floor(T.getMonth()/3);return _<3?z+1:formatNames(U,"quarters",_,H)[z]}function formatTimeZone(T,_,U){var H=U.shortHours,z=U.optionalMinutes,j=U.separator,q=U.localizedName,K=U.zZeroOffset,Y=T.getTimezoneOffset()/60;if(Y===0&&K)return"Z";var X=Y<=0?"+":"-",Z=Math.abs(Y).toString().split("."),ne=Z[1]||0,ie=X+(H?Z[0]:pad(Z[0],2));if((ne||!z)&&(ie+=(j?":":EMPTY)+pad(ne,2)),q){var se=Y===0?_.calendar.gmtZeroFormat:_.calendar.gmtFormat;ie=formatString(se,ie)}return ie}function formatDayOfWeek(T,_,U,H){var z;return _<3?z=formatDayOfWeekIndex(T.getDay(),_,U):z=formatNames(U,"days",_,H)[T.getDay()],z}var formatters={};formatters.d=function(T,_){return pad(T.getDate(),_)};formatters.E=function(T,_,U){return formatNames(U,"days",_)[T.getDay()]};formatters.M=function(T,_,U){return formatMonth(T.getMonth(),_,U,!1)};formatters.L=function(T,_,U){return formatMonth(T.getMonth(),_,U,!0)};formatters.y=function(T,_){var U=T.getFullYear();return _===2&&(U=U%100),pad(U,_)};formatters.h=function(T,_){var U=T.getHours()%12||12;return pad(U,_)};formatters.H=function(T,_){return pad(T.getHours(),_)};formatters.k=function(T,_){return pad(T.getHours()||24,_)};formatters.K=function(T,_){return pad(T.getHours()%12,_)};formatters.m=function(T,_){return pad(T.getMinutes(),_)};formatters.s=function(T,_){return pad(T.getSeconds(),_)};formatters.S=function(T,_){var U=T.getMilliseconds(),H;return U!==0?H=pad(String(U/1e3).split(".")[1].substr(0,_),_,!0):H=pad(EMPTY,_),H};formatters.a=function(T,_,U){return formatNames(U,"dayPeriods",_)[T.getHours()<12?"am":"pm"]};formatters.z=function(T,_,U){return formatTimeZone(T,U,{shortHours:_<4,optionalMinutes:_<4,separator:!0,localizedName:!0})};formatters.Z=function(T,_,U){return formatTimeZone(T,U,{separator:_>3,localizedName:_===4,zZeroOffset:_===5})};formatters.x=function(T,_,U){return formatTimeZone(T,U,{optionalMinutes:_===1,separator:_===3||_===5})};formatters.X=function(T,_,U){return formatTimeZone(T,U,{optionalMinutes:_===1,separator:_===3||_===5,zZeroOffset:!0})};formatters.G=function(T,_,U){var H=T.getFullYear()>=0?1:0;return formatNames(U,"eras",_)[H]};formatters.e=formatDayOfWeek;formatters.c=function(T,_,U){return formatDayOfWeek(T,_,U,!0)};formatters.q=function(T,_,U){return formatQuarter(T,_,U,!0)};formatters.Q=formatQuarter;function formatDate(T,_,U){if(U===void 0&&(U=DEFAULT_LOCALE),!isDate$1(T))return T??EMPTY;var H=localeInfo(U),z=datePattern(_,H);return z.replace(dateFormatRegExp,function(j){var q=j.length,K;return j.includes("'")||j.includes('"')?K=j.slice(1,q-1):K=formatters[j[0]](T,q,H),K})}function convertTimeZone(T,_,U){var H=T.getTimezoneOffset(),z=new Date(T.getTime()+(_-U)*6e4),j=z.getTimezoneOffset();return new Date(z.getTime()+(j-H)*6e4)}function adjustDST(T,_){!_&&T.getHours()===23&&T.setHours(T.getHours()+2)}var timeZoneOffsetRegExp=/([+|-]\d{1,2})(:?)(\d{2})?/,dateRegExp=/^\/Date\((.*?)\)\/$/,offsetRegExp=/[+-]\d*/,numberRegExp={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},numberRegex=/\d+/,PLACEHOLDER="{0}",leadingSpacesRegex=/^ */,trailingSpacesRegex=/ *$/,standardDateFormats=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],FORMATS_SEQUENCE=["G","g","F","Y","y","M","m","D","d","y","T","t"],TWO_DIGIT_YEAR_MAX=2029;function outOfRange(T,_,U){return!(T>=_&&T<=U)}function lookAhead(T,_){for(var U=_.format,H=_.idx,z=0;U[H]===T;)z++,H++;return z>0&&(H-=1),_.idx=H,z}function getNumber(T,_){var U=T?numberRegExp[T]||new RegExp("^\\d{1,"+T+"}"):numberRegex,H=_.value.substr(_.valueIdx,T).match(U);return H?(H=H[0],_.valueIdx+=H.length,parseInt(H,10)):null}function getIndexByName(T,_,U){for(var H=0,z=T.length,j,q,K=0,Y=0,X;H<z;H++)j=T[H],q=j.length,X=_.value.substr(_.valueIdx,q),X=X.toLowerCase(),X===j&&q>K&&(K=q,Y=H);return K?(_.valueIdx+=K,Y+1):null}function checkLiteral(T){var _=!1;return T.value.charAt(T.valueIdx)===T.format[T.idx]&&(T.valueIdx++,_=!0),_}function calendarGmtFormats(T){var _=T.gmtFormat,U=T.gmtZeroFormat;if(!_)throw errors.NoGMTInfo.error();return[_.replace(PLACEHOLDER,EMPTY).toLowerCase(),U.replace(PLACEHOLDER,EMPTY).toLowerCase()]}function parseTimeZoneOffset(T,_,U){var H=U.shortHours,z=U.noSeparator,j=U.optionalMinutes,q=U.localizedName,K=U.zLiteral;if(T.UTC=!0,K&&T.value.charAt(T.valueIdx)==="Z")return T.valueIdx++,!1;if(q&&!getIndexByName(calendarGmtFormats(_.calendar),T))return!0;var Y=timeZoneOffsetRegExp.exec(T.value.substr(T.valueIdx,6));if(!Y)return!q;var X=Y[1],Z=Y[3],ne=parseInt(X,10),ie=Y[2],se=parseInt(Z,10);if(isNaN(ne)||!H&&X.length!==3||!j&&isNaN(se)||z&&ie||(isNaN(se)&&(se=null),outOfRange(ne,-12,13)||se&&outOfRange(se,0,59)))return!0;T.valueIdx+=Y[0].length,T.hoursOffset=ne,T.minutesOffset=se}function parseMonth(T,_,U){var H=lookAhead(T,_),z=formatNames(U,"months",H,T==="L",!0),j=H<3?getNumber(2,_):getIndexByName(z,_);if(j===null||outOfRange(j,1,12))return!0;_.month=j-1}function parseDayOfWeek(T,_,U){var H=lookAhead(T,_),z=formatNames(U,"days",H,T==="c",!0),j=H<3?getNumber(1,_):getIndexByName(z,_);if(!j&&j!==0||outOfRange(j,1,7))return!0}var parsers={};parsers.d=function(T){lookAhead("d",T);var _=getNumber(2,T);if(_===null||outOfRange(_,1,31))return!0;T.day===null&&(T.day=_)};parsers.E=function(T,_){var U=lookAhead("E",T),H=getIndexByName(formatNames(_,"days",U,!1,!0),T);if(H===null)return!0};parsers.M=function(T,_){return parseMonth("M",T,_)};parsers.L=function(T,_){return parseMonth("L",T,_)};parsers.y=function(T){var _=lookAhead("y",T),U=getNumber(_===1?void 0:_,T);if(U===null)return!0;if(_===2){var H=new Date().getFullYear();U=H-H%100+U,U>TWO_DIGIT_YEAR_MAX&&(U-=100)}T.year=U};parsers.h=function(T){lookAhead("h",T);var _=getNumber(2,T);if(_===12&&(_=0),_===null||outOfRange(_,0,11))return!0;T.hours=_};parsers.K=function(T){lookAhead("K",T);var _=getNumber(2,T);if(_===null||outOfRange(_,0,11))return!0;T.hours=_};parsers.a=function(T,_){var U=lookAhead("a",T),H=formatNames(_,"dayPeriods",U,!1,!0),z=getIndexByName([H.pm],T);if(!z&&!getIndexByName([H.am],T))return!0;T.pmHour=z};parsers.H=function(T){lookAhead("H",T);var _=getNumber(2,T);if(_===null||outOfRange(_,0,23))return!0;T.hours=_};parsers.k=function(T){lookAhead("k",T);var _=getNumber(2,T);if(_===null||outOfRange(_,1,24))return!0;T.hours=_===24?0:_};parsers.m=function(T){lookAhead("m",T);var _=getNumber(2,T);if(_===null||outOfRange(_,0,59))return!0;T.minutes=_};parsers.s=function(T){lookAhead("s",T);var _=getNumber(2,T);if(_===null||outOfRange(_,0,59))return!0;T.seconds=_};parsers.S=function(T){var _=lookAhead("S",T),U=T.value.substr(T.valueIdx,_),H=null;if(isNaN(parseInt(U,10))||(H=parseFloat("0."+U,10),H=round(H,3),H*=1e3,T.valueIdx+=_),H===null||outOfRange(H,0,999))return!0;T.milliseconds=H};parsers.z=function(T,_){var U=lookAhead("z",T),H=U<4,z=parseTimeZoneOffset(T,_,{shortHours:H,optionalMinutes:H,localizedName:!0});if(z)return z};parsers.Z=function(T,_){var U=lookAhead("Z",T),H=parseTimeZoneOffset(T,_,{noSeparator:U<4,zLiteral:U===5,localizedName:U===4});if(H)return H};parsers.x=function(T,_){var U=lookAhead("x",T),H=parseTimeZoneOffset(T,_,{noSeparator:U!==3&&U!==5,optionalMinutes:U===1});if(H)return H};parsers.X=function(T,_){var U=lookAhead("X",T),H=parseTimeZoneOffset(T,_,{noSeparator:U!==3&&U!==5,optionalMinutes:U===1,zLiteral:!0});if(H)return H};parsers.G=function(T,_){var U=lookAhead("G",T),H=formatNames(_,"eras",U,!1,!0),z=getIndexByName([H[0],H[1]],T);if(z===null)return!0};parsers.e=function(T,_){return parseDayOfWeek("e",T,_)};parsers.c=function(T,_){return parseDayOfWeek("c",T,_)};function createDate(T){var _=T.year,U=T.month,H=T.day,z=T.hours,j=T.minutes,q=T.seconds,K=T.milliseconds,Y=T.pmHour,X=T.UTC,Z=T.hoursOffset,ne=T.minutesOffset,ie=z!==null||j!==null||q||null,se=new Date,de;return _===null&&U===null&&H===null&&ie?(_=se.getFullYear(),U=se.getMonth(),H=se.getDate()):(_===null&&(_=se.getFullYear()),H===null&&(H=1)),Y&&z<12&&(z+=12),X?(Z&&(z+=-Z),ne&&(j+=-ne*(Z<0?-1:1)),de=new Date(Date.UTC(_,U,H,z,j,q,K))):(de=new Date(_,U,H,z,j,q,K),adjustDST(de,z)),_<100&&de.setFullYear(_),de.getDate()!==H&&X===void 0?null:de}function addFormatSpaces(T,_){var U=leadingSpacesRegex.exec(_)[0],H=trailingSpacesRegex.exec(_)[0];return""+U+T+H}function parseExact(T,_,U){for(var H=datePattern(_,U).split(EMPTY),z={format:H,idx:0,value:addFormatSpaces(T,_),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},j=H.length,q=!1;z.idx<j;z.idx++){var K=H[z.idx];if(q)K==="'"&&(q=!1),checkLiteral(z);else if(parsers[K]){var Y=parsers[K](z,U);if(Y)return null}else if(K==="'")q=!0,checkLiteral(z);else if(!checkLiteral(z))return null}return z.valueIdx<T.length?null:createDate(z)||null}function parseMicrosoftDateOffset(T){var _=T.substr(0,1)==="-"?-1:1,U=T.substring(1);return U=parseInt(U.substr(0,2),10)*60+parseInt(U.substring(2),10),_*U}function parseMicrosoftDateFormat(T){if(T&&T.indexOf("/D")===0){var _=dateRegExp.exec(T);if(_){_=_[1];var U=offsetRegExp.exec(_.substring(1));return _=new Date(parseInt(_,10)),U&&(U=parseMicrosoftDateOffset(U[0]),_=convertTimeZone(_,_.getTimezoneOffset(),0),_=convertTimeZone(_,0,-1*U)),_}}}function defaultFormats(T){for(var _=[],U=T.patterns,H=FORMATS_SEQUENCE.length,z=0;z<H;z++)_.push(U[FORMATS_SEQUENCE[z]]);return _.concat(standardDateFormats)}function parseDate(T,_,U){if(U===void 0&&(U=DEFAULT_LOCALE),!T)return null;if(isDate$1(T))return T;var H=String(T).trim(),z=parseMicrosoftDateFormat(H);if(z)return z;var j=localeInfo(U),q=_||defaultFormats(j.calendar);q=Array.isArray(q)?q:[q];for(var K=q.length,Y=0;Y<K;Y++)if(z=parseExact(H,q[Y],j),z)return z;return z}var NAME_TYPES={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},LITERAL="literal";function addLiteral(T,_){var U=T[T.length-1];U&&U.type===LITERAL?U.pattern+=_:T.push({type:LITERAL,pattern:_})}function isHour12(T){return T==="h"||T==="K"}function splitDateFormat(T,_){_===void 0&&(_=DEFAULT_LOCALE);for(var U=localeInfo(_),H=datePattern(T,U),z=[],j=dateFormatRegExp.lastIndex=0,q=dateFormatRegExp.exec(H);q;){var K=q[0];if(j<q.index&&addLiteral(z,H.substring(j,q.index)),K.startsWith('"')||K.startsWith("'"))addLiteral(z,K);else{var Y=K[0],X=DATE_FIELD_MAP[Y],Z={type:X,pattern:K};X==="hour"&&(Z.hour12=isHour12(K));var ne=NAME_TYPES[X];if(ne){var ie=isNumber$1(ne.minLength)?ne.minLength:ne.minLength[Y],se=K.length;se>=ie&&(Z.names={type:ne.type,nameType:dateNameType(se),standAlone:ne.standAlone===Y})}z.push(Z)}j=dateFormatRegExp.lastIndex,q=dateFormatRegExp.exec(H)}return j<H.length&&addLiteral(z,H.substring(j)),z}var formatRegExp=/\{(\d+)(:[^}]+)?\}/g;function toString$1(T,_,U){if(_){if(isDate$1(T))return formatDate(T,_,U);if(isNumber$1(T))return formatNumber(T,_,U)}return T??EMPTY}function format(T,_,U){return T.replace(formatRegExp,function(H,z,j){var q=_[parseInt(z,10)];return toString$1(q,j?j.substring(1):EMPTY,U)})}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let o$6=class{constructor(_){this.locale=_}format(_,...U){return U.length===1&&Array.isArray(U[0])?format(_,U[0],this.locale):format(_,U,this.locale)}formatDate(_,U){return formatDate(_,U,this.locale)}toString(_,U){return toString$1(_,U,this.locale)}parseNumber(_,U){return parseNumber(_,this.locale,U)}parseDate(_,U){return parseDate(_,U,this.locale)}formatNumber(_,U){return formatNumber(_,U,this.locale)}dateFieldName(_){return dateFieldName(_,this.locale)}dateFormatNames(_){return dateFormatNames(this.locale,_)}splitDateFormat(_){return splitDateFormat(_,this.locale)}numberSymbols(){return numberSymbols(this.locale)}firstDay(){return firstDay(this.locale)}localeInfo(){return localeInfo(this.locale)}localeCurrency(){return localeCurrency(this.locale)}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$5=Object.create({});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let s$4=class{constructor(_){this.language=_}toLanguageString(_,U){return this.language&&e$5[this.language]&&e$5[this.language].hasOwnProperty(_)?e$5[this.language][_]:U}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const r$4=reactExports.createContext({intl:new o$6("en"),localization:new s$4});function s$3(T){const _=T.context;return _&&_.localization?_.localization:new s$4}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const i$1=()=>reactExports.useContext(r$4).localization;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$3=a$5(f$1);p$3.displayName="KendoReactDropDownButton";const n$2=a$5(g$1);n$2.displayName="KendoReactSplitButton";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const r$3="prevArrow.title",t$3="nextArrow.title",e$4={[r$3]:"Previous tab arrow",[t$3]:"Next tab arrow"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const W=T=>Array.apply(null,Array(T)),b$2="smooth",f="prev",m="next",w=class extends reactExports.Component{constructor(){super(...arguments),this.itemsNavRef=this.props.itemsNavRef||reactExports.createRef(),this.onScroll=()=>{var _,U;(U=(_=this.props).onScroll)==null||U.call(_)},this.isRtl=()=>this.props.dir==="rtl",this.arrowClickPrev=_=>{this.handleArrowClick(f,_)},this.arrowClickNext=_=>{this.handleArrowClick(m,_)},this.handleArrowClick=(_,U)=>{this.setNewScrollPosition(_,U)},this.setNewScrollPosition=(_,U)=>{const H=this.itemsNavRef.current;if(!H)return;const z=this.horizontalScroll(),j=z?H.scrollWidth-H.offsetWidth:H.scrollHeight-H.offsetHeight,q=(U.type==="click"?this.props.buttonScrollSpeed:this.props.mouseScrollSpeed)||0;let K=z?H.scrollLeft:H.scrollTop;this.isRtl()&&this.horizontalScroll()?(_===f&&K<0&&(K+=q),_===m&&K<j&&(K-=q),K=Math.min(0,Math.min(j,K))):(_===f&&K>0&&(K-=q),_===m&&K<j&&(K+=q),K=Math.max(0,Math.min(j,K)));const Y=U.type==="click"?b$2:void 0;z?H.scrollTo({left:K,behavior:Y}):H.scrollTo({top:K,behavior:Y})},this.renderArrow=_=>{const U=this.horizontalScroll(),H=s$3(this),z={prev:{arrowTab:"k-tabstrip-prev",fontIcon:U?this.isRtl()?"caret-alt-right":"caret-alt-left":"caret-alt-up",svgIcon:U?this.isRtl()?caretAltRightIcon:caretAltLeftIcon:caretAltUpIcon,title:H.toLanguageString(r$3,e$4[r$3])},next:{arrowTab:"k-tabstrip-next",fontIcon:U?this.isRtl()?"caret-alt-left":"caret-alt-right":"caret-alt-down",svgIcon:U?this.isRtl()?caretAltLeftIcon:caretAltRightIcon:caretAltDownIcon,title:H.toLanguageString(t$3,e$4[t$3])}},j=(_===f?this.props.prevButton:this.props.nextButton)||M$1,q=_===f?this.arrowClickPrev:this.arrowClickNext,K=this.props.containerScrollPosition===null||_===f&&(this.props.containerScrollPosition==="start"||this.props.containerScrollPosition==="top")||_===m&&(this.props.containerScrollPosition==="end"||this.props.containerScrollPosition==="bottom");return reactExports.createElement(j,{disabled:K,className:n$c(`${z[_].arrowTab}`),onClick:q,icon:z[_].fontIcon,svgIcon:z[_].svgIcon,size:this.props.size,tabIndex:-1,fillMode:"flat",title:z[_].title})}}componentDidMount(){this.props.scrollable&&this.scrollToSelected()}componentDidUpdate(_){const{scrollable:U,selected:H}=this.props;U&&_.selected!==H&&this.scrollToSelected()}render(){const{selected:_,tabPosition:U,tabAlignment:H,children:z,onSelect:j,onKeyDown:q,navItemId:K,contentPanelId:Y,renderAllContent:X,scrollable:Z,scrollButtons:ne,scrollButtonsPosition:ie}=this.props,se=reactExports.Children.count(z),de=reactExports.Children.toArray(z);let Ee;z&&(Ee=W(se).map((ue,fe,ve)=>{const me={active:_===fe,disabled:de[fe].props.disabled,index:fe,title:de[fe].props.title,first:fe===0,last:fe===ve.length-1,contentPanelId:Y,renderAllContent:X,id:K,onSelect:j,onScroll:this.onScroll};return reactExports.createElement(l$6,{key:fe,...me})}));const pe=n$c("k-tabstrip-items-wrapper k-tabstrip-items-wrapper-scroll",{"k-hstack":U==="top"||U==="bottom","k-vstack":U==="left"||U==="right"}),le=n$c("k-tabstrip-items k-tabstrip-items-scroll k-reset",`k-tabstrip-items-${H}`);return reactExports.createElement("div",{className:pe},Z?reactExports.createElement(reactExports.Fragment,null,ne!=="hidden"&&ie&&["split","start","around","before"].includes(ie)&&this.renderArrow(f),ne!=="hidden"&&(ie==="start"||ie==="before")&&this.renderArrow(m),reactExports.createElement("ul",{ref:this.itemsNavRef,className:le,role:"tablist",tabIndex:this.props.tabIndex,onKeyDown:q,onScroll:this.onScroll,"aria-orientation":U==="left"||U==="right"?"vertical":void 0},Ee),ne!=="hidden"&&(ie==="end"||ie==="after")&&this.renderArrow(f),ne!=="hidden"&&ie&&["split","end","around","after"].includes(ie)&&this.renderArrow(m)):reactExports.createElement("ul",{className:le,role:"tablist",tabIndex:this.props.tabIndex,onKeyDown:q},Ee))}scrollToSelected(){const _=this.itemsNavRef.current,U=_&&_.children[this.props.selected||0];if(U instanceof HTMLElement&&_ instanceof HTMLElement){const H=this.horizontalScroll(),z=H?_.offsetWidth:_.offsetHeight,j=H?U.offsetWidth:U.offsetHeight,q=H?"left":"top";let K=H?_.scrollLeft:_.scrollTop,Y=0;if(this.isRtl()){const X=U.offsetLeft;K=K*-1,X<0?(Y=X-j+_.offsetLeft,_.scrollTo({[q]:Y,behavior:b$2})):X+j>z-K&&(Y=K+X-j,_.scrollTo({[q]:Y,behavior:b$2}))}else{const X=H?U.offsetLeft-_.offsetLeft:U.offsetTop-_.offsetTop;K+z<X+j?(Y=X+j-z,_.scrollTo({[q]:Y,behavior:b$2})):K>X&&(Y=X,_.scrollTo({[q]:Y,behavior:b$2}))}}}horizontalScroll(){return/top|bottom/.test(this.props.tabPosition||"top")}};w.propTypes={children:n$f.oneOfType([n$f.element,n$f.arrayOf(n$f.element)]),onSelect:n$f.func,onKeyDown:n$f.func,onScroll:n$f.func,selected:n$f.number,tabIndex:n$f.number,scrollable:n$f.bool,size:n$f.oneOf(["small","medium","large"]),scrollButtons:n$f.oneOf(["auto","visible","hidden"]),scrollButtonsPosition:n$f.oneOf(["split","start","end","around","before","after"]),containerScrollPosition:n$f.oneOf(["start","end","top","bottom","middle",null])};let C$2=w;function _extends(){return _extends=Object.assign?Object.assign.bind():function(T){for(var _=1;_<arguments.length;_++){var U=arguments[_];for(var H in U)({}).hasOwnProperty.call(U,H)&&(T[H]=U[H])}return T},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(T,_){if(T==null)return{};var U={};for(var H in T)if({}.hasOwnProperty.call(T,H)){if(_.indexOf(H)!==-1)continue;U[H]=T[H]}return U}function _setPrototypeOf(T,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,H){return U.__proto__=H,U},_setPrototypeOf(T,_)}function _inheritsLoose(T,_){T.prototype=Object.create(_.prototype),T.prototype.constructor=T,_setPrototypeOf(T,_)}function hasClass(T,_){return T.classList?!!_&&T.classList.contains(_):(" "+(T.className.baseVal||T.className)+" ").indexOf(" "+_+" ")!==-1}function addClass(T,_){T.classList?T.classList.add(_):hasClass(T,_)||(typeof T.className=="string"?T.className=T.className+" "+_:T.setAttribute("class",(T.className&&T.className.baseVal||"")+" "+_))}function replaceClassName(T,_){return T.replace(new RegExp("(^|\\s)"+_+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(T,_){T.classList?T.classList.remove(_):typeof T.className=="string"?T.className=replaceClassName(T.className,_):T.setAttribute("class",replaceClassName(T.className&&T.className.baseVal||"",_))}const config={disabled:!1},TransitionGroupContext=React$2.createContext(null);var forceReflow=function(_){return _.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(T){_inheritsLoose(_,T);function _(H,z){var j;j=T.call(this,H,z)||this;var q=z,K=q&&!q.isMounting?H.enter:H.appear,Y;return j.appearStatus=null,H.in?K?(Y=EXITED,j.appearStatus=ENTERING):Y=ENTERED:H.unmountOnExit||H.mountOnEnter?Y=UNMOUNTED:Y=EXITED,j.state={status:Y},j.nextCallback=null,j}_.getDerivedStateFromProps=function(z,j){var q=z.in;return q&&j.status===UNMOUNTED?{status:EXITED}:null};var U=_.prototype;return U.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},U.componentDidUpdate=function(z){var j=null;if(z!==this.props){var q=this.state.status;this.props.in?q!==ENTERING&&q!==ENTERED&&(j=ENTERING):(q===ENTERING||q===ENTERED)&&(j=EXITING)}this.updateStatus(!1,j)},U.componentWillUnmount=function(){this.cancelNextCallback()},U.getTimeouts=function(){var z=this.props.timeout,j,q,K;return j=q=K=z,z!=null&&typeof z!="number"&&(j=z.exit,q=z.enter,K=z.appear!==void 0?z.appear:q),{exit:j,enter:q,appear:K}},U.updateStatus=function(z,j){if(z===void 0&&(z=!1),j!==null)if(this.cancelNextCallback(),j===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var q=this.props.nodeRef?this.props.nodeRef.current:ReactDOM$2.findDOMNode(this);q&&forceReflow(q)}this.performEnter(z)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},U.performEnter=function(z){var j=this,q=this.props.enter,K=this.context?this.context.isMounting:z,Y=this.props.nodeRef?[K]:[ReactDOM$2.findDOMNode(this),K],X=Y[0],Z=Y[1],ne=this.getTimeouts(),ie=K?ne.appear:ne.enter;if(!z&&!q||config.disabled){this.safeSetState({status:ENTERED},function(){j.props.onEntered(X)});return}this.props.onEnter(X,Z),this.safeSetState({status:ENTERING},function(){j.props.onEntering(X,Z),j.onTransitionEnd(ie,function(){j.safeSetState({status:ENTERED},function(){j.props.onEntered(X,Z)})})})},U.performExit=function(){var z=this,j=this.props.exit,q=this.getTimeouts(),K=this.props.nodeRef?void 0:ReactDOM$2.findDOMNode(this);if(!j||config.disabled){this.safeSetState({status:EXITED},function(){z.props.onExited(K)});return}this.props.onExit(K),this.safeSetState({status:EXITING},function(){z.props.onExiting(K),z.onTransitionEnd(q.exit,function(){z.safeSetState({status:EXITED},function(){z.props.onExited(K)})})})},U.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},U.safeSetState=function(z,j){j=this.setNextCallback(j),this.setState(z,j)},U.setNextCallback=function(z){var j=this,q=!0;return this.nextCallback=function(K){q&&(q=!1,j.nextCallback=null,z(K))},this.nextCallback.cancel=function(){q=!1},this.nextCallback},U.onTransitionEnd=function(z,j){this.setNextCallback(j);var q=this.props.nodeRef?this.props.nodeRef.current:ReactDOM$2.findDOMNode(this),K=z==null&&!this.props.addEndListener;if(!q||K){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Y=this.props.nodeRef?[this.nextCallback]:[q,this.nextCallback],X=Y[0],Z=Y[1];this.props.addEndListener(X,Z)}z!=null&&setTimeout(this.nextCallback,z)},U.render=function(){var z=this.state.status;if(z===UNMOUNTED)return null;var j=this.props,q=j.children;j.in,j.mountOnEnter,j.unmountOnExit,j.appear,j.enter,j.exit,j.timeout,j.addEndListener,j.onEnter,j.onEntering,j.onEntered,j.onExit,j.onExiting,j.onExited,j.nodeRef;var K=_objectWithoutPropertiesLoose(j,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$2.createElement(TransitionGroupContext.Provider,{value:null},typeof q=="function"?q(z,K):React$2.cloneElement(React$2.Children.only(q),K))},_}(React$2.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$2(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$2,onEntering:noop$2,onEntered:noop$2,onExit:noop$2,onExiting:noop$2,onExited:noop$2};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;var _addClass=function(_,U){return _&&U&&U.split(" ").forEach(function(H){return addClass(_,H)})},removeClass=function(_,U){return _&&U&&U.split(" ").forEach(function(H){return removeClass$1(_,H)})},CSSTransition=function(T){_inheritsLoose(_,T);function _(){for(var H,z=arguments.length,j=new Array(z),q=0;q<z;q++)j[q]=arguments[q];return H=T.call.apply(T,[this].concat(j))||this,H.appliedClasses={appear:{},enter:{},exit:{}},H.onEnter=function(K,Y){var X=H.resolveArguments(K,Y),Z=X[0],ne=X[1];H.removeClasses(Z,"exit"),H.addClass(Z,ne?"appear":"enter","base"),H.props.onEnter&&H.props.onEnter(K,Y)},H.onEntering=function(K,Y){var X=H.resolveArguments(K,Y),Z=X[0],ne=X[1],ie=ne?"appear":"enter";H.addClass(Z,ie,"active"),H.props.onEntering&&H.props.onEntering(K,Y)},H.onEntered=function(K,Y){var X=H.resolveArguments(K,Y),Z=X[0],ne=X[1],ie=ne?"appear":"enter";H.removeClasses(Z,ie),H.addClass(Z,ie,"done"),H.props.onEntered&&H.props.onEntered(K,Y)},H.onExit=function(K){var Y=H.resolveArguments(K),X=Y[0];H.removeClasses(X,"appear"),H.removeClasses(X,"enter"),H.addClass(X,"exit","base"),H.props.onExit&&H.props.onExit(K)},H.onExiting=function(K){var Y=H.resolveArguments(K),X=Y[0];H.addClass(X,"exit","active"),H.props.onExiting&&H.props.onExiting(K)},H.onExited=function(K){var Y=H.resolveArguments(K),X=Y[0];H.removeClasses(X,"exit"),H.addClass(X,"exit","done"),H.props.onExited&&H.props.onExited(K)},H.resolveArguments=function(K,Y){return H.props.nodeRef?[H.props.nodeRef.current,K]:[K,Y]},H.getClassNames=function(K){var Y=H.props.classNames,X=typeof Y=="string",Z=X&&Y?Y+"-":"",ne=X?""+Z+K:Y[K],ie=X?ne+"-active":Y[K+"Active"],se=X?ne+"-done":Y[K+"Done"];return{baseClassName:ne,activeClassName:ie,doneClassName:se}},H}var U=_.prototype;return U.addClass=function(z,j,q){var K=this.getClassNames(j)[q+"ClassName"],Y=this.getClassNames("enter"),X=Y.doneClassName;j==="appear"&&q==="done"&&X&&(K+=" "+X),q==="active"&&z&&forceReflow(z),K&&(this.appliedClasses[j][q]=K,_addClass(z,K))},U.removeClasses=function(z,j){var q=this.appliedClasses[j],K=q.base,Y=q.active,X=q.done;this.appliedClasses[j]={},K&&removeClass(z,K),Y&&removeClass(z,Y),X&&removeClass(z,X)},U.render=function(){var z=this.props;z.classNames;var j=_objectWithoutPropertiesLoose(z,["classNames"]);return React$2.createElement(Transition,_extends({},j,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},_}(React$2.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};function _assertThisInitialized(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function getChildMapping(T,_){var U=function(j){return _&&reactExports.isValidElement(j)?_(j):j},H=Object.create(null);return T&&reactExports.Children.map(T,function(z){return z}).forEach(function(z){H[z.key]=U(z)}),H}function mergeChildMappings(T,_){T=T||{},_=_||{};function U(Z){return Z in _?_[Z]:T[Z]}var H=Object.create(null),z=[];for(var j in T)j in _?z.length&&(H[j]=z,z=[]):z.push(j);var q,K={};for(var Y in _){if(H[Y])for(q=0;q<H[Y].length;q++){var X=H[Y][q];K[H[Y][q]]=U(X)}K[Y]=U(Y)}for(q=0;q<z.length;q++)K[z[q]]=U(z[q]);return K}function getProp(T,_,U){return U[_]!=null?U[_]:T.props[_]}function getInitialChildMapping(T,_){return getChildMapping(T.children,function(U){return reactExports.cloneElement(U,{onExited:_.bind(null,U),in:!0,appear:getProp(U,"appear",T),enter:getProp(U,"enter",T),exit:getProp(U,"exit",T)})})}function getNextChildMapping(T,_,U){var H=getChildMapping(T.children),z=mergeChildMappings(_,H);return Object.keys(z).forEach(function(j){var q=z[j];if(reactExports.isValidElement(q)){var K=j in _,Y=j in H,X=_[j],Z=reactExports.isValidElement(X)&&!X.props.in;Y&&(!K||Z)?z[j]=reactExports.cloneElement(q,{onExited:U.bind(null,q),in:!0,exit:getProp(q,"exit",T),enter:getProp(q,"enter",T)}):!Y&&K&&!Z?z[j]=reactExports.cloneElement(q,{in:!1}):Y&&K&&reactExports.isValidElement(X)&&(z[j]=reactExports.cloneElement(q,{onExited:U.bind(null,q),in:X.props.in,exit:getProp(q,"exit",T),enter:getProp(q,"enter",T)}))}}),z}var values=Object.values||function(T){return Object.keys(T).map(function(_){return T[_]})},defaultProps={component:"div",childFactory:function(_){return _}},TransitionGroup=function(T){_inheritsLoose(_,T);function _(H,z){var j;j=T.call(this,H,z)||this;var q=j.handleExited.bind(_assertThisInitialized(j));return j.state={contextValue:{isMounting:!0},handleExited:q,firstRender:!0},j}var U=_.prototype;return U.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},U.componentWillUnmount=function(){this.mounted=!1},_.getDerivedStateFromProps=function(z,j){var q=j.children,K=j.handleExited,Y=j.firstRender;return{children:Y?getInitialChildMapping(z,K):getNextChildMapping(z,q,K),firstRender:!1}},U.handleExited=function(z,j){var q=getChildMapping(this.props.children);z.key in q||(z.props.onExited&&z.props.onExited(j),this.mounted&&this.setState(function(K){var Y=_extends({},K.children);return delete Y[z.key],{children:Y}}))},U.render=function(){var z=this.props,j=z.component,q=z.childFactory,K=_objectWithoutPropertiesLoose(z,["component","childFactory"]),Y=this.state.contextValue,X=values(this.state.children).map(q);return delete K.appear,delete K.enter,delete K.exit,j===null?React$2.createElement(TransitionGroupContext.Provider,{value:Y},X):React$2.createElement(TransitionGroupContext.Provider,{value:Y},React$2.createElement(j,K,X))},_}(React$2.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const R$2=reactExports.forwardRef((T,_)=>{const U=reactExports.useRef(null),{mountOnEnter:H=n$1.mountOnEnter,unmountOnExit:z=n$1.unmountOnExit,onEnter:j=n$1.onEnter,onEntering:q=n$1.onEntering,onEntered:K=n$1.onEntered,onExit:Y=n$1.onExit,onExiting:X=n$1.onExiting,onExited:Z=n$1.onExited,onAfterExited:ne=n$1.onAfterExited,animationEnteringStyle:ie=n$1.animationEnteringStyle,animationEnteredStyle:se=n$1.animationEnteredStyle,animationExitingStyle:de=n$1.animationExitingStyle,animationExitedStyle:Ee=n$1.animationExitedStyle,children:pe,style:le,appear:ue,enter:fe,exit:ve,transitionName:me,transitionEnterDuration:Ae,transitionExitDuration:ae,className:oe,unstyled:ce,...Se}=T,he={transitionDelay:"0ms",...le},xe=ce&&ce.uAnimation,ye=n$c(oe,x$3.childContainer({c:xe})),Ge=reactExports.useRef({element:U.current,props:T}),qe=reactExports.useRef(null);reactExports.useImperativeHandle(qe,()=>({element:U.current,props:T})),reactExports.useImperativeHandle(_,()=>qe.current,[]);const Fe={entering:{transitionDuration:`${Ae}ms`,...ie},entered:{...se},exiting:{transitionDuration:`${ae}ms`,...de},exited:{...Ee}},He={in:T.in,appear:ue,enter:fe,exit:ve,mountOnEnter:H,unmountOnExit:z,timeout:{enter:Ae,exit:ae},onEnter:()=>{j&&j.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current})},onEntering:()=>{q&&q.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current})},onEntered:()=>{K&&K.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current})},onExit:()=>{Y&&Y.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current})},onExiting:()=>{X&&X.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current})},onExited:()=>{ne&&ne.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current}),Z&&Z.call(void 0,{animatedElement:U.current,target:qe.current||Ge.current})},classNames:{appear:n$c(x$3.appear({c:xe,transitionName:me})),appearActive:n$c(x$3.appearActive({c:xe,transitionName:me})),enter:n$c(x$3.enter({c:xe,transitionName:me})),enterActive:n$c(x$3.enterActive({c:xe,transitionName:me})),exit:n$c(x$3.exit({c:xe,transitionName:me})),exitActive:n$c(x$3.exitActive({c:xe,transitionName:me}))}};return reactExports.createElement(CSSTransition,{...He,...Se,nodeRef:U},Ye=>reactExports.createElement("div",{style:{...he,...Fe[Ye]},className:ye,ref:ke=>{U.current=ke,Ge.current.element=ke}},pe))}),n$1={mountOnEnter:!0,unmountOnExit:!1,onEnter:o$f,onEntering:o$f,onEntered:o$f,onExit:o$f,onExiting:o$f,onExited:o$f,onAfterExited:o$f,animationEnteringStyle:{},animationEnteredStyle:{},animationExitingStyle:{},animationExitedStyle:{}};R$2.displayName="KendoReactAnimationChild";R$2.propTypes={in:n$f.bool,children:n$f.oneOfType([n$f.arrayOf(n$f.node),n$f.node]),transitionName:n$f.string.isRequired,className:n$f.string,appear:n$f.bool,enter:n$f.bool,exit:n$f.bool,transitionEnterDuration:n$f.number.isRequired,transitionExitDuration:n$f.number.isRequired,mountOnEnter:n$f.bool,unmountOnExit:n$f.bool,animationEnteringStyle:n$f.object,animationEnteredStyle:n$f.object,animationExitingStyle:n$f.object,animationExitedStyle:n$f.object};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const g=T=>{const{id:_,style:U,children:H,component:z="div",className:j,childFactory:q,stackChildren:K,componentChildStyle:Y,componentChildClassName:X,...Z}=T,ne=n$9(),ie=T.unstyled||ne,se=ie&&ie.uAnimation,de={id:_,style:U,component:z,childFactory:q,className:n$c(x$3.child({c:se}),j)},Ee=reactExports.Children.map(H||null,pe=>reactExports.createElement(R$2,{...Z,unstyled:ie,style:Y,className:X},pe));return reactExports.createElement(TransitionGroup,{...de},Ee)};g.propTypes={children:n$f.oneOfType([n$f.arrayOf(n$f.node),n$f.node]),childFactory:n$f.any,className:n$f.string,component:n$f.string,id:n$f.string,style:n$f.any,transitionName:n$f.string.isRequired,appear:n$f.bool.isRequired,enter:n$f.bool.isRequired,exit:n$f.bool.isRequired,transitionEnterDuration:n$f.number.isRequired,transitionExitDuration:n$f.number.isRequired};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const l$5=T=>{const{appear:_=n.appear,enter:U=n.enter,exit:H=n.exit,transitionEnterDuration:z=n.transitionEnterDuration,transitionExitDuration:j=n.transitionExitDuration,children:q,...K}=T,Y={transitionName:"fade"};return reactExports.createElement(g,{...Y,appear:_,enter:U,exit:H,transitionEnterDuration:z,transitionExitDuration:j,...K},q)},n={appear:!1,enter:!0,exit:!1,transitionEnterDuration:500,transitionExitDuration:500};l$5.propTypes={children:n$f.oneOfType([n$f.arrayOf(n$f.node),n$f.node]),childFactory:n$f.any,className:n$f.string,component:n$f.string,id:n$f.string,style:n$f.any};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$2=(T,_)=>{const U=reactExports.useRef(0),H=reactExports.useRef(!1),z=reactExports.useRef(),j=q=>{const K=q.duration;let Y,X;const Z=U.current&&1-U.current;q.onStart&&q.onStart();const ne=ie=>{Y||(Y=ie),X=ie-Y+1;const se=X/K+Z;se<=1?(q.onUpdate&&q.onUpdate(se),z.current=window.requestAnimationFrame(ne),U.current=se):(q.onEnd&&q.onEnd(1),U.current=0)};z.current=window.requestAnimationFrame(ne)};reactExports.useEffect(()=>(j(T),()=>{z.current&&window.cancelAnimationFrame(z.current)}),_),reactExports.useEffect(()=>{H.current=!0},[])};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const l$4=class extends reactExports.Component{constructor(){super(...arguments),this.contentId=this.props.contentPanelId,this.childFactory=_=>reactExports.cloneElement(_,{..._.props,in:_.props.children.props.id===String(this.contentId+this.props.selected)})}render(){const{children:_,selected:U,contentPanelId:H,keepTabsMounted:z,navItemId:j,renderAllContent:q}=this.props,K=_&&typeof U=="number"&&reactExports.Children.toArray(_)[U],Y=n$c("k-tabstrip-content","k-active",K&&K.props.contentClassName);return q?this.renderAllContent(_):reactExports.createElement("div",{className:Y,style:this.props.style,id:H,role:"tabpanel","aria-hidden":z,"aria-labelledby":`${j}-${(U==null?void 0:U.toString())||""}`,tabIndex:0},this.renderContent(_))}renderContent(_){return this.props.keepTabsMounted?reactExports.Children.map(this.props.children,(U,H)=>this.renderChild(U,H)):this.renderChild(reactExports.Children.toArray(_)[this.props.selected],this.props.selected)}renderAllContent(_){return reactExports.Children.map(_,(U,H)=>{const z=U,j=H===this.props.selected,q=n$c("k-tabstrip-content",{"k-active":j},z.props.contentClassName);return reactExports.createElement("div",{className:q,style:this.props.style,id:`${this.props.contentPanelId}-${H}`,role:"tabpanel","aria-hidden":!j,hidden:!j,"aria-labelledby":`${this.props.navItemId}-${H}`},this.props.animation?reactExports.createElement(l$5,{key:`${H}-${j}`,appear:!0,enter:!0,exit:!1},z.props.children):z.props.children)})}renderChild(_,U){const H=U===this.props.selected,z={style:{display:H?void 0:"none"}},j={position:"initial",display:H?void 0:"none"};return _.props.disabled?null:this.props.animation?reactExports.createElement(l$5,{appear:!0,exit:this.props.keepTabsMounted,style:j,childFactory:this.props.keepTabsMounted?this.childFactory:void 0},reactExports.createElement("div",{...z,id:String(this.contentId+U),key:U},_.props.children)):reactExports.createElement("div",{...z,key:U},_.props.children)}};l$4.propTypes={animation:n$f.bool,children:n$f.oneOfType([n$f.element,n$f.arrayOf(n$f.element)]),selected:n$f.number,style:n$f.object};let h$2=l$4;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const p$1=class extends reactExports.Component{constructor(_){super(_),this.tabStripRef=reactExports.createRef(),this.itemsNavRef=reactExports.createRef(),this.onScroll=()=>{const U=this.horizontalScroll(),H=this.itemsNavRef.current;if(!H)return;const z=H.scrollLeft,j=H.clientWidth,q=H.scrollWidth,K=H.scrollTop,Y=H.scrollHeight,X=H.clientHeight;let Z=null;const ne=U?q>j:Y>X,ie=this.props.dir==="rtl";ne?U?z+j===q||(ie&&j-z)===q?Z="end":z===0||ie&&-z===0?Z="start":z>0&&z+j<q||-z>0&&j-z<q?Z="middle":Z=null:Y-(K+X)===0?Z="bottom":K===0?Z="top":K>0&&Y-(K+X)>0?Z="middle":Z=null:Z=null,this.setState({containerScrollPosition:Z})},this.handleResize=()=>{this.onScroll()},this.onSelect=U=>{this.props.selected!==U&&this.props.onSelect&&this.props.onSelect({selected:U})},this.onKeyDown=U=>{this.navigation&&this.navigation.triggerKeyboardEvent(U)},this.onKeyboardSelect=U=>{const H=this.children();H&&H[U].props.disabled||this.onSelect(U)},this.renderContent=U=>{const{selected:H,children:z,tabContentStyle:j}=U,q=reactExports.Children.count(z);return H<q&&H>-1?reactExports.createElement(h$2,{index:H,...U,style:j}):null},this.state={containerScrollPosition:null},this.itemsNavRef=reactExports.createRef()}get contentPanelId(){return this.props.id+"-content-panel-id"}get navItemId(){return this.props.id+"-nav-item-id"}componentDidMount(){var _;const U=this.tabStripRef.current,H=U&&getComputedStyle(U).direction==="rtl"||!1;U&&(this.navigation=new l$c({tabIndex:0,root:this.tabStripRef,rovingTabIndex:!0,focusClass:"k-focus",selectors:[".k-tabstrip .k-tabstrip-item"],keyboardEvents:{keydown:{ArrowLeft:(z,j,q)=>{q.preventDefault();const K=j.elements.indexOf(z),Y=K!==0?K-1:j.elements.length-1,X=K!==j.elements.length-1?K+1:0;H?(j.focusNext(z),this.onKeyboardSelect(X)):(j.focusPrevious(z),this.onKeyboardSelect(Y))},ArrowRight:(z,j,q)=>{q.preventDefault();const K=j.elements.indexOf(z),Y=K!==0?K-1:j.elements.length-1,X=K!==j.elements.length-1?K+1:0;H?(j.focusPrevious(z),this.onKeyboardSelect(Y)):(j.focusNext(z),this.onKeyboardSelect(X))},ArrowDown:(z,j,q)=>{q.preventDefault();const K=j.elements.indexOf(z),Y=K!==j.elements.length-1?K+1:0;j.focusNext(z),this.onKeyboardSelect(Y)},ArrowUp:(z,j,q)=>{q.preventDefault();const K=j.elements.indexOf(z),Y=K!==0?K-1:j.elements.length-1;j.focusPrevious(z),this.onKeyboardSelect(Y)},Home:(z,j,q)=>{q.preventDefault(),j.focusElement(j.first,z),this.onKeyboardSelect(0)},End:(z,j,q)=>{q.preventDefault(),j.focusElement(j.last,z),this.onKeyboardSelect(j.elements.length-1)}}}}),(_=this.navigation)==null||_.initializeRovingTab(this.props.selected),this.onScroll(),this.resizeObserver=window.ResizeObserver&&new ResizeObserver(()=>this.onScroll()),this.tabStripRef.current&&this.resizeObserver&&this.resizeObserver.observe(this.tabStripRef.current))}componentWillUnmount(){var _;(_=this.navigation)==null||_.removeFocusListener(),this.resizeObserver&&this.resizeObserver.disconnect()}horizontalScroll(){return/top|bottom/.test(this.props.tabPosition||"top")}render(){const _={itemsNavRef:this.itemsNavRef,...this.props,children:this.children(),contentPanelId:this.contentPanelId,renderAllContent:this.props.renderAllContent,navItemId:this.navItemId,onKeyDown:this.onKeyDown,onSelect:this.onSelect,onScroll:this.onScroll,containerScrollPosition:this.state.containerScrollPosition,scrollButtons:this.props.scrollButtons==="hidden"||this.state.containerScrollPosition===null&&this.props.scrollButtons==="auto"?"hidden":"visible"},{scrollable:U,scrollButtons:H,size:z,tabPosition:j,tabIndex:q}=_,K=j==="bottom",Y=n$c("k-tabstrip k-pos-relative",{[`k-tabstrip-${a$3.sizeMap[z]||z}`]:z,"k-tabstrip-left":j==="left","k-tabstrip-right":j==="right","k-tabstrip-bottom":j==="bottom","k-tabstrip-top":j==="top","k-tabstrip-scrollable":U,"k-tabstrip-scrollable-start k-tabstrip-scrollable-end":U&&H==="visible","k-tabstrip-scrollable-start":U&&(H==="auto"||!H)&&(this.state.containerScrollPosition==="end"||this.state.containerScrollPosition==="middle"),"k-tabstrip-scrollable-end":U&&H==="auto"&&(this.state.containerScrollPosition==="start"||this.state.containerScrollPosition==="middle")},this.props.className);return reactExports.createElement("div",{id:this.props.id,ref:this.tabStripRef,dir:this.props.dir,className:Y,style:this.props.style,onScroll:this.onScroll,onResize:this.handleResize},!K&&reactExports.createElement(C$2,{..._,tabIndex:q}),this.renderContent(_),K&&reactExports.createElement(C$2,{..._,tabIndex:q}))}children(){return reactExports.Children.toArray(this.props.children).filter(_=>_)}};p$1.propTypes={id:n$f.string,animation:n$f.bool,children:n$f.node,onSelect:n$f.func,selected:n$f.number,style:n$f.object,tabContentStyle:n$f.object,tabPosition:n$f.string,tabAlignment:n$f.string,tabIndex:n$f.number,className:n$f.string,dir:n$f.string,renderAllContent:n$f.bool,size:n$f.oneOf(["small","medium","large",null]),scrollButtons:n$f.oneOf(["auto","visible","hidden"]),scrollButtonsPosition:n$f.oneOf(["split","start","end","around","before","after"])},p$1.defaultProps={animation:!0,tabPosition:"top",tabAlignment:"start",keepTabsMounted:!1,buttonScrollSpeed:100,mouseScrollSpeed:10,scrollButtons:"auto",scrollButtonsPosition:"split",size:"medium",renderAllContent:!1};let u=p$1;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var R$1=(T=>(T.HORIZONTAL="horizontal",T.VERTICAL="vertical",T))(R$1||{}),e$3=(T=>(T.DEFAULT="default",T.primary="primary",T.INFO="info",T.SUCCESS="success",T.WARNING="warning",T.ERROR="error",T))(e$3||{}),N$3=(T=>(T.START="start",T.CENTER="center",T.END="end",T.STRETCHED="stretched",T))(N$3||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const d$3=reactExports.forwardRef((T,_)=>{const{children:U,dir:H,style:z,className:j,type:q=s$2.type,orientation:K=s$2.orientation,...Y}=T,X=reactExports.useRef(null),Z=reactExports.useRef(null);return reactExports.useImperativeHandle(X,()=>({element:Z.current,props:T})),reactExports.useImperativeHandle(_,()=>X.current),reactExports.createElement("div",{dir:H,style:z,ref:Z,className:n$c("k-card",j,{[`k-card-${q}`]:q!==e$3.DEFAULT},K===null?void 0:K!==R$1.HORIZONTAL?"k-card-vertical":"k-card-horizontal"),...Y},U)});d$3.displayName="KendoReactCard";d$3.propTypes={children:n$f.node,className:n$f.string,dir:n$f.string,orientation:n$f.oneOf(["horizontal","vertical"]),style:n$f.object,type:n$f.oneOf(["default","primary","info","success","warning","error"])};const s$2={type:e$3.DEFAULT,orientation:R$1.VERTICAL};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const t$2=T=>reactExports.createElement("div",{style:T.style,className:n$c("k-card-header",T.className)},T.children);t$2.propTypes={className:n$f.string};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const a=T=>reactExports.createElement("div",{style:T.style,className:n$c("k-card-title",T.className)},T.children);a.propTypes={className:n$f.string};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const t$1=T=>reactExports.createElement("div",{style:T.style,className:n$c("k-card-body",T.className)},T.children);t$1.propTypes={className:n$f.string};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s$1=T=>{const _={layout:N$3.START,orientation:R$1.HORIZONTAL,...T};return reactExports.createElement("div",{style:_.style,className:n$c("k-card-actions","k-actions",_.className,`k-actions-${_.layout}`,_.orientation!==R$1.VERTICAL?"k-actions-horizontal":"k-actions-vertical")},_.children)};s$1.propTypes={layout:n$f.oneOf(["stretched","start","center","end"]),orientation:n$f.oneOf(["horizontal","vertical"])};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const t={linear:!1,mode:"steps",value:0},o$5=reactExports.createContext(t);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const A$1=400,N$2=0;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$2="stepper.optionalText",o$4="stepper.progBarAriaLabel",r$2={[e$2]:"(Optional)",[o$4]:"progressbar"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const L=reactExports.forwardRef((T,_)=>{const{children:U,className:H,current:z,disabled:j,focused:q,icon:K,svgIcon:Y,index:X,isValid:Z,label:ne,optional:ie,style:se,tabIndex:de=re.tabIndex,text:Ee,...pe}=T,{animationDuration:le,isVertical:ue,item:fe,linear:ve,mode:me,numOfSteps:Ae,value:ae,onChange:oe,onFocus:ce,successIcon:Se,errorIcon:he,successSVGIcon:xe,errorSVGIcon:ye}=reactExports.useContext(o$5),Ge=reactExports.useRef(null),qe=reactExports.useCallback(()=>{Ge.current&&e$e(Ge.current)},[]),Fe=reactExports.useCallback(()=>({element:Ge.current,focus:qe}),[qe]);reactExports.useImperativeHandle(_,Fe);const He=!ve||X===ae-1||X===ae||X===ae+1,Ye=me==="labels"||!!K&&!!ne,ke=i$1(),Ke=(Bt=>ke.toLanguageString(Bt,r$2[Bt]))(e$2),gt=typeof le=="number"?le:le!==!1?A$1:N$2,De=reactExports.useCallback(Bt=>{oe&&!j&&v$5(oe,Bt,Fe(),{value:X})},[oe,ae,j]),Ie=reactExports.useCallback(Bt=>{ce&&!j&&v$5(ce,Bt,Fe(),void 0)},[ce,j]),Pe=reactExports.useMemo(()=>n$c("k-step",{"k-step-first":X===0,"k-step-last":Ae&&X===Ae-1,"k-step-done":X<ae,"k-step-current":z,"k-step-optional":ie,"k-step-error":Z!==void 0&&!Z,"k-step-success":Z,"k-disabled":j,"k-focus":q},H),[X,Ae,ae,z,ie,j,q,Z,H]),we=reactExports.useMemo(()=>({maxWidth:ue?void 0:`calc(100% / ${Ae})`,maxHeight:ue?`calc(100% / ${Ae})`:void 0,pointerEvents:He?void 0:"none",...se}),[ue,Ae,se,He]),Ve=Z?Se:he,Me=Ve?reactExports.createElement("span",{className:"k-step-indicator-icon "+Ve,"aria-hidden":"true"}):reactExports.createElement(v$3,{className:"k-step-indicator-icon",name:Z?"check-circle":"exclamation-circle",icon:Z?xe||checkOutlineIcon:ye||exclamationCircleIcon}),Le=reactExports.createElement(reactExports.Fragment,null,me!=="labels"?reactExports.createElement("span",{className:"k-step-indicator","aria-hidden":!0,style:{transitionDuration:gt+"ms"}},K||Y?!Ye&&Z!==void 0?Me:reactExports.createElement(v$3,{className:"k-step-indicator-icon",name:K&&i$8(K),icon:Y}):Z!==void 0?Me:reactExports.createElement("span",{className:"k-step-indicator-text"},Ee||X+1)):null),Qe=(ne||Ye||ie)&&reactExports.createElement("span",{className:"k-step-label"},ne&&reactExports.createElement("span",{className:"k-step-text"},ne),Ye&&Z!==void 0&&Me,ie&&reactExports.createElement("span",{className:"k-step-label-optional"},Ke)),ut=reactExports.createElement(reactExports.Fragment,null,Le,Qe);return reactExports.createElement("li",{ref:Ge,className:Pe,style:we,...pe},reactExports.createElement("a",{className:"k-step-link",title:ne||void 0,onClick:De,onFocus:Ie,"aria-current":z?"step":void 0,"aria-disabled":j||!He||void 0,"aria-invalid":Z!==void 0&&!Z||void 0},fe?U:ut))});L.propTypes={children:n$f.any,className:n$f.string,current:n$f.bool,disabled:n$f.bool,icon:n$f.string,index:n$f.number,isValid:n$f.bool,label:n$f.string,optional:n$f.bool,style:n$f.object,tabIndex:n$f.number,text:n$f.string};const re={tabIndex:0};L.displayName="KendoStep";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const I$1=3,N$1=400,o$3=0;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const h$1=T=>{const _=T.toString().split(".");return _.length===1?`${_[0]}`:`${_[0]}.${_[1].substr(0,I$1)}`},l$3=(T,_,U)=>{const H=Math.abs((_-T)/100);return Math.abs((U-T)/H)},$$2=(T,_,U,H)=>{const z=Math.max(U,.01),j=100/z*100;T.current&&_.current&&(T.current.style.width=H?"100%":`${z}%`,_.current.style.width=H?"100%":`${j}%`,T.current.style.height=H?`${z}%`:"100%",_.current.style.height=H?`${j}%`:"100%")};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const s=T=>{const _=reactExports.useRef();return reactExports.useEffect(()=>{_.current=T}),_.current};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const R=reactExports.forwardRef((T,_)=>{const{animation:U=o$2.animation,disabled:H=o$2.disabled,reverse:z=o$2.reverse,orientation:j,labelVisible:q=o$2.labelVisible,labelPlacement:K,max:Y=o$2.max,min:X=o$2.min,tabIndex:Z,className:ne,style:ie,emptyStyle:se,emptyClassName:de,progressStyle:Ee,progressClassName:pe}=T,le=reactExports.useRef(null),ue=reactExports.useRef(null),fe=reactExports.useRef(null),ve=reactExports.useCallback(()=>{le.current&&le.current.focus()},[]);reactExports.useImperativeHandle(_,()=>({element:le.current,progressStatusElement:ue.current,progressStatusWrapElement:fe.current,focus:ve}));const me=T.value||o$2.value,Ae=s(me),ae=T.value===null,oe=u$6(le,T.dir),ce=j==="vertical",Se=h$1(me),he={value:me},xe=q?T.label?reactExports.createElement("span",{className:"k-progress-status"},reactExports.createElement(T.label,{...he})):reactExports.createElement("span",{className:"k-progress-status"},Se):void 0,ye={className:n$c("k-progressbar",{"k-progressbar-horizontal":!ce,"k-progressbar-vertical":ce,"k-progressbar-reverse":z,"k-progressbar-indeterminate":ae,"k-disabled":H},ne),ref:le,dir:oe,tabIndex:e$d(Z,H),role:"progressbar","aria-label":T.ariaLabel,"aria-valuemin":X,"aria-valuemax":Y,"aria-valuenow":ae?void 0:me,"aria-disabled":H,style:ie},Ge=n$c("k-progress-status-wrap",{"k-progress-start":K==="start","k-progress-center":K==="center","k-progress-end":K==="end"||K===void 0}),qe=typeof U!="boolean"&&U!==void 0?U.duration:U?N$1:o$3,Fe=reactExports.useCallback(()=>{const ke=l$3(X,Y,Ae);$$2(ue,fe,ke,ce)},[ce,Y,X,Ae]),He=reactExports.useCallback(ke=>{const Ke=l$3(X,Y,Ae+(me-Ae)*ke);$$2(ue,fe,Ke,ce)},[X,Y,Ae,me,ce]),Ye=reactExports.useCallback(()=>{const ke=l$3(X,Y,me);$$2(ue,fe,ke,ce)},[ce,Y,X,me]);return p$2({duration:qe,onStart:Fe,onUpdate:He,onEnd:Ye},[me,qe]),reactExports.createElement("div",{...ye},reactExports.createElement("span",{className:Ge+(de?" "+de:""),style:se},xe),reactExports.createElement("div",{className:"k-progressbar-value k-selected",style:Ee,ref:ue},reactExports.createElement("span",{className:Ge+(pe?" "+pe:""),ref:fe},xe)))});R.propTypes={animation:n$f.any,ariaLabel:n$f.string,disabled:n$f.bool,reverse:n$f.bool,label:n$f.any,labelVisible:n$f.bool,labelPlacement:n$f.oneOf(["start","center","end"]),max:n$f.number,min:n$f.number,value:n$f.number,tabIndex:n$f.number,emptyStyle:n$f.object,emptyClassName:n$f.string,progressStyle:n$f.object,progressClassName:n$f.string};const o$2={animation:!1,min:0,max:100,value:0,disabled:!1,reverse:!1,labelVisible:!0};R.displayName="KendoProgressBar";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const V=reactExports.forwardRef((T,_)=>{const{animationDuration:U,children:H,className:z,disabled:j,errorIcon:q,errorSVGIcon:K,item:Y,items:X,linear:Z,mode:ne,orientation:ie,selectOnFocus:se,style:de,successIcon:Ee,successSVGIcon:pe,value:le=0,onChange:ue,onFocus:fe}=T,ve=i$1().toLanguageString(o$4,r$2[o$4]),me=reactExports.useRef(null),Ae=reactExports.useCallback(()=>{me.current&&e$e(me.current)},[]),ae=reactExports.useCallback(()=>({element:me.current,focus:Ae}),[Ae]);reactExports.useImperativeHandle(_,ae);const[oe,ce]=reactExports.useState(le),Se=X?X.length:0,he=ie==="vertical",xe=u$7(me,T.dir),ye=typeof U=="number"?U:U!==!1?A$1:N$2;reactExports.useEffect(()=>{ce(le)},[le]);const Ge=reactExports.useCallback((we,Ve)=>{const Me=Ve===le-1,Le=Ve===le,Qe=Ve===le+1;le!==Ve&&ue&&!j&&(!Z||Me||Le||Qe)&&(v$5(ue,we,ae(),{value:Ve}),ce(Ve))},[le,Z,ue,j,ce]),qe=reactExports.useCallback(we=>{const Ve=we.value,Me=we.syntheticEvent;Ge(Me,Ve)},[Ge]),Fe=reactExports.useCallback(we=>{fe&&!j&&v$5(fe,we.syntheticEvent,ae(),void 0)},[fe,j]),He=reactExports.useMemo(()=>{const we=xe==="rtl",Ve=X.length-1;return new l$c({root:me,selectors:["ol.k-step-list li.k-step a.k-step-link"],tabIndex:0,keyboardEvents:{keydown:{Tab:(Me,Le,Qe)=>{Qe.preventDefault();const ut=Le.elements.indexOf(Me),Bt=Le.previous(Me).children[0],nn=Le.next(Me).children[0];Qe.shiftKey?!we&&ut>0?(Le.focusPrevious(Me),ce(ut-1),se&&Bt.click()):we&&ut<Ve&&(Le.focusNext(Me),ce(ut+1),se&&nn.click()):!we&&ut<Ve?(Le.focusNext(Me),ce(ut+1),se&&nn.click()):we&&ut>0&&(Le.focusPrevious(Me),ce(ut-1),se&&Bt.click())},Home:(Me,Le,Qe)=>{Qe.preventDefault(),Le.focusElement(Le.first,Me),ce(0)},End:(Me,Le,Qe)=>{Qe.preventDefault(),Le.focusElement(Le.last,Me),ce(Ve)},Space:(Me,Le,Qe)=>{Qe.preventDefault(),Me.children[0].click()},Enter:(Me,Le,Qe)=>{Qe.preventDefault(),Me.children[0].click()}}}})},[xe,X.length,ce,se]);reactExports.useEffect(()=>(He.initializeRovingTab(le),()=>He.removeFocusListener()),[]);const Ye=reactExports.useCallback(He.triggerKeyboardEvent.bind(He),[]),ke=reactExports.useMemo(()=>n$c("k-stepper",{"k-stepper-linear":Z},z),[Z,z]),Ke=reactExports.useMemo(()=>({display:"grid",gridTemplateColumns:he?void 0:"repeat("+Se*2+", 1fr)",gridTemplateRows:he?"repeat("+Se+", 1fr)":void 0,...de}),[he,Se,de]),gt=reactExports.useMemo(()=>n$c("k-step-list",{"k-step-list-horizontal":!he,"k-step-list-vertical":he}),[he]),De=reactExports.useMemo(()=>({gridColumnStart:he?void 0:1,gridColumnEnd:he?void 0:-1,gridRowStart:he?1:void 0,gridRowEnd:he?-1:void 0}),[he]),Ie=reactExports.useMemo(()=>({gridColumnStart:he?void 0:2,gridColumnEnd:he?void 0:Se*2,gridRowStart:he?1:void 0,gridRowEnd:he?Se:void 0,top:he?17:void 0}),[he,Se]),Pe=X&&X.map((we,Ve)=>{const Me={index:Ve,disabled:j||we.disabled,focused:Ve===oe,current:Ve===le,...we},Le=Y||L;return reactExports.createElement(Le,{key:Ve,...Me})});return reactExports.createElement(o$5.Provider,{value:{animationDuration:U,isVertical:he,item:Y,linear:Z,mode:ne,numOfSteps:Se,value:le,successIcon:Ee,successSVGIcon:pe,errorIcon:q,errorSVGIcon:K,onChange:qe,onFocus:Fe}},reactExports.createElement("nav",{className:ke,style:Ke,dir:xe,role:"navigation",ref:me,onKeyDown:Ye},reactExports.createElement("ol",{className:gt,style:De},Pe||H),reactExports.createElement(R,{style:Ie,labelPlacement:"start",animation:{duration:ye},ariaLabel:ve,"aria-hidden":!0,max:Se-1,labelVisible:!1,orientation:ie,reverse:ie==="vertical",value:le,disabled:j,tabIndex:-1})))});V.propTypes={animationDuration:n$f.oneOfType([n$f.bool,n$f.number]),children:n$f.any,className:n$f.string,dir:n$f.string,disabled:n$f.bool,errorIcon:n$f.string,errorSVGIcon:r$9,item:n$f.any,items:n$f.any,linear:n$f.bool,mode:n$f.oneOf(["steps","labels"]),orientation:n$f.oneOf(["horizontal","vertical"]),style:n$f.object,successIcon:n$f.string,successSVGIcon:r$9,value:n$f.number.isRequired,onChange:n$f.func,onFocus:n$f.func};V.displayName="KendoStepper";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const l$2=reactExports.forwardRef((T,_)=>{const{children:U,className:H,style:z,id:j}=T,q=reactExports.useRef(null),K=reactExports.useCallback(()=>{q.current&&e$e(q.current)},[]),Y=reactExports.useCallback(()=>({element:q.current,focus:K}),[K]);reactExports.useImperativeHandle(_,Y);const X=I$3(),Z=reactExports.useMemo(()=>T.themeColor||r$1.themeColor,[T.themeColor]),ne=reactExports.useMemo(()=>T.position||r$1.position,[T.position]),ie=reactExports.useMemo(()=>T.positionMode||r$1.positionMode,[T.positionMode]),se=reactExports.useMemo(()=>n$c("k-appbar",{"k-appbar-top":ne==="top","k-appbar-bottom":ne==="bottom","k-appbar-static":ie==="static","k-appbar-sticky":ie==="sticky","k-appbar-fixed":ie==="fixed",[`k-appbar-${Z}`]:!!Z},H),[ne,ie,Z,H]);return reactExports.createElement("div",{className:se,style:z,id:j||X},U)});l$2.propTypes={children:n$f.any,className:n$f.string,style:n$f.object,id:n$f.string,themeColor:n$f.string,position:n$f.oneOf(["top","bottom"]),positionMode:n$f.oneOf(["static","sticky","fixed"])};const r$1={themeColor:"light",position:"top",positionMode:"static"};l$2.displayName="KendoAppBar";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c$1=reactExports.forwardRef((T,_)=>{const{children:U,className:H,style:z}=T,j=reactExports.useRef(null),q=reactExports.useCallback(()=>{j.current&&e$e(j.current)},[]),K=reactExports.useCallback(()=>({element:j.current,focus:q}),[q]);reactExports.useImperativeHandle(_,K);const Y=reactExports.useMemo(()=>n$c("k-appbar-section",H),[H]);return reactExports.createElement("div",{className:Y,style:z},U)});c$1.propTypes={children:n$f.any,className:n$f.string,style:n$f.object};c$1.displayName="KendoAppBarSection";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const l$1=reactExports.forwardRef((T,_)=>{const{children:U,className:H,style:z}=T,j=reactExports.useRef(null),q=reactExports.useCallback(()=>{j.current&&e$e(j.current)},[]),K=reactExports.useCallback(()=>({element:j.current,focus:q}),[q]);reactExports.useImperativeHandle(_,K);const Y=reactExports.useMemo(()=>n$c("k-appbar-spacer",{"k-appbar-spacer-sized":z&&z.width&&z.width!==null},H),[H,z]),X=reactExports.useMemo(()=>({flexBasis:z&&z.width?z.width:void 0}),[z]);return reactExports.createElement("span",{className:Y,style:X},U)});l$1.propTypes={children:n$f.any,className:n$f.string,style:n$f.object};l$1.displayName="KendoAppBarSpacer";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e$1=a$5(u$2);e$1.displayName="KendoReactMenu";a$5(u);e$1.displayName="KendoReactMenu";const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(T){const _=[];let U=0;for(let H=0;H<T.length;H++){let z=T.charCodeAt(H);z<128?_[U++]=z:z<2048?(_[U++]=z>>6|192,_[U++]=z&63|128):(z&64512)===55296&&H+1<T.length&&(T.charCodeAt(H+1)&64512)===56320?(z=65536+((z&1023)<<10)+(T.charCodeAt(++H)&1023),_[U++]=z>>18|240,_[U++]=z>>12&63|128,_[U++]=z>>6&63|128,_[U++]=z&63|128):(_[U++]=z>>12|224,_[U++]=z>>6&63|128,_[U++]=z&63|128)}return _},byteArrayToString=function(T){const _=[];let U=0,H=0;for(;U<T.length;){const z=T[U++];if(z<128)_[H++]=String.fromCharCode(z);else if(z>191&&z<224){const j=T[U++];_[H++]=String.fromCharCode((z&31)<<6|j&63)}else if(z>239&&z<365){const j=T[U++],q=T[U++],K=T[U++],Y=((z&7)<<18|(j&63)<<12|(q&63)<<6|K&63)-65536;_[H++]=String.fromCharCode(55296+(Y>>10)),_[H++]=String.fromCharCode(56320+(Y&1023))}else{const j=T[U++],q=T[U++];_[H++]=String.fromCharCode((z&15)<<12|(j&63)<<6|q&63)}}return _.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(T,_){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=_?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let z=0;z<T.length;z+=3){const j=T[z],q=z+1<T.length,K=q?T[z+1]:0,Y=z+2<T.length,X=Y?T[z+2]:0,Z=j>>2,ne=(j&3)<<4|K>>4;let ie=(K&15)<<2|X>>6,se=X&63;Y||(se=64,q||(ie=64)),H.push(U[Z],U[ne],U[ie],U[se])}return H.join("")},encodeString(T,_){return this.HAS_NATIVE_SUPPORT&&!_?btoa(T):this.encodeByteArray(stringToByteArray$1(T),_)},decodeString(T,_){return this.HAS_NATIVE_SUPPORT&&!_?atob(T):byteArrayToString(this.decodeStringToByteArray(T,_))},decodeStringToByteArray(T,_){this.init_();const U=_?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let z=0;z<T.length;){const j=U[T.charAt(z++)],K=z<T.length?U[T.charAt(z)]:0;++z;const X=z<T.length?U[T.charAt(z)]:64;++z;const ne=z<T.length?U[T.charAt(z)]:64;if(++z,j==null||K==null||X==null||ne==null)throw new DecodeBase64StringError;const ie=j<<2|K>>4;if(H.push(ie),X!==64){const se=K<<4&240|X>>2;if(H.push(se),ne!==64){const de=X<<6&192|ne;H.push(de)}}}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(T){const _=stringToByteArray$1(T);return base64.encodeByteArray(_,!0)},base64urlEncodeWithoutPadding=function(T){return base64Encode(T).replace(/\./g,"")},base64Decode=function(T){try{return base64.decodeString(T,!0)}catch(_){console.error("base64Decode failed: ",_)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const T=define_process_env_default.__FIREBASE_DEFAULTS__;if(T)return JSON.parse(T)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _=T&&base64Decode(T[1]);return _&&JSON.parse(_)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(T){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`);return}},getDefaultEmulatorHost=T=>{var _,U;return(U=(_=getDefaults())===null||_===void 0?void 0:_.emulatorHosts)===null||U===void 0?void 0:U[T]},getDefaultEmulatorHostnameAndPort=T=>{const _=getDefaultEmulatorHost(T);if(!_)return;const U=_.lastIndexOf(":");if(U<=0||U+1===_.length)throw new Error(`Invalid host ${_} with no separate hostname and port!`);const H=parseInt(_.substring(U+1),10);return _[0]==="["?[_.substring(1,U-1),H]:[_.substring(0,U),H]},getDefaultAppConfig=()=>{var T;return(T=getDefaults())===null||T===void 0?void 0:T.config},getExperimentalSetting=T=>{var _;return(_=getDefaults())===null||_===void 0?void 0:_[`_${T}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_,U)=>{this.resolve=_,this.reject=U})}wrapCallback(_){return(U,H)=>{U?this.reject(U):this.resolve(H),typeof _=="function"&&(this.promise.catch(()=>{}),_.length===1?_(U):_(U,H))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(T,_){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U={alg:"none",type:"JWT"},H=_||"demo-project",z=T.iat||0,j=T.sub||T.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const q=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:z,exp:z+3600,auth_time:z,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},T);return[base64urlEncodeWithoutPadding(JSON.stringify(U)),base64urlEncodeWithoutPadding(JSON.stringify(q)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var T;const _=(T=getDefaults())===null||T===void 0?void 0:T.forceEnvironment;if(_==="node")return!0;if(_==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const T=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof T=="object"&&T.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const T=getUA();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((T,_)=>{try{let U=!0;const H="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(H);z.onsuccess=()=>{z.result.close(),U||self.indexedDB.deleteDatabase(H),T(!0)},z.onupgradeneeded=()=>{U=!1},z.onerror=()=>{var j;_(((j=z.error)===null||j===void 0?void 0:j.message)||"")}}catch(U){_(U)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(_,U,H){super(U),this.code=_,this.customData=H,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_,U,H){this.service=_,this.serviceName=U,this.errors=H}create(_,...U){const H=U[0]||{},z=`${this.service}/${_}`,j=this.errors[_],q=j?replaceTemplate(j,H):"Error",K=`${this.serviceName}: ${q} (${z}).`;return new FirebaseError(z,K,H)}}function replaceTemplate(T,_){return T.replace(PATTERN,(U,H)=>{const z=_[H];return z!=null?String(z):`<${H}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(T){for(const _ in T)if(Object.prototype.hasOwnProperty.call(T,_))return!1;return!0}function deepEqual(T,_){if(T===_)return!0;const U=Object.keys(T),H=Object.keys(_);for(const z of U){if(!H.includes(z))return!1;const j=T[z],q=_[z];if(isObject$1(j)&&isObject$1(q)){if(!deepEqual(j,q))return!1}else if(j!==q)return!1}for(const z of H)if(!U.includes(z))return!1;return!0}function isObject$1(T){return T!==null&&typeof T=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(T){const _=[];for(const[U,H]of Object.entries(T))Array.isArray(H)?H.forEach(z=>{_.push(encodeURIComponent(U)+"="+encodeURIComponent(z))}):_.push(encodeURIComponent(U)+"="+encodeURIComponent(H));return _.length?"&"+_.join("&"):""}function querystringDecode(T){const _={};return T.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[z,j]=H.split("=");_[decodeURIComponent(z)]=decodeURIComponent(j)}}),_}function extractQuerystring(T){const _=T.indexOf("?");if(!_)return"";const U=T.indexOf("#",_);return T.substring(_,U>0?U:void 0)}function createSubscribe(T,_){const U=new ObserverProxy(T,_);return U.subscribe.bind(U)}class ObserverProxy{constructor(_,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{_(this)}).catch(H=>{this.error(H)})}next(_){this.forEachObserver(U=>{U.next(_)})}error(_){this.forEachObserver(U=>{U.error(_)}),this.close(_)}complete(){this.forEachObserver(_=>{_.complete()}),this.close()}subscribe(_,U,H){let z;if(_===void 0&&U===void 0&&H===void 0)throw new Error("Missing Observer.");implementsAnyMethods(_,["next","error","complete"])?z=_:z={next:_,error:U,complete:H},z.next===void 0&&(z.next=noop$1),z.error===void 0&&(z.error=noop$1),z.complete===void 0&&(z.complete=noop$1);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),j}unsubscribeOne(_){this.observers===void 0||this.observers[_]===void 0||(delete this.observers[_],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(_){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,_)}sendOne(_,U){this.task.then(()=>{if(this.observers!==void 0&&this.observers[_]!==void 0)try{U(this.observers[_])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(_){this.finalized||(this.finalized=!0,_!==void 0&&(this.finalError=_),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(T,_){if(typeof T!="object"||T===null)return!1;for(const U of _)if(U in T&&typeof T[U]=="function")return!0;return!1}function noop$1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(T){return T&&T._delegate?T._delegate:T}class Component{constructor(_,U,H){this.name=_,this.instanceFactory=U,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_){return this.instantiationMode=_,this}setMultipleInstances(_){return this.multipleInstances=_,this}setServiceProps(_){return this.serviceProps=_,this}setInstanceCreatedCallback(_){return this.onInstanceCreated=_,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(_,U){this.name=_,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_){const U=this.normalizeInstanceIdentifier(_);if(!this.instancesDeferred.has(U)){const H=new Deferred;if(this.instancesDeferred.set(U,H),this.isInitialized(U)||this.shouldAutoInitialize())try{const z=this.getOrInitializeService({instanceIdentifier:U});z&&H.resolve(z)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(_){var U;const H=this.normalizeInstanceIdentifier(_==null?void 0:_.identifier),z=(U=_==null?void 0:_.optional)!==null&&U!==void 0?U:!1;if(this.isInitialized(H)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:H})}catch(j){if(z)return null;throw j}else{if(z)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(_){if(_.name!==this.name)throw Error(`Mismatching Component ${_.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_,!!this.shouldAutoInitialize()){if(isComponentEager(_))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[U,H]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(U);try{const j=this.getOrInitializeService({instanceIdentifier:z});H.resolve(j)}catch{}}}}clearInstance(_=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(_),this.instancesOptions.delete(_),this.instances.delete(_)}async delete(){const _=Array.from(this.instances.values());await Promise.all([..._.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),..._.filter(U=>"_delete"in U).map(U=>U._delete())])}isComponentSet(){return this.component!=null}isInitialized(_=DEFAULT_ENTRY_NAME$1){return this.instances.has(_)}getOptions(_=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(_)||{}}initialize(_={}){const{options:U={}}=_,H=this.normalizeInstanceIdentifier(_.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const z=this.getOrInitializeService({instanceIdentifier:H,options:U});for(const[j,q]of this.instancesDeferred.entries()){const K=this.normalizeInstanceIdentifier(j);H===K&&q.resolve(z)}return z}onInit(_,U){var H;const z=this.normalizeInstanceIdentifier(U),j=(H=this.onInitCallbacks.get(z))!==null&&H!==void 0?H:new Set;j.add(_),this.onInitCallbacks.set(z,j);const q=this.instances.get(z);return q&&_(q,z),()=>{j.delete(_)}}invokeOnInitCallbacks(_,U){const H=this.onInitCallbacks.get(U);if(H)for(const z of H)try{z(_,U)}catch{}}getOrInitializeService({instanceIdentifier:_,options:U={}}){let H=this.instances.get(_);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(_),options:U}),this.instances.set(_,H),this.instancesOptions.set(_,U),this.invokeOnInitCallbacks(H,_),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_,H)}catch{}return H||null}normalizeInstanceIdentifier(_=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?_:DEFAULT_ENTRY_NAME$1:_}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(T){return T===DEFAULT_ENTRY_NAME$1?void 0:T}function isComponentEager(T){return T.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(_){this.name=_,this.providers=new Map}addComponent(_){const U=this.getProvider(_.name);if(U.isComponentSet())throw new Error(`Component ${_.name} has already been registered with ${this.name}`);U.setComponent(_)}addOrOverwriteComponent(_){this.getProvider(_.name).isComponentSet()&&this.providers.delete(_.name),this.addComponent(_)}getProvider(_){if(this.providers.has(_))return this.providers.get(_);const U=new Provider(_,this);return this.providers.set(_,U),U}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(T){T[T.DEBUG=0]="DEBUG",T[T.VERBOSE=1]="VERBOSE",T[T.INFO=2]="INFO",T[T.WARN=3]="WARN",T[T.ERROR=4]="ERROR",T[T.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(T,_,...U)=>{if(_<T.logLevel)return;const H=new Date().toISOString(),z=ConsoleMethod[_];if(z)console[z](`[${H}]  ${T.name}:`,...U);else throw new Error(`Attempted to log a message with an invalid logType (value: ${_})`)};class Logger{constructor(_){this.name=_,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(_){if(!(_ in LogLevel))throw new TypeError(`Invalid value "${_}" assigned to \`logLevel\``);this._logLevel=_}setLogLevel(_){this._logLevel=typeof _=="string"?levelStringToEnum[_]:_}get logHandler(){return this._logHandler}set logHandler(_){if(typeof _!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_}get userLogHandler(){return this._userLogHandler}set userLogHandler(_){this._userLogHandler=_}debug(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,..._),this._logHandler(this,LogLevel.DEBUG,..._)}log(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,..._),this._logHandler(this,LogLevel.VERBOSE,..._)}info(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,..._),this._logHandler(this,LogLevel.INFO,..._)}warn(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,..._),this._logHandler(this,LogLevel.WARN,..._)}error(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,..._),this._logHandler(this,LogLevel.ERROR,..._)}}const instanceOfAny=(T,_)=>_.some(U=>T instanceof U);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(T){const _=new Promise((U,H)=>{const z=()=>{T.removeEventListener("success",j),T.removeEventListener("error",q)},j=()=>{U(wrap(T.result)),z()},q=()=>{H(T.error),z()};T.addEventListener("success",j),T.addEventListener("error",q)});return _.then(U=>{U instanceof IDBCursor&&cursorRequestMap.set(U,T)}).catch(()=>{}),reverseTransformCache.set(_,T),_}function cacheDonePromiseForTransaction(T){if(transactionDoneMap.has(T))return;const _=new Promise((U,H)=>{const z=()=>{T.removeEventListener("complete",j),T.removeEventListener("error",q),T.removeEventListener("abort",q)},j=()=>{U(),z()},q=()=>{H(T.error||new DOMException("AbortError","AbortError")),z()};T.addEventListener("complete",j),T.addEventListener("error",q),T.addEventListener("abort",q)});transactionDoneMap.set(T,_)}let idbProxyTraps={get(T,_,U){if(T instanceof IDBTransaction){if(_==="done")return transactionDoneMap.get(T);if(_==="objectStoreNames")return T.objectStoreNames||transactionStoreNamesMap.get(T);if(_==="store")return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return wrap(T[_])},set(T,_,U){return T[_]=U,!0},has(T,_){return T instanceof IDBTransaction&&(_==="done"||_==="store")?!0:_ in T}};function replaceTraps(T){idbProxyTraps=T(idbProxyTraps)}function wrapFunction(T){return T===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(_,...U){const H=T.call(unwrap(this),_,...U);return transactionStoreNamesMap.set(H,_.sort?_.sort():[_]),wrap(H)}:getCursorAdvanceMethods().includes(T)?function(..._){return T.apply(unwrap(this),_),wrap(cursorRequestMap.get(this))}:function(..._){return wrap(T.apply(unwrap(this),_))}}function transformCachableValue(T){return typeof T=="function"?wrapFunction(T):(T instanceof IDBTransaction&&cacheDonePromiseForTransaction(T),instanceOfAny(T,getIdbProxyableTypes())?new Proxy(T,idbProxyTraps):T)}function wrap(T){if(T instanceof IDBRequest)return promisifyRequest(T);if(transformCache.has(T))return transformCache.get(T);const _=transformCachableValue(T);return _!==T&&(transformCache.set(T,_),reverseTransformCache.set(_,T)),_}const unwrap=T=>reverseTransformCache.get(T);function openDB(T,_,{blocked:U,upgrade:H,blocking:z,terminated:j}={}){const q=indexedDB.open(T,_),K=wrap(q);return H&&q.addEventListener("upgradeneeded",Y=>{H(wrap(q.result),Y.oldVersion,Y.newVersion,wrap(q.transaction),Y)}),U&&q.addEventListener("blocked",Y=>U(Y.oldVersion,Y.newVersion,Y)),K.then(Y=>{j&&Y.addEventListener("close",()=>j()),z&&Y.addEventListener("versionchange",X=>z(X.oldVersion,X.newVersion,X))}).catch(()=>{}),K}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(T,_){if(!(T instanceof IDBDatabase&&!(_ in T)&&typeof _=="string"))return;if(cachedMethods.get(_))return cachedMethods.get(_);const U=_.replace(/FromIndex$/,""),H=_!==U,z=writeMethods.includes(U);if(!(U in(H?IDBIndex:IDBObjectStore).prototype)||!(z||readMethods.includes(U)))return;const j=async function(q,...K){const Y=this.transaction(q,z?"readwrite":"readonly");let X=Y.store;return H&&(X=X.index(K.shift())),(await Promise.all([X[U](...K),z&&Y.done]))[0]};return cachedMethods.set(_,j),j}replaceTraps(T=>({...T,get:(_,U,H)=>getMethod(_,U)||T.get(_,U,H),has:(_,U)=>!!getMethod(_,U)||T.has(_,U)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(_){this.container=_}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(isVersionServiceProvider(U)){const H=U.getImmediate();return`${H.library}/${H.version}`}else return null}).filter(U=>U).join(" ")}}function isVersionServiceProvider(T){const _=T.getComponent();return(_==null?void 0:_.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(T,_){try{T.container.addComponent(_)}catch(U){logger.debug(`Component ${_.name} failed to register with FirebaseApp ${T.name}`,U)}}function _registerComponent(T){const _=T.name;if(_components.has(_))return logger.debug(`There were multiple attempts to register component ${_}.`),!1;_components.set(_,T);for(const U of _apps.values())_addComponent(U,T);for(const U of _serverApps.values())_addComponent(U,T);return!0}function _getProvider(T,_){const U=T.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),T.container.getProvider(_)}function _isFirebaseServerApp(T){return T==null?!1:T.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(_,U,H){this._isDeleted=!1,this._options=Object.assign({},_),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=H,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_){this.checkDestroyed(),this._automaticDataCollectionEnabled=_}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_){this._isDeleted=_}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(T,_={}){let U=T;typeof _!="object"&&(_={name:_});const H=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},_),z=H.name;if(typeof z!="string"||!z)throw ERROR_FACTORY.create("bad-app-name",{appName:String(z)});if(U||(U=getDefaultAppConfig()),!U)throw ERROR_FACTORY.create("no-options");const j=_apps.get(z);if(j){if(deepEqual(U,j.options)&&deepEqual(H,j.config))return j;throw ERROR_FACTORY.create("duplicate-app",{appName:z})}const q=new ComponentContainer(z);for(const Y of _components.values())q.addComponent(Y);const K=new FirebaseAppImpl(U,H,q);return _apps.set(z,K),K}function getApp(T=DEFAULT_ENTRY_NAME){const _=_apps.get(T);if(!_&&T===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!_)throw ERROR_FACTORY.create("no-app",{appName:T});return _}function registerVersion(T,_,U){var H;let z=(H=PLATFORM_LOG_STRING[T])!==null&&H!==void 0?H:T;U&&(z+=`-${U}`);const j=z.match(/\s|\//),q=_.match(/\s|\//);if(j||q){const K=[`Unable to register library "${z}" with version "${_}":`];j&&K.push(`library name "${z}" contains illegal characters (whitespace or "/")`),j&&q&&K.push("and"),q&&K.push(`version name "${_}" contains illegal characters (whitespace or "/")`),logger.warn(K.join(" "));return}_registerComponent(new Component(`${z}-version`,()=>({library:z,version:_}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(T,_)=>{switch(_){case 0:try{T.createObjectStore(STORE_NAME)}catch(U){console.warn(U)}}}}).catch(T=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:T.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(T){try{const U=(await getDbPromise()).transaction(STORE_NAME),H=await U.objectStore(STORE_NAME).get(computeKey(T));return await U.done,H}catch(_){if(_ instanceof FirebaseError)logger.warn(_.message);else{const U=ERROR_FACTORY.create("idb-get",{originalErrorMessage:_==null?void 0:_.message});logger.warn(U.message)}}}async function writeHeartbeatsToIndexedDB(T,_){try{const H=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await H.objectStore(STORE_NAME).put(_,computeKey(T)),await H.done}catch(U){if(U instanceof FirebaseError)logger.warn(U.message);else{const H=ERROR_FACTORY.create("idb-set",{originalErrorMessage:U==null?void 0:U.message});logger.warn(H.message)}}}function computeKey(T){return`${T.name}!${T.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(_){this.container=_,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(U),this._heartbeatsCachePromise=this._storage.read().then(H=>(this._heartbeatsCache=H,H))}async triggerHeartbeat(){var _,U;try{const z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),j=getUTCDateString();if(((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((U=this._heartbeatsCache)===null||U===void 0?void 0:U.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===j||this._heartbeatsCache.heartbeats.some(q=>q.date===j))return;if(this._heartbeatsCache.heartbeats.push({date:j,agent:z}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const q=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(q,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(H){logger.warn(H)}}async getHeartbeatsHeader(){var _;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const U=getUTCDateString(),{heartbeatsToSend:H,unsentEntries:z}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),j=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:H}));return this._heartbeatsCache.lastSentHeartbeatDate=U,z.length>0?(this._heartbeatsCache.heartbeats=z,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),j}catch(U){return logger.warn(U),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(T,_=MAX_HEADER_BYTES){const U=[];let H=T.slice();for(const z of T){const j=U.find(q=>q.agent===z.agent);if(j){if(j.dates.push(z.date),countBytes(U)>_){j.dates.pop();break}}else if(U.push({agent:z.agent,dates:[z.date]}),countBytes(U)>_){U.pop();break}H=H.slice(1)}return{heartbeatsToSend:U,unsentEntries:H}}class HeartbeatStorageImpl{constructor(_){this.app=_,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const U=await readHeartbeatsFromIndexedDB(this.app);return U!=null&&U.heartbeats?U:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(_){var U;if(await this._canUseIndexedDBPromise){const z=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(U=_.lastSentHeartbeatDate)!==null&&U!==void 0?U:z.lastSentHeartbeatDate,heartbeats:_.heartbeats})}else return}async add(_){var U;if(await this._canUseIndexedDBPromise){const z=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(U=_.lastSentHeartbeatDate)!==null&&U!==void 0?U:z.lastSentHeartbeatDate,heartbeats:[...z.heartbeats,..._.heartbeats]})}else return}}function countBytes(T){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:T})).length}function getEarliestHeartbeatIdx(T){if(T.length===0)return-1;let _=0,U=T[0].date;for(let H=1;H<T.length;H++)T[H].date<U&&(U=T[H].date,_=H);return _}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(T){_registerComponent(new Component("platform-logger",_=>new PlatformLoggerServiceImpl(_),"PRIVATE")),_registerComponent(new Component("heartbeat",_=>new HeartbeatServiceImpl(_),"PRIVATE")),registerVersion(name$q,version$1$1,T),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(T,_){var U={};for(var H in T)Object.prototype.hasOwnProperty.call(T,H)&&_.indexOf(H)<0&&(U[H]=T[H]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,H=Object.getOwnPropertySymbols(T);z<H.length;z++)_.indexOf(H[z])<0&&Object.prototype.propertyIsEnumerable.call(T,H[z])&&(U[H[z]]=T[H[z]]);return U}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(T,..._){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${T}`,..._)}function _logError(T,..._){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${T}`,..._)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(T,..._){throw createErrorInternal(T,..._)}function _createError(T,..._){return createErrorInternal(T,..._)}function _errorWithCustomMessage(T,_,U){const H=Object.assign(Object.assign({},prodErrorMap()),{[_]:U});return new ErrorFactory("auth","Firebase",H).create(_,{appName:T.name})}function _serverAppCurrentUserOperationNotSupportedError(T){return _errorWithCustomMessage(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(T,_,U){const H=U;if(!(_ instanceof H))throw H.name!==_.constructor.name&&_fail(T,"argument-error"),_errorWithCustomMessage(T,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(T,..._){if(typeof T!="string"){const U=_[0],H=[..._.slice(1)];return H[0]&&(H[0].appName=T.name),T._errorFactory.create(U,...H)}return _DEFAULT_AUTH_ERROR_FACTORY.create(T,..._)}function _assert(T,_,...U){if(!T)throw createErrorInternal(_,...U)}function debugFail(T){const _="INTERNAL ASSERTION FAILED: "+T;throw _logError(_),new Error(_)}function debugAssert(T,_){T||debugFail(_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var T;return typeof self<"u"&&((T=self.location)===null||T===void 0?void 0:T.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var T;return typeof self<"u"&&((T=self.location)===null||T===void 0?void 0:T.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(_,U){this.shortDelay=_,this.longDelay=U,debugAssert(U>_,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(T,_){debugAssert(T.emulator,"Emulator should always be set here");const{url:U}=T.emulator;return _?`${U}${_.startsWith("/")?_.slice(1):_}`:U}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(_,U,H){this.fetchImpl=_,U&&(this.headersImpl=U),H&&(this.responseImpl=H)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(T,_){return T.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:T.tenantId}):_}async function _performApiRequest(T,_,U,H,z={}){return _performFetchWithErrorHandling(T,z,async()=>{let j={},q={};H&&(_==="GET"?q=H:j={body:JSON.stringify(H)});const K=querystring(Object.assign({key:T.config.apiKey},q)).slice(1),Y=await T._getAdditionalHeaders();Y["Content-Type"]="application/json",T.languageCode&&(Y["X-Firebase-Locale"]=T.languageCode);const X=Object.assign({method:_,headers:Y},j);return isCloudflareWorker()||(X.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(T,T.config.apiHost,U,K),X)})}async function _performFetchWithErrorHandling(T,_,U){T._canInitEmulator=!1;const H=Object.assign(Object.assign({},SERVER_ERROR_MAP),_);try{const z=new NetworkTimeout(T),j=await Promise.race([U(),z.promise]);z.clearNetworkTimeout();const q=await j.json();if("needConfirmation"in q)throw _makeTaggedError(T,"account-exists-with-different-credential",q);if(j.ok&&!("errorMessage"in q))return q;{const K=j.ok?q.errorMessage:q.error.message,[Y,X]=K.split(" : ");if(Y==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(T,"credential-already-in-use",q);if(Y==="EMAIL_EXISTS")throw _makeTaggedError(T,"email-already-in-use",q);if(Y==="USER_DISABLED")throw _makeTaggedError(T,"user-disabled",q);const Z=H[Y]||Y.toLowerCase().replace(/[_\s]+/g,"-");if(X)throw _errorWithCustomMessage(T,Z,X);_fail(T,Z)}}catch(z){if(z instanceof FirebaseError)throw z;_fail(T,"network-request-failed",{message:String(z)})}}async function _performSignInRequest(T,_,U,H,z={}){const j=await _performApiRequest(T,_,U,H,z);return"mfaPendingCredential"in j&&_fail(T,"multi-factor-auth-required",{_serverResponse:j}),j}function _getFinalTarget(T,_,U,H){const z=`${_}${U}?${H}`;return T.config.emulator?_emulatorUrl(T.config,z):`${T.config.apiScheme}://${z}`}function _parseEnforcementState(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((U,H)=>{this.timer=setTimeout(()=>H(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(T,_,U){const H={appName:T.name};U.email&&(H.email=U.email),U.phoneNumber&&(H.phoneNumber=U.phoneNumber);const z=_createError(T,_,H);return z.customData._tokenResponse=U,z}function isEnterprise(T){return T!==void 0&&T.enterprise!==void 0}class RecaptchaConfig{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],_.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const U of this.recaptchaEnforcementState)if(U.provider&&U.provider===_)return _parseEnforcementState(U.enforcementState);return null}isProviderEnabled(_){return this.getProviderEnforcementState(_)==="ENFORCE"||this.getProviderEnforcementState(_)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(T,_){return _performApiRequest(T,"GET","/v2/recaptchaConfig",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(T,_){return _performApiRequest(T,"POST","/v1/accounts:delete",_)}async function getAccountInfo(T,_){return _performApiRequest(T,"POST","/v1/accounts:lookup",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(T){if(T)try{const _=new Date(Number(T));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}async function getIdTokenResult(T,_=!1){const U=getModularInstance(T),H=await U.getIdToken(_),z=_parseToken(H);_assert(z&&z.exp&&z.auth_time&&z.iat,U.auth,"internal-error");const j=typeof z.firebase=="object"?z.firebase:void 0,q=j==null?void 0:j.sign_in_provider;return{claims:z,token:H,authTime:utcTimestampToDateString(secondsStringToMilliseconds(z.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(z.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(z.exp)),signInProvider:q||null,signInSecondFactor:(j==null?void 0:j.sign_in_second_factor)||null}}function secondsStringToMilliseconds(T){return Number(T)*1e3}function _parseToken(T){const[_,U,H]=T.split(".");if(_===void 0||U===void 0||H===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const z=base64Decode(U);return z?JSON.parse(z):(_logError("Failed to decode base64 JWT payload"),null)}catch(z){return _logError("Caught error parsing JWT payload as JSON",z==null?void 0:z.toString()),null}}function _tokenExpiresIn(T){const _=_parseToken(T);return _assert(_,"internal-error"),_assert(typeof _.exp<"u","internal-error"),_assert(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(T,_,U=!1){if(U)return _;try{return await _}catch(H){throw H instanceof FirebaseError&&isUserInvalidated(H)&&T.auth.currentUser===T&&await T.auth.signOut(),H}}function isUserInvalidated({code:T}){return T==="auth/user-disabled"||T==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(_){var U;if(_){const H=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),H}else{this.errorBackoff=3e4;const z=((U=this.user.stsTokenManager.expirationTime)!==null&&U!==void 0?U:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(_=!1){if(!this.isRunning)return;const U=this.getInterval(_);this.timerId=setTimeout(async()=>{await this.iteration()},U)}async iteration(){try{await this.user.getIdToken(!0)}catch(_){(_==null?void 0:_.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(_,U){this.createdAt=_,this.lastLoginAt=U,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(T){var _;const U=T.auth,H=await T.getIdToken(),z=await _logoutIfInvalidated(T,getAccountInfo(U,{idToken:H}));_assert(z==null?void 0:z.users.length,U,"internal-error");const j=z.users[0];T._notifyReloadListener(j);const q=!((_=j.providerUserInfo)===null||_===void 0)&&_.length?extractProviderData(j.providerUserInfo):[],K=mergeProviderData(T.providerData,q),Y=T.isAnonymous,X=!(T.email&&j.passwordHash)&&!(K!=null&&K.length),Z=Y?X:!1,ne={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:K,metadata:new UserMetadata(j.createdAt,j.lastLoginAt),isAnonymous:Z};Object.assign(T,ne)}async function reload(T){const _=getModularInstance(T);await _reloadWithoutSaving(_),await _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)}function mergeProviderData(T,_){return[...T.filter(H=>!_.some(z=>z.providerId===H.providerId)),..._]}function extractProviderData(T){return T.map(_=>{var{providerId:U}=_,H=__rest(_,["providerId"]);return{providerId:U,uid:H.rawId||"",displayName:H.displayName||null,email:H.email||null,phoneNumber:H.phoneNumber||null,photoURL:H.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(T,_){const U=await _performFetchWithErrorHandling(T,{},async()=>{const H=querystring({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:z,apiKey:j}=T.config,q=_getFinalTarget(T,z,"/v1/token",`key=${j}`),K=await T._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(q,{method:"POST",headers:K,body:H})});return{accessToken:U.access_token,expiresIn:U.expires_in,refreshToken:U.refresh_token}}async function revokeToken(T,_){return _performApiRequest(T,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){_assert(_.idToken,"internal-error"),_assert(typeof _.idToken<"u","internal-error"),_assert(typeof _.refreshToken<"u","internal-error");const U="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):_tokenExpiresIn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,U)}updateFromIdToken(_){_assert(_.length!==0,"internal-error");const U=_tokenExpiresIn(_);this.updateTokensAndExpiration(_,null,U)}async getToken(_,U=!1){return!U&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,_,"user-token-expired"),this.refreshToken?(await this.refresh(_,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(_,U){const{accessToken:H,refreshToken:z,expiresIn:j}=await requestStsToken(_,U);this.updateTokensAndExpiration(H,z,Number(j))}updateTokensAndExpiration(_,U,H){this.refreshToken=U||null,this.accessToken=_||null,this.expirationTime=Date.now()+H*1e3}static fromJSON(_,U){const{refreshToken:H,accessToken:z,expirationTime:j}=U,q=new StsTokenManager;return H&&(_assert(typeof H=="string","internal-error",{appName:_}),q.refreshToken=H),z&&(_assert(typeof z=="string","internal-error",{appName:_}),q.accessToken=z),j&&(_assert(typeof j=="number","internal-error",{appName:_}),q.expirationTime=j),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(T,_){_assert(typeof T=="string"||typeof T>"u","internal-error",{appName:_})}class UserImpl{constructor(_){var{uid:U,auth:H,stsTokenManager:z}=_,j=__rest(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=U,this.auth=H,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new UserMetadata(j.createdAt||void 0,j.lastLoginAt||void 0)}async getIdToken(_){const U=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,_));return _assert(U,this.auth,"internal-error"),this.accessToken!==U&&(this.accessToken=U,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),U}getIdTokenResult(_){return getIdTokenResult(this,_)}reload(){return reload(this)}_assign(_){this!==_&&(_assert(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(U=>Object.assign({},U)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const U=new UserImpl(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return U.metadata._copy(this.metadata),U}_onReload(_){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(_,U=!1){let H=!1;_.idToken&&_.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(_),H=!0),U&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),H&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const _=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:_})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,U){var H,z,j,q,K,Y,X,Z;const ne=(H=U.displayName)!==null&&H!==void 0?H:void 0,ie=(z=U.email)!==null&&z!==void 0?z:void 0,se=(j=U.phoneNumber)!==null&&j!==void 0?j:void 0,de=(q=U.photoURL)!==null&&q!==void 0?q:void 0,Ee=(K=U.tenantId)!==null&&K!==void 0?K:void 0,pe=(Y=U._redirectEventId)!==null&&Y!==void 0?Y:void 0,le=(X=U.createdAt)!==null&&X!==void 0?X:void 0,ue=(Z=U.lastLoginAt)!==null&&Z!==void 0?Z:void 0,{uid:fe,emailVerified:ve,isAnonymous:me,providerData:Ae,stsTokenManager:ae}=U;_assert(fe&&ae,_,"internal-error");const oe=StsTokenManager.fromJSON(this.name,ae);_assert(typeof fe=="string",_,"internal-error"),assertStringOrUndefined(ne,_.name),assertStringOrUndefined(ie,_.name),_assert(typeof ve=="boolean",_,"internal-error"),_assert(typeof me=="boolean",_,"internal-error"),assertStringOrUndefined(se,_.name),assertStringOrUndefined(de,_.name),assertStringOrUndefined(Ee,_.name),assertStringOrUndefined(pe,_.name),assertStringOrUndefined(le,_.name),assertStringOrUndefined(ue,_.name);const ce=new UserImpl({uid:fe,auth:_,email:ie,emailVerified:ve,displayName:ne,isAnonymous:me,photoURL:de,phoneNumber:se,tenantId:Ee,stsTokenManager:oe,createdAt:le,lastLoginAt:ue});return Ae&&Array.isArray(Ae)&&(ce.providerData=Ae.map(Se=>Object.assign({},Se))),pe&&(ce._redirectEventId=pe),ce}static async _fromIdTokenResponse(_,U,H=!1){const z=new StsTokenManager;z.updateFromServerResponse(U);const j=new UserImpl({uid:U.localId,auth:_,stsTokenManager:z,isAnonymous:H});return await _reloadWithoutSaving(j),j}static async _fromGetAccountInfoResponse(_,U,H){const z=U.users[0];_assert(z.localId!==void 0,"internal-error");const j=z.providerUserInfo!==void 0?extractProviderData(z.providerUserInfo):[],q=!(z.email&&z.passwordHash)&&!(j!=null&&j.length),K=new StsTokenManager;K.updateFromIdToken(H);const Y=new UserImpl({uid:z.localId,auth:_,stsTokenManager:K,isAnonymous:q}),X={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:j,metadata:new UserMetadata(z.createdAt,z.lastLoginAt),isAnonymous:!(z.email&&z.passwordHash)&&!(j!=null&&j.length)};return Object.assign(Y,X),Y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(T){debugAssert(T instanceof Function,"Expected a class definition");let _=instanceCache.get(T);return _?(debugAssert(_ instanceof T,"Instance stored in cache mismatched with class"),_):(_=new T,instanceCache.set(T,_),_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(_,U){this.storage[_]=U}async _get(_){const U=this.storage[_];return U===void 0?null:U}async _remove(_){delete this.storage[_]}_addListener(_,U){}_removeListener(_,U){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(T,_,U){return`firebase:${T}:${_}:${U}`}class PersistenceUserManager{constructor(_,U,H){this.persistence=_,this.auth=U,this.userKey=H;const{config:z,name:j}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,z.apiKey,j),this.fullPersistenceKey=_persistenceKeyName("persistence",z.apiKey,j),this.boundEventHandler=U._onStorageEvent.bind(U),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}async getCurrentUser(){const _=await this.persistence._get(this.fullUserKey);return _?UserImpl._fromJSON(this.auth,_):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(_){if(this.persistence===_)return;const U=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=_,U)return this.setCurrentUser(U)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(_,U,H="authUser"){if(!U.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),_,H);const z=(await Promise.all(U.map(async X=>{if(await X._isAvailable())return X}))).filter(X=>X);let j=z[0]||_getInstance(inMemoryPersistence);const q=_persistenceKeyName(H,_.config.apiKey,_.name);let K=null;for(const X of U)try{const Z=await X._get(q);if(Z){const ne=UserImpl._fromJSON(_,Z);X!==j&&(K=ne),j=X;break}}catch{}const Y=z.filter(X=>X._shouldAllowMigration);return!j._shouldAllowMigration||!Y.length?new PersistenceUserManager(j,_,H):(j=Y[0],K&&await j._set(q,K.toJSON()),await Promise.all(U.map(async X=>{if(X!==j)try{await X._remove(q)}catch{}})),new PersistenceUserManager(j,_,H))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(T){const _=T.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(_isIEMobile(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(_isFirefox(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_isBlackBerry(_))return"Blackberry";if(_isWebOS(_))return"Webos";if(_isSafari(_))return"Safari";if((_.includes("chrome/")||_isChromeIOS(_))&&!_.includes("edge/"))return"Chrome";if(_isAndroid(_))return"Android";{const U=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,H=T.match(U);if((H==null?void 0:H.length)===2)return H[1]}return"Other"}function _isFirefox(T=getUA()){return/firefox\//i.test(T)}function _isSafari(T=getUA()){const _=T.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function _isChromeIOS(T=getUA()){return/crios\//i.test(T)}function _isIEMobile(T=getUA()){return/iemobile/i.test(T)}function _isAndroid(T=getUA()){return/android/i.test(T)}function _isBlackBerry(T=getUA()){return/blackberry/i.test(T)}function _isWebOS(T=getUA()){return/webos/i.test(T)}function _isIOS(T=getUA()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function _isIOSStandalone(T=getUA()){var _;return _isIOS(T)&&!!(!((_=window.navigator)===null||_===void 0)&&_.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(T=getUA()){return _isIOS(T)||_isAndroid(T)||_isWebOS(T)||_isBlackBerry(T)||/windows phone/i.test(T)||_isIEMobile(T)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(T,_=[]){let U;switch(T){case"Browser":U=_getBrowserName(getUA());break;case"Worker":U=`${_getBrowserName(getUA())}-${T}`;break;default:U=T}const H=_.length?_.join(","):"FirebaseCore-web";return`${U}/JsCore/${SDK_VERSION}/${H}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,U){const H=j=>new Promise((q,K)=>{try{const Y=_(j);q(Y)}catch(Y){K(Y)}});H.onAbort=U,this.queue.push(H);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}async runMiddleware(_){if(this.auth.currentUser===_)return;const U=[];try{for(const H of this.queue)await H(_),H.onAbort&&U.push(H.onAbort)}catch(H){U.reverse();for(const z of U)try{z()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:H==null?void 0:H.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(T,_={}){return _performApiRequest(T,"GET","/v2/passwordPolicy",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(_){var U,H,z,j;const q=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(U=q.minPasswordLength)!==null&&U!==void 0?U:MINIMUM_MIN_PASSWORD_LENGTH,q.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=q.maxPasswordLength),q.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=q.containsLowercaseCharacter),q.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=q.containsUppercaseCharacter),q.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=q.containsNumericCharacter),q.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=q.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(z=(H=_.allowedNonAlphanumericCharacters)===null||H===void 0?void 0:H.join(""))!==null&&z!==void 0?z:"",this.forceUpgradeOnSignin=(j=_.forceUpgradeOnSignin)!==null&&j!==void 0?j:!1,this.schemaVersion=_.schemaVersion}validatePassword(_){var U,H,z,j,q,K;const Y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Y),this.validatePasswordCharacterOptions(_,Y),Y.isValid&&(Y.isValid=(U=Y.meetsMinPasswordLength)!==null&&U!==void 0?U:!0),Y.isValid&&(Y.isValid=(H=Y.meetsMaxPasswordLength)!==null&&H!==void 0?H:!0),Y.isValid&&(Y.isValid=(z=Y.containsLowercaseLetter)!==null&&z!==void 0?z:!0),Y.isValid&&(Y.isValid=(j=Y.containsUppercaseLetter)!==null&&j!==void 0?j:!0),Y.isValid&&(Y.isValid=(q=Y.containsNumericCharacter)!==null&&q!==void 0?q:!0),Y.isValid&&(Y.isValid=(K=Y.containsNonAlphanumericCharacter)!==null&&K!==void 0?K:!0),Y}validatePasswordLengthOptions(_,U){const H=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;H&&(U.meetsMinPasswordLength=_.length>=H),z&&(U.meetsMaxPasswordLength=_.length<=z)}validatePasswordCharacterOptions(_,U){this.updatePasswordCharacterOptionsStatuses(U,!1,!1,!1,!1);let H;for(let z=0;z<_.length;z++)H=_.charAt(z),this.updatePasswordCharacterOptionsStatuses(U,H>="a"&&H<="z",H>="A"&&H<="Z",H>="0"&&H<="9",this.allowedNonAlphanumericCharacters.includes(H))}updatePasswordCharacterOptionsStatuses(_,U,H,z,j){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=U)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=H)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=j))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(_,U,H,z){this.app=_,this.heartbeatServiceProvider=U,this.appCheckServiceProvider=H,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(_,U){return U&&(this._popupRedirectResolver=_getInstance(U)),this._initializationPromise=this.queue(async()=>{var H,z;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,_),!this._deleted)){if(!((H=this._popupRedirectResolver)===null||H===void 0)&&H._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(U),this.lastNotifiedUid=((z=this.currentUser)===null||z===void 0?void 0:z.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const _=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!_)){if(this.currentUser&&_&&this.currentUser.uid===_.uid){this._currentUser._assign(_),await this.currentUser.getIdToken();return}await this._updateCurrentUser(_,!0)}}async initializeCurrentUserFromIdToken(_){try{const U=await getAccountInfo(this,{idToken:_}),H=await UserImpl._fromGetAccountInfoResponse(this,U,_);await this.directlySetCurrentUser(H)}catch(U){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",U),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(_){var U;if(_isFirebaseServerApp(this.app)){const q=this.app.settings.authIdToken;return q?new Promise(K=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(q).then(K,K))}):this.directlySetCurrentUser(null)}const H=await this.assertedPersistence.getCurrentUser();let z=H,j=!1;if(_&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const q=(U=this.redirectUser)===null||U===void 0?void 0:U._redirectEventId,K=z==null?void 0:z._redirectEventId,Y=await this.tryRedirectSignIn(_);(!q||q===K)&&(Y!=null&&Y.user)&&(z=Y.user,j=!0)}if(!z)return this.directlySetCurrentUser(null);if(!z._redirectEventId){if(j)try{await this.beforeStateQueue.runMiddleware(z)}catch(q){z=H,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(q))}return z?this.reloadAndSetCurrentUserOrClear(z):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===z._redirectEventId?this.directlySetCurrentUser(z):this.reloadAndSetCurrentUserOrClear(z)}async tryRedirectSignIn(_){let U=null;try{U=await this._popupRedirectResolver._completeRedirectFn(this,_,!0)}catch{await this._setRedirectUser(null)}return U}async reloadAndSetCurrentUserOrClear(_){try{await _reloadWithoutSaving(_)}catch(U){if((U==null?void 0:U.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(_)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(_){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const U=_?getModularInstance(_):null;return U&&_assert(U.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(U&&U._clone(this))}async _updateCurrentUser(_,U=!1){if(!this._deleted)return _&&_assert(this.tenantId===_.tenantId,this,"tenant-id-mismatch"),U||await this.beforeStateQueue.runMiddleware(_),this.queue(async()=>{await this.directlySetCurrentUser(_),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(_){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(_))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(_){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const U=this._getPasswordPolicyInternal();return U.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):U.validatePassword(_)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const _=await _getPasswordPolicy(this),U=new PasswordPolicyImpl(_);this.tenantId===null?this._projectPasswordPolicy=U:this._tenantPasswordPolicies[this.tenantId]=U}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new ErrorFactory("auth","Firebase",_())}onAuthStateChanged(_,U,H){return this.registerStateListener(this.authStateSubscription,_,U,H)}beforeAuthStateChanged(_,U){return this.beforeStateQueue.pushCallback(_,U)}onIdTokenChanged(_,U,H){return this.registerStateListener(this.idTokenSubscription,_,U,H)}authStateReady(){return new Promise((_,U)=>{if(this.currentUser)_();else{const H=this.onAuthStateChanged(()=>{H(),_()},U)}})}async revokeAccessToken(_){if(this.currentUser){const U=await this.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:U};this.tenantId!=null&&(H.tenantId=this.tenantId),await revokeToken(this,H)}}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(_=this._currentUser)===null||_===void 0?void 0:_.toJSON()}}async _setRedirectUser(_,U){const H=await this.getOrInitRedirectPersistenceManager(U);return _===null?H.removeCurrentUser():H.setCurrentUser(_)}async getOrInitRedirectPersistenceManager(_){if(!this.redirectPersistenceManager){const U=_&&_getInstance(_)||this._popupRedirectResolver;_assert(U,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(U._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(_){var U,H;return this._isInitialized&&await this.queue(async()=>{}),((U=this._currentUser)===null||U===void 0?void 0:U._redirectEventId)===_?this._currentUser:((H=this.redirectUser)===null||H===void 0?void 0:H._redirectEventId)===_?this.redirectUser:null}async _persistUserIfCurrent(_){if(_===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(_))}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,U;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const H=(U=(_=this.currentUser)===null||_===void 0?void 0:_.uid)!==null&&U!==void 0?U:null;this.lastNotifiedUid!==H&&(this.lastNotifiedUid=H,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,U,H,z){if(this._deleted)return()=>{};const j=typeof U=="function"?U:U.next.bind(U);let q=!1;const K=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(K,this,"internal-error"),K.then(()=>{q||j(this.currentUser)}),typeof U=="function"){const Y=_.addObserver(U,H,z);return()=>{q=!0,Y()}}else{const Y=_.addObserver(U);return()=>{q=!0,Y()}}}async directlySetCurrentUser(_){this.currentUser&&this.currentUser!==_&&this._currentUser._stopProactiveRefresh(),_&&this.isProactiveRefreshEnabled&&_._startProactiveRefresh(),this.currentUser=_,_?await this.assertedPersistence.setCurrentUser(_):await this.assertedPersistence.removeCurrentUser()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _;const U={"X-Client-Version":this.clientVersion};this.app.options.appId&&(U["X-Firebase-gmpid"]=this.app.options.appId);const H=await((_=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||_===void 0?void 0:_.getHeartbeatsHeader());H&&(U["X-Firebase-Client"]=H);const z=await this._getAppCheckToken();return z&&(U["X-Firebase-AppCheck"]=z),U}async _getAppCheckToken(){var _;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const U=await((_=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||_===void 0?void 0:_.getToken());return U!=null&&U.error&&_logWarn(`Error while retrieving App Check token: ${U.error}`),U==null?void 0:U.token}}function _castAuth(T){return getModularInstance(T)}class Subscription{constructor(_){this.auth=_,this.observer=null,this.addObserver=createSubscribe(U=>this.observer=U)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(T){externalJSProvider=T}function _loadJS(T){return externalJSProvider.loadJS(T)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(T){return`__${T}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(_){_()}execute(_,U){return Promise.resolve("token")}render(_,U){return""}}class MockGreCAPTCHA{ready(_){_()}execute(_,U){return Promise.resolve("token")}render(_,U){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(_){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(_)}async verify(_="verify",U=!1){async function H(j){if(!U){if(j.tenantId==null&&j._agentRecaptchaConfig!=null)return j._agentRecaptchaConfig.siteKey;if(j.tenantId!=null&&j._tenantRecaptchaConfigs[j.tenantId]!==void 0)return j._tenantRecaptchaConfigs[j.tenantId].siteKey}return new Promise(async(q,K)=>{getRecaptchaConfig(j,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Y=>{if(Y.recaptchaKey===void 0)K(new Error("recaptcha Enterprise site key undefined"));else{const X=new RecaptchaConfig(Y);return j.tenantId==null?j._agentRecaptchaConfig=X:j._tenantRecaptchaConfigs[j.tenantId]=X,q(X.siteKey)}}).catch(Y=>{K(Y)})})}function z(j,q,K){const Y=window.grecaptcha;isEnterprise(Y)?Y.enterprise.ready(()=>{Y.enterprise.execute(j,{action:_}).then(X=>{q(X)}).catch(()=>{q(FAKE_TOKEN)})}):K(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((j,q)=>{H(this.auth).then(K=>{if(!U&&isEnterprise(window.grecaptcha))z(K,j,q);else{if(typeof window>"u"){q(new Error("RecaptchaVerifier is only supported in browser"));return}let Y=_recaptchaEnterpriseScriptUrl();Y.length!==0&&(Y+=K),_loadJS(Y).then(()=>{z(K,j,q)}).catch(X=>{q(X)})}}).catch(K=>{q(K)})})}}async function injectRecaptchaFields(T,_,U,H=!1,z=!1){const j=new RecaptchaEnterpriseVerifier(T);let q;if(z)q=FAKE_TOKEN;else try{q=await j.verify(U)}catch{q=await j.verify(U,!0)}const K=Object.assign({},_);if(U==="mfaSmsEnrollment"||U==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in K){const Y=K.phoneEnrollmentInfo.phoneNumber,X=K.phoneEnrollmentInfo.recaptchaToken;Object.assign(K,{phoneEnrollmentInfo:{phoneNumber:Y,recaptchaToken:X,captchaResponse:q,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in K){const Y=K.phoneSignInInfo.recaptchaToken;Object.assign(K,{phoneSignInInfo:{recaptchaToken:Y,captchaResponse:q,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return K}return H?Object.assign(K,{captchaResp:q}):Object.assign(K,{captchaResponse:q}),Object.assign(K,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(K,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),K}async function handleRecaptchaFlow(T,_,U,H,z){var j;if(!((j=T._getRecaptchaConfig())===null||j===void 0)&&j.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const q=await injectRecaptchaFields(T,_,U,U==="getOobCode");return H(T,q)}else return H(T,_).catch(async q=>{if(q.code==="auth/missing-recaptcha-token"){console.log(`${U} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const K=await injectRecaptchaFields(T,_,U,U==="getOobCode");return H(T,K)}else return Promise.reject(q)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(T,_){const U=_getProvider(T,"auth");if(U.isInitialized()){const z=U.getImmediate(),j=U.getOptions();if(deepEqual(j,_??{}))return z;_fail(z,"already-initialized")}return U.initialize({options:_})}function _initializeAuthInstance(T,_){const U=(_==null?void 0:_.persistence)||[],H=(Array.isArray(U)?U:[U]).map(_getInstance);_!=null&&_.errorMap&&T._updateErrorMap(_.errorMap),T._initializeWithPersistence(H,_==null?void 0:_.popupRedirectResolver)}function connectAuthEmulator(T,_,U){const H=_castAuth(T);_assert(/^https?:\/\//.test(_),H,"invalid-emulator-scheme");const z=!1,j=extractProtocol(_),{host:q,port:K}=extractHostAndPort(_),Y=K===null?"":`:${K}`,X={url:`${j}//${q}${Y}/`},Z=Object.freeze({host:q,port:K,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:z})});if(!H._canInitEmulator){_assert(H.config.emulator&&H.emulatorConfig,H,"emulator-config-failed"),_assert(deepEqual(X,H.config.emulator)&&deepEqual(Z,H.emulatorConfig),H,"emulator-config-failed");return}H.config.emulator=X,H.emulatorConfig=Z,H.settings.appVerificationDisabledForTesting=!0,emitEmulatorWarning()}function extractProtocol(T){const _=T.indexOf(":");return _<0?"":T.substr(0,_+1)}function extractHostAndPort(T){const _=extractProtocol(T),U=/(\/\/)?([^?#/]+)/.exec(T.substr(_.length));if(!U)return{host:"",port:null};const H=U[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(H);if(z){const j=z[1];return{host:j,port:parsePort(H.substr(j.length+1))}}else{const[j,q]=H.split(":");return{host:j,port:parsePort(q)}}}function parsePort(T){if(!T)return null;const _=Number(T);return isNaN(_)?null:_}function emitEmulatorWarning(){function T(){const _=document.createElement("p"),U=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",U.position="fixed",U.width="100%",U.backgroundColor="#ffffff",U.border=".1em solid #000000",U.color="#b50000",U.bottom="0px",U.left="0px",U.margin="0px",U.zIndex="10000",U.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(_,U){this.providerId=_,this.signInMethod=U}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_){return debugFail("not implemented")}_linkToIdToken(_,U){return debugFail("not implemented")}_getReauthenticationResolver(_){return debugFail("not implemented")}}async function linkEmailPassword(T,_){return _performApiRequest(T,"POST","/v1/accounts:signUp",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(T,_){return _performSignInRequest(T,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(T,_){return _performSignInRequest(T,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(T,_))}async function signInWithEmailLinkForLinking(T,_){return _performSignInRequest(T,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(_,U,H,z=null){super("password",H),this._email=_,this._password=U,this._tenantId=z}static _fromEmailAndPassword(_,U){return new EmailAuthCredential(_,U,"password")}static _fromEmailAndCode(_,U,H=null){return new EmailAuthCredential(_,U,"emailLink",H)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const U=typeof _=="string"?JSON.parse(_):_;if(U!=null&&U.email&&(U!=null&&U.password)){if(U.signInMethod==="password")return this._fromEmailAndPassword(U.email,U.password);if(U.signInMethod==="emailLink")return this._fromEmailAndCode(U.email,U.password,U.tenantId)}return null}async _getIdTokenResponse(_){switch(this.signInMethod){case"password":const U={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(_,U,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(_,{email:this._email,oobCode:this._password});default:_fail(_,"internal-error")}}async _linkToIdToken(_,U){switch(this.signInMethod){case"password":const H={idToken:U,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(_,H,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(_,{idToken:U,email:this._email,oobCode:this._password});default:_fail(_,"internal-error")}}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(T,_){return _performSignInRequest(T,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const U=new OAuthCredential(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(U.idToken=_.idToken),_.accessToken&&(U.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(U.nonce=_.nonce),_.pendingToken&&(U.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(U.accessToken=_.oauthToken,U.secret=_.oauthTokenSecret):_fail("argument-error"),U}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const U=typeof _=="string"?JSON.parse(_):_,{providerId:H,signInMethod:z}=U,j=__rest(U,["providerId","signInMethod"]);if(!H||!z)return null;const q=new OAuthCredential(H,z);return q.idToken=j.idToken||void 0,q.accessToken=j.accessToken||void 0,q.secret=j.secret,q.nonce=j.nonce,q.pendingToken=j.pendingToken||null,q}_getIdTokenResponse(_){const U=this.buildRequest();return signInWithIdp(_,U)}_linkToIdToken(_,U){const H=this.buildRequest();return H.idToken=U,signInWithIdp(_,H)}_getReauthenticationResolver(_){const U=this.buildRequest();return U.autoCreate=!1,signInWithIdp(_,U)}buildRequest(){const _={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const U={};this.idToken&&(U.id_token=this.idToken),this.accessToken&&(U.access_token=this.accessToken),this.secret&&(U.oauth_token_secret=this.secret),U.providerId=this.providerId,this.nonce&&!this.pendingToken&&(U.nonce=this.nonce),_.postBody=querystring(U)}return _}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(T){const _=querystringDecode(extractQuerystring(T)).link,U=_?querystringDecode(extractQuerystring(_)).deep_link_id:null,H=querystringDecode(extractQuerystring(T)).deep_link_id;return(H?querystringDecode(extractQuerystring(H)).link:null)||H||U||_||T}class ActionCodeURL{constructor(_){var U,H,z,j,q,K;const Y=querystringDecode(extractQuerystring(_)),X=(U=Y.apiKey)!==null&&U!==void 0?U:null,Z=(H=Y.oobCode)!==null&&H!==void 0?H:null,ne=parseMode((z=Y.mode)!==null&&z!==void 0?z:null);_assert(X&&Z&&ne,"argument-error"),this.apiKey=X,this.operation=ne,this.code=Z,this.continueUrl=(j=Y.continueUrl)!==null&&j!==void 0?j:null,this.languageCode=(q=Y.languageCode)!==null&&q!==void 0?q:null,this.tenantId=(K=Y.tenantId)!==null&&K!==void 0?K:null}static parseLink(_){const U=parseDeepLink(_);try{return new ActionCodeURL(U)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(_,U){return EmailAuthCredential._fromEmailAndPassword(_,U)}static credentialWithLink(_,U){const H=ActionCodeURL.parseLink(U);return _assert(H,"argument-error"),EmailAuthCredential._fromEmailAndCode(_,H.code,H.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(_){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return FacebookAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return FacebookAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(_.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(_,U){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:U})}static credentialFromResult(_){return GoogleAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GoogleAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:U,oauthAccessToken:H}=_;if(!U&&!H)return null;try{return GoogleAuthProvider.credential(U,H)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(_){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return GithubAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GithubAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return GithubAuthProvider.credential(_.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(_,U){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:U})}static credentialFromResult(_){return TwitterAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return TwitterAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:U,oauthTokenSecret:H}=_;if(!U||!H)return null;try{return TwitterAuthProvider.credential(U,H)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(T,_){return _performSignInRequest(T,"POST","/v1/accounts:signUp",_addTidIfNecessary(T,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static async _fromIdTokenResponse(_,U,H,z=!1){const j=await UserImpl._fromIdTokenResponse(_,H,z),q=providerIdForResponse(H);return new UserCredentialImpl({user:j,providerId:q,_tokenResponse:H,operationType:U})}static async _forOperation(_,U,H){await _._updateTokensIfNecessary(H,!0);const z=providerIdForResponse(H);return new UserCredentialImpl({user:_,providerId:z,_tokenResponse:H,operationType:U})}}function providerIdForResponse(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(_,U,H,z){var j;super(U.code,U.message),this.operationType=H,this.user=z,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:_.name,tenantId:(j=_.tenantId)!==null&&j!==void 0?j:void 0,_serverResponse:U.customData._serverResponse,operationType:H}}static _fromErrorAndOperation(_,U,H,z){return new MultiFactorError(_,U,H,z)}}function _processCredentialSavingMfaContextIfNecessary(T,_,U,H){return(_==="reauthenticate"?U._getReauthenticationResolver(T):U._getIdTokenResponse(T)).catch(j=>{throw j.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(T,j,_,H):j})}async function _link$1(T,_,U=!1){const H=await _logoutIfInvalidated(T,_._linkToIdToken(T.auth,await T.getIdToken()),U);return UserCredentialImpl._forOperation(T,"link",H)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(T,_,U=!1){const{auth:H}=T;if(_isFirebaseServerApp(H.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(H));const z="reauthenticate";try{const j=await _logoutIfInvalidated(T,_processCredentialSavingMfaContextIfNecessary(H,z,_,T),U);_assert(j.idToken,H,"internal-error");const q=_parseToken(j.idToken);_assert(q,H,"internal-error");const{sub:K}=q;return _assert(T.uid===K,H,"user-mismatch"),UserCredentialImpl._forOperation(T,z,j)}catch(j){throw(j==null?void 0:j.code)==="auth/user-not-found"&&_fail(H,"user-mismatch"),j}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(T,_,U=!1){if(_isFirebaseServerApp(T.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T));const H="signIn",z=await _processCredentialSavingMfaContextIfNecessary(T,H,_),j=await UserCredentialImpl._fromIdTokenResponse(T,H,z);return U||await T._updateCurrentUser(j.user),j}async function signInWithCredential(T,_){return _signInWithCredential(_castAuth(T),_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(T){const _=_castAuth(T);_._getPasswordPolicyInternal()&&await _._updatePasswordPolicy()}async function createUserWithEmailAndPassword(T,_,U){if(_isFirebaseServerApp(T.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T));const H=_castAuth(T),q=await handleRecaptchaFlow(H,{returnSecureToken:!0,email:_,password:U,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Y=>{throw Y.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(T),Y}),K=await UserCredentialImpl._fromIdTokenResponse(H,"signIn",q);return await H._updateCurrentUser(K.user),K}function signInWithEmailAndPassword(T,_,U){return _isFirebaseServerApp(T.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T)):signInWithCredential(getModularInstance(T),EmailAuthProvider.credential(_,U)).catch(async H=>{throw H.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(T),H})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(T,_){return _performApiRequest(T,"POST","/v1/accounts:update",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(T,{displayName:_,photoURL:U}){if(_===void 0&&U===void 0)return;const H=getModularInstance(T),j={idToken:await H.getIdToken(),displayName:_,photoUrl:U,returnSecureToken:!0},q=await _logoutIfInvalidated(H,updateProfile$1(H.auth,j));H.displayName=q.displayName||null,H.photoURL=q.photoUrl||null;const K=H.providerData.find(({providerId:Y})=>Y==="password");K&&(K.displayName=H.displayName,K.photoURL=H.photoURL),await H._updateTokensIfNecessary(q)}function onIdTokenChanged(T,_,U,H){return getModularInstance(T).onIdTokenChanged(_,U,H)}function beforeAuthStateChanged(T,_,U){return getModularInstance(T).beforeAuthStateChanged(_,U)}function onAuthStateChanged(T,_,U,H){return getModularInstance(T).onAuthStateChanged(_,U,H)}function signOut(T){return getModularInstance(T).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(_,U){this.storageRetriever=_,this.type=U}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,U){return this.storage.setItem(_,JSON.stringify(U)),Promise.resolve()}_get(_){const U=this.storage.getItem(_);return Promise.resolve(U?JSON.parse(U):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,U)=>this.onStorageEvent(_,U),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const U of Object.keys(this.listeners)){const H=this.storage.getItem(U),z=this.localCache[U];H!==z&&_(U,z,H)}}onStorageEvent(_,U=!1){if(!_.key){this.forAllChangedKeys((q,K,Y)=>{this.notifyListeners(q,Y)});return}const H=_.key;U?this.detachListener():this.stopPolling();const z=()=>{const q=this.storage.getItem(H);!U&&this.localCache[H]===q||this.notifyListeners(H,q)},j=this.storage.getItem(H);_isIE10()&&j!==_.newValue&&_.newValue!==_.oldValue?setTimeout(z,IE10_LOCAL_STORAGE_SYNC_DELAY):z()}notifyListeners(_,U){this.localCache[_]=U;const H=this.listeners[_];if(H)for(const z of Array.from(H))z(U&&JSON.parse(U))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,U,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:U,newValue:H}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,U){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(U)}_removeListener(_,U){this.listeners[_]&&(this.listeners[_].delete(U),this.listeners[_].size===0&&delete this.listeners[_]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(_,U){await super._set(_,U),this.localCache[_]=JSON.stringify(U)}async _get(_){const U=await super._get(_);return this.localCache[_]=JSON.stringify(U),U}async _remove(_){await super._remove(_),delete this.localCache[_]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,U){}_removeListener(_,U){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(T){return Promise.all(T.map(async _=>{try{return{fulfilled:!0,value:await _}}catch(U){return{fulfilled:!1,reason:U}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const U=this.receivers.find(z=>z.isListeningto(_));if(U)return U;const H=new Receiver(_);return this.receivers.push(H),H}isListeningto(_){return this.eventTarget===_}async handleEvent(_){const U=_,{eventId:H,eventType:z,data:j}=U.data,q=this.handlersMap[z];if(!(q!=null&&q.size))return;U.ports[0].postMessage({status:"ack",eventId:H,eventType:z});const K=Array.from(q).map(async X=>X(U.origin,j)),Y=await _allSettled(K);U.ports[0].postMessage({status:"done",eventId:H,eventType:z,response:Y})}_subscribe(_,U){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(U)}_unsubscribe(_,U){this.handlersMap[_]&&U&&this.handlersMap[_].delete(U),(!U||this.handlersMap[_].size===0)&&delete this.handlersMap[_],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(T="",_=10){let U="";for(let H=0;H<_;H++)U+=Math.floor(Math.random()*10);return T+U}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}async _send(_,U,H=50){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let j,q;return new Promise((K,Y)=>{const X=_generateEventId("",20);z.port1.start();const Z=setTimeout(()=>{Y(new Error("unsupported_event"))},H);q={messageChannel:z,onMessage(ne){const ie=ne;if(ie.data.eventId===X)switch(ie.data.status){case"ack":clearTimeout(Z),j=setTimeout(()=>{Y(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),K(ie.data.response);break;default:clearTimeout(Z),clearTimeout(j),Y(new Error("invalid_response"));break}}},this.handlers.add(q),z.port1.addEventListener("message",q.onMessage),this.target.postMessage({eventType:_,eventId:X,data:U},[z.port2])}).finally(()=>{q&&this.removeMessageHandler(q)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(T){_window().location.href=T}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var T;return((T=navigator==null?void 0:navigator.serviceWorker)===null||T===void 0?void 0:T.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(_){this.request=_}toPromise(){return new Promise((_,U)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{U(this.request.error)})})}}function getObjectStore(T,_){return T.transaction([DB_OBJECTSTORE_NAME],_?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const T=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(T).toPromise()}function _openDatabase(){const T=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((_,U)=>{T.addEventListener("error",()=>{U(T.error)}),T.addEventListener("upgradeneeded",()=>{const H=T.result;try{H.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(z){U(z)}}),T.addEventListener("success",async()=>{const H=T.result;H.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?_(H):(H.close(),await _deleteDatabase(),_(await _openDatabase()))})})}async function _putObject(T,_,U){const H=getObjectStore(T,!0).put({[DB_DATA_KEYPATH]:_,value:U});return new DBPromise(H).toPromise()}async function getObject(T,_){const U=getObjectStore(T,!1).get(_),H=await new DBPromise(U).toPromise();return H===void 0?null:H.value}function _deleteObject(T,_){const U=getObjectStore(T,!0).delete(_);return new DBPromise(U).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(_){let U=0;for(;;)try{const H=await this._openDb();return await _(H)}catch(H){if(U++>_TRANSACTION_RETRY_COUNT)throw H;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(_,U)=>({keyProcessed:(await this._poll()).includes(U.key)})),this.receiver._subscribe("ping",async(_,U)=>["keyChanged"])}async initializeSender(){var _,U;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const H=await this.sender._send("ping",{},800);H&&!((_=H[0])===null||_===void 0)&&_.fulfilled&&!((U=H[0])===null||U===void 0)&&U.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(_){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:_},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const _=await _openDatabase();return await _putObject(_,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(_,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(_){this.pendingWrites++;try{await _()}finally{this.pendingWrites--}}async _set(_,U){return this._withPendingWrite(async()=>(await this._withRetries(H=>_putObject(H,_,U)),this.localCache[_]=U,this.notifyServiceWorker(_)))}async _get(_){const U=await this._withRetries(H=>getObject(H,_));return this.localCache[_]=U,U}async _remove(_){return this._withPendingWrite(async()=>(await this._withRetries(U=>_deleteObject(U,_)),delete this.localCache[_],this.notifyServiceWorker(_)))}async _poll(){const _=await this._withRetries(z=>{const j=getObjectStore(z,!1).getAll();return new DBPromise(j).toPromise()});if(!_)return[];if(this.pendingWrites!==0)return[];const U=[],H=new Set;if(_.length!==0)for(const{fbase_key:z,value:j}of _)H.add(z),JSON.stringify(this.localCache[z])!==JSON.stringify(j)&&(this.notifyListeners(z,j),U.push(z));for(const z of Object.keys(this.localCache))this.localCache[z]&&!H.has(z)&&(this.notifyListeners(z,null),U.push(z));return U}notifyListeners(_,U){this.localCache[_]=U;const H=this.listeners[_];if(H)for(const z of Array.from(H))z(U)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,U){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(U)}_removeListener(_,U){this.listeners[_]&&(this.listeners[_].delete(U),this.listeners[_].size===0&&delete this.listeners[_]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(T,_){return _?_getInstance(_):(_assert(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return signInWithIdp(_,this._buildIdpRequest())}_linkToIdToken(_,U){return signInWithIdp(_,this._buildIdpRequest(U))}_getReauthenticationResolver(_){return signInWithIdp(_,this._buildIdpRequest())}_buildIdpRequest(_){const U={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(U.idToken=_),U}}function _signIn(T){return _signInWithCredential(T.auth,new IdpCredential(T),T.bypassAuthState)}function _reauth(T){const{auth:_,user:U}=T;return _assert(U,_,"internal-error"),_reauthenticate(U,new IdpCredential(T),T.bypassAuthState)}async function _link(T){const{auth:_,user:U}=T;return _assert(U,_,"internal-error"),_link$1(U,new IdpCredential(T),T.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(_,U,H,z,j=!1){this.auth=_,this.resolver=H,this.user=z,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(U)?U:[U]}execute(){return new Promise(async(_,U)=>{this.pendingPromise={resolve:_,reject:U};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(H){this.reject(H)}})}async onAuthEvent(_){const{urlResponse:U,sessionId:H,postBody:z,tenantId:j,error:q,type:K}=_;if(q){this.reject(q);return}const Y={auth:this.auth,requestUri:U,sessionId:H,tenantId:j||void 0,postBody:z||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(K)(Y))}catch(X){this.reject(X)}}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(T,_,U){if(_isFirebaseServerApp(T.app))return Promise.reject(_createError(T,"operation-not-supported-in-this-environment"));const H=_castAuth(T);_assertInstanceOf(T,_,FederatedAuthProvider);const z=_withDefaultResolver(H,U);return new PopupOperation(H,"signInViaPopup",_,z).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(_,U,H,z,j){super(_,U,z,j),this.provider=H,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const _=await this.execute();return _assert(_,this.auth,"internal-error"),_}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const _=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],_),this.authWindow.associatedEvent=_,this.resolver._originValidation(this.auth).catch(U=>{this.reject(U)}),this.resolver._isIframeWebStorageSupported(this.auth,U=>{U||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var _;return((_=this.authWindow)===null||_===void 0?void 0:_.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const _=()=>{var U,H;if(!((H=(U=this.authWindow)===null||U===void 0?void 0:U.window)===null||H===void 0)&&H.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(_,_POLL_WINDOW_CLOSE_TIMEOUT.get())};_()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(_,U,H=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],U,void 0,H),this.eventId=null}async execute(){let _=redirectOutcomeMap.get(this.auth._key());if(!_){try{const H=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;_=()=>Promise.resolve(H)}catch(U){_=()=>Promise.reject(U)}redirectOutcomeMap.set(this.auth._key(),_)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),_()}async onAuthEvent(_){if(_.type==="signInViaRedirect")return super.onAuthEvent(_);if(_.type==="unknown"){this.resolve(null);return}if(_.eventId){const U=await this.auth._redirectUserForId(_.eventId);if(U)return this.user=U,super.onAuthEvent(_);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(T,_){const U=pendingRedirectKey(_),H=resolverPersistence(T);if(!await H._isAvailable())return!1;const z=await H._get(U)==="true";return await H._remove(U),z}function _overrideRedirectResult(T,_){redirectOutcomeMap.set(T._key(),_)}function resolverPersistence(T){return _getInstance(T._redirectPersistence)}function pendingRedirectKey(T){return _persistenceKeyName(PENDING_REDIRECT_KEY,T.config.apiKey,T.name)}async function _getRedirectResult(T,_,U=!1){if(_isFirebaseServerApp(T.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T));const H=_castAuth(T),z=_withDefaultResolver(H,_),q=await new RedirectAction(H,z,U).execute();return q&&!U&&(delete q.user._redirectEventId,await H._persistUserIfCurrent(q.user),await H._setRedirectUser(null,_)),q}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let U=!1;return this.consumers.forEach(H=>{this.isEventForConsumer(_,H)&&(U=!0,this.sendToConsumer(_,H),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!isRedirectEvent(_)||(this.hasHandledPotentialRedirect=!0,U||(this.queuedRedirectEvent=_,U=!0)),U}sendToConsumer(_,U){var H;if(_.error&&!isNullRedirectEvent(_)){const z=((H=_.error.code)===null||H===void 0?void 0:H.split("auth/")[1])||"internal-error";U.onError(_createError(this.auth,z))}else U.onAuthEvent(_)}isEventForConsumer(_,U){const H=U.eventId===null||!!_.eventId&&_.eventId===U.eventId;return U.filter.includes(_.type)&&H}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(_))}saveEventToCache(_){this.cachedEventUids.add(eventUid(_)),this.lastProcessedEventTime=Date.now()}}function eventUid(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(_=>_).join("-")}function isNullRedirectEvent({type:T,error:_}){return T==="unknown"&&(_==null?void 0:_.code)==="auth/no-auth-event"}function isRedirectEvent(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(T);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(T,_={}){return _performApiRequest(T,"GET","/v1/projects",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(T){if(T.config.emulator)return;const{authorizedDomains:_}=await _getProjectConfig(T);for(const U of _)try{if(matchDomain(U))return}catch{}_fail(T,"unauthorized-domain")}function matchDomain(T){const _=_getCurrentUrl(),{protocol:U,hostname:H}=new URL(_);if(T.startsWith("chrome-extension://")){const q=new URL(T);return q.hostname===""&&H===""?U==="chrome-extension:"&&T.replace("chrome-extension://","")===_.replace("chrome-extension://",""):U==="chrome-extension:"&&q.hostname===H}if(!HTTP_REGEX.test(U))return!1;if(IP_ADDRESS_REGEX.test(T))return H===T;const z=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(H)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const T=_window().___jsl;if(T!=null&&T.H){for(const _ of Object.keys(T.H))if(T.H[_].r=T.H[_].r||[],T.H[_].L=T.H[_].L||[],T.H[_].r=[...T.H[_].L],T.CP)for(let U=0;U<T.CP.length;U++)T.CP[U]=null}}function loadGapi(T){return new Promise((_,U)=>{var H,z,j;function q(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),U(_createError(T,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((z=(H=_window().gapi)===null||H===void 0?void 0:H.iframes)===null||z===void 0)&&z.Iframe)_(gapi.iframes.getContext());else if(!((j=_window().gapi)===null||j===void 0)&&j.load)q();else{const K=_generateCallbackName("iframefcb");return _window()[K]=()=>{gapi.load?q():U(_createError(T,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${K}`).catch(Y=>U(Y))}}).catch(_=>{throw cachedGApiLoader=null,_})}let cachedGApiLoader=null;function _loadGapi(T){return cachedGApiLoader=cachedGApiLoader||loadGapi(T),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(T){const _=T.config;_assert(_.authDomain,T,"auth-domain-config-required");const U=_.emulator?_emulatorUrl(_,EMULATED_IFRAME_PATH):`https://${T.config.authDomain}/${IFRAME_PATH}`,H={apiKey:_.apiKey,appName:T.name,v:SDK_VERSION},z=EID_FROM_APIHOST.get(T.config.apiHost);z&&(H.eid=z);const j=T._getFrameworks();return j.length&&(H.fw=j.join(",")),`${U}?${querystring(H).slice(1)}`}async function _openIframe(T){const _=await _loadGapi(T),U=_window().gapi;return _assert(U,T,"internal-error"),_.open({where:document.body,url:getIframeUrl(T),messageHandlersFilter:U.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},H=>new Promise(async(z,j)=>{await H.restyle({setHideOnLeave:!1});const q=_createError(T,"network-request-failed"),K=_window().setTimeout(()=>{j(q)},PING_TIMEOUT.get());function Y(){_window().clearTimeout(K),z(H)}H.ping(Y).then(Y,()=>{j(q)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(T,_,U,H=DEFAULT_WIDTH,z=DEFAULT_HEIGHT){const j=Math.max((window.screen.availHeight-z)/2,0).toString(),q=Math.max((window.screen.availWidth-H)/2,0).toString();let K="";const Y=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:H.toString(),height:z.toString(),top:j,left:q}),X=getUA().toLowerCase();U&&(K=_isChromeIOS(X)?TARGET_BLANK:U),_isFirefox(X)&&(_=_||FIREFOX_EMPTY_URL,Y.scrollbars="yes");const Z=Object.entries(Y).reduce((ie,[se,de])=>`${ie}${se}=${de},`,"");if(_isIOSStandalone(X)&&K!=="_self")return openAsNewWindowIOS(_||"",K),new AuthPopup(null);const ne=window.open(_||"",K,Z);_assert(ne,T,"popup-blocked");try{ne.focus()}catch{}return new AuthPopup(ne)}function openAsNewWindowIOS(T,_){const U=document.createElement("a");U.href=T,U.target=_;const H=document.createEvent("MouseEvent");H.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),U.dispatchEvent(H)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(T,_,U,H,z,j){_assert(T.config.authDomain,T,"auth-domain-config-required"),_assert(T.config.apiKey,T,"invalid-api-key");const q={apiKey:T.config.apiKey,appName:T.name,authType:U,redirectUrl:H,v:SDK_VERSION,eventId:z};if(_ instanceof FederatedAuthProvider){_.setDefaultLanguage(T.languageCode),q.providerId=_.providerId||"",isEmpty$1(_.getCustomParameters())||(q.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Z,ne]of Object.entries({}))q[Z]=ne}if(_ instanceof BaseOAuthProvider){const Z=_.getScopes().filter(ne=>ne!=="");Z.length>0&&(q.scopes=Z.join(","))}T.tenantId&&(q.tid=T.tenantId);const K=q;for(const Z of Object.keys(K))K[Z]===void 0&&delete K[Z];const Y=await T._getAppCheckToken(),X=Y?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Y)}`:"";return`${getHandlerBase(T)}?${querystring(K).slice(1)}${X}`}function getHandlerBase({config:T}){return T.emulator?_emulatorUrl(T,EMULATOR_WIDGET_PATH):`https://${T.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(_,U,H,z){var j;debugAssert((j=this.eventManagers[_._key()])===null||j===void 0?void 0:j.manager,"_initialize() not called before _openPopup()");const q=await _getRedirectUrl(_,U,H,_getCurrentUrl(),z);return _open(_,q,_generateEventId())}async _openRedirect(_,U,H,z){await this._originValidation(_);const j=await _getRedirectUrl(_,U,H,_getCurrentUrl(),z);return _setWindowLocation(j),new Promise(()=>{})}_initialize(_){const U=_._key();if(this.eventManagers[U]){const{manager:z,promise:j}=this.eventManagers[U];return z?Promise.resolve(z):(debugAssert(j,"If manager is not set, promise should be"),j)}const H=this.initAndGetManager(_);return this.eventManagers[U]={promise:H},H.catch(()=>{delete this.eventManagers[U]}),H}async initAndGetManager(_){const U=await _openIframe(_),H=new AuthEventManager(_);return U.register("authEvent",z=>(_assert(z==null?void 0:z.authEvent,_,"invalid-auth-event"),{status:H.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[_._key()]={manager:H},this.iframes[_._key()]=U,H}_isIframeWebStorageSupported(_,U){this.iframes[_._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},z=>{var j;const q=(j=z==null?void 0:z[0])===null||j===void 0?void 0:j[WEB_STORAGE_SUPPORT_KEY];q!==void 0&&U(!!q),_fail(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const U=_._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=_validateOrigin(_)),this.originValidationPromises[U]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),((_=this.auth.currentUser)===null||_===void 0?void 0:_.uid)||null}async getToken(_){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(_)}:null}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const U=this.auth.onIdTokenChanged(H=>{_((H==null?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,U),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const U=this.internalListeners.get(_);U&&(this.internalListeners.delete(_),U(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(T){_registerComponent(new Component("auth",(_,{options:U})=>{const H=_.getProvider("app").getImmediate(),z=_.getProvider("heartbeat"),j=_.getProvider("app-check-internal"),{apiKey:q,authDomain:K}=H.options;_assert(q&&!q.includes(":"),"invalid-api-key",{appName:H.name});const Y={apiKey:q,authDomain:K,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(T)},X=new AuthImpl(H,z,j,Y);return _initializeAuthInstance(X,U),X},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,U,H)=>{_.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",_=>{const U=_castAuth(_.getProvider("auth").getImmediate());return(H=>new AuthInterop(H))(U)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(T)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=T=>async _=>{const U=_&&await _.getIdTokenResult(),H=U&&(new Date().getTime()-Date.parse(U.issuedAtTime))/1e3;if(H&&H>authIdTokenMaxAge)return;const z=U==null?void 0:U.token;lastPostedIdToken!==z&&(lastPostedIdToken=z,await fetch(T,{method:z?"POST":"DELETE",headers:z?{Authorization:`Bearer ${z}`}:{}}))};function getAuth(T=getApp()){const _=_getProvider(T,"auth");if(_.isInitialized())return _.getImmediate();const U=initializeAuth(T,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),H=getExperimentalSetting("authTokenSyncURL");if(H&&typeof isSecureContext=="boolean"&&isSecureContext){const j=new URL(H,location.origin);if(location.origin===j.origin){const q=mintCookieFactory(j.toString());beforeAuthStateChanged(U,q,()=>q(U.currentUser)),onIdTokenChanged(U,K=>q(K))}}const z=getDefaultEmulatorHost("auth");return z&&connectAuthEmulator(U,`http://${z}`),U}function getScriptParentElement(){var T,_;return(_=(T=document.getElementsByTagName("head"))===null||T===void 0?void 0:T[0])!==null&&_!==void 0?_:document}_setExternalJSProvider({loadJS(T){return new Promise((_,U)=>{const H=document.createElement("script");H.setAttribute("src",T),H.onload=_,H.onerror=z=>{const j=_createError("internal-error");j.customData=z,U(j)},H.type="text/javascript",H.charset="UTF-8",getScriptParentElement().appendChild(H)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var T;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function _(ae,oe){function ce(){}ce.prototype=oe.prototype,ae.D=oe.prototype,ae.prototype=new ce,ae.prototype.constructor=ae,ae.C=function(Se,he,xe){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return oe.prototype[he].apply(Se,ye)}}function U(){this.blockSize=-1}function H(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}_(H,U),H.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function z(ae,oe,ce){ce||(ce=0);var Se=Array(16);if(typeof oe=="string")for(var he=0;16>he;++he)Se[he]=oe.charCodeAt(ce++)|oe.charCodeAt(ce++)<<8|oe.charCodeAt(ce++)<<16|oe.charCodeAt(ce++)<<24;else for(he=0;16>he;++he)Se[he]=oe[ce++]|oe[ce++]<<8|oe[ce++]<<16|oe[ce++]<<24;oe=ae.g[0],ce=ae.g[1],he=ae.g[2];var xe=ae.g[3],ye=oe+(xe^ce&(he^xe))+Se[0]+3614090360&4294967295;oe=ce+(ye<<7&4294967295|ye>>>25),ye=xe+(he^oe&(ce^he))+Se[1]+3905402710&4294967295,xe=oe+(ye<<12&4294967295|ye>>>20),ye=he+(ce^xe&(oe^ce))+Se[2]+606105819&4294967295,he=xe+(ye<<17&4294967295|ye>>>15),ye=ce+(oe^he&(xe^oe))+Se[3]+3250441966&4294967295,ce=he+(ye<<22&4294967295|ye>>>10),ye=oe+(xe^ce&(he^xe))+Se[4]+4118548399&4294967295,oe=ce+(ye<<7&4294967295|ye>>>25),ye=xe+(he^oe&(ce^he))+Se[5]+1200080426&4294967295,xe=oe+(ye<<12&4294967295|ye>>>20),ye=he+(ce^xe&(oe^ce))+Se[6]+2821735955&4294967295,he=xe+(ye<<17&4294967295|ye>>>15),ye=ce+(oe^he&(xe^oe))+Se[7]+4249261313&4294967295,ce=he+(ye<<22&4294967295|ye>>>10),ye=oe+(xe^ce&(he^xe))+Se[8]+1770035416&4294967295,oe=ce+(ye<<7&4294967295|ye>>>25),ye=xe+(he^oe&(ce^he))+Se[9]+2336552879&4294967295,xe=oe+(ye<<12&4294967295|ye>>>20),ye=he+(ce^xe&(oe^ce))+Se[10]+4294925233&4294967295,he=xe+(ye<<17&4294967295|ye>>>15),ye=ce+(oe^he&(xe^oe))+Se[11]+2304563134&4294967295,ce=he+(ye<<22&4294967295|ye>>>10),ye=oe+(xe^ce&(he^xe))+Se[12]+1804603682&4294967295,oe=ce+(ye<<7&4294967295|ye>>>25),ye=xe+(he^oe&(ce^he))+Se[13]+4254626195&4294967295,xe=oe+(ye<<12&4294967295|ye>>>20),ye=he+(ce^xe&(oe^ce))+Se[14]+2792965006&4294967295,he=xe+(ye<<17&4294967295|ye>>>15),ye=ce+(oe^he&(xe^oe))+Se[15]+1236535329&4294967295,ce=he+(ye<<22&4294967295|ye>>>10),ye=oe+(he^xe&(ce^he))+Se[1]+4129170786&4294967295,oe=ce+(ye<<5&4294967295|ye>>>27),ye=xe+(ce^he&(oe^ce))+Se[6]+3225465664&4294967295,xe=oe+(ye<<9&4294967295|ye>>>23),ye=he+(oe^ce&(xe^oe))+Se[11]+643717713&4294967295,he=xe+(ye<<14&4294967295|ye>>>18),ye=ce+(xe^oe&(he^xe))+Se[0]+3921069994&4294967295,ce=he+(ye<<20&4294967295|ye>>>12),ye=oe+(he^xe&(ce^he))+Se[5]+3593408605&4294967295,oe=ce+(ye<<5&4294967295|ye>>>27),ye=xe+(ce^he&(oe^ce))+Se[10]+38016083&4294967295,xe=oe+(ye<<9&4294967295|ye>>>23),ye=he+(oe^ce&(xe^oe))+Se[15]+3634488961&4294967295,he=xe+(ye<<14&4294967295|ye>>>18),ye=ce+(xe^oe&(he^xe))+Se[4]+3889429448&4294967295,ce=he+(ye<<20&4294967295|ye>>>12),ye=oe+(he^xe&(ce^he))+Se[9]+568446438&4294967295,oe=ce+(ye<<5&4294967295|ye>>>27),ye=xe+(ce^he&(oe^ce))+Se[14]+3275163606&4294967295,xe=oe+(ye<<9&4294967295|ye>>>23),ye=he+(oe^ce&(xe^oe))+Se[3]+4107603335&4294967295,he=xe+(ye<<14&4294967295|ye>>>18),ye=ce+(xe^oe&(he^xe))+Se[8]+1163531501&4294967295,ce=he+(ye<<20&4294967295|ye>>>12),ye=oe+(he^xe&(ce^he))+Se[13]+2850285829&4294967295,oe=ce+(ye<<5&4294967295|ye>>>27),ye=xe+(ce^he&(oe^ce))+Se[2]+4243563512&4294967295,xe=oe+(ye<<9&4294967295|ye>>>23),ye=he+(oe^ce&(xe^oe))+Se[7]+1735328473&4294967295,he=xe+(ye<<14&4294967295|ye>>>18),ye=ce+(xe^oe&(he^xe))+Se[12]+2368359562&4294967295,ce=he+(ye<<20&4294967295|ye>>>12),ye=oe+(ce^he^xe)+Se[5]+4294588738&4294967295,oe=ce+(ye<<4&4294967295|ye>>>28),ye=xe+(oe^ce^he)+Se[8]+2272392833&4294967295,xe=oe+(ye<<11&4294967295|ye>>>21),ye=he+(xe^oe^ce)+Se[11]+1839030562&4294967295,he=xe+(ye<<16&4294967295|ye>>>16),ye=ce+(he^xe^oe)+Se[14]+4259657740&4294967295,ce=he+(ye<<23&4294967295|ye>>>9),ye=oe+(ce^he^xe)+Se[1]+2763975236&4294967295,oe=ce+(ye<<4&4294967295|ye>>>28),ye=xe+(oe^ce^he)+Se[4]+1272893353&4294967295,xe=oe+(ye<<11&4294967295|ye>>>21),ye=he+(xe^oe^ce)+Se[7]+4139469664&4294967295,he=xe+(ye<<16&4294967295|ye>>>16),ye=ce+(he^xe^oe)+Se[10]+3200236656&4294967295,ce=he+(ye<<23&4294967295|ye>>>9),ye=oe+(ce^he^xe)+Se[13]+681279174&4294967295,oe=ce+(ye<<4&4294967295|ye>>>28),ye=xe+(oe^ce^he)+Se[0]+3936430074&4294967295,xe=oe+(ye<<11&4294967295|ye>>>21),ye=he+(xe^oe^ce)+Se[3]+3572445317&4294967295,he=xe+(ye<<16&4294967295|ye>>>16),ye=ce+(he^xe^oe)+Se[6]+76029189&4294967295,ce=he+(ye<<23&4294967295|ye>>>9),ye=oe+(ce^he^xe)+Se[9]+3654602809&4294967295,oe=ce+(ye<<4&4294967295|ye>>>28),ye=xe+(oe^ce^he)+Se[12]+3873151461&4294967295,xe=oe+(ye<<11&4294967295|ye>>>21),ye=he+(xe^oe^ce)+Se[15]+530742520&4294967295,he=xe+(ye<<16&4294967295|ye>>>16),ye=ce+(he^xe^oe)+Se[2]+3299628645&4294967295,ce=he+(ye<<23&4294967295|ye>>>9),ye=oe+(he^(ce|~xe))+Se[0]+4096336452&4294967295,oe=ce+(ye<<6&4294967295|ye>>>26),ye=xe+(ce^(oe|~he))+Se[7]+1126891415&4294967295,xe=oe+(ye<<10&4294967295|ye>>>22),ye=he+(oe^(xe|~ce))+Se[14]+2878612391&4294967295,he=xe+(ye<<15&4294967295|ye>>>17),ye=ce+(xe^(he|~oe))+Se[5]+4237533241&4294967295,ce=he+(ye<<21&4294967295|ye>>>11),ye=oe+(he^(ce|~xe))+Se[12]+1700485571&4294967295,oe=ce+(ye<<6&4294967295|ye>>>26),ye=xe+(ce^(oe|~he))+Se[3]+2399980690&4294967295,xe=oe+(ye<<10&4294967295|ye>>>22),ye=he+(oe^(xe|~ce))+Se[10]+4293915773&4294967295,he=xe+(ye<<15&4294967295|ye>>>17),ye=ce+(xe^(he|~oe))+Se[1]+2240044497&4294967295,ce=he+(ye<<21&4294967295|ye>>>11),ye=oe+(he^(ce|~xe))+Se[8]+1873313359&4294967295,oe=ce+(ye<<6&4294967295|ye>>>26),ye=xe+(ce^(oe|~he))+Se[15]+4264355552&4294967295,xe=oe+(ye<<10&4294967295|ye>>>22),ye=he+(oe^(xe|~ce))+Se[6]+2734768916&4294967295,he=xe+(ye<<15&4294967295|ye>>>17),ye=ce+(xe^(he|~oe))+Se[13]+1309151649&4294967295,ce=he+(ye<<21&4294967295|ye>>>11),ye=oe+(he^(ce|~xe))+Se[4]+4149444226&4294967295,oe=ce+(ye<<6&4294967295|ye>>>26),ye=xe+(ce^(oe|~he))+Se[11]+3174756917&4294967295,xe=oe+(ye<<10&4294967295|ye>>>22),ye=he+(oe^(xe|~ce))+Se[2]+718787259&4294967295,he=xe+(ye<<15&4294967295|ye>>>17),ye=ce+(xe^(he|~oe))+Se[9]+3951481745&4294967295,ae.g[0]=ae.g[0]+oe&4294967295,ae.g[1]=ae.g[1]+(he+(ye<<21&4294967295|ye>>>11))&4294967295,ae.g[2]=ae.g[2]+he&4294967295,ae.g[3]=ae.g[3]+xe&4294967295}H.prototype.u=function(ae,oe){oe===void 0&&(oe=ae.length);for(var ce=oe-this.blockSize,Se=this.B,he=this.h,xe=0;xe<oe;){if(he==0)for(;xe<=ce;)z(this,ae,xe),xe+=this.blockSize;if(typeof ae=="string"){for(;xe<oe;)if(Se[he++]=ae.charCodeAt(xe++),he==this.blockSize){z(this,Se),he=0;break}}else for(;xe<oe;)if(Se[he++]=ae[xe++],he==this.blockSize){z(this,Se),he=0;break}}this.h=he,this.o+=oe},H.prototype.v=function(){var ae=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ae[0]=128;for(var oe=1;oe<ae.length-8;++oe)ae[oe]=0;var ce=8*this.o;for(oe=ae.length-8;oe<ae.length;++oe)ae[oe]=ce&255,ce/=256;for(this.u(ae),ae=Array(16),oe=ce=0;4>oe;++oe)for(var Se=0;32>Se;Se+=8)ae[ce++]=this.g[oe]>>>Se&255;return ae};function j(ae,oe){var ce=K;return Object.prototype.hasOwnProperty.call(ce,ae)?ce[ae]:ce[ae]=oe(ae)}function q(ae,oe){this.h=oe;for(var ce=[],Se=!0,he=ae.length-1;0<=he;he--){var xe=ae[he]|0;Se&&xe==oe||(ce[he]=xe,Se=!1)}this.g=ce}var K={};function Y(ae){return-128<=ae&&128>ae?j(ae,function(oe){return new q([oe|0],0>oe?-1:0)}):new q([ae|0],0>ae?-1:0)}function X(ae){if(isNaN(ae)||!isFinite(ae))return ne;if(0>ae)return pe(X(-ae));for(var oe=[],ce=1,Se=0;ae>=ce;Se++)oe[Se]=ae/ce|0,ce*=4294967296;return new q(oe,0)}function Z(ae,oe){if(ae.length==0)throw Error("number format error: empty string");if(oe=oe||10,2>oe||36<oe)throw Error("radix out of range: "+oe);if(ae.charAt(0)=="-")return pe(Z(ae.substring(1),oe));if(0<=ae.indexOf("-"))throw Error('number format error: interior "-" character');for(var ce=X(Math.pow(oe,8)),Se=ne,he=0;he<ae.length;he+=8){var xe=Math.min(8,ae.length-he),ye=parseInt(ae.substring(he,he+xe),oe);8>xe?(xe=X(Math.pow(oe,xe)),Se=Se.j(xe).add(X(ye))):(Se=Se.j(ce),Se=Se.add(X(ye)))}return Se}var ne=Y(0),ie=Y(1),se=Y(16777216);T=q.prototype,T.m=function(){if(Ee(this))return-pe(this).m();for(var ae=0,oe=1,ce=0;ce<this.g.length;ce++){var Se=this.i(ce);ae+=(0<=Se?Se:4294967296+Se)*oe,oe*=4294967296}return ae},T.toString=function(ae){if(ae=ae||10,2>ae||36<ae)throw Error("radix out of range: "+ae);if(de(this))return"0";if(Ee(this))return"-"+pe(this).toString(ae);for(var oe=X(Math.pow(ae,6)),ce=this,Se="";;){var he=ve(ce,oe).g;ce=le(ce,he.j(oe));var xe=((0<ce.g.length?ce.g[0]:ce.h)>>>0).toString(ae);if(ce=he,de(ce))return xe+Se;for(;6>xe.length;)xe="0"+xe;Se=xe+Se}},T.i=function(ae){return 0>ae?0:ae<this.g.length?this.g[ae]:this.h};function de(ae){if(ae.h!=0)return!1;for(var oe=0;oe<ae.g.length;oe++)if(ae.g[oe]!=0)return!1;return!0}function Ee(ae){return ae.h==-1}T.l=function(ae){return ae=le(this,ae),Ee(ae)?-1:de(ae)?0:1};function pe(ae){for(var oe=ae.g.length,ce=[],Se=0;Se<oe;Se++)ce[Se]=~ae.g[Se];return new q(ce,~ae.h).add(ie)}T.abs=function(){return Ee(this)?pe(this):this},T.add=function(ae){for(var oe=Math.max(this.g.length,ae.g.length),ce=[],Se=0,he=0;he<=oe;he++){var xe=Se+(this.i(he)&65535)+(ae.i(he)&65535),ye=(xe>>>16)+(this.i(he)>>>16)+(ae.i(he)>>>16);Se=ye>>>16,xe&=65535,ye&=65535,ce[he]=ye<<16|xe}return new q(ce,ce[ce.length-1]&-2147483648?-1:0)};function le(ae,oe){return ae.add(pe(oe))}T.j=function(ae){if(de(this)||de(ae))return ne;if(Ee(this))return Ee(ae)?pe(this).j(pe(ae)):pe(pe(this).j(ae));if(Ee(ae))return pe(this.j(pe(ae)));if(0>this.l(se)&&0>ae.l(se))return X(this.m()*ae.m());for(var oe=this.g.length+ae.g.length,ce=[],Se=0;Se<2*oe;Se++)ce[Se]=0;for(Se=0;Se<this.g.length;Se++)for(var he=0;he<ae.g.length;he++){var xe=this.i(Se)>>>16,ye=this.i(Se)&65535,Ge=ae.i(he)>>>16,qe=ae.i(he)&65535;ce[2*Se+2*he]+=ye*qe,ue(ce,2*Se+2*he),ce[2*Se+2*he+1]+=xe*qe,ue(ce,2*Se+2*he+1),ce[2*Se+2*he+1]+=ye*Ge,ue(ce,2*Se+2*he+1),ce[2*Se+2*he+2]+=xe*Ge,ue(ce,2*Se+2*he+2)}for(Se=0;Se<oe;Se++)ce[Se]=ce[2*Se+1]<<16|ce[2*Se];for(Se=oe;Se<2*oe;Se++)ce[Se]=0;return new q(ce,0)};function ue(ae,oe){for(;(ae[oe]&65535)!=ae[oe];)ae[oe+1]+=ae[oe]>>>16,ae[oe]&=65535,oe++}function fe(ae,oe){this.g=ae,this.h=oe}function ve(ae,oe){if(de(oe))throw Error("division by zero");if(de(ae))return new fe(ne,ne);if(Ee(ae))return oe=ve(pe(ae),oe),new fe(pe(oe.g),pe(oe.h));if(Ee(oe))return oe=ve(ae,pe(oe)),new fe(pe(oe.g),oe.h);if(30<ae.g.length){if(Ee(ae)||Ee(oe))throw Error("slowDivide_ only works with positive integers.");for(var ce=ie,Se=oe;0>=Se.l(ae);)ce=me(ce),Se=me(Se);var he=Ae(ce,1),xe=Ae(Se,1);for(Se=Ae(Se,2),ce=Ae(ce,2);!de(Se);){var ye=xe.add(Se);0>=ye.l(ae)&&(he=he.add(ce),xe=ye),Se=Ae(Se,1),ce=Ae(ce,1)}return oe=le(ae,he.j(oe)),new fe(he,oe)}for(he=ne;0<=ae.l(oe);){for(ce=Math.max(1,Math.floor(ae.m()/oe.m())),Se=Math.ceil(Math.log(ce)/Math.LN2),Se=48>=Se?1:Math.pow(2,Se-48),xe=X(ce),ye=xe.j(oe);Ee(ye)||0<ye.l(ae);)ce-=Se,xe=X(ce),ye=xe.j(oe);de(xe)&&(xe=ie),he=he.add(xe),ae=le(ae,ye)}return new fe(he,ae)}T.A=function(ae){return ve(this,ae).h},T.and=function(ae){for(var oe=Math.max(this.g.length,ae.g.length),ce=[],Se=0;Se<oe;Se++)ce[Se]=this.i(Se)&ae.i(Se);return new q(ce,this.h&ae.h)},T.or=function(ae){for(var oe=Math.max(this.g.length,ae.g.length),ce=[],Se=0;Se<oe;Se++)ce[Se]=this.i(Se)|ae.i(Se);return new q(ce,this.h|ae.h)},T.xor=function(ae){for(var oe=Math.max(this.g.length,ae.g.length),ce=[],Se=0;Se<oe;Se++)ce[Se]=this.i(Se)^ae.i(Se);return new q(ce,this.h^ae.h)};function me(ae){for(var oe=ae.g.length+1,ce=[],Se=0;Se<oe;Se++)ce[Se]=ae.i(Se)<<1|ae.i(Se-1)>>>31;return new q(ce,ae.h)}function Ae(ae,oe){var ce=oe>>5;oe%=32;for(var Se=ae.g.length-ce,he=[],xe=0;xe<Se;xe++)he[xe]=0<oe?ae.i(xe+ce)>>>oe|ae.i(xe+ce+1)<<32-oe:ae.i(xe+ce);return new q(he,ae.h)}H.prototype.digest=H.prototype.v,H.prototype.reset=H.prototype.s,H.prototype.update=H.prototype.u,Md5=H,q.prototype.add=q.prototype.add,q.prototype.multiply=q.prototype.j,q.prototype.modulo=q.prototype.A,q.prototype.compare=q.prototype.l,q.prototype.toNumber=q.prototype.m,q.prototype.toString=q.prototype.toString,q.prototype.getBits=q.prototype.i,q.fromNumber=X,q.fromString=Z,Integer=q}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var T,_=typeof Object.defineProperties=="function"?Object.defineProperty:function(J,ge,Ce){return J==Array.prototype||J==Object.prototype||(J[ge]=Ce.value),J};function U(J){J=[typeof globalThis=="object"&&globalThis,J,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var ge=0;ge<J.length;++ge){var Ce=J[ge];if(Ce&&Ce.Math==Math)return Ce}throw Error("Cannot find global object")}var H=U(this);function z(J,ge){if(ge)e:{var Ce=H;J=J.split(".");for(var Ue=0;Ue<J.length-1;Ue++){var an=J[Ue];if(!(an in Ce))break e;Ce=Ce[an]}J=J[J.length-1],Ue=Ce[J],ge=ge(Ue),ge!=Ue&&ge!=null&&_(Ce,J,{configurable:!0,writable:!0,value:ge})}}function j(J,ge){J instanceof String&&(J+="");var Ce=0,Ue=!1,an={next:function(){if(!Ue&&Ce<J.length){var gn=Ce++;return{value:ge(gn,J[gn]),done:!1}}return Ue=!0,{done:!0,value:void 0}}};return an[Symbol.iterator]=function(){return an},an}z("Array.prototype.values",function(J){return J||function(){return j(this,function(ge,Ce){return Ce})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var q=q||{},K=this||self;function Y(J){var ge=typeof J;return ge=ge!="object"?ge:J?Array.isArray(J)?"array":ge:"null",ge=="array"||ge=="object"&&typeof J.length=="number"}function X(J){var ge=typeof J;return ge=="object"&&J!=null||ge=="function"}function Z(J,ge,Ce){return J.call.apply(J.bind,arguments)}function ne(J,ge,Ce){if(!J)throw Error();if(2<arguments.length){var Ue=Array.prototype.slice.call(arguments,2);return function(){var an=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(an,Ue),J.apply(ge,an)}}return function(){return J.apply(ge,arguments)}}function ie(J,ge,Ce){return ie=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Z:ne,ie.apply(null,arguments)}function se(J,ge){var Ce=Array.prototype.slice.call(arguments,1);return function(){var Ue=Ce.slice();return Ue.push.apply(Ue,arguments),J.apply(this,Ue)}}function de(J,ge){function Ce(){}Ce.prototype=ge.prototype,J.aa=ge.prototype,J.prototype=new Ce,J.prototype.constructor=J,J.Qb=function(Ue,an,gn){for(var Sn=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)Sn[Gn-2]=arguments[Gn];return ge.prototype[an].apply(Ue,Sn)}}function Ee(J){const ge=J.length;if(0<ge){const Ce=Array(ge);for(let Ue=0;Ue<ge;Ue++)Ce[Ue]=J[Ue];return Ce}return[]}function pe(J,ge){for(let Ce=1;Ce<arguments.length;Ce++){const Ue=arguments[Ce];if(Y(Ue)){const an=J.length||0,gn=Ue.length||0;J.length=an+gn;for(let Sn=0;Sn<gn;Sn++)J[an+Sn]=Ue[Sn]}else J.push(Ue)}}class le{constructor(ge,Ce){this.i=ge,this.j=Ce,this.h=0,this.g=null}get(){let ge;return 0<this.h?(this.h--,ge=this.g,this.g=ge.next,ge.next=null):ge=this.i(),ge}}function ue(J){return/^[\s\xa0]*$/.test(J)}function fe(){var J=K.navigator;return J&&(J=J.userAgent)?J:""}function ve(J){return ve[" "](J),J}ve[" "]=function(){};var me=fe().indexOf("Gecko")!=-1&&!(fe().toLowerCase().indexOf("webkit")!=-1&&fe().indexOf("Edge")==-1)&&!(fe().indexOf("Trident")!=-1||fe().indexOf("MSIE")!=-1)&&fe().indexOf("Edge")==-1;function Ae(J,ge,Ce){for(const Ue in J)ge.call(Ce,J[Ue],Ue,J)}function ae(J,ge){for(const Ce in J)ge.call(void 0,J[Ce],Ce,J)}function oe(J){const ge={};for(const Ce in J)ge[Ce]=J[Ce];return ge}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(J,ge){let Ce,Ue;for(let an=1;an<arguments.length;an++){Ue=arguments[an];for(Ce in Ue)J[Ce]=Ue[Ce];for(let gn=0;gn<ce.length;gn++)Ce=ce[gn],Object.prototype.hasOwnProperty.call(Ue,Ce)&&(J[Ce]=Ue[Ce])}}function he(J){var ge=1;J=J.split(":");const Ce=[];for(;0<ge&&J.length;)Ce.push(J.shift()),ge--;return J.length&&Ce.push(J.join(":")),Ce}function xe(J){K.setTimeout(()=>{throw J},0)}function ye(){var J=ke;let ge=null;return J.g&&(ge=J.g,J.g=J.g.next,J.g||(J.h=null),ge.next=null),ge}class Ge{constructor(){this.h=this.g=null}add(ge,Ce){const Ue=qe.get();Ue.set(ge,Ce),this.h?this.h.next=Ue:this.g=Ue,this.h=Ue}}var qe=new le(()=>new Fe,J=>J.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(ge,Ce){this.h=ge,this.g=Ce,this.next=null}reset(){this.next=this.g=this.h=null}}let He,Ye=!1,ke=new Ge,Ke=()=>{const J=K.Promise.resolve(void 0);He=()=>{J.then(gt)}};var gt=()=>{for(var J;J=ye();){try{J.h.call(J.g)}catch(Ce){xe(Ce)}var ge=qe;ge.j(J),100>ge.h&&(ge.h++,J.next=ge.g,ge.g=J)}Ye=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(J,ge){this.type=J,this.g=this.target=ge,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var J=!1,ge=Object.defineProperty({},"passive",{get:function(){J=!0}});try{const Ce=()=>{};K.addEventListener("test",Ce,ge),K.removeEventListener("test",Ce,ge)}catch{}return J}();function we(J,ge){if(Ie.call(this,J?J.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,J){var Ce=this.type=J.type,Ue=J.changedTouches&&J.changedTouches.length?J.changedTouches[0]:null;if(this.target=J.target||J.srcElement,this.g=ge,ge=J.relatedTarget){if(me){e:{try{ve(ge.nodeName);var an=!0;break e}catch{}an=!1}an||(ge=null)}}else Ce=="mouseover"?ge=J.fromElement:Ce=="mouseout"&&(ge=J.toElement);this.relatedTarget=ge,Ue?(this.clientX=Ue.clientX!==void 0?Ue.clientX:Ue.pageX,this.clientY=Ue.clientY!==void 0?Ue.clientY:Ue.pageY,this.screenX=Ue.screenX||0,this.screenY=Ue.screenY||0):(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0),this.button=J.button,this.key=J.key||"",this.ctrlKey=J.ctrlKey,this.altKey=J.altKey,this.shiftKey=J.shiftKey,this.metaKey=J.metaKey,this.pointerId=J.pointerId||0,this.pointerType=typeof J.pointerType=="string"?J.pointerType:Ve[J.pointerType]||"",this.state=J.state,this.i=J,J.defaultPrevented&&we.aa.h.call(this)}}de(we,Ie);var Ve={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var J=this.i;J.preventDefault?J.preventDefault():J.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Qe(J,ge,Ce,Ue,an){this.listener=J,this.proxy=null,this.src=ge,this.type=Ce,this.capture=!!Ue,this.ha=an,this.key=++Le,this.da=this.fa=!1}function ut(J){J.da=!0,J.listener=null,J.proxy=null,J.src=null,J.ha=null}function Bt(J){this.src=J,this.g={},this.h=0}Bt.prototype.add=function(J,ge,Ce,Ue,an){var gn=J.toString();J=this.g[gn],J||(J=this.g[gn]=[],this.h++);var Sn=un(J,ge,Ue,an);return-1<Sn?(ge=J[Sn],Ce||(ge.fa=!1)):(ge=new Qe(ge,this.src,gn,!!Ue,an),ge.fa=Ce,J.push(ge)),ge};function nn(J,ge){var Ce=ge.type;if(Ce in J.g){var Ue=J.g[Ce],an=Array.prototype.indexOf.call(Ue,ge,void 0),gn;(gn=0<=an)&&Array.prototype.splice.call(Ue,an,1),gn&&(ut(ge),J.g[Ce].length==0&&(delete J.g[Ce],J.h--))}}function un(J,ge,Ce,Ue){for(var an=0;an<J.length;++an){var gn=J[an];if(!gn.da&&gn.listener==ge&&gn.capture==!!Ce&&gn.ha==Ue)return an}return-1}var on="closure_lm_"+(1e6*Math.random()|0),hn={};function At(J,ge,Ce,Ue,an){if(Array.isArray(ge)){for(var gn=0;gn<ge.length;gn++)At(J,ge[gn],Ce,Ue,an);return null}return Ce=yt(Ce),J&&J[Me]?J.K(ge,Ce,X(Ue)?!!Ue.capture:!1,an):xt(J,ge,Ce,!1,Ue,an)}function xt(J,ge,Ce,Ue,an,gn){if(!ge)throw Error("Invalid event type");var Sn=X(an)?!!an.capture:!!an,Gn=fn(J);if(Gn||(J[on]=Gn=new Bt(J)),Ce=Gn.add(ge,Ce,Ue,Sn,gn),Ce.proxy)return Ce;if(Ue=$e(),Ce.proxy=Ue,Ue.src=J,Ue.listener=Ce,J.addEventListener)Pe||(an=Sn),an===void 0&&(an=!1),J.addEventListener(ge.toString(),Ue,an);else if(J.attachEvent)J.attachEvent(vt(ge.toString()),Ue);else if(J.addListener&&J.removeListener)J.addListener(Ue);else throw Error("addEventListener and attachEvent are unavailable.");return Ce}function $e(){function J(Ce){return ge.call(J.src,J.listener,Ce)}const ge=qt;return J}function Be(J,ge,Ce,Ue,an){if(Array.isArray(ge))for(var gn=0;gn<ge.length;gn++)Be(J,ge[gn],Ce,Ue,an);else Ue=X(Ue)?!!Ue.capture:!!Ue,Ce=yt(Ce),J&&J[Me]?(J=J.i,ge=String(ge).toString(),ge in J.g&&(gn=J.g[ge],Ce=un(gn,Ce,Ue,an),-1<Ce&&(ut(gn[Ce]),Array.prototype.splice.call(gn,Ce,1),gn.length==0&&(delete J.g[ge],J.h--)))):J&&(J=fn(J))&&(ge=J.g[ge.toString()],J=-1,ge&&(J=un(ge,Ce,Ue,an)),(Ce=-1<J?ge[J]:null)&&ct(Ce))}function ct(J){if(typeof J!="number"&&J&&!J.da){var ge=J.src;if(ge&&ge[Me])nn(ge.i,J);else{var Ce=J.type,Ue=J.proxy;ge.removeEventListener?ge.removeEventListener(Ce,Ue,J.capture):ge.detachEvent?ge.detachEvent(vt(Ce),Ue):ge.addListener&&ge.removeListener&&ge.removeListener(Ue),(Ce=fn(ge))?(nn(Ce,J),Ce.h==0&&(Ce.src=null,ge[on]=null)):ut(J)}}}function vt(J){return J in hn?hn[J]:hn[J]="on"+J}function qt(J,ge){if(J.da)J=!0;else{ge=new we(ge,this);var Ce=J.listener,Ue=J.ha||J.src;J.fa&&ct(J),J=Ce.call(Ue,ge)}return J}function fn(J){return J=J[on],J instanceof Bt?J:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(J){return typeof J=="function"?J:(J[pn]||(J[pn]=function(ge){return J.handleEvent(ge)}),J[pn])}function vn(){De.call(this),this.i=new Bt(this),this.M=this,this.F=null}de(vn,De),vn.prototype[Me]=!0,vn.prototype.removeEventListener=function(J,ge,Ce,Ue){Be(this,J,ge,Ce,Ue)};function En(J,ge){var Ce,Ue=J.F;if(Ue)for(Ce=[];Ue;Ue=Ue.F)Ce.push(Ue);if(J=J.M,Ue=ge.type||ge,typeof ge=="string")ge=new Ie(ge,J);else if(ge instanceof Ie)ge.target=ge.target||J;else{var an=ge;ge=new Ie(Ue,J),Se(ge,an)}if(an=!0,Ce)for(var gn=Ce.length-1;0<=gn;gn--){var Sn=ge.g=Ce[gn];an=On(Sn,Ue,!0,ge)&&an}if(Sn=ge.g=J,an=On(Sn,Ue,!0,ge)&&an,an=On(Sn,Ue,!1,ge)&&an,Ce)for(gn=0;gn<Ce.length;gn++)Sn=ge.g=Ce[gn],an=On(Sn,Ue,!1,ge)&&an}vn.prototype.N=function(){if(vn.aa.N.call(this),this.i){var J=this.i,ge;for(ge in J.g){for(var Ce=J.g[ge],Ue=0;Ue<Ce.length;Ue++)ut(Ce[Ue]);delete J.g[ge],J.h--}}this.F=null},vn.prototype.K=function(J,ge,Ce,Ue){return this.i.add(String(J),ge,!1,Ce,Ue)},vn.prototype.L=function(J,ge,Ce,Ue){return this.i.add(String(J),ge,!0,Ce,Ue)};function On(J,ge,Ce,Ue){if(ge=J.i.g[String(ge)],!ge)return!0;ge=ge.concat();for(var an=!0,gn=0;gn<ge.length;++gn){var Sn=ge[gn];if(Sn&&!Sn.da&&Sn.capture==Ce){var Gn=Sn.listener,Jn=Sn.ha||Sn.src;Sn.fa&&nn(J.i,Sn),an=Gn.call(Jn,Ue)!==!1&&an}}return an&&!Ue.defaultPrevented}function Dn(J,ge,Ce){if(typeof J=="function")Ce&&(J=ie(J,Ce));else if(J&&typeof J.handleEvent=="function")J=ie(J.handleEvent,J);else throw Error("Invalid listener argument");return 2147483647<Number(ge)?-1:K.setTimeout(J,ge||0)}function Un(J){J.g=Dn(()=>{J.g=null,J.i&&(J.i=!1,Un(J))},J.l);const ge=J.h;J.h=null,J.m.apply(null,ge)}class xn extends De{constructor(ge,Ce){super(),this.m=ge,this.l=Ce,this.h=null,this.i=!1,this.g=null}j(ge){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(J){De.call(this),this.h=J,this.g={}}de(kn,De);var Hn=[];function zn(J){Ae(J.g,function(ge,Ce){this.g.hasOwnProperty(Ce)&&ct(ge)},J),J.g={}}kn.prototype.N=function(){kn.aa.N.call(this),zn(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=K.JSON.stringify,Ct=K.JSON.parse,Ft=class{stringify(J){return K.JSON.stringify(J,void 0)}parse(J){return K.JSON.parse(J,void 0)}};function Tn(){}Tn.prototype.h=null;function Vn(J){return J.h||(J.h=J.i())}function Fn(){}var We={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){Ie.call(this,"d")}de(cn,Ie);function yn(){Ie.call(this,"c")}de(yn,Ie);var Rn={},$n=null;function An(){return $n=$n||new vn}Rn.La="serverreachability";function je(J){Ie.call(this,Rn.La,J)}de(je,Ie);function Oe(J){const ge=An();En(ge,new je(ge))}Rn.STAT_EVENT="statevent";function Je(J,ge){Ie.call(this,Rn.STAT_EVENT,J),this.stat=ge}de(Je,Ie);function Mt(J){const ge=An();En(ge,new Je(ge,J))}Rn.Ma="timingevent";function ln(J,ge){Ie.call(this,Rn.Ma,J),this.size=ge}de(ln,Ie);function dn(J,ge){if(typeof J!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){J()},ge)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function Cn(J,ge,Ce,Ue,an,gn){J.info(function(){if(J.g)if(gn)for(var Sn="",Gn=gn.split("&"),Jn=0;Jn<Gn.length;Jn++){var qn=Gn[Jn].split("=");if(1<qn.length){var Zn=qn[0];qn=qn[1];var er=Zn.split("_");Sn=2<=er.length&&er[1]=="type"?Sn+(Zn+"="+qn+"&"):Sn+(Zn+"=redacted&")}}else Sn=null;else Sn=gn;return"XMLHTTP REQ ("+Ue+") [attempt "+an+"]: "+ge+`
`+Ce+`
`+Sn})}function In(J,ge,Ce,Ue,an,gn,Sn){J.info(function(){return"XMLHTTP RESP ("+Ue+") [ attempt "+an+"]: "+ge+`
`+Ce+`
`+gn+" "+Sn})}function bn(J,ge,Ce,Ue){J.info(function(){return"XMLHTTP TEXT ("+ge+"): "+Pn(J,Ce)+(Ue?" "+Ue:"")})}function Nn(J,ge){J.info(function(){return"TIMEOUT: "+ge})}_n.prototype.info=function(){};function Pn(J,ge){if(!J.g)return ge;if(!ge)return null;try{var Ce=JSON.parse(ge);if(Ce){for(J=0;J<Ce.length;J++)if(Array.isArray(Ce[J])){var Ue=Ce[J];if(!(2>Ue.length)){var an=Ue[1];if(Array.isArray(an)&&!(1>an.length)){var gn=an[0];if(gn!="noop"&&gn!="stop"&&gn!="close")for(var Sn=1;Sn<an.length;Sn++)an[Sn]=""}}}}return mn(Ce)}catch{return ge}}var wn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Bn(){}de(Bn,Tn),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Ln=new Bn;function jn(J,ge,Ce,Ue){this.j=J,this.i=ge,this.l=Ce,this.R=Ue||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Kn={},tr={};function rr(J,ge,Ce){J.L=1,J.v=jr(or(ge)),J.m=Ce,J.P=!0,sr(J,null)}function sr(J,ge){J.F=Date.now(),Hr(J),J.A=or(J.v);var Ce=J.A,Ue=J.R;Array.isArray(Ue)||(Ue=[String(Ue)]),_s(Ce.i,"t",Ue),J.C=0,Ce=J.j.J,J.h=new Qn,J.g=Os(J.j,Ce?ge:null,!J.m),0<J.O&&(J.M=new xn(ie(J.Y,J,J.g),J.O)),ge=J.U,Ce=J.g,Ue=J.ca;var an="readystatechange";Array.isArray(an)||(an&&(Hn[0]=an.toString()),an=Hn);for(var gn=0;gn<an.length;gn++){var Sn=At(Ce,an[gn],Ue||ge.handleEvent,!1,ge.h||ge);if(!Sn)break;ge.g[Sn.key]=Sn}ge=J.H?oe(J.H):{},J.m?(J.u||(J.u="POST"),ge["Content-Type"]="application/x-www-form-urlencoded",J.g.ea(J.A,J.u,J.m,ge)):(J.u="GET",J.g.ea(J.A,J.u,null,ge)),Oe(),Cn(J.i,J.u,J.A,J.l,J.R,J.m)}jn.prototype.ca=function(J){J=J.target;const ge=this.M;ge&&lr(J)==3?ge.j():this.Y(J)},jn.prototype.Y=function(J){try{if(J==this.g)e:{const er=lr(this.g);var ge=this.g.Ba();const Er=this.g.Z();if(!(3>er)&&(er!=3||this.g&&(this.h.h||this.g.oa()||Rs(this.g)))){this.J||er!=4||ge==7||(ge==8||0>=Er?Oe(3):Oe(2)),fi(this);var Ce=this.g.Z();this.X=Ce;t:if(Rr(this)){var Ue=Rs(this.g);J="";var an=Ue.length,gn=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),Sr(this);var Sn="";break t}this.h.i=new K.TextDecoder}for(ge=0;ge<an;ge++)this.h.h=!0,J+=this.h.i.decode(Ue[ge],{stream:!(gn&&ge==an-1)});Ue.length=0,this.h.g+=J,this.C=0,Sn=this.h.g}else Sn=this.g.oa();if(this.o=Ce==200,In(this.i,this.u,this.A,this.l,this.R,er,Ce),this.o){if(this.T&&!this.K){t:{if(this.g){var Gn,Jn=this.g;if((Gn=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Gn)){var qn=Gn;break t}}qn=null}if(Ce=qn)bn(this.i,this.l,Ce,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,Ce);else{this.o=!1,this.s=3,Mt(12),hr(this),Sr(this);break e}}if(this.P){Ce=!0;let ar;for(;!this.J&&this.C<Sn.length;)if(ar=ba(this,Sn),ar==tr){er==4&&(this.s=4,Mt(14),Ce=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Kn){this.s=4,Mt(15),bn(this.i,this.l,Sn,"[Invalid Chunk]"),Ce=!1;break}else bn(this.i,this.l,ar,null),pi(this,ar);if(Rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),er!=4||Sn.length!=0||this.h.h||(this.s=1,Mt(16),Ce=!1),this.o=this.o&&Ce,!Ce)bn(this.i,this.l,Sn,"[Invalid Chunked Response]"),hr(this),Sr(this);else if(0<Sn.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+Sn.length),yi(Zn),Zn.M=!0,Mt(11))}}else bn(this.i,this.l,Sn,null),pi(this,Sn);er==4&&hr(this),this.o&&!this.J&&(er==4?$s(this.j,this):(this.o=!1,Hr(this)))}else Fa(this.g),Ce==400&&0<Sn.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),hr(this),Sr(this)}}}catch{}finally{}};function Rr(J){return J.g?J.u=="GET"&&J.L!=2&&J.j.Ca:!1}function ba(J,ge){var Ce=J.C,Ue=ge.indexOf(`
`,Ce);return Ue==-1?tr:(Ce=Number(ge.substring(Ce,Ue)),isNaN(Ce)?Kn:(Ue+=1,Ue+Ce>ge.length?tr:(ge=ge.slice(Ue,Ue+Ce),J.C=Ue+Ce,ge)))}jn.prototype.cancel=function(){this.J=!0,hr(this)};function Hr(J){J.S=Date.now()+J.I,ss(J,J.I)}function ss(J,ge){if(J.B!=null)throw Error("WatchDog timer not null");J.B=dn(ie(J.ba,J),ge)}function fi(J){J.B&&(K.clearTimeout(J.B),J.B=null)}jn.prototype.ba=function(){this.B=null;const J=Date.now();0<=J-this.S?(Nn(this.i,this.A),this.L!=2&&(Oe(),Mt(17)),hr(this),this.s=2,Sr(this)):ss(this,this.S-J)};function Sr(J){J.j.G==0||J.J||$s(J.j,J)}function hr(J){fi(J);var ge=J.M;ge&&typeof ge.ma=="function"&&ge.ma(),J.M=null,zn(J.U),J.g&&(ge=J.g,J.g=null,ge.abort(),ge.ma())}function pi(J,ge){try{var Ce=J.j;if(Ce.G!=0&&(Ce.g==J||mi(Ce.h,J))){if(!J.K&&mi(Ce.h,J)&&Ce.G==3){try{var Ue=Ce.Da.g.parse(ge)}catch{Ue=null}if(Array.isArray(Ue)&&Ue.length==3){var an=Ue;if(an[0]==0){e:if(!Ce.u){if(Ce.g)if(Ce.g.F+3e3<J.F)Xr(Ce),Kr(Ce);else break e;vi(Ce),Mt(18)}}else Ce.za=an[1],0<Ce.za-Ce.T&&37500>an[2]&&Ce.F&&Ce.v==0&&!Ce.C&&(Ce.C=dn(ie(Ce.Za,Ce),6e3));if(1>=ls(Ce.h)&&Ce.ca){try{Ce.ca()}catch{}Ce.ca=void 0}}else pr(Ce,11)}else if((J.K||Ce.g==J)&&Xr(Ce),!ue(ge))for(an=Ce.Da.g.parse(ge),ge=0;ge<an.length;ge++){let qn=an[ge];if(Ce.T=qn[0],qn=qn[1],Ce.G==2)if(qn[0]=="c"){Ce.K=qn[1],Ce.ia=qn[2];const Zn=qn[3];Zn!=null&&(Ce.la=Zn,Ce.j.info("VER="+Ce.la));const er=qn[4];er!=null&&(Ce.Aa=er,Ce.j.info("SVER="+Ce.Aa));const Er=qn[5];Er!=null&&typeof Er=="number"&&0<Er&&(Ue=1.5*Er,Ce.L=Ue,Ce.j.info("backChannelRequestTimeoutMs_="+Ue)),Ue=Ce;const ar=J.g;if(ar){const Jr=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var gn=Ue.h;gn.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(gn.j=gn.l,gn.g=new Set,gn.h&&(gi(gn,gn.h),gn.h=null))}if(Ue.D){const bi=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;bi&&(Ue.ya=bi,Yn(Ue.I,Ue.D,bi))}}Ce.G=3,Ce.l&&Ce.l.ua(),Ce.ba&&(Ce.R=Date.now()-J.F,Ce.j.info("Handshake RTT: "+Ce.R+"ms")),Ue=Ce;var Sn=J;if(Ue.qa=Ms(Ue,Ue.J?Ue.ia:null,Ue.W),Sn.K){cs(Ue.h,Sn);var Gn=Sn,Jn=Ue.L;Jn&&(Gn.I=Jn),Gn.B&&(fi(Gn),Hr(Gn)),Ue.g=Sn}else Cs(Ue);0<Ce.i.length&&Yr(Ce)}else qn[0]!="stop"&&qn[0]!="close"||pr(Ce,7);else Ce.G==3&&(qn[0]=="stop"||qn[0]=="close"?qn[0]=="stop"?pr(Ce,7):Ei(Ce):qn[0]!="noop"&&Ce.l&&Ce.l.ta(qn),Ce.v=0)}}Oe(4)}catch{}}var Aa=class{constructor(J,ge){this.g=J,this.map=ge}};function as(J){this.l=J||10,K.PerformanceNavigationTiming?(J=K.performance.getEntriesByType("navigation"),J=0<J.length&&(J[0].nextHopProtocol=="hq"||J[0].nextHopProtocol=="h2")):J=!!(K.chrome&&K.chrome.loadTimes&&K.chrome.loadTimes()&&K.chrome.loadTimes().wasFetchedViaSpdy),this.j=J?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function os(J){return J.h?!0:J.g?J.g.size>=J.j:!1}function ls(J){return J.h?1:J.g?J.g.size:0}function mi(J,ge){return J.h?J.h==ge:J.g?J.g.has(ge):!1}function gi(J,ge){J.g?J.g.add(ge):J.h=ge}function cs(J,ge){J.h&&J.h==ge?J.h=null:J.g&&J.g.has(ge)&&J.g.delete(ge)}as.prototype.cancel=function(){if(this.i=us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const J of this.g.values())J.cancel();this.g.clear()}};function us(J){if(J.h!=null)return J.i.concat(J.h.D);if(J.g!=null&&J.g.size!==0){let ge=J.i;for(const Ce of J.g.values())ge=ge.concat(Ce.D);return ge}return Ee(J.i)}function Ta(J){if(J.V&&typeof J.V=="function")return J.V();if(typeof Map<"u"&&J instanceof Map||typeof Set<"u"&&J instanceof Set)return Array.from(J.values());if(typeof J=="string")return J.split("");if(Y(J)){for(var ge=[],Ce=J.length,Ue=0;Ue<Ce;Ue++)ge.push(J[Ue]);return ge}ge=[],Ce=0;for(Ue in J)ge[Ce++]=J[Ue];return ge}function Ra(J){if(J.na&&typeof J.na=="function")return J.na();if(!J.V||typeof J.V!="function"){if(typeof Map<"u"&&J instanceof Map)return Array.from(J.keys());if(!(typeof Set<"u"&&J instanceof Set)){if(Y(J)||typeof J=="string"){var ge=[];J=J.length;for(var Ce=0;Ce<J;Ce++)ge.push(Ce);return ge}ge=[],Ce=0;for(const Ue in J)ge[Ce++]=Ue;return ge}}}function ds(J,ge){if(J.forEach&&typeof J.forEach=="function")J.forEach(ge,void 0);else if(Y(J)||typeof J=="string")Array.prototype.forEach.call(J,ge,void 0);else for(var Ce=Ra(J),Ue=Ta(J),an=Ue.length,gn=0;gn<an;gn++)ge.call(void 0,Ue[gn],Ce&&Ce[gn],J)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(J,ge){if(J){J=J.split("&");for(var Ce=0;Ce<J.length;Ce++){var Ue=J[Ce].indexOf("="),an=null;if(0<=Ue){var gn=J[Ce].substring(0,Ue);an=J[Ce].substring(Ue+1)}else gn=J[Ce];ge(gn,an?decodeURIComponent(an.replace(/\+/g," ")):"")}}}function fr(J){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,J instanceof fr){this.h=J.h,Br(this,J.j),this.o=J.o,this.g=J.g,zr(this,J.s),this.l=J.l;var ge=J.i,Ce=new Pr;Ce.i=ge.i,ge.g&&(Ce.g=new Map(ge.g),Ce.h=ge.h),fs(this,Ce),this.m=J.m}else J&&(ge=String(J).match(hs))?(this.h=!1,Br(this,ge[1]||"",!0),this.o=xr(ge[2]||""),this.g=xr(ge[3]||"",!0),zr(this,ge[4]),this.l=xr(ge[5]||"",!0),fs(this,ge[6]||"",!0),this.m=xr(ge[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}fr.prototype.toString=function(){var J=[],ge=this.j;ge&&J.push(Ir(ge,ps,!0),":");var Ce=this.g;return(Ce||ge=="file")&&(J.push("//"),(ge=this.o)&&J.push(Ir(ge,ps,!0),"@"),J.push(encodeURIComponent(String(Ce)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ce=this.s,Ce!=null&&J.push(":",String(Ce))),(Ce=this.l)&&(this.g&&Ce.charAt(0)!="/"&&J.push("/"),J.push(Ir(Ce,Ce.charAt(0)=="/"?Pa:Ia,!0))),(Ce=this.i.toString())&&J.push("?",Ce),(Ce=this.m)&&J.push("#",Ir(Ce,wa)),J.join("")};function or(J){return new fr(J)}function Br(J,ge,Ce){J.j=Ce?xr(ge,!0):ge,J.j&&(J.j=J.j.replace(/:$/,""))}function zr(J,ge){if(ge){if(ge=Number(ge),isNaN(ge)||0>ge)throw Error("Bad port number "+ge);J.s=ge}else J.s=null}function fs(J,ge,Ce){ge instanceof Pr?(J.i=ge,$a(J.i,J.h)):(Ce||(ge=Ir(ge,Ca)),J.i=new Pr(ge,J.h))}function Yn(J,ge,Ce){J.i.set(ge,Ce)}function jr(J){return Yn(J,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),J}function xr(J,ge){return J?ge?decodeURI(J.replace(/%25/g,"%2525")):decodeURIComponent(J):""}function Ir(J,ge,Ce){return typeof J=="string"?(J=encodeURI(J).replace(ge,xa),Ce&&(J=J.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J):null}function xa(J){return J=J.charCodeAt(0),"%"+(J>>4&15).toString(16)+(J&15).toString(16)}var ps=/[#\/\?@]/g,Ia=/[#\?:]/g,Pa=/[#\?]/g,Ca=/[#\?@]/g,wa=/#/g;function Pr(J,ge){this.h=this.g=null,this.i=J||null,this.j=!!ge}function ur(J){J.g||(J.g=new Map,J.h=0,J.i&&Sa(J.i,function(ge,Ce){J.add(decodeURIComponent(ge.replace(/\+/g," ")),Ce)}))}T=Pr.prototype,T.add=function(J,ge){ur(this),this.i=null,J=gr(this,J);var Ce=this.g.get(J);return Ce||this.g.set(J,Ce=[]),Ce.push(ge),this.h+=1,this};function ms(J,ge){ur(J),ge=gr(J,ge),J.g.has(ge)&&(J.i=null,J.h-=J.g.get(ge).length,J.g.delete(ge))}function gs(J,ge){return ur(J),ge=gr(J,ge),J.g.has(ge)}T.forEach=function(J,ge){ur(this),this.g.forEach(function(Ce,Ue){Ce.forEach(function(an){J.call(ge,an,Ue,this)},this)},this)},T.na=function(){ur(this);const J=Array.from(this.g.values()),ge=Array.from(this.g.keys()),Ce=[];for(let Ue=0;Ue<ge.length;Ue++){const an=J[Ue];for(let gn=0;gn<an.length;gn++)Ce.push(ge[Ue])}return Ce},T.V=function(J){ur(this);let ge=[];if(typeof J=="string")gs(this,J)&&(ge=ge.concat(this.g.get(gr(this,J))));else{J=Array.from(this.g.values());for(let Ce=0;Ce<J.length;Ce++)ge=ge.concat(J[Ce])}return ge},T.set=function(J,ge){return ur(this),this.i=null,J=gr(this,J),gs(this,J)&&(this.h-=this.g.get(J).length),this.g.set(J,[ge]),this.h+=1,this},T.get=function(J,ge){return J?(J=this.V(J),0<J.length?String(J[0]):ge):ge};function _s(J,ge,Ce){ms(J,ge),0<Ce.length&&(J.i=null,J.g.set(gr(J,ge),Ee(Ce)),J.h+=Ce.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";const J=[],ge=Array.from(this.g.keys());for(var Ce=0;Ce<ge.length;Ce++){var Ue=ge[Ce];const gn=encodeURIComponent(String(Ue)),Sn=this.V(Ue);for(Ue=0;Ue<Sn.length;Ue++){var an=gn;Sn[Ue]!==""&&(an+="="+encodeURIComponent(String(Sn[Ue]))),J.push(an)}}return this.i=J.join("&")};function gr(J,ge){return ge=String(ge),J.j&&(ge=ge.toLowerCase()),ge}function $a(J,ge){ge&&!J.j&&(ur(J),J.i=null,J.g.forEach(function(Ce,Ue){var an=Ue.toLowerCase();Ue!=an&&(ms(this,Ue),_s(this,an,Ce))},J)),J.j=ge}function ka(J,ge){const Ce=new _n;if(K.Image){const Ue=new Image;Ue.onload=se(dr,Ce,"TestLoadImage: loaded",!0,ge,Ue),Ue.onerror=se(dr,Ce,"TestLoadImage: error",!1,ge,Ue),Ue.onabort=se(dr,Ce,"TestLoadImage: abort",!1,ge,Ue),Ue.ontimeout=se(dr,Ce,"TestLoadImage: timeout",!1,ge,Ue),K.setTimeout(function(){Ue.ontimeout&&Ue.ontimeout()},1e4),Ue.src=J}else ge(!1)}function Da(J,ge){const Ce=new _n,Ue=new AbortController,an=setTimeout(()=>{Ue.abort(),dr(Ce,"TestPingServer: timeout",!1,ge)},1e4);fetch(J,{signal:Ue.signal}).then(gn=>{clearTimeout(an),gn.ok?dr(Ce,"TestPingServer: ok",!0,ge):dr(Ce,"TestPingServer: server error",!1,ge)}).catch(()=>{clearTimeout(an),dr(Ce,"TestPingServer: error",!1,ge)})}function dr(J,ge,Ce,Ue,an){try{an&&(an.onload=null,an.onerror=null,an.onabort=null,an.ontimeout=null),Ue(Ce)}catch{}}function Ma(){this.g=new Ft}function Oa(J,ge,Ce){const Ue=Ce||"";try{ds(J,function(an,gn){let Sn=an;X(an)&&(Sn=mn(an)),ge.push(Ue+gn+"="+encodeURIComponent(Sn))})}catch(an){throw ge.push(Ue+"type="+encodeURIComponent("_badmap")),an}}function qr(J){this.l=J.Ub||null,this.j=J.eb||!1}de(qr,Tn),qr.prototype.g=function(){return new Wr(this.l,this.j)},qr.prototype.i=function(J){return function(){return J}}({});function Wr(J,ge){vn.call(this),this.D=J,this.o=ge,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}de(Wr,vn),T=Wr.prototype,T.open=function(J,ge){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=J,this.A=ge,this.readyState=1,wr(this)},T.send=function(J){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ge={headers:this.u,method:this.B,credentials:this.m,cache:void 0};J&&(ge.body=J),(this.D||K).fetch(new Request(this.A,ge)).then(this.Sa.bind(this),this.ga.bind(this))},T.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},T.Sa=function(J){if(this.g&&(this.l=J,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=J.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")J.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in J){if(this.j=J.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Es(this)}else J.text().then(this.Ra.bind(this),this.ga.bind(this))};function Es(J){J.j.read().then(J.Pa.bind(J)).catch(J.ga.bind(J))}T.Pa=function(J){if(this.g){if(this.o&&J.value)this.response.push(J.value);else if(!this.o){var ge=J.value?J.value:new Uint8Array(0);(ge=this.v.decode(ge,{stream:!J.done}))&&(this.response=this.responseText+=ge)}J.done?Cr(this):wr(this),this.readyState==3&&Es(this)}},T.Ra=function(J){this.g&&(this.response=this.responseText=J,Cr(this))},T.Qa=function(J){this.g&&(this.response=J,Cr(this))},T.ga=function(){this.g&&Cr(this)};function Cr(J){J.readyState=4,J.l=null,J.j=null,J.v=null,wr(J)}T.setRequestHeader=function(J,ge){this.u.append(J,ge)},T.getResponseHeader=function(J){return this.h&&this.h.get(J.toLowerCase())||""},T.getAllResponseHeaders=function(){if(!this.h)return"";const J=[],ge=this.h.entries();for(var Ce=ge.next();!Ce.done;)Ce=Ce.value,J.push(Ce[0]+": "+Ce[1]),Ce=ge.next();return J.join(`\r
`)};function wr(J){J.onreadystatechange&&J.onreadystatechange.call(J)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(J){this.m=J?"include":"same-origin"}});function vs(J){let ge="";return Ae(J,function(Ce,Ue){ge+=Ue,ge+=":",ge+=Ce,ge+=`\r
`}),ge}function _i(J,ge,Ce){e:{for(Ue in Ce){var Ue=!1;break e}Ue=!0}Ue||(Ce=vs(Ce),typeof J=="string"?Ce!=null&&encodeURIComponent(String(Ce)):Yn(J,ge,Ce))}function Xn(J){vn.call(this),this.headers=new Map,this.o=J||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}de(Xn,vn);var Na=/^https?$/i,La=["POST","PUT"];T=Xn.prototype,T.Ha=function(J){this.J=J},T.ea=function(J,ge,Ce,Ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+J);ge=ge?ge.toUpperCase():"GET",this.D=J,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Vn(this.o):Vn(Ln),this.g.onreadystatechange=ie(this.Ea,this);try{this.B=!0,this.g.open(ge,String(J),!0),this.B=!1}catch(gn){ys(this,gn);return}if(J=Ce||"",Ce=new Map(this.headers),Ue)if(Object.getPrototypeOf(Ue)===Object.prototype)for(var an in Ue)Ce.set(an,Ue[an]);else if(typeof Ue.keys=="function"&&typeof Ue.get=="function")for(const gn of Ue.keys())Ce.set(gn,Ue.get(gn));else throw Error("Unknown input type for opt_headers: "+String(Ue));Ue=Array.from(Ce.keys()).find(gn=>gn.toLowerCase()=="content-type"),an=K.FormData&&J instanceof K.FormData,!(0<=Array.prototype.indexOf.call(La,ge,void 0))||Ue||an||Ce.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gn,Sn]of Ce)this.g.setRequestHeader(gn,Sn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(J),this.u=!1}catch(gn){ys(this,gn)}};function ys(J,ge){J.h=!1,J.g&&(J.j=!0,J.g.abort(),J.j=!1),J.l=ge,J.m=5,bs(J),Gr(J)}function bs(J){J.A||(J.A=!0,En(J,"complete"),En(J,"error"))}T.abort=function(J){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=J||7,En(this,"complete"),En(this,"abort"),Gr(this))},T.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),Xn.aa.N.call(this)},T.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},T.bb=function(){As(this)};function As(J){if(J.h&&typeof q<"u"&&(!J.v[1]||lr(J)!=4||J.Z()!=2)){if(J.u&&lr(J)==4)Dn(J.Ea,0,J);else if(En(J,"readystatechange"),lr(J)==4){J.h=!1;try{const Sn=J.Z();e:switch(Sn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ge=!0;break e;default:ge=!1}var Ce;if(!(Ce=ge)){var Ue;if(Ue=Sn===0){var an=String(J.D).match(hs)[1]||null;!an&&K.self&&K.self.location&&(an=K.self.location.protocol.slice(0,-1)),Ue=!Na.test(an?an.toLowerCase():"")}Ce=Ue}if(Ce)En(J,"complete"),En(J,"success");else{J.m=6;try{var gn=2<lr(J)?J.g.statusText:""}catch{gn=""}J.l=gn+" ["+J.Z()+"]",bs(J)}}finally{Gr(J)}}}}function Gr(J,ge){if(J.g){Ts(J);const Ce=J.g,Ue=J.v[0]?()=>{}:null;J.g=null,J.v=null,ge||En(J,"ready");try{Ce.onreadystatechange=Ue}catch{}}}function Ts(J){J.I&&(K.clearTimeout(J.I),J.I=null)}T.isActive=function(){return!!this.g};function lr(J){return J.g?J.g.readyState:0}T.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},T.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},T.Oa=function(J){if(this.g){var ge=this.g.responseText;return J&&ge.indexOf(J)==0&&(ge=ge.substring(J.length)),Ct(ge)}};function Rs(J){try{if(!J.g)return null;if("response"in J.g)return J.g.response;switch(J.H){case"":case"text":return J.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in J.g)return J.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(J){const ge={};J=(J.g&&2<=lr(J)&&J.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ue=0;Ue<J.length;Ue++){if(ue(J[Ue]))continue;var Ce=he(J[Ue]);const an=Ce[0];if(Ce=Ce[1],typeof Ce!="string")continue;Ce=Ce.trim();const gn=ge[an]||[];ge[an]=gn,gn.push(Ce)}ae(ge,function(Ue){return Ue.join(", ")})}T.Ba=function(){return this.m},T.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(J,ge,Ce){return Ce&&Ce.internalChannelParams&&Ce.internalChannelParams[J]||ge}function Ss(J){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,J),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,J),this.cb=$r("retryDelaySeedMs",1e4,J),this.Wa=$r("forwardChannelMaxRetries",2,J),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,J),this.pa=J&&J.xmlHttpFactory||void 0,this.Xa=J&&J.Tb||void 0,this.Ca=J&&J.useFetchStreams||!1,this.L=void 0,this.J=J&&J.supportsCrossDomainXhr||!1,this.K="",this.h=new as(J&&J.concurrentRequestLimit),this.Da=new Ma,this.P=J&&J.fastHandshake||!1,this.O=J&&J.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=J&&J.Rb||!1,J&&J.xa&&this.j.xa(),J&&J.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&J&&J.detectBufferingProxy||!1,this.ja=void 0,J&&J.longPollingTimeout&&0<J.longPollingTimeout&&(this.ja=J.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}T=Ss.prototype,T.la=8,T.G=1,T.connect=function(J,ge,Ce,Ue){Mt(0),this.W=J,this.H=ge||{},Ce&&Ue!==void 0&&(this.H.OSID=Ce,this.H.OAID=Ue),this.F=this.X,this.I=Ms(this,null,this.W),Yr(this)};function Ei(J){if(xs(J),J.G==3){var ge=J.U++,Ce=or(J.I);if(Yn(Ce,"SID",J.K),Yn(Ce,"RID",ge),Yn(Ce,"TYPE","terminate"),kr(J,Ce),ge=new jn(J,J.j,ge),ge.L=2,ge.v=jr(or(Ce)),Ce=!1,K.navigator&&K.navigator.sendBeacon)try{Ce=K.navigator.sendBeacon(ge.v.toString(),"")}catch{}!Ce&&K.Image&&(new Image().src=ge.v,Ce=!0),Ce||(ge.g=Os(ge.j,null),ge.g.ea(ge.v)),ge.F=Date.now(),Hr(ge)}Ds(J)}function Kr(J){J.g&&(yi(J),J.g.cancel(),J.g=null)}function xs(J){Kr(J),J.u&&(K.clearTimeout(J.u),J.u=null),Xr(J),J.h.cancel(),J.s&&(typeof J.s=="number"&&K.clearTimeout(J.s),J.s=null)}function Yr(J){if(!os(J.h)&&!J.s){J.s=!0;var ge=J.Ga;He||Ke(),Ye||(He(),Ye=!0),ke.add(ge,J),J.B=0}}function Va(J,ge){return ls(J.h)>=J.h.j-(J.s?1:0)?!1:J.s?(J.i=ge.D.concat(J.i),!0):J.G==1||J.G==2||J.B>=(J.Va?0:J.Wa)?!1:(J.s=dn(ie(J.Ga,J,ge),ks(J,J.B)),J.B++,!0)}T.Ga=function(J){if(this.s)if(this.s=null,this.G==1){if(!J){this.U=Math.floor(1e5*Math.random()),J=this.U++;const an=new jn(this,this.j,J);let gn=this.o;if(this.S&&(gn?(gn=oe(gn),Se(gn,this.S)):gn=this.S),this.m!==null||this.O||(an.H=gn,gn=null),this.P)e:{for(var ge=0,Ce=0;Ce<this.i.length;Ce++){t:{var Ue=this.i[Ce];if("__data__"in Ue.map&&(Ue=Ue.map.__data__,typeof Ue=="string")){Ue=Ue.length;break t}Ue=void 0}if(Ue===void 0)break;if(ge+=Ue,4096<ge){ge=Ce;break e}if(ge===4096||Ce===this.i.length-1){ge=Ce+1;break e}}ge=1e3}else ge=1e3;ge=Ps(this,an,ge),Ce=or(this.I),Yn(Ce,"RID",J),Yn(Ce,"CVER",22),this.D&&Yn(Ce,"X-HTTP-Session-Id",this.D),kr(this,Ce),gn&&(this.O?ge="headers="+encodeURIComponent(String(vs(gn)))+"&"+ge:this.m&&_i(Ce,this.m,gn)),gi(this.h,an),this.Ua&&Yn(Ce,"TYPE","init"),this.P?(Yn(Ce,"$req",ge),Yn(Ce,"SID","null"),an.T=!0,rr(an,Ce,null)):rr(an,Ce,ge),this.G=2}}else this.G==3&&(J?Is(this,J):this.i.length==0||os(this.h)||Is(this))};function Is(J,ge){var Ce;ge?Ce=ge.l:Ce=J.U++;const Ue=or(J.I);Yn(Ue,"SID",J.K),Yn(Ue,"RID",Ce),Yn(Ue,"AID",J.T),kr(J,Ue),J.m&&J.o&&_i(Ue,J.m,J.o),Ce=new jn(J,J.j,Ce,J.B+1),J.m===null&&(Ce.H=J.o),ge&&(J.i=ge.D.concat(J.i)),ge=Ps(J,Ce,1e3),Ce.I=Math.round(.5*J.wa)+Math.round(.5*J.wa*Math.random()),gi(J.h,Ce),rr(Ce,Ue,ge)}function kr(J,ge){J.H&&Ae(J.H,function(Ce,Ue){Yn(ge,Ue,Ce)}),J.l&&ds({},function(Ce,Ue){Yn(ge,Ue,Ce)})}function Ps(J,ge,Ce){Ce=Math.min(J.i.length,Ce);var Ue=J.l?ie(J.l.Na,J.l,J):null;e:{var an=J.i;let gn=-1;for(;;){const Sn=["count="+Ce];gn==-1?0<Ce?(gn=an[0].g,Sn.push("ofs="+gn)):gn=0:Sn.push("ofs="+gn);let Gn=!0;for(let Jn=0;Jn<Ce;Jn++){let qn=an[Jn].g;const Zn=an[Jn].map;if(qn-=gn,0>qn)gn=Math.max(0,an[Jn].g-100),Gn=!1;else try{Oa(Zn,Sn,"req"+qn+"_")}catch{Ue&&Ue(Zn)}}if(Gn){Ue=Sn.join("&");break e}}}return J=J.i.splice(0,Ce),ge.D=J,Ue}function Cs(J){if(!J.g&&!J.u){J.Y=1;var ge=J.Fa;He||Ke(),Ye||(He(),Ye=!0),ke.add(ge,J),J.v=0}}function vi(J){return J.g||J.u||3<=J.v?!1:(J.Y++,J.u=dn(ie(J.Fa,J),ks(J,J.v)),J.v++,!0)}T.Fa=function(){if(this.u=null,ws(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var J=2*this.R;this.j.info("BP detection timer enabled: "+J),this.A=dn(ie(this.ab,this),J)}},T.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Kr(this),ws(this))};function yi(J){J.A!=null&&(K.clearTimeout(J.A),J.A=null)}function ws(J){J.g=new jn(J,J.j,"rpc",J.Y),J.m===null&&(J.g.H=J.o),J.g.O=0;var ge=or(J.qa);Yn(ge,"RID","rpc"),Yn(ge,"SID",J.K),Yn(ge,"AID",J.T),Yn(ge,"CI",J.F?"0":"1"),!J.F&&J.ja&&Yn(ge,"TO",J.ja),Yn(ge,"TYPE","xmlhttp"),kr(J,ge),J.m&&J.o&&_i(ge,J.m,J.o),J.L&&(J.g.I=J.L);var Ce=J.g;J=J.ia,Ce.L=1,Ce.v=jr(or(ge)),Ce.m=null,Ce.P=!0,sr(Ce,J)}T.Za=function(){this.C!=null&&(this.C=null,Kr(this),vi(this),Mt(19))};function Xr(J){J.C!=null&&(K.clearTimeout(J.C),J.C=null)}function $s(J,ge){var Ce=null;if(J.g==ge){Xr(J),yi(J),J.g=null;var Ue=2}else if(mi(J.h,ge))Ce=ge.D,cs(J.h,ge),Ue=1;else return;if(J.G!=0){if(ge.o)if(Ue==1){Ce=ge.m?ge.m.length:0,ge=Date.now()-ge.F;var an=J.B;Ue=An(),En(Ue,new ln(Ue,Ce)),Yr(J)}else Cs(J);else if(an=ge.s,an==3||an==0&&0<ge.X||!(Ue==1&&Va(J,ge)||Ue==2&&vi(J)))switch(Ce&&0<Ce.length&&(ge=J.h,ge.i=ge.i.concat(Ce)),an){case 1:pr(J,5);break;case 4:pr(J,10);break;case 3:pr(J,6);break;default:pr(J,2)}}}function ks(J,ge){let Ce=J.Ta+Math.floor(Math.random()*J.cb);return J.isActive()||(Ce*=2),Ce*ge}function pr(J,ge){if(J.j.info("Error code "+ge),ge==2){var Ce=ie(J.fb,J),Ue=J.Xa;const an=!Ue;Ue=new fr(Ue||"//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Br(Ue,"https"),jr(Ue),an?ka(Ue.toString(),Ce):Da(Ue.toString(),Ce)}else Mt(2);J.G=0,J.l&&J.l.sa(ge),Ds(J),xs(J)}T.fb=function(J){J?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Ds(J){if(J.G=0,J.ka=[],J.l){const ge=us(J.h);(ge.length!=0||J.i.length!=0)&&(pe(J.ka,ge),pe(J.ka,J.i),J.h.i.length=0,Ee(J.i),J.i.length=0),J.l.ra()}}function Ms(J,ge,Ce){var Ue=Ce instanceof fr?or(Ce):new fr(Ce);if(Ue.g!="")ge&&(Ue.g=ge+"."+Ue.g),zr(Ue,Ue.s);else{var an=K.location;Ue=an.protocol,ge=ge?ge+"."+an.hostname:an.hostname,an=+an.port;var gn=new fr(null);Ue&&Br(gn,Ue),ge&&(gn.g=ge),an&&zr(gn,an),Ce&&(gn.l=Ce),Ue=gn}return Ce=J.D,ge=J.ya,Ce&&ge&&Yn(Ue,Ce,ge),Yn(Ue,"VER",J.la),kr(J,Ue),Ue}function Os(J,ge,Ce){if(ge&&!J.J)throw Error("Can't create secondary domain capable XhrIo object.");return ge=J.Ca&&!J.pa?new Xn(new qr({eb:Ce})):new Xn(J.pa),ge.Ha(J.J),ge}T.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}T=Ns.prototype,T.ua=function(){},T.ta=function(){},T.sa=function(){},T.ra=function(){},T.isActive=function(){return!0},T.Na=function(){};function Qr(){}Qr.prototype.g=function(J,ge){return new nr(J,ge)};function nr(J,ge){vn.call(this),this.g=new Ss(ge),this.l=J,this.h=ge&&ge.messageUrlParams||null,J=ge&&ge.messageHeaders||null,ge&&ge.clientProtocolHeaderRequired&&(J?J["X-Client-Protocol"]="webchannel":J={"X-Client-Protocol":"webchannel"}),this.g.o=J,J=ge&&ge.initMessageHeaders||null,ge&&ge.messageContentType&&(J?J["X-WebChannel-Content-Type"]=ge.messageContentType:J={"X-WebChannel-Content-Type":ge.messageContentType}),ge&&ge.va&&(J?J["X-WebChannel-Client-Profile"]=ge.va:J={"X-WebChannel-Client-Profile":ge.va}),this.g.S=J,(J=ge&&ge.Sb)&&!ue(J)&&(this.g.m=J),this.v=ge&&ge.supportsCrossDomainXhr||!1,this.u=ge&&ge.sendRawJson||!1,(ge=ge&&ge.httpSessionIdParam)&&!ue(ge)&&(this.g.D=ge,J=this.h,J!==null&&ge in J&&(J=this.h,ge in J&&delete J[ge])),this.j=new _r(this)}de(nr,vn),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){Ei(this.g)},nr.prototype.o=function(J){var ge=this.g;if(typeof J=="string"){var Ce={};Ce.__data__=J,J=Ce}else this.u&&(Ce={},Ce.__data__=mn(J),J=Ce);ge.i.push(new Aa(ge.Ya++,J)),ge.G==3&&Yr(ge)},nr.prototype.N=function(){this.g.l=null,delete this.j,Ei(this.g),delete this.g,nr.aa.N.call(this)};function Ls(J){cn.call(this),J.__headers__&&(this.headers=J.__headers__,this.statusCode=J.__status__,delete J.__headers__,delete J.__status__);var ge=J.__sm__;if(ge){e:{for(const Ce in ge){J=Ce;break e}J=void 0}(this.i=J)&&(J=this.i,ge=ge!==null&&J in ge?ge[J]:void 0),this.data=ge}else this.data=J}de(Ls,cn);function Fs(){yn.call(this),this.status=1}de(Fs,yn);function _r(J){this.g=J}de(_r,Ns),_r.prototype.ua=function(){En(this.g,"a")},_r.prototype.ta=function(J){En(this.g,new Ls(J))},_r.prototype.sa=function(J){En(this.g,new Fs)},_r.prototype.ra=function(){En(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,createWebChannelTransport=function(){return new Qr},getStatEventTarget=function(){return An()},Event$1=Rn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wn.NO_ERROR=0,wn.TIMEOUT=8,wn.HTTP_ERROR=6,ErrorCode$1=wn,Mn.COMPLETE="complete",EventType=Mn,Fn.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",vn.prototype.listen=vn.prototype.K,WebChannel=Fn,Xn.prototype.listenOnce=Xn.prototype.L,Xn.prototype.getLastError=Xn.prototype.Ka,Xn.prototype.getLastErrorCode=Xn.prototype.Ba,Xn.prototype.getStatus=Xn.prototype.Z,Xn.prototype.getResponseJson=Xn.prototype.Oa,Xn.prototype.getResponseText=Xn.prototype.oa,Xn.prototype.send=Xn.prototype.ea,Xn.prototype.setWithCredentials=Xn.prototype.Ha,XhrIo=Xn}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const b$1="@firebase/firestore",S="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(_){this.uid=_}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(_){return _.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return v$1.logLevel}function __PRIVATE_logDebug(T,..._){if(v$1.logLevel<=LogLevel.DEBUG){const U=_.map(__PRIVATE_argToString);v$1.debug(`Firestore (${D}): ${T}`,...U)}}function __PRIVATE_logError(T,..._){if(v$1.logLevel<=LogLevel.ERROR){const U=_.map(__PRIVATE_argToString);v$1.error(`Firestore (${D}): ${T}`,...U)}}function __PRIVATE_logWarn(T,..._){if(v$1.logLevel<=LogLevel.WARN){const U=_.map(__PRIVATE_argToString);v$1.warn(`Firestore (${D}): ${T}`,...U)}}function __PRIVATE_argToString(T){if(typeof T=="string")return T;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(U){return JSON.stringify(U)}(T)}catch{return T}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(T="Unexpected state"){const _=`FIRESTORE (${D}) INTERNAL ASSERTION FAILED: `+T;throw __PRIVATE_logError(_),new Error(_)}function __PRIVATE_hardAssert(T,_){T||fail()}function __PRIVATE_debugCast(T,_){return T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(_,U){super(_,U),this.code=_,this.message=U,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((_,U)=>{this.resolve=_,this.reject=U})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(_,U){this.user=U,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${_}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(_,U){_.enqueueRetryable(()=>U(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(_){this.token=_,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(_,U){this.changeListener=U,_.enqueueRetryable(()=>U(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(_){this.t=_,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(_,U){__PRIVATE_hardAssert(this.o===void 0);let H=this.i;const z=Y=>this.i!==H?(H=this.i,U(Y)):Promise.resolve();let j=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),j.resolve(),j=new __PRIVATE_Deferred,_.enqueueRetryable(()=>z(this.currentUser))};const q=()=>{const Y=j;_.enqueueRetryable(async()=>{await Y.promise,await z(this.currentUser)})},K=Y=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.o&&(this.auth.addAuthTokenListener(this.o),q())};this.t.onInit(Y=>K(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?K(Y):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),j.resolve(),j=new __PRIVATE_Deferred)}},0),q()}getToken(){const _=this.i,U=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(U).then(H=>this.i!==_?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):H?(__PRIVATE_hardAssert(typeof H.accessToken=="string"),new __PRIVATE_OAuthToken(H.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const _=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(_===null||typeof _=="string"),new User(_)}}class __PRIVATE_FirstPartyToken{constructor(_,U,H){this.l=_,this.h=U,this.P=H,this.type="FirstParty",this.user=User.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const _=this.I();return _&&this.T.set("Authorization",_),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(_,U,H){this.l=_,this.h=U,this.P=H}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(_,U){_.enqueueRetryable(()=>U(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(_){this.value=_,this.type="AppCheck",this.headers=new Map,_&&_.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(_,U){this.A=U,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_isFirebaseServerApp(_)&&_.settings.appCheckToken&&(this.V=_.settings.appCheckToken)}start(_,U){__PRIVATE_hardAssert(this.o===void 0);const H=j=>{j.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${j.error.message}`);const q=j.token!==this.R;return this.R=j.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${q?"new":"existing"} token.`),q?U(j.token):Promise.resolve()};this.o=j=>{_.enqueueRetryable(()=>H(j))};const z=j=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=j,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(j=>z(j)),setTimeout(()=>{if(!this.appCheck){const j=this.A.getImmediate({optional:!0});j?z(j):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AppCheckToken(this.V));const _=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(_).then(U=>U?(__PRIVATE_hardAssert(typeof U.token=="string"),this.R=U.token,new AppCheckToken(U.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(T){const _=typeof self<"u"&&(self.crypto||self.msCrypto),U=new Uint8Array(T);if(_&&typeof _.getRandomValues=="function")_.getRandomValues(U);else for(let H=0;H<T;H++)U[H]=Math.floor(256*Math.random());return U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",U=62*Math.floor(4.129032258064516);let H="";for(;H.length<20;){const z=__PRIVATE_randomBytes(40);for(let j=0;j<z.length;++j)H.length<20&&z[j]<U&&(H+=_.charAt(z[j]%62))}return H}}function __PRIVATE_primitiveComparator(T,_){return T<_?-1:T>_?1:0}function __PRIVATE_arrayEquals(T,_,U){return T.length===_.length&&T.every((H,z)=>U(H,_[z]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=-62135596800,M=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(_){return Timestamp.fromMillis(_.getTime())}static fromMillis(_){const U=Math.floor(_/1e3),H=Math.floor((_-1e3*U)*M);return new Timestamp(U,H)}constructor(_,U){if(this.seconds=_,this.nanoseconds=U,U<0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+U);if(U>=1e9)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+U);if(_<F)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_);if(_>=253402300800)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M}_compareTo(_){return this.seconds===_.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,_.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,_.seconds)}isEqual(_){return _.seconds===this.seconds&&_.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const _=this.seconds-F;return String(_).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(_){return new SnapshotVersion(_)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(_){this.timestamp=_}compareTo(_){return this.timestamp._compareTo(_.timestamp)}isEqual(_){return this.timestamp.isEqual(_.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x="__name__";class BasePath{constructor(_,U,H){U===void 0?U=0:U>_.length&&fail(),H===void 0?H=_.length-U:H>_.length-U&&fail(),this.segments=_,this.offset=U,this.len=H}get length(){return this.len}isEqual(_){return BasePath.comparator(this,_)===0}child(_){const U=this.segments.slice(this.offset,this.limit());return _ instanceof BasePath?_.forEach(H=>{U.push(H)}):U.push(_),this.construct(U)}limit(){return this.offset+this.length}popFirst(_){return _=_===void 0?1:_,this.construct(this.segments,this.offset+_,this.length-_)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(_){return this.segments[this.offset+_]}isEmpty(){return this.length===0}isPrefixOf(_){if(_.length<this.length)return!1;for(let U=0;U<this.length;U++)if(this.get(U)!==_.get(U))return!1;return!0}isImmediateParentOf(_){if(this.length+1!==_.length)return!1;for(let U=0;U<this.length;U++)if(this.get(U)!==_.get(U))return!1;return!0}forEach(_){for(let U=this.offset,H=this.limit();U<H;U++)_(this.segments[U])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(_,U){const H=Math.min(_.length,U.length);for(let z=0;z<H;z++){const j=BasePath.compareSegments(_.get(z),U.get(z));if(j!==0)return j}return Math.sign(_.length-U.length)}static compareSegments(_,U){const H=BasePath.isNumericId(_),z=BasePath.isNumericId(U);return H&&!z?-1:!H&&z?1:H&&z?BasePath.extractNumericId(_).compare(BasePath.extractNumericId(U)):_<U?-1:_>U?1:0}static isNumericId(_){return _.startsWith("__id")&&_.endsWith("__")}static extractNumericId(_){return Integer.fromString(_.substring(4,_.length-2))}}class ResourcePath extends BasePath{construct(_,U,H){return new ResourcePath(_,U,H)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(..._){const U=[];for(const H of _){if(H.indexOf("//")>=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid segment (${H}). Paths must not contain // in them.`);U.push(...H.split("/").filter(z=>z.length>0))}return new ResourcePath(U)}static emptyPath(){return new ResourcePath([])}}const O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(_,U,H){return new FieldPath$1(_,U,H)}static isValidIdentifier(_){return O.test(_)}canonicalString(){return this.toArray().map(_=>(_=_.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(_)||(_="`"+_+"`"),_)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x}static keyField(){return new FieldPath$1([x])}static fromServerFormat(_){const U=[];let H="",z=0;const j=()=>{if(H.length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);U.push(H),H=""};let q=!1;for(;z<_.length;){const K=_[z];if(K==="\\"){if(z+1===_.length)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has trailing escape character: "+_);const Y=_[z+1];if(Y!=="\\"&&Y!=="."&&Y!=="`")throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+_);H+=Y,z+=2}else K==="`"?(q=!q,z++):K!=="."||q?(H+=K,z++):(j(),z++)}if(j(),q)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Unterminated ` in path: "+_);return new FieldPath$1(U)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(_){this.path=_}static fromPath(_){return new DocumentKey(ResourcePath.fromString(_))}static fromName(_){return new DocumentKey(ResourcePath.fromString(_).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(_){return this.path.length>=2&&this.path.get(this.path.length-2)===_}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(_){return _!==null&&ResourcePath.comparator(this.path,_.path)===0}toString(){return this.path.toString()}static comparator(_,U){return ResourcePath.comparator(_.path,U.path)}static isDocumentKey(_){return _.length%2==0}static fromSegments(_){return new DocumentKey(new ResourcePath(_.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(T,_){const U=T.toTimestamp().seconds,H=T.toTimestamp().nanoseconds+1,z=SnapshotVersion.fromTimestamp(H===1e9?new Timestamp(U+1,0):new Timestamp(U,H));return new IndexOffset(z,DocumentKey.empty(),_)}function __PRIVATE_newIndexOffsetFromDocument(T){return new IndexOffset(T.readTime,T.key,N)}class IndexOffset{constructor(_,U,H){this.readTime=_,this.documentKey=U,this.largestBatchId=H}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),N)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),N)}}function __PRIVATE_indexOffsetComparator(T,_){let U=T.readTime.compareTo(_.readTime);return U!==0?U:(U=DocumentKey.comparator(T.documentKey,_.documentKey),U!==0?U:__PRIVATE_primitiveComparator(T.largestBatchId,_.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(_){this.onCommittedListeners.push(_)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(_=>_())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(T){if(T.code!==C$1.FAILED_PRECONDITION||T.message!==B)throw T;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(_){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,_(U=>{this.isDone=!0,this.result=U,this.nextCallback&&this.nextCallback(U)},U=>{this.isDone=!0,this.error=U,this.catchCallback&&this.catchCallback(U)})}catch(_){return this.next(void 0,_)}next(_,U){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(U,this.error):this.wrapSuccess(_,this.result):new PersistencePromise((H,z)=>{this.nextCallback=j=>{this.wrapSuccess(_,j).next(H,z)},this.catchCallback=j=>{this.wrapFailure(U,j).next(H,z)}})}toPromise(){return new Promise((_,U)=>{this.next(_,U)})}wrapUserFunction(_){try{const U=_();return U instanceof PersistencePromise?U:PersistencePromise.resolve(U)}catch(U){return PersistencePromise.reject(U)}}wrapSuccess(_,U){return _?this.wrapUserFunction(()=>_(U)):PersistencePromise.resolve(U)}wrapFailure(_,U){return _?this.wrapUserFunction(()=>_(U)):PersistencePromise.reject(U)}static resolve(_){return new PersistencePromise((U,H)=>{U(_)})}static reject(_){return new PersistencePromise((U,H)=>{H(_)})}static waitFor(_){return new PersistencePromise((U,H)=>{let z=0,j=0,q=!1;_.forEach(K=>{++z,K.next(()=>{++j,q&&j===z&&U()},Y=>H(Y))}),q=!0,j===z&&U()})}static or(_){let U=PersistencePromise.resolve(!1);for(const H of _)U=U.next(z=>z?PersistencePromise.resolve(z):H());return U}static forEach(_,U){const H=[];return _.forEach((z,j)=>{H.push(U.call(this,z,j))}),this.waitFor(H)}static mapArray(_,U){return new PersistencePromise((H,z)=>{const j=_.length,q=new Array(j);let K=0;for(let Y=0;Y<j;Y++){const X=Y;U(_[X]).next(Z=>{q[X]=Z,++K,K===j&&H(q)},Z=>z(Z))}})}static doWhile(_,U){return new PersistencePromise((H,z)=>{const j=()=>{_()===!0?U().next(()=>{j()},z):H()};j()})}}function __PRIVATE_getAndroidVersion(T){const _=T.match(/Android ([\d.]+)/i),U=_?_[1].split(".").slice(0,2).join("."):"-1";return Number(U)}function __PRIVATE_isIndexedDbTransactionError(T){return T.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(_,U){this.previousValue=_,U&&(U.sequenceNumberHandler=H=>this.oe(H),this._e=H=>U.writeSequenceNumber(H))}oe(_){return this.previousValue=Math.max(_,this.previousValue),this.previousValue}next(){const _=++this.previousValue;return this._e&&this._e(_),_}}__PRIVATE_ListenSequence.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=-1;function __PRIVATE_isNullOrUndefined(T){return T==null}function __PRIVATE_isNegativeZero(T){return T===0&&1/T==-1/0}function isSafeInteger(T){return typeof T=="number"&&Number.isInteger(T)&&!__PRIVATE_isNegativeZero(T)&&T<=Number.MAX_SAFE_INTEGER&&T>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$1="";function __PRIVATE_encodeResourcePath(T){let _="";for(let U=0;U<T.length;U++)_.length>0&&(_=__PRIVATE_encodeSeparator(_)),_=__PRIVATE_encodeSegment(T.get(U),_);return __PRIVATE_encodeSeparator(_)}function __PRIVATE_encodeSegment(T,_){let U=_;const H=T.length;for(let z=0;z<H;z++){const j=T.charAt(z);switch(j){case"\0":U+="";break;case $$1:U+="";break;default:U+=j}}return U}function __PRIVATE_encodeSeparator(T){return T+$$1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(T){let _=0;for(const U in T)Object.prototype.hasOwnProperty.call(T,U)&&_++;return _}function forEach$1(T,_){for(const U in T)Object.prototype.hasOwnProperty.call(T,U)&&_(U,T[U])}function isEmpty(T){for(const _ in T)if(Object.prototype.hasOwnProperty.call(T,_))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(_,U){this.comparator=_,this.root=U||LLRBNode.EMPTY}insert(_,U){return new SortedMap(this.comparator,this.root.insert(_,U,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(_){return new SortedMap(this.comparator,this.root.remove(_,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(_){let U=this.root;for(;!U.isEmpty();){const H=this.comparator(_,U.key);if(H===0)return U.value;H<0?U=U.left:H>0&&(U=U.right)}return null}indexOf(_){let U=0,H=this.root;for(;!H.isEmpty();){const z=this.comparator(_,H.key);if(z===0)return U+H.left.size;z<0?H=H.left:(U+=H.left.size+1,H=H.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(_){return this.root.inorderTraversal(_)}forEach(_){this.inorderTraversal((U,H)=>(_(U,H),!1))}toString(){const _=[];return this.inorderTraversal((U,H)=>(_.push(`${U}:${H}`),!1)),`{${_.join(", ")}}`}reverseTraversal(_){return this.root.reverseTraversal(_)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(_){return new SortedMapIterator(this.root,_,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(_){return new SortedMapIterator(this.root,_,this.comparator,!0)}}class SortedMapIterator{constructor(_,U,H,z){this.isReverse=z,this.nodeStack=[];let j=1;for(;!_.isEmpty();)if(j=U?H(_.key,U):1,U&&z&&(j*=-1),j<0)_=this.isReverse?_.left:_.right;else{if(j===0){this.nodeStack.push(_);break}this.nodeStack.push(_),_=this.isReverse?_.right:_.left}}getNext(){let _=this.nodeStack.pop();const U={key:_.key,value:_.value};if(this.isReverse)for(_=_.left;!_.isEmpty();)this.nodeStack.push(_),_=_.right;else for(_=_.right;!_.isEmpty();)this.nodeStack.push(_),_=_.left;return U}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const _=this.nodeStack[this.nodeStack.length-1];return{key:_.key,value:_.value}}}class LLRBNode{constructor(_,U,H,z,j){this.key=_,this.value=U,this.color=H??LLRBNode.RED,this.left=z??LLRBNode.EMPTY,this.right=j??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(_,U,H,z,j){return new LLRBNode(_??this.key,U??this.value,H??this.color,z??this.left,j??this.right)}isEmpty(){return!1}inorderTraversal(_){return this.left.inorderTraversal(_)||_(this.key,this.value)||this.right.inorderTraversal(_)}reverseTraversal(_){return this.right.reverseTraversal(_)||_(this.key,this.value)||this.left.reverseTraversal(_)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_,U,H){let z=this;const j=H(_,z.key);return z=j<0?z.copy(null,null,null,z.left.insert(_,U,H),null):j===0?z.copy(null,U,null,null,null):z.copy(null,null,null,null,z.right.insert(_,U,H)),z.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let _=this;return _.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.removeMin(),null),_.fixUp()}remove(_,U){let H,z=this;if(U(_,z.key)<0)z.left.isEmpty()||z.left.isRed()||z.left.left.isRed()||(z=z.moveRedLeft()),z=z.copy(null,null,null,z.left.remove(_,U),null);else{if(z.left.isRed()&&(z=z.rotateRight()),z.right.isEmpty()||z.right.isRed()||z.right.left.isRed()||(z=z.moveRedRight()),U(_,z.key)===0){if(z.right.isEmpty())return LLRBNode.EMPTY;H=z.right.min(),z=z.copy(H.key,H.value,null,null,z.right.removeMin())}z=z.copy(null,null,null,null,z.right.remove(_,U))}return z.fixUp()}isRed(){return this.color}fixUp(){let _=this;return _.right.isRed()&&!_.left.isRed()&&(_=_.rotateLeft()),_.left.isRed()&&_.left.left.isRed()&&(_=_.rotateRight()),_.left.isRed()&&_.right.isRed()&&(_=_.colorFlip()),_}moveRedLeft(){let _=this.colorFlip();return _.right.left.isRed()&&(_=_.copy(null,null,null,null,_.right.rotateRight()),_=_.rotateLeft(),_=_.colorFlip()),_}moveRedRight(){let _=this.colorFlip();return _.left.left.isRed()&&(_=_.rotateRight(),_=_.colorFlip()),_}rotateLeft(){const _=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,_,null)}rotateRight(){const _=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_)}colorFlip(){const _=this.left.copy(null,null,!this.left.color,null,null),U=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_,U)}checkMaxDepth(){const _=this.check();return Math.pow(2,_)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const _=this.left.check();if(_!==this.right.check())throw fail();return _+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(_,U,H,z,j){return this}insert(_,U,H){return new LLRBNode(_,U)}remove(_,U){return this}isEmpty(){return!0}inorderTraversal(_){return!1}reverseTraversal(_){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(_){this.comparator=_,this.data=new SortedMap(this.comparator)}has(_){return this.data.get(_)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(_){return this.data.indexOf(_)}forEach(_){this.data.inorderTraversal((U,H)=>(_(U),!1))}forEachInRange(_,U){const H=this.data.getIteratorFrom(_[0]);for(;H.hasNext();){const z=H.getNext();if(this.comparator(z.key,_[1])>=0)return;U(z.key)}}forEachWhile(_,U){let H;for(H=U!==void 0?this.data.getIteratorFrom(U):this.data.getIterator();H.hasNext();)if(!_(H.getNext().key))return}firstAfterOrEqual(_){const U=this.data.getIteratorFrom(_);return U.hasNext()?U.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(_){return new SortedSetIterator(this.data.getIteratorFrom(_))}add(_){return this.copy(this.data.remove(_).insert(_,!0))}delete(_){return this.has(_)?this.copy(this.data.remove(_)):this}isEmpty(){return this.data.isEmpty()}unionWith(_){let U=this;return U.size<_.size&&(U=_,_=this),_.forEach(H=>{U=U.add(H)}),U}isEqual(_){if(!(_ instanceof SortedSet)||this.size!==_.size)return!1;const U=this.data.getIterator(),H=_.data.getIterator();for(;U.hasNext();){const z=U.getNext().key,j=H.getNext().key;if(this.comparator(z,j)!==0)return!1}return!0}toArray(){const _=[];return this.forEach(U=>{_.push(U)}),_}toString(){const _=[];return this.forEach(U=>_.push(U)),"SortedSet("+_.toString()+")"}copy(_){const U=new SortedSet(this.comparator);return U.data=_,U}}class SortedSetIterator{constructor(_){this.iter=_}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(_){this.fields=_,_.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(_){let U=new SortedSet(FieldPath$1.comparator);for(const H of this.fields)U=U.add(H);for(const H of _)U=U.add(H);return new FieldMask(U.toArray())}covers(_){for(const U of this.fields)if(U.isPrefixOf(_))return!0;return!1}isEqual(_){return __PRIVATE_arrayEquals(this.fields,_.fields,(U,H)=>U.isEqual(H))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(_){this.binaryString=_}static fromBase64String(_){const U=function(z){try{return atob(z)}catch(j){throw typeof DOMException<"u"&&j instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+j):j}}(_);return new ByteString(U)}static fromUint8Array(_){const U=function(z){let j="";for(let q=0;q<z.length;++q)j+=String.fromCharCode(z[q]);return j}(_);return new ByteString(U)}[Symbol.iterator](){let _=0;return{next:()=>_<this.binaryString.length?{value:this.binaryString.charCodeAt(_++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(U){return btoa(U)}(this.binaryString)}toUint8Array(){return function(U){const H=new Uint8Array(U.length);for(let z=0;z<U.length;z++)H[z]=U.charCodeAt(z);return H}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(_){return __PRIVATE_primitiveComparator(this.binaryString,_.binaryString)}isEqual(_){return this.binaryString===_.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const Ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(T){if(__PRIVATE_hardAssert(!!T),typeof T=="string"){let _=0;const U=Ze.exec(T);if(__PRIVATE_hardAssert(!!U),U[1]){let z=U[1];z=(z+"000000000").substr(0,9),_=Number(z)}const H=new Date(T);return{seconds:Math.floor(H.getTime()/1e3),nanos:_}}return{seconds:__PRIVATE_normalizeNumber(T.seconds),nanos:__PRIVATE_normalizeNumber(T.nanos)}}function __PRIVATE_normalizeNumber(T){return typeof T=="number"?T:typeof T=="string"?Number(T):0}function __PRIVATE_normalizeByteString(T){return typeof T=="string"?ByteString.fromBase64String(T):ByteString.fromUint8Array(T)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="server_timestamp",et="__type__",tt="__previous_value__",nt="__local_write_time__";function __PRIVATE_isServerTimestamp(T){var _,U;return((U=(((_=T==null?void 0:T.mapValue)===null||_===void 0?void 0:_.fields)||{})[et])===null||U===void 0?void 0:U.stringValue)===Xe}function __PRIVATE_getPreviousValue(T){const _=T.mapValue.fields[tt];return __PRIVATE_isServerTimestamp(_)?__PRIVATE_getPreviousValue(_):_}function __PRIVATE_getLocalWriteTime(T){const _=__PRIVATE_normalizeTimestamp(T.mapValue.fields[nt].timestampValue);return new Timestamp(_.seconds,_.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(_,U,H,z,j,q,K,Y,X){this.databaseId=_,this.appId=U,this.persistenceKey=H,this.host=z,this.ssl=j,this.forceLongPolling=q,this.autoDetectLongPolling=K,this.longPollingOptions=Y,this.useFetchStreams=X}}const rt="(default)";class DatabaseId{constructor(_,U){this.projectId=_,this.database=U||rt}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===rt}isEqual(_){return _ instanceof DatabaseId&&_.projectId===this.projectId&&_.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="__type__",st="__max__",ot={mapValue:{}},_t="__vector__",at="value";function __PRIVATE_typeOrder(T){return"nullValue"in T?0:"booleanValue"in T?1:"integerValue"in T||"doubleValue"in T?2:"timestampValue"in T?3:"stringValue"in T?5:"bytesValue"in T?6:"referenceValue"in T?7:"geoPointValue"in T?8:"arrayValue"in T?9:"mapValue"in T?__PRIVATE_isServerTimestamp(T)?4:__PRIVATE_isMaxValue(T)?9007199254740991:__PRIVATE_isVectorValue(T)?10:11:fail()}function __PRIVATE_valueEquals(T,_){if(T===_)return!0;const U=__PRIVATE_typeOrder(T);if(U!==__PRIVATE_typeOrder(_))return!1;switch(U){case 0:case 9007199254740991:return!0;case 1:return T.booleanValue===_.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(T).isEqual(__PRIVATE_getLocalWriteTime(_));case 3:return function(z,j){if(typeof z.timestampValue=="string"&&typeof j.timestampValue=="string"&&z.timestampValue.length===j.timestampValue.length)return z.timestampValue===j.timestampValue;const q=__PRIVATE_normalizeTimestamp(z.timestampValue),K=__PRIVATE_normalizeTimestamp(j.timestampValue);return q.seconds===K.seconds&&q.nanos===K.nanos}(T,_);case 5:return T.stringValue===_.stringValue;case 6:return function(z,j){return __PRIVATE_normalizeByteString(z.bytesValue).isEqual(__PRIVATE_normalizeByteString(j.bytesValue))}(T,_);case 7:return T.referenceValue===_.referenceValue;case 8:return function(z,j){return __PRIVATE_normalizeNumber(z.geoPointValue.latitude)===__PRIVATE_normalizeNumber(j.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(z.geoPointValue.longitude)===__PRIVATE_normalizeNumber(j.geoPointValue.longitude)}(T,_);case 2:return function(z,j){if("integerValue"in z&&"integerValue"in j)return __PRIVATE_normalizeNumber(z.integerValue)===__PRIVATE_normalizeNumber(j.integerValue);if("doubleValue"in z&&"doubleValue"in j){const q=__PRIVATE_normalizeNumber(z.doubleValue),K=__PRIVATE_normalizeNumber(j.doubleValue);return q===K?__PRIVATE_isNegativeZero(q)===__PRIVATE_isNegativeZero(K):isNaN(q)&&isNaN(K)}return!1}(T,_);case 9:return __PRIVATE_arrayEquals(T.arrayValue.values||[],_.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(z,j){const q=z.mapValue.fields||{},K=j.mapValue.fields||{};if(__PRIVATE_objectSize(q)!==__PRIVATE_objectSize(K))return!1;for(const Y in q)if(q.hasOwnProperty(Y)&&(K[Y]===void 0||!__PRIVATE_valueEquals(q[Y],K[Y])))return!1;return!0}(T,_);default:return fail()}}function __PRIVATE_arrayValueContains(T,_){return(T.values||[]).find(U=>__PRIVATE_valueEquals(U,_))!==void 0}function __PRIVATE_valueCompare(T,_){if(T===_)return 0;const U=__PRIVATE_typeOrder(T),H=__PRIVATE_typeOrder(_);if(U!==H)return __PRIVATE_primitiveComparator(U,H);switch(U){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(T.booleanValue,_.booleanValue);case 2:return function(j,q){const K=__PRIVATE_normalizeNumber(j.integerValue||j.doubleValue),Y=__PRIVATE_normalizeNumber(q.integerValue||q.doubleValue);return K<Y?-1:K>Y?1:K===Y?0:isNaN(K)?isNaN(Y)?0:-1:1}(T,_);case 3:return __PRIVATE_compareTimestamps(T.timestampValue,_.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(T),__PRIVATE_getLocalWriteTime(_));case 5:return __PRIVATE_primitiveComparator(T.stringValue,_.stringValue);case 6:return function(j,q){const K=__PRIVATE_normalizeByteString(j),Y=__PRIVATE_normalizeByteString(q);return K.compareTo(Y)}(T.bytesValue,_.bytesValue);case 7:return function(j,q){const K=j.split("/"),Y=q.split("/");for(let X=0;X<K.length&&X<Y.length;X++){const Z=__PRIVATE_primitiveComparator(K[X],Y[X]);if(Z!==0)return Z}return __PRIVATE_primitiveComparator(K.length,Y.length)}(T.referenceValue,_.referenceValue);case 8:return function(j,q){const K=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(j.latitude),__PRIVATE_normalizeNumber(q.latitude));return K!==0?K:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(j.longitude),__PRIVATE_normalizeNumber(q.longitude))}(T.geoPointValue,_.geoPointValue);case 9:return __PRIVATE_compareArrays(T.arrayValue,_.arrayValue);case 10:return function(j,q){var K,Y,X,Z;const ne=j.fields||{},ie=q.fields||{},se=(K=ne[at])===null||K===void 0?void 0:K.arrayValue,de=(Y=ie[at])===null||Y===void 0?void 0:Y.arrayValue,Ee=__PRIVATE_primitiveComparator(((X=se==null?void 0:se.values)===null||X===void 0?void 0:X.length)||0,((Z=de==null?void 0:de.values)===null||Z===void 0?void 0:Z.length)||0);return Ee!==0?Ee:__PRIVATE_compareArrays(se,de)}(T.mapValue,_.mapValue);case 11:return function(j,q){if(j===ot.mapValue&&q===ot.mapValue)return 0;if(j===ot.mapValue)return 1;if(q===ot.mapValue)return-1;const K=j.fields||{},Y=Object.keys(K),X=q.fields||{},Z=Object.keys(X);Y.sort(),Z.sort();for(let ne=0;ne<Y.length&&ne<Z.length;++ne){const ie=__PRIVATE_primitiveComparator(Y[ne],Z[ne]);if(ie!==0)return ie;const se=__PRIVATE_valueCompare(K[Y[ne]],X[Z[ne]]);if(se!==0)return se}return __PRIVATE_primitiveComparator(Y.length,Z.length)}(T.mapValue,_.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(T,_){if(typeof T=="string"&&typeof _=="string"&&T.length===_.length)return __PRIVATE_primitiveComparator(T,_);const U=__PRIVATE_normalizeTimestamp(T),H=__PRIVATE_normalizeTimestamp(_),z=__PRIVATE_primitiveComparator(U.seconds,H.seconds);return z!==0?z:__PRIVATE_primitiveComparator(U.nanos,H.nanos)}function __PRIVATE_compareArrays(T,_){const U=T.values||[],H=_.values||[];for(let z=0;z<U.length&&z<H.length;++z){const j=__PRIVATE_valueCompare(U[z],H[z]);if(j)return j}return __PRIVATE_primitiveComparator(U.length,H.length)}function canonicalId(T){return __PRIVATE_canonifyValue(T)}function __PRIVATE_canonifyValue(T){return"nullValue"in T?"null":"booleanValue"in T?""+T.booleanValue:"integerValue"in T?""+T.integerValue:"doubleValue"in T?""+T.doubleValue:"timestampValue"in T?function(U){const H=__PRIVATE_normalizeTimestamp(U);return`time(${H.seconds},${H.nanos})`}(T.timestampValue):"stringValue"in T?T.stringValue:"bytesValue"in T?function(U){return __PRIVATE_normalizeByteString(U).toBase64()}(T.bytesValue):"referenceValue"in T?function(U){return DocumentKey.fromName(U).toString()}(T.referenceValue):"geoPointValue"in T?function(U){return`geo(${U.latitude},${U.longitude})`}(T.geoPointValue):"arrayValue"in T?function(U){let H="[",z=!0;for(const j of U.values||[])z?z=!1:H+=",",H+=__PRIVATE_canonifyValue(j);return H+"]"}(T.arrayValue):"mapValue"in T?function(U){const H=Object.keys(U.fields||{}).sort();let z="{",j=!0;for(const q of H)j?j=!1:z+=",",z+=`${q}:${__PRIVATE_canonifyValue(U.fields[q])}`;return z+"}"}(T.mapValue):fail()}function __PRIVATE_estimateByteSize(T){switch(__PRIVATE_typeOrder(T)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const _=__PRIVATE_getPreviousValue(T);return _?16+__PRIVATE_estimateByteSize(_):16;case 5:return 2*T.stringValue.length;case 6:return __PRIVATE_normalizeByteString(T.bytesValue).approximateByteSize();case 7:return T.referenceValue.length;case 9:return function(H){return(H.values||[]).reduce((z,j)=>z+__PRIVATE_estimateByteSize(j),0)}(T.arrayValue);case 10:case 11:return function(H){let z=0;return forEach$1(H.fields,(j,q)=>{z+=j.length+__PRIVATE_estimateByteSize(q)}),z}(T.mapValue);default:throw fail()}}function isInteger(T){return!!T&&"integerValue"in T}function isArray$1(T){return!!T&&"arrayValue"in T}function __PRIVATE_isNullValue(T){return!!T&&"nullValue"in T}function __PRIVATE_isNanValue(T){return!!T&&"doubleValue"in T&&isNaN(Number(T.doubleValue))}function __PRIVATE_isMapValue(T){return!!T&&"mapValue"in T}function __PRIVATE_isVectorValue(T){var _,U;return((U=(((_=T==null?void 0:T.mapValue)===null||_===void 0?void 0:_.fields)||{})[it])===null||U===void 0?void 0:U.stringValue)===_t}function __PRIVATE_deepClone(T){if(T.geoPointValue)return{geoPointValue:Object.assign({},T.geoPointValue)};if(T.timestampValue&&typeof T.timestampValue=="object")return{timestampValue:Object.assign({},T.timestampValue)};if(T.mapValue){const _={mapValue:{fields:{}}};return forEach$1(T.mapValue.fields,(U,H)=>_.mapValue.fields[U]=__PRIVATE_deepClone(H)),_}if(T.arrayValue){const _={arrayValue:{values:[]}};for(let U=0;U<(T.arrayValue.values||[]).length;++U)_.arrayValue.values[U]=__PRIVATE_deepClone(T.arrayValue.values[U]);return _}return Object.assign({},T)}function __PRIVATE_isMaxValue(T){return(((T.mapValue||{}).fields||{}).__type__||{}).stringValue===st}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(_){this.value=_}static empty(){return new ObjectValue({mapValue:{}})}field(_){if(_.isEmpty())return this.value;{let U=this.value;for(let H=0;H<_.length-1;++H)if(U=(U.mapValue.fields||{})[_.get(H)],!__PRIVATE_isMapValue(U))return null;return U=(U.mapValue.fields||{})[_.lastSegment()],U||null}}set(_,U){this.getFieldsMap(_.popLast())[_.lastSegment()]=__PRIVATE_deepClone(U)}setAll(_){let U=FieldPath$1.emptyPath(),H={},z=[];_.forEach((q,K)=>{if(!U.isImmediateParentOf(K)){const Y=this.getFieldsMap(U);this.applyChanges(Y,H,z),H={},z=[],U=K.popLast()}q?H[K.lastSegment()]=__PRIVATE_deepClone(q):z.push(K.lastSegment())});const j=this.getFieldsMap(U);this.applyChanges(j,H,z)}delete(_){const U=this.field(_.popLast());__PRIVATE_isMapValue(U)&&U.mapValue.fields&&delete U.mapValue.fields[_.lastSegment()]}isEqual(_){return __PRIVATE_valueEquals(this.value,_.value)}getFieldsMap(_){let U=this.value;U.mapValue.fields||(U.mapValue={fields:{}});for(let H=0;H<_.length;++H){let z=U.mapValue.fields[_.get(H)];__PRIVATE_isMapValue(z)&&z.mapValue.fields||(z={mapValue:{fields:{}}},U.mapValue.fields[_.get(H)]=z),U=z}return U.mapValue.fields}applyChanges(_,U,H){forEach$1(U,(z,j)=>_[z]=j);for(const z of H)delete _[z]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(T){const _=[];return forEach$1(T.fields,(U,H)=>{const z=new FieldPath$1([U]);if(__PRIVATE_isMapValue(H)){const j=__PRIVATE_extractFieldMask(H.mapValue).fields;if(j.length===0)_.push(z);else for(const q of j)_.push(z.child(q))}else _.push(z)}),new FieldMask(_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(_,U,H,z,j,q,K){this.key=_,this.documentType=U,this.version=H,this.readTime=z,this.createTime=j,this.data=q,this.documentState=K}static newInvalidDocument(_){return new MutableDocument(_,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(_,U,H,z){return new MutableDocument(_,1,U,SnapshotVersion.min(),H,z,0)}static newNoDocument(_,U){return new MutableDocument(_,2,U,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(_,U){return new MutableDocument(_,3,U,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(_,U){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=_),this.version=_,this.documentType=1,this.data=U,this.documentState=0,this}convertToNoDocument(_){return this.version=_,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(_){return this.version=_,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(_){return this.readTime=_,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(_){return _ instanceof MutableDocument&&this.key.isEqual(_.key)&&this.version.isEqual(_.version)&&this.documentType===_.documentType&&this.documentState===_.documentState&&this.data.isEqual(_.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(_,U){this.position=_,this.inclusive=U}}function __PRIVATE_boundCompareToDocument(T,_,U){let H=0;for(let z=0;z<T.position.length;z++){const j=_[z],q=T.position[z];if(j.field.isKeyField()?H=DocumentKey.comparator(DocumentKey.fromName(q.referenceValue),U.key):H=__PRIVATE_valueCompare(q,U.data.field(j.field)),j.dir==="desc"&&(H*=-1),H!==0)break}return H}function __PRIVATE_boundEquals(T,_){if(T===null)return _===null;if(_===null||T.inclusive!==_.inclusive||T.position.length!==_.position.length)return!1;for(let U=0;U<T.position.length;U++)if(!__PRIVATE_valueEquals(T.position[U],_.position[U]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(_,U="asc"){this.field=_,this.dir=U}}function __PRIVATE_orderByEquals(T,_){return T.dir===_.dir&&T.field.isEqual(_.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(_,U,H){super(),this.field=_,this.op=U,this.value=H}static create(_,U,H){return _.isKeyField()?U==="in"||U==="not-in"?this.createKeyFieldInFilter(_,U,H):new __PRIVATE_KeyFieldFilter(_,U,H):U==="array-contains"?new __PRIVATE_ArrayContainsFilter(_,H):U==="in"?new __PRIVATE_InFilter(_,H):U==="not-in"?new __PRIVATE_NotInFilter(_,H):U==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(_,H):new FieldFilter(_,U,H)}static createKeyFieldInFilter(_,U,H){return U==="in"?new __PRIVATE_KeyFieldInFilter(_,H):new __PRIVATE_KeyFieldNotInFilter(_,H)}matches(_){const U=_.data.field(this.field);return this.op==="!="?U!==null&&this.matchesComparison(__PRIVATE_valueCompare(U,this.value)):U!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(U)&&this.matchesComparison(__PRIVATE_valueCompare(U,this.value))}matchesComparison(_){switch(this.op){case"<":return _<0;case"<=":return _<=0;case"==":return _===0;case"!=":return _!==0;case">":return _>0;case">=":return _>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(_,U){super(),this.filters=_,this.op=U,this.ce=null}static create(_,U){return new CompositeFilter(_,U)}matches(_){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(U=>!U.matches(_))===void 0:this.filters.find(U=>U.matches(_))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((_,U)=>_.concat(U.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(T){return T.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(T){return __PRIVATE_compositeFilterIsFlat(T)&&__PRIVATE_compositeFilterIsConjunction(T)}function __PRIVATE_compositeFilterIsFlat(T){for(const _ of T.filters)if(_ instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(T){if(T instanceof FieldFilter)return T.field.canonicalString()+T.op.toString()+canonicalId(T.value);if(__PRIVATE_compositeFilterIsFlatConjunction(T))return T.filters.map(_=>__PRIVATE_canonifyFilter(_)).join(",");{const _=T.filters.map(U=>__PRIVATE_canonifyFilter(U)).join(",");return`${T.op}(${_})`}}function __PRIVATE_filterEquals(T,_){return T instanceof FieldFilter?function(H,z){return z instanceof FieldFilter&&H.op===z.op&&H.field.isEqual(z.field)&&__PRIVATE_valueEquals(H.value,z.value)}(T,_):T instanceof CompositeFilter?function(H,z){return z instanceof CompositeFilter&&H.op===z.op&&H.filters.length===z.filters.length?H.filters.reduce((j,q,K)=>j&&__PRIVATE_filterEquals(q,z.filters[K]),!0):!1}(T,_):void fail()}function __PRIVATE_stringifyFilter(T){return T instanceof FieldFilter?function(U){return`${U.field.canonicalString()} ${U.op} ${canonicalId(U.value)}`}(T):T instanceof CompositeFilter?function(U){return U.op.toString()+" {"+U.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(T):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(_,U,H){super(_,U,H),this.key=DocumentKey.fromName(H.referenceValue)}matches(_){const U=DocumentKey.comparator(_.key,this.key);return this.matchesComparison(U)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(_,U){super(_,"in",U),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",U)}matches(_){return this.keys.some(U=>U.isEqual(_.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(_,U){super(_,"not-in",U),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",U)}matches(_){return!this.keys.some(U=>U.isEqual(_.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(T,_){var U;return(((U=_.arrayValue)===null||U===void 0?void 0:U.values)||[]).map(H=>DocumentKey.fromName(H.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(_,U){super(_,"array-contains",U)}matches(_){const U=_.data.field(this.field);return isArray$1(U)&&__PRIVATE_arrayValueContains(U.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(_,U){super(_,"in",U)}matches(_){const U=_.data.field(this.field);return U!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,U)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(_,U){super(_,"not-in",U)}matches(_){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const U=_.data.field(this.field);return U!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,U)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(_,U){super(_,"array-contains-any",U)}matches(_){const U=_.data.field(this.field);return!(!isArray$1(U)||!U.arrayValue.values)&&U.arrayValue.values.some(H=>__PRIVATE_arrayValueContains(this.value.arrayValue,H))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(_,U=null,H=[],z=[],j=null,q=null,K=null){this.path=_,this.collectionGroup=U,this.orderBy=H,this.filters=z,this.limit=j,this.startAt=q,this.endAt=K,this.le=null}}function __PRIVATE_newTarget(T,_=null,U=[],H=[],z=null,j=null,q=null){return new __PRIVATE_TargetImpl(T,_,U,H,z,j,q)}function __PRIVATE_canonifyTarget(T){const _=__PRIVATE_debugCast(T);if(_.le===null){let U=_.path.canonicalString();_.collectionGroup!==null&&(U+="|cg:"+_.collectionGroup),U+="|f:",U+=_.filters.map(H=>__PRIVATE_canonifyFilter(H)).join(","),U+="|ob:",U+=_.orderBy.map(H=>function(j){return j.field.canonicalString()+j.dir}(H)).join(","),__PRIVATE_isNullOrUndefined(_.limit)||(U+="|l:",U+=_.limit),_.startAt&&(U+="|lb:",U+=_.startAt.inclusive?"b:":"a:",U+=_.startAt.position.map(H=>canonicalId(H)).join(",")),_.endAt&&(U+="|ub:",U+=_.endAt.inclusive?"a:":"b:",U+=_.endAt.position.map(H=>canonicalId(H)).join(",")),_.le=U}return _.le}function __PRIVATE_targetEquals(T,_){if(T.limit!==_.limit||T.orderBy.length!==_.orderBy.length)return!1;for(let U=0;U<T.orderBy.length;U++)if(!__PRIVATE_orderByEquals(T.orderBy[U],_.orderBy[U]))return!1;if(T.filters.length!==_.filters.length)return!1;for(let U=0;U<T.filters.length;U++)if(!__PRIVATE_filterEquals(T.filters[U],_.filters[U]))return!1;return T.collectionGroup===_.collectionGroup&&!!T.path.isEqual(_.path)&&!!__PRIVATE_boundEquals(T.startAt,_.startAt)&&__PRIVATE_boundEquals(T.endAt,_.endAt)}function __PRIVATE_targetIsDocumentTarget(T){return DocumentKey.isDocumentKey(T.path)&&T.collectionGroup===null&&T.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(_,U=null,H=[],z=[],j=null,q="F",K=null,Y=null){this.path=_,this.collectionGroup=U,this.explicitOrderBy=H,this.filters=z,this.limit=j,this.limitType=q,this.startAt=K,this.endAt=Y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(T,_,U,H,z,j,q,K){return new __PRIVATE_QueryImpl(T,_,U,H,z,j,q,K)}function __PRIVATE_newQueryForPath(T){return new __PRIVATE_QueryImpl(T)}function __PRIVATE_queryMatchesAllDocuments(T){return T.filters.length===0&&T.limit===null&&T.startAt==null&&T.endAt==null&&(T.explicitOrderBy.length===0||T.explicitOrderBy.length===1&&T.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(T){return T.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(T){const _=__PRIVATE_debugCast(T);if(_.he===null){_.he=[];const U=new Set;for(const j of _.explicitOrderBy)_.he.push(j),U.add(j.field.canonicalString());const H=_.explicitOrderBy.length>0?_.explicitOrderBy[_.explicitOrderBy.length-1].dir:"asc";(function(q){let K=new SortedSet(FieldPath$1.comparator);return q.filters.forEach(Y=>{Y.getFlattenedFilters().forEach(X=>{X.isInequality()&&(K=K.add(X.field))})}),K})(_).forEach(j=>{U.has(j.canonicalString())||j.isKeyField()||_.he.push(new OrderBy(j,H))}),U.has(FieldPath$1.keyField().canonicalString())||_.he.push(new OrderBy(FieldPath$1.keyField(),H))}return _.he}function __PRIVATE_queryToTarget(T){const _=__PRIVATE_debugCast(T);return _.Pe||(_.Pe=__PRIVATE__queryToTarget(_,__PRIVATE_queryNormalizedOrderBy(T))),_.Pe}function __PRIVATE__queryToTarget(T,_){if(T.limitType==="F")return __PRIVATE_newTarget(T.path,T.collectionGroup,_,T.filters,T.limit,T.startAt,T.endAt);{_=_.map(z=>{const j=z.dir==="desc"?"asc":"desc";return new OrderBy(z.field,j)});const U=T.endAt?new Bound(T.endAt.position,T.endAt.inclusive):null,H=T.startAt?new Bound(T.startAt.position,T.startAt.inclusive):null;return __PRIVATE_newTarget(T.path,T.collectionGroup,_,T.filters,T.limit,U,H)}}function __PRIVATE_queryWithLimit(T,_,U){return new __PRIVATE_QueryImpl(T.path,T.collectionGroup,T.explicitOrderBy.slice(),T.filters.slice(),_,U,T.startAt,T.endAt)}function __PRIVATE_queryEquals(T,_){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(T),__PRIVATE_queryToTarget(_))&&T.limitType===_.limitType}function __PRIVATE_canonifyQuery(T){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(T))}|lt:${T.limitType}`}function __PRIVATE_stringifyQuery(T){return`Query(target=${function(U){let H=U.path.canonicalString();return U.collectionGroup!==null&&(H+=" collectionGroup="+U.collectionGroup),U.filters.length>0&&(H+=`, filters: [${U.filters.map(z=>__PRIVATE_stringifyFilter(z)).join(", ")}]`),__PRIVATE_isNullOrUndefined(U.limit)||(H+=", limit: "+U.limit),U.orderBy.length>0&&(H+=`, orderBy: [${U.orderBy.map(z=>function(q){return`${q.field.canonicalString()} (${q.dir})`}(z)).join(", ")}]`),U.startAt&&(H+=", startAt: ",H+=U.startAt.inclusive?"b:":"a:",H+=U.startAt.position.map(z=>canonicalId(z)).join(",")),U.endAt&&(H+=", endAt: ",H+=U.endAt.inclusive?"a:":"b:",H+=U.endAt.position.map(z=>canonicalId(z)).join(",")),`Target(${H})`}(__PRIVATE_queryToTarget(T))}; limitType=${T.limitType})`}function __PRIVATE_queryMatches(T,_){return _.isFoundDocument()&&function(H,z){const j=z.key.path;return H.collectionGroup!==null?z.key.hasCollectionId(H.collectionGroup)&&H.path.isPrefixOf(j):DocumentKey.isDocumentKey(H.path)?H.path.isEqual(j):H.path.isImmediateParentOf(j)}(T,_)&&function(H,z){for(const j of __PRIVATE_queryNormalizedOrderBy(H))if(!j.field.isKeyField()&&z.data.field(j.field)===null)return!1;return!0}(T,_)&&function(H,z){for(const j of H.filters)if(!j.matches(z))return!1;return!0}(T,_)&&function(H,z){return!(H.startAt&&!function(q,K,Y){const X=__PRIVATE_boundCompareToDocument(q,K,Y);return q.inclusive?X<=0:X<0}(H.startAt,__PRIVATE_queryNormalizedOrderBy(H),z)||H.endAt&&!function(q,K,Y){const X=__PRIVATE_boundCompareToDocument(q,K,Y);return q.inclusive?X>=0:X>0}(H.endAt,__PRIVATE_queryNormalizedOrderBy(H),z))}(T,_)}function __PRIVATE_queryCollectionGroup(T){return T.collectionGroup||(T.path.length%2==1?T.path.lastSegment():T.path.get(T.path.length-2))}function __PRIVATE_newQueryComparator(T){return(_,U)=>{let H=!1;for(const z of __PRIVATE_queryNormalizedOrderBy(T)){const j=__PRIVATE_compareDocs(z,_,U);if(j!==0)return j;H=H||z.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(T,_,U){const H=T.field.isKeyField()?DocumentKey.comparator(_.key,U.key):function(j,q,K){const Y=q.data.field(j),X=K.data.field(j);return Y!==null&&X!==null?__PRIVATE_valueCompare(Y,X):fail()}(T.field,_,U);switch(T.dir){case"asc":return H;case"desc":return-1*H;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(_,U){this.mapKeyFn=_,this.equalsFn=U,this.inner={},this.innerSize=0}get(_){const U=this.mapKeyFn(_),H=this.inner[U];if(H!==void 0){for(const[z,j]of H)if(this.equalsFn(z,_))return j}}has(_){return this.get(_)!==void 0}set(_,U){const H=this.mapKeyFn(_),z=this.inner[H];if(z===void 0)return this.inner[H]=[[_,U]],void this.innerSize++;for(let j=0;j<z.length;j++)if(this.equalsFn(z[j][0],_))return void(z[j]=[_,U]);z.push([_,U]),this.innerSize++}delete(_){const U=this.mapKeyFn(_),H=this.inner[U];if(H===void 0)return!1;for(let z=0;z<H.length;z++)if(this.equalsFn(H[z][0],_))return H.length===1?delete this.inner[U]:H.splice(z,1),this.innerSize--,!0;return!1}forEach(_){forEach$1(this.inner,(U,H)=>{for(const[z,j]of H)_(z,j)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return lt}const ht=new SortedMap(DocumentKey.comparator);function documentMap(...T){let _=ht;for(const U of T)_=_.insert(U.key,U);return _}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(T){let _=ht;return T.forEach((U,H)=>_=_.insert(U,H.overlayedDocument)),_}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(T=>T.toString(),(T,_)=>T.isEqual(_))}const Pt=new SortedMap(DocumentKey.comparator),Tt=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...T){let _=Tt;for(const U of T)_=_.add(U);return _}const It=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return It}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(T,_){if(T.useProto3Json){if(isNaN(_))return{doubleValue:"NaN"};if(_===1/0)return{doubleValue:"Infinity"};if(_===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(_)?"-0":_}}function __PRIVATE_toInteger(T){return{integerValue:""+T}}function toNumber(T,_){return isSafeInteger(_)?__PRIVATE_toInteger(_):__PRIVATE_toDouble(T,_)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(T,_,U){return T instanceof __PRIVATE_ServerTimestampTransform?function(z,j){const q={fields:{[et]:{stringValue:Xe},[nt]:{timestampValue:{seconds:z.seconds,nanos:z.nanoseconds}}}};return j&&__PRIVATE_isServerTimestamp(j)&&(j=__PRIVATE_getPreviousValue(j)),j&&(q.fields[tt]=j),{mapValue:q}}(U,_):T instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(T,_):T instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(T,_):function(z,j){const q=__PRIVATE_computeTransformOperationBaseValue(z,j),K=asNumber(q)+asNumber(z.Ie);return isInteger(q)&&isInteger(z.Ie)?__PRIVATE_toInteger(K):__PRIVATE_toDouble(z.serializer,K)}(T,_)}function __PRIVATE_applyTransformOperationToRemoteDocument(T,_,U){return T instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(T,_):T instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(T,_):U}function __PRIVATE_computeTransformOperationBaseValue(T,_){return T instanceof __PRIVATE_NumericIncrementTransformOperation?function(H){return isInteger(H)||function(j){return!!j&&"doubleValue"in j}(H)}(_)?_:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayUnionTransformOperation(T,_){const U=__PRIVATE_coercedFieldValuesArray(_);for(const H of T.elements)U.some(z=>__PRIVATE_valueEquals(z,H))||U.push(H);return{arrayValue:{values:U}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayRemoveTransformOperation(T,_){let U=__PRIVATE_coercedFieldValuesArray(_);for(const H of T.elements)U=U.filter(z=>!__PRIVATE_valueEquals(z,H));return{arrayValue:{values:U}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(_,U){super(),this.serializer=_,this.Ie=U}}function asNumber(T){return __PRIVATE_normalizeNumber(T.integerValue||T.doubleValue)}function __PRIVATE_coercedFieldValuesArray(T){return isArray$1(T)&&T.arrayValue.values?T.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(T,_){return T.field.isEqual(_.field)&&function(H,z){return H instanceof __PRIVATE_ArrayUnionTransformOperation&&z instanceof __PRIVATE_ArrayUnionTransformOperation||H instanceof __PRIVATE_ArrayRemoveTransformOperation&&z instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(H.elements,z.elements,__PRIVATE_valueEquals):H instanceof __PRIVATE_NumericIncrementTransformOperation&&z instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(H.Ie,z.Ie):H instanceof __PRIVATE_ServerTimestampTransform&&z instanceof __PRIVATE_ServerTimestampTransform}(T.transform,_.transform)}class MutationResult{constructor(_,U){this.version=_,this.transformResults=U}}class Precondition{constructor(_,U){this.updateTime=_,this.exists=U}static none(){return new Precondition}static exists(_){return new Precondition(void 0,_)}static updateTime(_){return new Precondition(_)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(_){return this.exists===_.exists&&(this.updateTime?!!_.updateTime&&this.updateTime.isEqual(_.updateTime):!_.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(T,_){return T.updateTime!==void 0?_.isFoundDocument()&&_.version.isEqual(T.updateTime):T.exists===void 0||T.exists===_.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(T,_){if(!T.hasLocalMutations||_&&_.fields.length===0)return null;if(_===null)return T.isNoDocument()?new __PRIVATE_DeleteMutation(T.key,Precondition.none()):new __PRIVATE_SetMutation(T.key,T.data,Precondition.none());{const U=T.data,H=ObjectValue.empty();let z=new SortedSet(FieldPath$1.comparator);for(let j of _.fields)if(!z.has(j)){let q=U.field(j);q===null&&j.length>1&&(j=j.popLast(),q=U.field(j)),q===null?H.delete(j):H.set(j,q),z=z.add(j)}return new __PRIVATE_PatchMutation(T.key,H,new FieldMask(z.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(T,_,U){T instanceof __PRIVATE_SetMutation?function(z,j,q){const K=z.value.clone(),Y=__PRIVATE_serverTransformResults(z.fieldTransforms,j,q.transformResults);K.setAll(Y),j.convertToFoundDocument(q.version,K).setHasCommittedMutations()}(T,_,U):T instanceof __PRIVATE_PatchMutation?function(z,j,q){if(!__PRIVATE_preconditionIsValidForDocument(z.precondition,j))return void j.convertToUnknownDocument(q.version);const K=__PRIVATE_serverTransformResults(z.fieldTransforms,j,q.transformResults),Y=j.data;Y.setAll(__PRIVATE_getPatch(z)),Y.setAll(K),j.convertToFoundDocument(q.version,Y).setHasCommittedMutations()}(T,_,U):function(z,j,q){j.convertToNoDocument(q.version).setHasCommittedMutations()}(0,_,U)}function __PRIVATE_mutationApplyToLocalView(T,_,U,H){return T instanceof __PRIVATE_SetMutation?function(j,q,K,Y){if(!__PRIVATE_preconditionIsValidForDocument(j.precondition,q))return K;const X=j.value.clone(),Z=__PRIVATE_localTransformResults(j.fieldTransforms,Y,q);return X.setAll(Z),q.convertToFoundDocument(q.version,X).setHasLocalMutations(),null}(T,_,U,H):T instanceof __PRIVATE_PatchMutation?function(j,q,K,Y){if(!__PRIVATE_preconditionIsValidForDocument(j.precondition,q))return K;const X=__PRIVATE_localTransformResults(j.fieldTransforms,Y,q),Z=q.data;return Z.setAll(__PRIVATE_getPatch(j)),Z.setAll(X),q.convertToFoundDocument(q.version,Z).setHasLocalMutations(),K===null?null:K.unionWith(j.fieldMask.fields).unionWith(j.fieldTransforms.map(ne=>ne.field))}(T,_,U,H):function(j,q,K){return __PRIVATE_preconditionIsValidForDocument(j.precondition,q)?(q.convertToNoDocument(q.version).setHasLocalMutations(),null):K}(T,_,U)}function __PRIVATE_mutationExtractBaseValue(T,_){let U=null;for(const H of T.fieldTransforms){const z=_.data.field(H.field),j=__PRIVATE_computeTransformOperationBaseValue(H.transform,z||null);j!=null&&(U===null&&(U=ObjectValue.empty()),U.set(H.field,j))}return U||null}function __PRIVATE_mutationEquals(T,_){return T.type===_.type&&!!T.key.isEqual(_.key)&&!!T.precondition.isEqual(_.precondition)&&!!function(H,z){return H===void 0&&z===void 0||!(!H||!z)&&__PRIVATE_arrayEquals(H,z,(j,q)=>__PRIVATE_fieldTransformEquals(j,q))}(T.fieldTransforms,_.fieldTransforms)&&(T.type===0?T.value.isEqual(_.value):T.type!==1||T.data.isEqual(_.data)&&T.fieldMask.isEqual(_.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(_,U,H,z=[]){super(),this.key=_,this.value=U,this.precondition=H,this.fieldTransforms=z,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(_,U,H,z,j=[]){super(),this.key=_,this.data=U,this.fieldMask=H,this.precondition=z,this.fieldTransforms=j,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(T){const _=new Map;return T.fieldMask.fields.forEach(U=>{if(!U.isEmpty()){const H=T.data.field(U);_.set(U,H)}}),_}function __PRIVATE_serverTransformResults(T,_,U){const H=new Map;__PRIVATE_hardAssert(T.length===U.length);for(let z=0;z<U.length;z++){const j=T[z],q=j.transform,K=_.data.field(j.field);H.set(j.field,__PRIVATE_applyTransformOperationToRemoteDocument(q,K,U[z]))}return H}function __PRIVATE_localTransformResults(T,_,U){const H=new Map;for(const z of T){const j=z.transform,q=U.data.field(z.field);H.set(z.field,__PRIVATE_applyTransformOperationToLocalView(j,q,_))}return H}class __PRIVATE_DeleteMutation extends Mutation{constructor(_,U){super(),this.key=_,this.precondition=U,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(_,U){super(),this.key=_,this.precondition=U,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(_,U,H,z){this.batchId=_,this.localWriteTime=U,this.baseMutations=H,this.mutations=z}applyToRemoteDocument(_,U){const H=U.mutationResults;for(let z=0;z<this.mutations.length;z++){const j=this.mutations[z];j.key.isEqual(_.key)&&__PRIVATE_mutationApplyToRemoteDocument(j,_,H[z])}}applyToLocalView(_,U){for(const H of this.baseMutations)H.key.isEqual(_.key)&&(U=__PRIVATE_mutationApplyToLocalView(H,_,U,this.localWriteTime));for(const H of this.mutations)H.key.isEqual(_.key)&&(U=__PRIVATE_mutationApplyToLocalView(H,_,U,this.localWriteTime));return U}applyToLocalDocumentSet(_,U){const H=__PRIVATE_newMutationMap();return this.mutations.forEach(z=>{const j=_.get(z.key),q=j.overlayedDocument;let K=this.applyToLocalView(q,j.mutatedFields);K=U.has(z.key)?null:K;const Y=__PRIVATE_calculateOverlayMutation(q,K);Y!==null&&H.set(z.key,Y),q.isValidDocument()||q.convertToNoDocument(SnapshotVersion.min())}),H}keys(){return this.mutations.reduce((_,U)=>_.add(U.key),__PRIVATE_documentKeySet())}isEqual(_){return this.batchId===_.batchId&&__PRIVATE_arrayEquals(this.mutations,_.mutations,(U,H)=>__PRIVATE_mutationEquals(U,H))&&__PRIVATE_arrayEquals(this.baseMutations,_.baseMutations,(U,H)=>__PRIVATE_mutationEquals(U,H))}}class MutationBatchResult{constructor(_,U,H,z){this.batch=_,this.commitVersion=U,this.mutationResults=H,this.docVersions=z}static from(_,U,H){__PRIVATE_hardAssert(_.mutations.length===H.length);let z=function(){return Pt}();const j=_.mutations;for(let q=0;q<j.length;q++)z=z.insert(j[q].key,H[q].version);return new MutationBatchResult(_,U,H,z)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(_,U){this.largestBatchId=_,this.mutation=U}getKey(){return this.mutation.key}isEqual(_){return _!==null&&this.mutation===_.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(_,U){this.count=_,this.unchangedNames=U}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,dt;function __PRIVATE_isPermanentError(T){switch(T){case C$1.OK:return fail();case C$1.CANCELLED:case C$1.UNKNOWN:case C$1.DEADLINE_EXCEEDED:case C$1.RESOURCE_EXHAUSTED:case C$1.INTERNAL:case C$1.UNAVAILABLE:case C$1.UNAUTHENTICATED:return!1;case C$1.INVALID_ARGUMENT:case C$1.NOT_FOUND:case C$1.ALREADY_EXISTS:case C$1.PERMISSION_DENIED:case C$1.FAILED_PRECONDITION:case C$1.ABORTED:case C$1.OUT_OF_RANGE:case C$1.UNIMPLEMENTED:case C$1.DATA_LOSS:return!0;default:return fail()}}function __PRIVATE_mapCodeFromRpcCode(T){if(T===void 0)return __PRIVATE_logError("GRPC error has no .code"),C$1.UNKNOWN;switch(T){case Et.OK:return C$1.OK;case Et.CANCELLED:return C$1.CANCELLED;case Et.UNKNOWN:return C$1.UNKNOWN;case Et.DEADLINE_EXCEEDED:return C$1.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return C$1.RESOURCE_EXHAUSTED;case Et.INTERNAL:return C$1.INTERNAL;case Et.UNAVAILABLE:return C$1.UNAVAILABLE;case Et.UNAUTHENTICATED:return C$1.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return C$1.INVALID_ARGUMENT;case Et.NOT_FOUND:return C$1.NOT_FOUND;case Et.ALREADY_EXISTS:return C$1.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return C$1.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return C$1.FAILED_PRECONDITION;case Et.ABORTED:return C$1.ABORTED;case Et.OUT_OF_RANGE:return C$1.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return C$1.UNIMPLEMENTED;case Et.DATA_LOSS:return C$1.DATA_LOSS;default:return fail()}}(dt=Et||(Et={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(T){const _=__PRIVATE_newTextEncoder().encode(T),U=new Md5;return U.update(_),new Uint8Array(U.digest())}function __PRIVATE_get64BitUints(T){const _=new DataView(T.buffer),U=_.getUint32(0,!0),H=_.getUint32(4,!0),z=_.getUint32(8,!0),j=_.getUint32(12,!0);return[new Integer([U,H],0),new Integer([z,j],0)]}class BloomFilter{constructor(_,U,H){if(this.bitmap=_,this.padding=U,this.hashCount=H,U<0||U>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${U}`);if(H<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${H}`);if(_.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${H}`);if(_.length===0&&U!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${U}`);this.Ee=8*_.length-U,this.de=Integer.fromNumber(this.Ee)}Ae(_,U,H){let z=_.add(U.multiply(Integer.fromNumber(H)));return z.compare(Rt)===1&&(z=new Integer([z.getBits(0),z.getBits(1)],0)),z.modulo(this.de).toNumber()}Re(_){return!!(this.bitmap[Math.floor(_/8)]&1<<_%8)}mightContain(_){if(this.Ee===0)return!1;const U=__PRIVATE_getMd5HashValue(_),[H,z]=__PRIVATE_get64BitUints(U);for(let j=0;j<this.hashCount;j++){const q=this.Ae(H,z,j);if(!this.Re(q))return!1}return!0}static create(_,U,H){const z=_%8==0?0:8-_%8,j=new Uint8Array(Math.ceil(_/8)),q=new BloomFilter(j,z,U);return H.forEach(K=>q.insert(K)),q}insert(_){if(this.Ee===0)return;const U=__PRIVATE_getMd5HashValue(_),[H,z]=__PRIVATE_get64BitUints(U);for(let j=0;j<this.hashCount;j++){const q=this.Ae(H,z,j);this.Ve(q)}}Ve(_){const U=Math.floor(_/8),H=_%8;this.bitmap[U]|=1<<H}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(_,U,H,z,j){this.snapshotVersion=_,this.targetChanges=U,this.targetMismatches=H,this.documentUpdates=z,this.resolvedLimboDocuments=j}static createSynthesizedRemoteEventForCurrentChange(_,U,H){const z=new Map;return z.set(_,TargetChange.createSynthesizedTargetChangeForCurrentChange(_,U,H)),new RemoteEvent(SnapshotVersion.min(),z,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(_,U,H,z,j){this.resumeToken=_,this.current=U,this.addedDocuments=H,this.modifiedDocuments=z,this.removedDocuments=j}static createSynthesizedTargetChangeForCurrentChange(_,U,H){return new TargetChange(H,U,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(_,U,H,z){this.me=_,this.removedTargetIds=U,this.key=H,this.fe=z}}class __PRIVATE_ExistenceFilterChange{constructor(_,U){this.targetId=_,this.ge=U}}class __PRIVATE_WatchTargetChange{constructor(_,U,H=ByteString.EMPTY_BYTE_STRING,z=null){this.state=_,this.targetIds=U,this.resumeToken=H,this.cause=z}}class __PRIVATE_TargetState{constructor(){this.pe=0,this.ye=__PRIVATE_snapshotChangesMap(),this.we=ByteString.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(_){_.approximateByteSize()>0&&(this.Se=!0,this.we=_)}Fe(){let _=__PRIVATE_documentKeySet(),U=__PRIVATE_documentKeySet(),H=__PRIVATE_documentKeySet();return this.ye.forEach((z,j)=>{switch(j){case 0:_=_.add(z);break;case 2:U=U.add(z);break;case 1:H=H.add(z);break;default:fail()}}),new TargetChange(this.we,this.be,_,U,H)}Me(){this.Se=!1,this.ye=__PRIVATE_snapshotChangesMap()}xe(_,U){this.Se=!0,this.ye=this.ye.insert(_,U)}Oe(_){this.Se=!0,this.ye=this.ye.remove(_)}Ne(){this.pe+=1}Be(){this.pe-=1,__PRIVATE_hardAssert(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class __PRIVATE_WatchChangeAggregator{constructor(_){this.ke=_,this.qe=new Map,this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ke=__PRIVATE_documentTargetMap(),this.Ue=new SortedMap(__PRIVATE_primitiveComparator)}We(_){for(const U of _.me)_.fe&&_.fe.isFoundDocument()?this.Ge(U,_.fe):this.ze(U,_.key,_.fe);for(const U of _.removedTargetIds)this.ze(U,_.key,_.fe)}je(_){this.forEachTarget(_,U=>{const H=this.He(U);switch(_.state){case 0:this.Je(U)&&H.Ce(_.resumeToken);break;case 1:H.Be(),H.De||H.Me(),H.Ce(_.resumeToken);break;case 2:H.Be(),H.De||this.removeTarget(U);break;case 3:this.Je(U)&&(H.Le(),H.Ce(_.resumeToken));break;case 4:this.Je(U)&&(this.Ye(U),H.Ce(_.resumeToken));break;default:fail()}})}forEachTarget(_,U){_.targetIds.length>0?_.targetIds.forEach(U):this.qe.forEach((H,z)=>{this.Je(z)&&U(z)})}Ze(_){const U=_.targetId,H=_.ge.count,z=this.Xe(U);if(z){const j=z.target;if(__PRIVATE_targetIsDocumentTarget(j))if(H===0){const q=new DocumentKey(j.path);this.ze(U,q,MutableDocument.newNoDocument(q,SnapshotVersion.min()))}else __PRIVATE_hardAssert(H===1);else{const q=this.et(U);if(q!==H){const K=this.tt(_),Y=K?this.nt(K,_,q):1;if(Y!==0){this.Ye(U);const X=Y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(U,X)}}}}}tt(_){const U=_.ge.unchangedNames;if(!U||!U.bits)return null;const{bits:{bitmap:H="",padding:z=0},hashCount:j=0}=U;let q,K;try{q=__PRIVATE_normalizeByteString(H).toUint8Array()}catch(Y){if(Y instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Y}try{K=new BloomFilter(q,z,j)}catch(Y){return __PRIVATE_logWarn(Y instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Y),null}return K.Ee===0?null:K}nt(_,U,H){return U.ge.count===H-this.st(_,U.targetId)?0:2}st(_,U){const H=this.ke.getRemoteKeysForTarget(U);let z=0;return H.forEach(j=>{const q=this.ke.it(),K=`projects/${q.projectId}/databases/${q.database}/documents/${j.path.canonicalString()}`;_.mightContain(K)||(this.ze(U,j,null),z++)}),z}ot(_){const U=new Map;this.qe.forEach((j,q)=>{const K=this.Xe(q);if(K){if(j.current&&__PRIVATE_targetIsDocumentTarget(K.target)){const Y=new DocumentKey(K.target.path);this._t(Y).has(q)||this.ut(q,Y)||this.ze(q,Y,MutableDocument.newNoDocument(Y,_))}j.ve&&(U.set(q,j.Fe()),j.Me())}});let H=__PRIVATE_documentKeySet();this.Ke.forEach((j,q)=>{let K=!0;q.forEachWhile(Y=>{const X=this.Xe(Y);return!X||X.purpose==="TargetPurposeLimboResolution"||(K=!1,!1)}),K&&(H=H.add(j))}),this.Qe.forEach((j,q)=>q.setReadTime(_));const z=new RemoteEvent(_,U,this.Ue,this.Qe,H);return this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ke=__PRIVATE_documentTargetMap(),this.Ue=new SortedMap(__PRIVATE_primitiveComparator),z}Ge(_,U){if(!this.Je(_))return;const H=this.ut(_,U.key)?2:0;this.He(_).xe(U.key,H),this.Qe=this.Qe.insert(U.key,U),this.$e=this.$e.insert(U.key,this._t(U.key).add(_)),this.Ke=this.Ke.insert(U.key,this.ct(U.key).add(_))}ze(_,U,H){if(!this.Je(_))return;const z=this.He(_);this.ut(_,U)?z.xe(U,1):z.Oe(U),this.Ke=this.Ke.insert(U,this.ct(U).delete(_)),this.Ke=this.Ke.insert(U,this.ct(U).add(_)),H&&(this.Qe=this.Qe.insert(U,H))}removeTarget(_){this.qe.delete(_)}et(_){const U=this.He(_).Fe();return this.ke.getRemoteKeysForTarget(_).size+U.addedDocuments.size-U.removedDocuments.size}Ne(_){this.He(_).Ne()}He(_){let U=this.qe.get(_);return U||(U=new __PRIVATE_TargetState,this.qe.set(_,U)),U}ct(_){let U=this.Ke.get(_);return U||(U=new SortedSet(__PRIVATE_primitiveComparator),this.Ke=this.Ke.insert(_,U)),U}_t(_){let U=this.$e.get(_);return U||(U=new SortedSet(__PRIVATE_primitiveComparator),this.$e=this.$e.insert(_,U)),U}Je(_){const U=this.Xe(_)!==null;return U||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",_),U}Xe(_){const U=this.qe.get(_);return U&&U.De?null:this.ke.lt(_)}Ye(_){this.qe.set(_,new __PRIVATE_TargetState),this.ke.getRemoteKeysForTarget(_).forEach(U=>{this.ze(_,U,null)})}ut(_,U){return this.ke.getRemoteKeysForTarget(_).has(U)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Vt={asc:"ASCENDING",desc:"DESCENDING"},mt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ft={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(_,U){this.databaseId=_,this.useProto3Json=U}}function __PRIVATE_toInt32Proto(T,_){return T.useProto3Json||__PRIVATE_isNullOrUndefined(_)?_:{value:_}}function toTimestamp(T,_){return T.useProto3Json?`${new Date(1e3*_.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+_.nanoseconds).slice(-9)}Z`:{seconds:""+_.seconds,nanos:_.nanoseconds}}function __PRIVATE_toBytes(T,_){return T.useProto3Json?_.toBase64():_.toUint8Array()}function __PRIVATE_toVersion(T,_){return toTimestamp(T,_.toTimestamp())}function __PRIVATE_fromVersion(T){return __PRIVATE_hardAssert(!!T),SnapshotVersion.fromTimestamp(function(U){const H=__PRIVATE_normalizeTimestamp(U);return new Timestamp(H.seconds,H.nanos)}(T))}function __PRIVATE_toResourceName(T,_){return __PRIVATE_toResourcePath(T,_).canonicalString()}function __PRIVATE_toResourcePath(T,_){const U=function(z){return new ResourcePath(["projects",z.projectId,"databases",z.database])}(T).child("documents");return _===void 0?U:U.child(_)}function __PRIVATE_fromResourceName(T){const _=ResourcePath.fromString(T);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_)),_}function __PRIVATE_toName(T,_){return __PRIVATE_toResourceName(T.databaseId,_.path)}function fromName(T,_){const U=__PRIVATE_fromResourceName(_);if(U.get(1)!==T.databaseId.projectId)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+U.get(1)+" vs "+T.databaseId.projectId);if(U.get(3)!==T.databaseId.database)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+U.get(3)+" vs "+T.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(U))}function __PRIVATE_toQueryPath(T,_){return __PRIVATE_toResourceName(T.databaseId,_)}function __PRIVATE_fromQueryPath(T){const _=__PRIVATE_fromResourceName(T);return _.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(_)}function __PRIVATE_getEncodedDatabaseId(T){return new ResourcePath(["projects",T.databaseId.projectId,"databases",T.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(T){return __PRIVATE_hardAssert(T.length>4&&T.get(4)==="documents"),T.popFirst(5)}function __PRIVATE_toMutationDocument(T,_,U){return{name:__PRIVATE_toName(T,_),fields:U.value.mapValue.fields}}function __PRIVATE_fromWatchChange(T,_){let U;if("targetChange"in _){_.targetChange;const H=function(X){return X==="NO_CHANGE"?0:X==="ADD"?1:X==="REMOVE"?2:X==="CURRENT"?3:X==="RESET"?4:fail()}(_.targetChange.targetChangeType||"NO_CHANGE"),z=_.targetChange.targetIds||[],j=function(X,Z){return X.useProto3Json?(__PRIVATE_hardAssert(Z===void 0||typeof Z=="string"),ByteString.fromBase64String(Z||"")):(__PRIVATE_hardAssert(Z===void 0||Z instanceof Buffer||Z instanceof Uint8Array),ByteString.fromUint8Array(Z||new Uint8Array))}(T,_.targetChange.resumeToken),q=_.targetChange.cause,K=q&&function(X){const Z=X.code===void 0?C$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(X.code);return new FirestoreError(Z,X.message||"")}(q);U=new __PRIVATE_WatchTargetChange(H,z,j,K||null)}else if("documentChange"in _){_.documentChange;const H=_.documentChange;H.document,H.document.name,H.document.updateTime;const z=fromName(T,H.document.name),j=__PRIVATE_fromVersion(H.document.updateTime),q=H.document.createTime?__PRIVATE_fromVersion(H.document.createTime):SnapshotVersion.min(),K=new ObjectValue({mapValue:{fields:H.document.fields}}),Y=MutableDocument.newFoundDocument(z,j,q,K),X=H.targetIds||[],Z=H.removedTargetIds||[];U=new __PRIVATE_DocumentWatchChange(X,Z,Y.key,Y)}else if("documentDelete"in _){_.documentDelete;const H=_.documentDelete;H.document;const z=fromName(T,H.document),j=H.readTime?__PRIVATE_fromVersion(H.readTime):SnapshotVersion.min(),q=MutableDocument.newNoDocument(z,j),K=H.removedTargetIds||[];U=new __PRIVATE_DocumentWatchChange([],K,q.key,q)}else if("documentRemove"in _){_.documentRemove;const H=_.documentRemove;H.document;const z=fromName(T,H.document),j=H.removedTargetIds||[];U=new __PRIVATE_DocumentWatchChange([],j,z,null)}else{if(!("filter"in _))return fail();{_.filter;const H=_.filter;H.targetId;const{count:z=0,unchangedNames:j}=H,q=new ExistenceFilter(z,j),K=H.targetId;U=new __PRIVATE_ExistenceFilterChange(K,q)}}return U}function toMutation(T,_){let U;if(_ instanceof __PRIVATE_SetMutation)U={update:__PRIVATE_toMutationDocument(T,_.key,_.value)};else if(_ instanceof __PRIVATE_DeleteMutation)U={delete:__PRIVATE_toName(T,_.key)};else if(_ instanceof __PRIVATE_PatchMutation)U={update:__PRIVATE_toMutationDocument(T,_.key,_.data),updateMask:__PRIVATE_toDocumentMask(_.fieldMask)};else{if(!(_ instanceof __PRIVATE_VerifyMutation))return fail();U={verify:__PRIVATE_toName(T,_.key)}}return _.fieldTransforms.length>0&&(U.updateTransforms=_.fieldTransforms.map(H=>function(j,q){const K=q.transform;if(K instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:q.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(K instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:q.field.canonicalString(),appendMissingElements:{values:K.elements}};if(K instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:q.field.canonicalString(),removeAllFromArray:{values:K.elements}};if(K instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:q.field.canonicalString(),increment:K.Ie};throw fail()}(0,H))),_.precondition.isNone||(U.currentDocument=function(z,j){return j.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(z,j.updateTime)}:j.exists!==void 0?{exists:j.exists}:fail()}(T,_.precondition)),U}function __PRIVATE_fromWriteResults(T,_){return T&&T.length>0?(__PRIVATE_hardAssert(_!==void 0),T.map(U=>function(z,j){let q=z.updateTime?__PRIVATE_fromVersion(z.updateTime):__PRIVATE_fromVersion(j);return q.isEqual(SnapshotVersion.min())&&(q=__PRIVATE_fromVersion(j)),new MutationResult(q,z.transformResults||[])}(U,_))):[]}function __PRIVATE_toDocumentsTarget(T,_){return{documents:[__PRIVATE_toQueryPath(T,_.path)]}}function __PRIVATE_toQueryTarget(T,_){const U={structuredQuery:{}},H=_.path;let z;_.collectionGroup!==null?(z=H,U.structuredQuery.from=[{collectionId:_.collectionGroup,allDescendants:!0}]):(z=H.popLast(),U.structuredQuery.from=[{collectionId:H.lastSegment()}]),U.parent=__PRIVATE_toQueryPath(T,z);const j=function(X){if(X.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(X,"and"))}(_.filters);j&&(U.structuredQuery.where=j);const q=function(X){if(X.length!==0)return X.map(Z=>function(ie){return{field:__PRIVATE_toFieldPathReference(ie.field),direction:__PRIVATE_toDirection(ie.dir)}}(Z))}(_.orderBy);q&&(U.structuredQuery.orderBy=q);const K=__PRIVATE_toInt32Proto(T,_.limit);return K!==null&&(U.structuredQuery.limit=K),_.startAt&&(U.structuredQuery.startAt=function(X){return{before:X.inclusive,values:X.position}}(_.startAt)),_.endAt&&(U.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(_.endAt)),{ht:U,parent:z}}function __PRIVATE_convertQueryTargetToQuery(T){let _=__PRIVATE_fromQueryPath(T.parent);const U=T.structuredQuery,H=U.from?U.from.length:0;let z=null;if(H>0){__PRIVATE_hardAssert(H===1);const Z=U.from[0];Z.allDescendants?z=Z.collectionId:_=_.child(Z.collectionId)}let j=[];U.where&&(j=function(ne){const ie=__PRIVATE_fromFilter(ne);return ie instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(ie)?ie.getFilters():[ie]}(U.where));let q=[];U.orderBy&&(q=function(ne){return ne.map(ie=>function(de){return new OrderBy(__PRIVATE_fromFieldPathReference(de.field),function(pe){switch(pe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction))}(ie))}(U.orderBy));let K=null;U.limit&&(K=function(ne){let ie;return ie=typeof ne=="object"?ne.value:ne,__PRIVATE_isNullOrUndefined(ie)?null:ie}(U.limit));let Y=null;U.startAt&&(Y=function(ne){const ie=!!ne.before,se=ne.values||[];return new Bound(se,ie)}(U.startAt));let X=null;return U.endAt&&(X=function(ne){const ie=!ne.before,se=ne.values||[];return new Bound(se,ie)}(U.endAt)),__PRIVATE_newQuery(_,z,q,j,K,"F",Y,X)}function __PRIVATE_toListenRequestLabels(T,_){const U=function(z){switch(z){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(_.purpose);return U==null?null:{"goog-listen-tags":U}}function __PRIVATE_fromFilter(T){return T.unaryFilter!==void 0?function(U){switch(U.unaryFilter.op){case"IS_NAN":const H=__PRIVATE_fromFieldPathReference(U.unaryFilter.field);return FieldFilter.create(H,"==",{doubleValue:NaN});case"IS_NULL":const z=__PRIVATE_fromFieldPathReference(U.unaryFilter.field);return FieldFilter.create(z,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const j=__PRIVATE_fromFieldPathReference(U.unaryFilter.field);return FieldFilter.create(j,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const q=__PRIVATE_fromFieldPathReference(U.unaryFilter.field);return FieldFilter.create(q,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(T):T.fieldFilter!==void 0?function(U){return FieldFilter.create(__PRIVATE_fromFieldPathReference(U.fieldFilter.field),function(z){switch(z){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(U.fieldFilter.op),U.fieldFilter.value)}(T):T.compositeFilter!==void 0?function(U){return CompositeFilter.create(U.compositeFilter.filters.map(H=>__PRIVATE_fromFilter(H)),function(z){switch(z){case"AND":return"and";case"OR":return"or";default:return fail()}}(U.compositeFilter.op))}(T):fail()}function __PRIVATE_toDirection(T){return Vt[T]}function __PRIVATE_toOperatorName(T){return mt[T]}function __PRIVATE_toCompositeOperatorName(T){return ft[T]}function __PRIVATE_toFieldPathReference(T){return{fieldPath:T.canonicalString()}}function __PRIVATE_fromFieldPathReference(T){return FieldPath$1.fromServerFormat(T.fieldPath)}function __PRIVATE_toFilter(T){return T instanceof FieldFilter?function(U){if(U.op==="=="){if(__PRIVATE_isNanValue(U.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(U.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(U.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(U.field),op:"IS_NULL"}}}else if(U.op==="!="){if(__PRIVATE_isNanValue(U.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(U.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(U.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(U.field),op:__PRIVATE_toOperatorName(U.op),value:U.value}}}(T):T instanceof CompositeFilter?function(U){const H=U.getFilters().map(z=>__PRIVATE_toFilter(z));return H.length===1?H[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(U.op),filters:H}}}(T):fail()}function __PRIVATE_toDocumentMask(T){const _=[];return T.fields.forEach(U=>_.push(U.canonicalString())),{fieldPaths:_}}function __PRIVATE_isValidResourceName(T){return T.length>=4&&T.get(0)==="projects"&&T.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(_,U,H,z,j=SnapshotVersion.min(),q=SnapshotVersion.min(),K=ByteString.EMPTY_BYTE_STRING,Y=null){this.target=_,this.targetId=U,this.purpose=H,this.sequenceNumber=z,this.snapshotVersion=j,this.lastLimboFreeSnapshotVersion=q,this.resumeToken=K,this.expectedCount=Y}withSequenceNumber(_){return new TargetData(this.target,this.targetId,this.purpose,_,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(_,U){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,U,this.lastLimboFreeSnapshotVersion,_,null)}withExpectedCount(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,_)}withLastLimboFreeSnapshotVersion(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,_,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(_){this.Tt=_}}function __PRIVATE_fromBundledQuery(T){const _=__PRIVATE_convertQueryTargetToQuery({parent:T.parent,structuredQuery:T.structuredQuery});return T.limitType==="LAST"?__PRIVATE_queryWithLimit(_,_.limit,"L"):_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Tn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(_,U){return this.Tn.add(U),PersistencePromise.resolve()}getCollectionParents(_,U){return PersistencePromise.resolve(this.Tn.getEntries(U))}addFieldIndex(_,U){return PersistencePromise.resolve()}deleteFieldIndex(_,U){return PersistencePromise.resolve()}deleteAllFieldIndexes(_){return PersistencePromise.resolve()}createTargetIndexes(_,U){return PersistencePromise.resolve()}getDocumentsMatchingTarget(_,U){return PersistencePromise.resolve(null)}getIndexType(_,U){return PersistencePromise.resolve(0)}getFieldIndexes(_,U){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(_){return PersistencePromise.resolve(null)}getMinOffset(_,U){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(_,U){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(_,U,H){return PersistencePromise.resolve()}updateIndexEntries(_,U){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(_){const U=_.lastSegment(),H=_.popLast(),z=this.index[U]||new SortedSet(ResourcePath.comparator),j=!z.has(H);return this.index[U]=z.add(H),j}has(_){const U=_.lastSegment(),H=_.popLast(),z=this.index[U];return z&&z.has(H)}getEntries(_){return(this.index[_]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bt=41943040;class LruParams{static withCacheSize(_){return new LruParams(_,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(_,U,H){this.cacheSizeCollectionThreshold=_,this.percentileToCollect=U,this.maximumSequenceNumbersToCollect=H}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(bt,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(_){this.$n=_}next(){return this.$n+=2,this.$n}static Kn(){return new __PRIVATE_TargetIdGenerator(0)}static Un(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="LruGarbageCollector",Dt=1048576;function __PRIVATE_bufferEntryComparator([T,_],[U,H]){const z=__PRIVATE_primitiveComparator(T,U);return z===0?__PRIVATE_primitiveComparator(_,H):z}class __PRIVATE_RollingSequenceNumberBuffer{constructor(_){this.Hn=_,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Jn=0}Yn(){return++this.Jn}Zn(_){const U=[_,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(U);else{const H=this.buffer.last();__PRIVATE_bufferEntryComparator(U,H)<0&&(this.buffer=this.buffer.delete(H).add(U))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(_,U,H){this.garbageCollector=_,this.asyncQueue=U,this.localStore=H,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(_){__PRIVATE_logDebug(St,`Garbage collection scheduled in ${_}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",_,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(U){__PRIVATE_isIndexedDbTransactionError(U)?__PRIVATE_logDebug(St,"Ignoring IndexedDB error during garbage collection: ",U):await __PRIVATE_ignoreIfPrimaryLeaseLoss(U)}await this.er(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(_,U){this.tr=_,this.params=U}calculateTargetCount(_,U){return this.tr.nr(_).next(H=>Math.floor(U/100*H))}nthSequenceNumber(_,U){if(U===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ae);const H=new __PRIVATE_RollingSequenceNumberBuffer(U);return this.tr.forEachTarget(_,z=>H.Zn(z.sequenceNumber)).next(()=>this.tr.rr(_,z=>H.Zn(z))).next(()=>H.maxValue)}removeTargets(_,U,H){return this.tr.removeTargets(_,U,H)}removeOrphanedDocuments(_,U){return this.tr.removeOrphanedDocuments(_,U)}collect(_,U){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(wt)):this.getCacheSize(_).next(H=>H<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${H} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wt):this.ir(_,U))}getCacheSize(_){return this.tr.getCacheSize(_)}ir(_,U){let H,z,j,q,K,Y,X;const Z=Date.now();return this.calculateTargetCount(_,this.params.percentileToCollect).next(ne=>(ne>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ne}`),z=this.params.maximumSequenceNumbersToCollect):z=ne,q=Date.now(),this.nthSequenceNumber(_,z))).next(ne=>(H=ne,K=Date.now(),this.removeTargets(_,H,U))).next(ne=>(j=ne,Y=Date.now(),this.removeOrphanedDocuments(_,H))).next(ne=>(X=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${q-Z}ms
	Determined least recently used ${z} in `+(K-q)+`ms
	Removed ${j} targets in `+(Y-K)+`ms
	Removed ${ne} documents in `+(X-Y)+`ms
Total Duration: ${X-Z}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:z,targetsRemoved:j,documentsRemoved:ne})))}}function __PRIVATE_newLruGarbageCollector(T,_){return new __PRIVATE_LruGarbageCollectorImpl(T,_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(_=>_.toString(),(_,U)=>_.isEqual(U)),this.changesApplied=!1}addEntry(_){this.assertNotApplied(),this.changes.set(_.key,_)}removeEntry(_,U){this.assertNotApplied(),this.changes.set(_,MutableDocument.newInvalidDocument(_).setReadTime(U))}getEntry(_,U){this.assertNotApplied();const H=this.changes.get(U);return H!==void 0?PersistencePromise.resolve(H):this.getFromCache(_,U)}getEntries(_,U){return this.getAllFromCache(_,U)}apply(_){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(_)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(_,U){this.overlayedDocument=_,this.mutatedFields=U}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(_,U,H,z){this.remoteDocumentCache=_,this.mutationQueue=U,this.documentOverlayCache=H,this.indexManager=z}getDocument(_,U){let H=null;return this.documentOverlayCache.getOverlay(_,U).next(z=>(H=z,this.remoteDocumentCache.getEntry(_,U))).next(z=>(H!==null&&__PRIVATE_mutationApplyToLocalView(H.mutation,z,FieldMask.empty(),Timestamp.now()),z))}getDocuments(_,U){return this.remoteDocumentCache.getEntries(_,U).next(H=>this.getLocalViewOfDocuments(_,H,__PRIVATE_documentKeySet()).next(()=>H))}getLocalViewOfDocuments(_,U,H=__PRIVATE_documentKeySet()){const z=__PRIVATE_newOverlayMap();return this.populateOverlays(_,z,U).next(()=>this.computeViews(_,U,z,H).next(j=>{let q=documentMap();return j.forEach((K,Y)=>{q=q.insert(K,Y.overlayedDocument)}),q}))}getOverlayedDocuments(_,U){const H=__PRIVATE_newOverlayMap();return this.populateOverlays(_,H,U).next(()=>this.computeViews(_,U,H,__PRIVATE_documentKeySet()))}populateOverlays(_,U,H){const z=[];return H.forEach(j=>{U.has(j)||z.push(j)}),this.documentOverlayCache.getOverlays(_,z).next(j=>{j.forEach((q,K)=>{U.set(q,K)})})}computeViews(_,U,H,z){let j=__PRIVATE_mutableDocumentMap();const q=__PRIVATE_newDocumentKeyMap(),K=function(){return __PRIVATE_newDocumentKeyMap()}();return U.forEach((Y,X)=>{const Z=H.get(X.key);z.has(X.key)&&(Z===void 0||Z.mutation instanceof __PRIVATE_PatchMutation)?j=j.insert(X.key,X):Z!==void 0?(q.set(X.key,Z.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Z.mutation,X,Z.mutation.getFieldMask(),Timestamp.now())):q.set(X.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(_,j).next(Y=>(Y.forEach((X,Z)=>q.set(X,Z)),U.forEach((X,Z)=>{var ne;return K.set(X,new OverlayedDocument(Z,(ne=q.get(X))!==null&&ne!==void 0?ne:null))}),K))}recalculateAndSaveOverlays(_,U){const H=__PRIVATE_newDocumentKeyMap();let z=new SortedMap((q,K)=>q-K),j=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(_,U).next(q=>{for(const K of q)K.keys().forEach(Y=>{const X=U.get(Y);if(X===null)return;let Z=H.get(Y)||FieldMask.empty();Z=K.applyToLocalView(X,Z),H.set(Y,Z);const ne=(z.get(K.batchId)||__PRIVATE_documentKeySet()).add(Y);z=z.insert(K.batchId,ne)})}).next(()=>{const q=[],K=z.getReverseIterator();for(;K.hasNext();){const Y=K.getNext(),X=Y.key,Z=Y.value,ne=__PRIVATE_newMutationMap();Z.forEach(ie=>{if(!j.has(ie)){const se=__PRIVATE_calculateOverlayMutation(U.get(ie),H.get(ie));se!==null&&ne.set(ie,se),j=j.add(ie)}}),q.push(this.documentOverlayCache.saveOverlays(_,X,ne))}return PersistencePromise.waitFor(q)}).next(()=>H)}recalculateAndSaveOverlaysForDocumentKeys(_,U){return this.remoteDocumentCache.getEntries(_,U).next(H=>this.recalculateAndSaveOverlays(_,H))}getDocumentsMatchingQuery(_,U,H,z){return function(q){return DocumentKey.isDocumentKey(q.path)&&q.collectionGroup===null&&q.filters.length===0}(U)?this.getDocumentsMatchingDocumentQuery(_,U.path):__PRIVATE_isCollectionGroupQuery(U)?this.getDocumentsMatchingCollectionGroupQuery(_,U,H,z):this.getDocumentsMatchingCollectionQuery(_,U,H,z)}getNextDocuments(_,U,H,z){return this.remoteDocumentCache.getAllFromCollectionGroup(_,U,H,z).next(j=>{const q=z-j.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(_,U,H.largestBatchId,z-j.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let K=N,Y=j;return q.next(X=>PersistencePromise.forEach(X,(Z,ne)=>(K<ne.largestBatchId&&(K=ne.largestBatchId),j.get(Z)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(_,Z).next(ie=>{Y=Y.insert(Z,ie)}))).next(()=>this.populateOverlays(_,X,j)).next(()=>this.computeViews(_,Y,X,__PRIVATE_documentKeySet())).next(Z=>({batchId:K,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Z)})))})}getDocumentsMatchingDocumentQuery(_,U){return this.getDocument(_,new DocumentKey(U)).next(H=>{let z=documentMap();return H.isFoundDocument()&&(z=z.insert(H.key,H)),z})}getDocumentsMatchingCollectionGroupQuery(_,U,H,z){const j=U.collectionGroup;let q=documentMap();return this.indexManager.getCollectionParents(_,j).next(K=>PersistencePromise.forEach(K,Y=>{const X=function(ne,ie){return new __PRIVATE_QueryImpl(ie,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt)}(U,Y.child(j));return this.getDocumentsMatchingCollectionQuery(_,X,H,z).next(Z=>{Z.forEach((ne,ie)=>{q=q.insert(ne,ie)})})}).next(()=>q))}getDocumentsMatchingCollectionQuery(_,U,H,z){let j;return this.documentOverlayCache.getOverlaysForCollection(_,U.path,H.largestBatchId).next(q=>(j=q,this.remoteDocumentCache.getDocumentsMatchingQuery(_,U,H,j,z))).next(q=>{j.forEach((Y,X)=>{const Z=X.getKey();q.get(Z)===null&&(q=q.insert(Z,MutableDocument.newInvalidDocument(Z)))});let K=documentMap();return q.forEach((Y,X)=>{const Z=j.get(Y);Z!==void 0&&__PRIVATE_mutationApplyToLocalView(Z.mutation,X,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(U,X)&&(K=K.insert(Y,X))}),K})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(_){this.serializer=_,this.dr=new Map,this.Ar=new Map}getBundleMetadata(_,U){return PersistencePromise.resolve(this.dr.get(U))}saveBundleMetadata(_,U){return this.dr.set(U.id,function(z){return{id:z.id,version:z.version,createTime:__PRIVATE_fromVersion(z.createTime)}}(U)),PersistencePromise.resolve()}getNamedQuery(_,U){return PersistencePromise.resolve(this.Ar.get(U))}saveNamedQuery(_,U){return this.Ar.set(U.name,function(z){return{name:z.name,query:__PRIVATE_fromBundledQuery(z.bundledQuery),readTime:__PRIVATE_fromVersion(z.readTime)}}(U)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Rr=new Map}getOverlay(_,U){return PersistencePromise.resolve(this.overlays.get(U))}getOverlays(_,U){const H=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(U,z=>this.getOverlay(_,z).next(j=>{j!==null&&H.set(z,j)})).next(()=>H)}saveOverlays(_,U,H){return H.forEach((z,j)=>{this.Et(_,U,j)}),PersistencePromise.resolve()}removeOverlaysForBatchId(_,U,H){const z=this.Rr.get(H);return z!==void 0&&(z.forEach(j=>this.overlays=this.overlays.remove(j)),this.Rr.delete(H)),PersistencePromise.resolve()}getOverlaysForCollection(_,U,H){const z=__PRIVATE_newOverlayMap(),j=U.length+1,q=new DocumentKey(U.child("")),K=this.overlays.getIteratorFrom(q);for(;K.hasNext();){const Y=K.getNext().value,X=Y.getKey();if(!U.isPrefixOf(X.path))break;X.path.length===j&&Y.largestBatchId>H&&z.set(Y.getKey(),Y)}return PersistencePromise.resolve(z)}getOverlaysForCollectionGroup(_,U,H,z){let j=new SortedMap((X,Z)=>X-Z);const q=this.overlays.getIterator();for(;q.hasNext();){const X=q.getNext().value;if(X.getKey().getCollectionGroup()===U&&X.largestBatchId>H){let Z=j.get(X.largestBatchId);Z===null&&(Z=__PRIVATE_newOverlayMap(),j=j.insert(X.largestBatchId,Z)),Z.set(X.getKey(),X)}}const K=__PRIVATE_newOverlayMap(),Y=j.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((X,Z)=>K.set(X,Z)),!(K.size()>=z)););return PersistencePromise.resolve(K)}Et(_,U,H){const z=this.overlays.get(H.key);if(z!==null){const q=this.Rr.get(z.largestBatchId).delete(H.key);this.Rr.set(z.largestBatchId,q)}this.overlays=this.overlays.insert(H.key,new Overlay(U,H));let j=this.Rr.get(U);j===void 0&&(j=__PRIVATE_documentKeySet(),this.Rr.set(U,j)),this.Rr.set(U,j.add(H.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(_){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(_,U){return this.sessionToken=U,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Vr=new SortedSet(__PRIVATE_DocReference.mr),this.gr=new SortedSet(__PRIVATE_DocReference.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(_,U){const H=new __PRIVATE_DocReference(_,U);this.Vr=this.Vr.add(H),this.gr=this.gr.add(H)}yr(_,U){_.forEach(H=>this.addReference(H,U))}removeReference(_,U){this.wr(new __PRIVATE_DocReference(_,U))}br(_,U){_.forEach(H=>this.removeReference(H,U))}Sr(_){const U=new DocumentKey(new ResourcePath([])),H=new __PRIVATE_DocReference(U,_),z=new __PRIVATE_DocReference(U,_+1),j=[];return this.gr.forEachInRange([H,z],q=>{this.wr(q),j.push(q.key)}),j}Dr(){this.Vr.forEach(_=>this.wr(_))}wr(_){this.Vr=this.Vr.delete(_),this.gr=this.gr.delete(_)}vr(_){const U=new DocumentKey(new ResourcePath([])),H=new __PRIVATE_DocReference(U,_),z=new __PRIVATE_DocReference(U,_+1);let j=__PRIVATE_documentKeySet();return this.gr.forEachInRange([H,z],q=>{j=j.add(q.key)}),j}containsKey(_){const U=new __PRIVATE_DocReference(_,0),H=this.Vr.firstAfterOrEqual(U);return H!==null&&_.isEqual(H.key)}}class __PRIVATE_DocReference{constructor(_,U){this.key=_,this.Cr=U}static mr(_,U){return DocumentKey.comparator(_.key,U.key)||__PRIVATE_primitiveComparator(_.Cr,U.Cr)}static pr(_,U){return __PRIVATE_primitiveComparator(_.Cr,U.Cr)||DocumentKey.comparator(_.key,U.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(_,U){this.indexManager=_,this.referenceDelegate=U,this.mutationQueue=[],this.Fr=1,this.Mr=new SortedSet(__PRIVATE_DocReference.mr)}checkEmpty(_){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(_,U,H,z){const j=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const q=new MutationBatch(j,U,H,z);this.mutationQueue.push(q);for(const K of z)this.Mr=this.Mr.add(new __PRIVATE_DocReference(K.key,j)),this.indexManager.addToCollectionParentIndex(_,K.key.path.popLast());return PersistencePromise.resolve(q)}lookupMutationBatch(_,U){return PersistencePromise.resolve(this.Or(U))}getNextMutationBatchAfterBatchId(_,U){const H=U+1,z=this.Nr(H),j=z<0?0:z;return PersistencePromise.resolve(this.mutationQueue.length>j?this.mutationQueue[j]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?Q:this.Fr-1)}getAllMutationBatches(_){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(_,U){const H=new __PRIVATE_DocReference(U,0),z=new __PRIVATE_DocReference(U,Number.POSITIVE_INFINITY),j=[];return this.Mr.forEachInRange([H,z],q=>{const K=this.Or(q.Cr);j.push(K)}),PersistencePromise.resolve(j)}getAllMutationBatchesAffectingDocumentKeys(_,U){let H=new SortedSet(__PRIVATE_primitiveComparator);return U.forEach(z=>{const j=new __PRIVATE_DocReference(z,0),q=new __PRIVATE_DocReference(z,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([j,q],K=>{H=H.add(K.Cr)})}),PersistencePromise.resolve(this.Br(H))}getAllMutationBatchesAffectingQuery(_,U){const H=U.path,z=H.length+1;let j=H;DocumentKey.isDocumentKey(j)||(j=j.child(""));const q=new __PRIVATE_DocReference(new DocumentKey(j),0);let K=new SortedSet(__PRIVATE_primitiveComparator);return this.Mr.forEachWhile(Y=>{const X=Y.key.path;return!!H.isPrefixOf(X)&&(X.length===z&&(K=K.add(Y.Cr)),!0)},q),PersistencePromise.resolve(this.Br(K))}Br(_){const U=[];return _.forEach(H=>{const z=this.Or(H);z!==null&&U.push(z)}),U}removeMutationBatch(_,U){__PRIVATE_hardAssert(this.Lr(U.batchId,"removed")===0),this.mutationQueue.shift();let H=this.Mr;return PersistencePromise.forEach(U.mutations,z=>{const j=new __PRIVATE_DocReference(z.key,U.batchId);return H=H.delete(j),this.referenceDelegate.markPotentiallyOrphaned(_,z.key)}).next(()=>{this.Mr=H})}qn(_){}containsKey(_,U){const H=new __PRIVATE_DocReference(U,0),z=this.Mr.firstAfterOrEqual(H);return PersistencePromise.resolve(U.isEqual(z&&z.key))}performConsistencyCheck(_){return this.mutationQueue.length,PersistencePromise.resolve()}Lr(_,U){return this.Nr(_)}Nr(_){return this.mutationQueue.length===0?0:_-this.mutationQueue[0].batchId}Or(_){const U=this.Nr(_);return U<0||U>=this.mutationQueue.length?null:this.mutationQueue[U]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(_){this.kr=_,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(_){this.indexManager=_}addEntry(_,U){const H=U.key,z=this.docs.get(H),j=z?z.size:0,q=this.kr(U);return this.docs=this.docs.insert(H,{document:U.mutableCopy(),size:q}),this.size+=q-j,this.indexManager.addToCollectionParentIndex(_,H.path.popLast())}removeEntry(_){const U=this.docs.get(_);U&&(this.docs=this.docs.remove(_),this.size-=U.size)}getEntry(_,U){const H=this.docs.get(U);return PersistencePromise.resolve(H?H.document.mutableCopy():MutableDocument.newInvalidDocument(U))}getEntries(_,U){let H=__PRIVATE_mutableDocumentMap();return U.forEach(z=>{const j=this.docs.get(z);H=H.insert(z,j?j.document.mutableCopy():MutableDocument.newInvalidDocument(z))}),PersistencePromise.resolve(H)}getDocumentsMatchingQuery(_,U,H,z){let j=__PRIVATE_mutableDocumentMap();const q=U.path,K=new DocumentKey(q.child("__id-9223372036854775808__")),Y=this.docs.getIteratorFrom(K);for(;Y.hasNext();){const{key:X,value:{document:Z}}=Y.getNext();if(!q.isPrefixOf(X.path))break;X.path.length>q.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Z),H)<=0||(z.has(Z.key)||__PRIVATE_queryMatches(U,Z))&&(j=j.insert(Z.key,Z.mutableCopy()))}return PersistencePromise.resolve(j)}getAllFromCollectionGroup(_,U,H,z){fail()}qr(_,U){return PersistencePromise.forEach(this.docs,H=>U(H))}newChangeBuffer(_){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(_){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(_){super(),this.Ir=_}applyChanges(_){const U=[];return this.changes.forEach((H,z)=>{z.isValidDocument()?U.push(this.Ir.addEntry(_,z)):this.Ir.removeEntry(H)}),PersistencePromise.waitFor(U)}getFromCache(_,U){return this.Ir.getEntry(_,U)}getAllFromCache(_,U){return this.Ir.getEntries(_,U)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(_){this.persistence=_,this.Qr=new ObjectMap(U=>__PRIVATE_canonifyTarget(U),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.$r=0,this.Kr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Ur=__PRIVATE_TargetIdGenerator.Kn()}forEachTarget(_,U){return this.Qr.forEach((H,z)=>U(z)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(_){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(_){return PersistencePromise.resolve(this.$r)}allocateTargetId(_){return this.highestTargetId=this.Ur.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(_,U,H){return H&&(this.lastRemoteSnapshotVersion=H),U>this.$r&&(this.$r=U),PersistencePromise.resolve()}zn(_){this.Qr.set(_.target,_);const U=_.targetId;U>this.highestTargetId&&(this.Ur=new __PRIVATE_TargetIdGenerator(U),this.highestTargetId=U),_.sequenceNumber>this.$r&&(this.$r=_.sequenceNumber)}addTargetData(_,U){return this.zn(U),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(_,U){return this.zn(U),PersistencePromise.resolve()}removeTargetData(_,U){return this.Qr.delete(U.target),this.Kr.Sr(U.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(_,U,H){let z=0;const j=[];return this.Qr.forEach((q,K)=>{K.sequenceNumber<=U&&H.get(K.targetId)===null&&(this.Qr.delete(q),j.push(this.removeMatchingKeysForTargetId(_,K.targetId)),z++)}),PersistencePromise.waitFor(j).next(()=>z)}getTargetCount(_){return PersistencePromise.resolve(this.targetCount)}getTargetData(_,U){const H=this.Qr.get(U)||null;return PersistencePromise.resolve(H)}addMatchingKeys(_,U,H){return this.Kr.yr(U,H),PersistencePromise.resolve()}removeMatchingKeys(_,U,H){this.Kr.br(U,H);const z=this.persistence.referenceDelegate,j=[];return z&&U.forEach(q=>{j.push(z.markPotentiallyOrphaned(_,q))}),PersistencePromise.waitFor(j)}removeMatchingKeysForTargetId(_,U){return this.Kr.Sr(U),PersistencePromise.resolve()}getMatchingKeysForTargetId(_,U){const H=this.Kr.vr(U);return PersistencePromise.resolve(H)}containsKey(_,U){return PersistencePromise.resolve(this.Kr.containsKey(U))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(_,U){this.Wr={},this.overlays={},this.Gr=new __PRIVATE_ListenSequence(0),this.zr=!1,this.zr=!0,this.jr=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=_(this),this.Hr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(z){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(z)}(H=>this.referenceDelegate.Jr(H)),this.serializer=new __PRIVATE_LocalSerializer(U),this.Yr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(_){return this.indexManager}getDocumentOverlayCache(_){let U=this.overlays[_.toKey()];return U||(U=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[_.toKey()]=U),U}getMutationQueue(_,U){let H=this.Wr[_.toKey()];return H||(H=new __PRIVATE_MemoryMutationQueue(U,this.referenceDelegate),this.Wr[_.toKey()]=H),H}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(_,U,H){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",_);const z=new __PRIVATE_MemoryTransaction(this.Gr.next());return this.referenceDelegate.Zr(),H(z).next(j=>this.referenceDelegate.Xr(z).next(()=>j)).toPromise().then(j=>(z.raiseOnCommittedEvent(),j))}ei(_,U){return PersistencePromise.or(Object.values(this.Wr).map(H=>()=>H.containsKey(_,U)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(_){super(),this.currentSequenceNumber=_}}class __PRIVATE_MemoryEagerDelegate{constructor(_){this.persistence=_,this.ti=new __PRIVATE_ReferenceSet,this.ni=null}static ri(_){return new __PRIVATE_MemoryEagerDelegate(_)}get ii(){if(this.ni)return this.ni;throw fail()}addReference(_,U,H){return this.ti.addReference(H,U),this.ii.delete(H.toString()),PersistencePromise.resolve()}removeReference(_,U,H){return this.ti.removeReference(H,U),this.ii.add(H.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(_,U){return this.ii.add(U.toString()),PersistencePromise.resolve()}removeTarget(_,U){this.ti.Sr(U.targetId).forEach(z=>this.ii.add(z.toString()));const H=this.persistence.getTargetCache();return H.getMatchingKeysForTargetId(_,U.targetId).next(z=>{z.forEach(j=>this.ii.add(j.toString()))}).next(()=>H.removeTargetData(_,U))}Zr(){this.ni=new Set}Xr(_){const U=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.ii,H=>{const z=DocumentKey.fromPath(H);return this.si(_,z).next(j=>{j||U.removeEntry(z,SnapshotVersion.min())})}).next(()=>(this.ni=null,U.apply(_)))}updateLimboDocument(_,U){return this.si(_,U).next(H=>{H?this.ii.delete(U.toString()):this.ii.add(U.toString())})}Jr(_){return 0}si(_,U){return PersistencePromise.or([()=>PersistencePromise.resolve(this.ti.containsKey(U)),()=>this.persistence.getTargetCache().containsKey(_,U),()=>this.persistence.ei(_,U)])}}class __PRIVATE_MemoryLruDelegate{constructor(_,U){this.persistence=_,this.oi=new ObjectMap(H=>__PRIVATE_encodeResourcePath(H.path),(H,z)=>H.isEqual(z)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,U)}static ri(_,U){return new __PRIVATE_MemoryLruDelegate(_,U)}Zr(){}Xr(_){return PersistencePromise.resolve()}forEachTarget(_,U){return this.persistence.getTargetCache().forEachTarget(_,U)}nr(_){const U=this.sr(_);return this.persistence.getTargetCache().getTargetCount(_).next(H=>U.next(z=>H+z))}sr(_){let U=0;return this.rr(_,H=>{U++}).next(()=>U)}rr(_,U){return PersistencePromise.forEach(this.oi,(H,z)=>this.ar(_,H,z).next(j=>j?PersistencePromise.resolve():U(z)))}removeTargets(_,U,H){return this.persistence.getTargetCache().removeTargets(_,U,H)}removeOrphanedDocuments(_,U){let H=0;const z=this.persistence.getRemoteDocumentCache(),j=z.newChangeBuffer();return z.qr(_,q=>this.ar(_,q,U).next(K=>{K||(H++,j.removeEntry(q,SnapshotVersion.min()))})).next(()=>j.apply(_)).next(()=>H)}markPotentiallyOrphaned(_,U){return this.oi.set(U,_.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(_,U){const H=U.withSequenceNumber(_.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(_,H)}addReference(_,U,H){return this.oi.set(H,_.currentSequenceNumber),PersistencePromise.resolve()}removeReference(_,U,H){return this.oi.set(H,_.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(_,U){return this.oi.set(U,_.currentSequenceNumber),PersistencePromise.resolve()}Jr(_){let U=_.key.toString().length;return _.isFoundDocument()&&(U+=__PRIVATE_estimateByteSize(_.data.value)),U}ar(_,U,H){return PersistencePromise.or([()=>this.persistence.ei(_,U),()=>this.persistence.getTargetCache().containsKey(_,U),()=>{const z=this.oi.get(U);return PersistencePromise.resolve(z!==void 0&&z>H)}])}getCacheSize(_){return this.persistence.getRemoteDocumentCache().getSize(_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(_,U,H,z){this.targetId=_,this.fromCache=U,this.Hi=H,this.Ji=z}static Yi(_,U){let H=__PRIVATE_documentKeySet(),z=__PRIVATE_documentKeySet();for(const j of U.docChanges)switch(j.type){case 0:H=H.add(j.doc.key);break;case 1:z=z.add(j.doc.key)}return new __PRIVATE_LocalViewChanges(_,U.fromCache,H,z)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(_){this._documentReadCount+=_}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(_,U){this.ns=_,this.indexManager=U,this.Zi=!0}getDocumentsMatchingQuery(_,U,H,z){const j={result:null};return this.rs(_,U).next(q=>{j.result=q}).next(()=>{if(!j.result)return this.ss(_,U,z,H).next(q=>{j.result=q})}).next(()=>{if(j.result)return;const q=new QueryContext;return this._s(_,U,q).next(K=>{if(j.result=K,this.Xi)return this.us(_,U,q,K.size)})}).next(()=>j.result)}us(_,U,H,z){return H.documentReadCount<this.es?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(U),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(U),"scans",H.documentReadCount,"local documents and returns",z,"documents as results."),H.documentReadCount>this.ts*z?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(U),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(_,__PRIVATE_queryToTarget(U))):PersistencePromise.resolve())}rs(_,U){if(__PRIVATE_queryMatchesAllDocuments(U))return PersistencePromise.resolve(null);let H=__PRIVATE_queryToTarget(U);return this.indexManager.getIndexType(_,H).next(z=>z===0?null:(U.limit!==null&&z===1&&(U=__PRIVATE_queryWithLimit(U,null,"F"),H=__PRIVATE_queryToTarget(U)),this.indexManager.getDocumentsMatchingTarget(_,H).next(j=>{const q=__PRIVATE_documentKeySet(...j);return this.ns.getDocuments(_,q).next(K=>this.indexManager.getMinOffset(_,H).next(Y=>{const X=this.cs(U,K);return this.ls(U,X,q,Y.readTime)?this.rs(_,__PRIVATE_queryWithLimit(U,null,"F")):this.hs(_,X,U,Y)}))})))}ss(_,U,H,z){return __PRIVATE_queryMatchesAllDocuments(U)||z.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ns.getDocuments(_,H).next(j=>{const q=this.cs(U,j);return this.ls(U,q,H,z)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",z.toString(),__PRIVATE_stringifyQuery(U)),this.hs(_,q,U,__PRIVATE_newIndexOffsetSuccessorFromReadTime(z,N)).next(K=>K))})}cs(_,U){let H=new SortedSet(__PRIVATE_newQueryComparator(_));return U.forEach((z,j)=>{__PRIVATE_queryMatches(_,j)&&(H=H.add(j))}),H}ls(_,U,H,z){if(_.limit===null)return!1;if(H.size!==U.size)return!0;const j=_.limitType==="F"?U.last():U.first();return!!j&&(j.hasPendingWrites||j.version.compareTo(z)>0)}_s(_,U,H){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(U)),this.ns.getDocumentsMatchingQuery(_,U,IndexOffset.min(),H)}hs(_,U,H,z){return this.ns.getDocumentsMatchingQuery(_,H,z).next(j=>(U.forEach(q=>{j=j.insert(q.key,q)}),j))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="LocalStore",Nt=3e8;class __PRIVATE_LocalStoreImpl{constructor(_,U,H,z){this.persistence=_,this.Ps=U,this.serializer=z,this.Ts=new SortedMap(__PRIVATE_primitiveComparator),this.Is=new ObjectMap(j=>__PRIVATE_canonifyTarget(j),__PRIVATE_targetEquals),this.Es=new Map,this.ds=_.getRemoteDocumentCache(),this.Hr=_.getTargetCache(),this.Yr=_.getBundleCache(),this.As(H)}As(_){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(_),this.indexManager=this.persistence.getIndexManager(_),this.mutationQueue=this.persistence.getMutationQueue(_,this.indexManager),this.localDocuments=new LocalDocumentsView(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(_){return this.persistence.runTransaction("Collect garbage","readwrite-primary",U=>_.collect(U,this.Ts))}}function __PRIVATE_newLocalStore(T,_,U,H){return new __PRIVATE_LocalStoreImpl(T,_,U,H)}async function __PRIVATE_localStoreHandleUserChange(T,_){const U=__PRIVATE_debugCast(T);return await U.persistence.runTransaction("Handle user change","readonly",H=>{let z;return U.mutationQueue.getAllMutationBatches(H).next(j=>(z=j,U.As(_),U.mutationQueue.getAllMutationBatches(H))).next(j=>{const q=[],K=[];let Y=__PRIVATE_documentKeySet();for(const X of z){q.push(X.batchId);for(const Z of X.mutations)Y=Y.add(Z.key)}for(const X of j){K.push(X.batchId);for(const Z of X.mutations)Y=Y.add(Z.key)}return U.localDocuments.getDocuments(H,Y).next(X=>({Rs:X,removedBatchIds:q,addedBatchIds:K}))})})}function __PRIVATE_localStoreAcknowledgeBatch(T,_){const U=__PRIVATE_debugCast(T);return U.persistence.runTransaction("Acknowledge batch","readwrite-primary",H=>{const z=_.batch.keys(),j=U.ds.newChangeBuffer({trackRemovals:!0});return function(K,Y,X,Z){const ne=X.batch,ie=ne.keys();let se=PersistencePromise.resolve();return ie.forEach(de=>{se=se.next(()=>Z.getEntry(Y,de)).next(Ee=>{const pe=X.docVersions.get(de);__PRIVATE_hardAssert(pe!==null),Ee.version.compareTo(pe)<0&&(ne.applyToRemoteDocument(Ee,X),Ee.isValidDocument()&&(Ee.setReadTime(X.commitVersion),Z.addEntry(Ee)))})}),se.next(()=>K.mutationQueue.removeMutationBatch(Y,ne))}(U,H,_,j).next(()=>j.apply(H)).next(()=>U.mutationQueue.performConsistencyCheck(H)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(H,z,_.batch.batchId)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,function(K){let Y=__PRIVATE_documentKeySet();for(let X=0;X<K.mutationResults.length;++X)K.mutationResults[X].transformResults.length>0&&(Y=Y.add(K.batch.mutations[X].key));return Y}(_))).next(()=>U.localDocuments.getDocuments(H,z))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(T){const _=__PRIVATE_debugCast(T);return _.persistence.runTransaction("Get last remote snapshot version","readonly",U=>_.Hr.getLastRemoteSnapshotVersion(U))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(T,_){const U=__PRIVATE_debugCast(T),H=_.snapshotVersion;let z=U.Ts;return U.persistence.runTransaction("Apply remote event","readwrite-primary",j=>{const q=U.ds.newChangeBuffer({trackRemovals:!0});z=U.Ts;const K=[];_.targetChanges.forEach((Z,ne)=>{const ie=z.get(ne);if(!ie)return;K.push(U.Hr.removeMatchingKeys(j,Z.removedDocuments,ne).next(()=>U.Hr.addMatchingKeys(j,Z.addedDocuments,ne)));let se=ie.withSequenceNumber(j.currentSequenceNumber);_.targetMismatches.get(ne)!==null?se=se.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Z.resumeToken.approximateByteSize()>0&&(se=se.withResumeToken(Z.resumeToken,H)),z=z.insert(ne,se),function(Ee,pe,le){return Ee.resumeToken.approximateByteSize()===0||pe.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=Nt?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0}(ie,se,Z)&&K.push(U.Hr.updateTargetData(j,se))});let Y=__PRIVATE_mutableDocumentMap(),X=__PRIVATE_documentKeySet();if(_.documentUpdates.forEach(Z=>{_.resolvedLimboDocuments.has(Z)&&K.push(U.persistence.referenceDelegate.updateLimboDocument(j,Z))}),K.push(__PRIVATE_populateDocumentChangeBuffer(j,q,_.documentUpdates).next(Z=>{Y=Z.Vs,X=Z.fs})),!H.isEqual(SnapshotVersion.min())){const Z=U.Hr.getLastRemoteSnapshotVersion(j).next(ne=>U.Hr.setTargetsMetadata(j,j.currentSequenceNumber,H));K.push(Z)}return PersistencePromise.waitFor(K).next(()=>q.apply(j)).next(()=>U.localDocuments.getLocalViewOfDocuments(j,Y,X)).next(()=>Y)}).then(j=>(U.Ts=z,j))}function __PRIVATE_populateDocumentChangeBuffer(T,_,U){let H=__PRIVATE_documentKeySet(),z=__PRIVATE_documentKeySet();return U.forEach(j=>H=H.add(j)),_.getEntries(T,H).next(j=>{let q=__PRIVATE_mutableDocumentMap();return U.forEach((K,Y)=>{const X=j.get(K);Y.isFoundDocument()!==X.isFoundDocument()&&(z=z.add(K)),Y.isNoDocument()&&Y.version.isEqual(SnapshotVersion.min())?(_.removeEntry(K,Y.readTime),q=q.insert(K,Y)):!X.isValidDocument()||Y.version.compareTo(X.version)>0||Y.version.compareTo(X.version)===0&&X.hasPendingWrites?(_.addEntry(Y),q=q.insert(K,Y)):__PRIVATE_logDebug(Ot,"Ignoring outdated watch update for ",K,". Current version:",X.version," Watch version:",Y.version)}),{Vs:q,fs:z}})}function __PRIVATE_localStoreGetNextMutationBatch(T,_){const U=__PRIVATE_debugCast(T);return U.persistence.runTransaction("Get next mutation batch","readonly",H=>(_===void 0&&(_=Q),U.mutationQueue.getNextMutationBatchAfterBatchId(H,_)))}function __PRIVATE_localStoreAllocateTarget(T,_){const U=__PRIVATE_debugCast(T);return U.persistence.runTransaction("Allocate target","readwrite",H=>{let z;return U.Hr.getTargetData(H,_).next(j=>j?(z=j,PersistencePromise.resolve(z)):U.Hr.allocateTargetId(H).next(q=>(z=new TargetData(_,q,"TargetPurposeListen",H.currentSequenceNumber),U.Hr.addTargetData(H,z).next(()=>z))))}).then(H=>{const z=U.Ts.get(H.targetId);return(z===null||H.snapshotVersion.compareTo(z.snapshotVersion)>0)&&(U.Ts=U.Ts.insert(H.targetId,H),U.Is.set(_,H.targetId)),H})}async function __PRIVATE_localStoreReleaseTarget(T,_,U){const H=__PRIVATE_debugCast(T),z=H.Ts.get(_),j=U?"readwrite":"readwrite-primary";try{U||await H.persistence.runTransaction("Release target",j,q=>H.persistence.referenceDelegate.removeTarget(q,z))}catch(q){if(!__PRIVATE_isIndexedDbTransactionError(q))throw q;__PRIVATE_logDebug(Ot,`Failed to update sequence numbers for target ${_}: ${q}`)}H.Ts=H.Ts.remove(_),H.Is.delete(z.target)}function __PRIVATE_localStoreExecuteQuery(T,_,U){const H=__PRIVATE_debugCast(T);let z=SnapshotVersion.min(),j=__PRIVATE_documentKeySet();return H.persistence.runTransaction("Execute query","readwrite",q=>function(Y,X,Z){const ne=__PRIVATE_debugCast(Y),ie=ne.Is.get(Z);return ie!==void 0?PersistencePromise.resolve(ne.Ts.get(ie)):ne.Hr.getTargetData(X,Z)}(H,q,__PRIVATE_queryToTarget(_)).next(K=>{if(K)return z=K.lastLimboFreeSnapshotVersion,H.Hr.getMatchingKeysForTargetId(q,K.targetId).next(Y=>{j=Y})}).next(()=>H.Ps.getDocumentsMatchingQuery(q,_,U?z:SnapshotVersion.min(),U?j:__PRIVATE_documentKeySet())).next(K=>(__PRIVATE_setMaxReadTime(H,__PRIVATE_queryCollectionGroup(_),K),{documents:K,gs:j})))}function __PRIVATE_setMaxReadTime(T,_,U){let H=T.Es.get(_)||SnapshotVersion.min();U.forEach((z,j)=>{j.readTime.compareTo(H)>0&&(H=j.readTime)}),T.Es.set(_,H)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Ds(_){this.activeTargetIds=this.activeTargetIds.add(_)}vs(_){this.activeTargetIds=this.activeTargetIds.delete(_)}Ss(){const _={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(_)}}class __PRIVATE_MemorySharedClientState{constructor(){this.ho=new __PRIVATE_LocalClientState,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(_){}updateMutationState(_,U,H){}addLocalQueryTarget(_,U=!0){return U&&this.ho.Ds(_),this.Po[_]||"not-current"}updateQueryState(_,U,H){this.Po[_]=U}removeLocalQueryTarget(_){this.ho.vs(_)}isLocalQueryTarget(_){return this.ho.activeTargetIds.has(_)}clearQueryState(_){delete this.Po[_]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(_){return this.ho.activeTargetIds.has(_)}start(){return this.ho=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(_,U,H){}setOnlineState(_){}shutdown(){}writeSequenceNumber(_){}notifyBundleLoaded(_){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{To(_){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(_){this.Vo.push(_)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){__PRIVATE_logDebug(Qt,"Network connectivity changed: AVAILABLE");for(const _ of this.Vo)_(0)}Ro(){__PRIVATE_logDebug(Qt,"Network connectivity changed: UNAVAILABLE");for(const _ of this.Vo)_(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=null;function __PRIVATE_generateUniqueDebugId(){return $t===null?$t=function(){return 268435456+Math.round(2147483648*Math.random())}():$t++,"0x"+$t.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="RestConnection",Ut={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get fo(){return!1}constructor(_){this.databaseInfo=_,this.databaseId=_.databaseId;const U=_.ssl?"https":"http",H=encodeURIComponent(this.databaseId.projectId),z=encodeURIComponent(this.databaseId.database);this.po=U+"://"+_.host,this.yo=`projects/${H}/databases/${z}`,this.wo=this.databaseId.database===rt?`project_id=${H}`:`project_id=${H}&database_id=${z}`}bo(_,U,H,z,j){const q=__PRIVATE_generateUniqueDebugId(),K=this.So(_,U.toUriEncodedString());__PRIVATE_logDebug(Kt,`Sending RPC '${_}' ${q}:`,K,H);const Y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(Y,z,j),this.vo(_,K,Y,H).then(X=>(__PRIVATE_logDebug(Kt,`Received RPC '${_}' ${q}: `,X),X),X=>{throw __PRIVATE_logWarn(Kt,`RPC '${_}' ${q} failed with error: `,X,"url: ",K,"request:",H),X})}Co(_,U,H,z,j,q){return this.bo(_,U,H,z,j)}Do(_,U,H){_["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+D}(),_["Content-Type"]="text/plain",this.databaseInfo.appId&&(_["X-Firebase-GMPID"]=this.databaseInfo.appId),U&&U.headers.forEach((z,j)=>_[j]=z),H&&H.headers.forEach((z,j)=>_[j]=z)}So(_,U){const H=Ut[_];return`${this.po}/v1/${U}:${H}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(_){this.Fo=_.Fo,this.Mo=_.Mo}xo(_){this.Oo=_}No(_){this.Bo=_}Lo(_){this.ko=_}onMessage(_){this.qo=_}close(){this.Mo()}send(_){this.Fo(_)}Qo(){this.Oo()}$o(){this.Bo()}Ko(_){this.ko(_)}Uo(_){this.qo(_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(_){super(_),this.forceLongPolling=_.forceLongPolling,this.autoDetectLongPolling=_.autoDetectLongPolling,this.useFetchStreams=_.useFetchStreams,this.longPollingOptions=_.longPollingOptions}vo(_,U,H,z){const j=__PRIVATE_generateUniqueDebugId();return new Promise((q,K)=>{const Y=new XhrIo;Y.setWithCredentials(!0),Y.listenOnce(EventType.COMPLETE,()=>{try{switch(Y.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const Z=Y.getResponseJson();__PRIVATE_logDebug(Wt,`XHR for RPC '${_}' ${j} received:`,JSON.stringify(Z)),q(Z);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Wt,`RPC '${_}' ${j} timed out`),K(new FirestoreError(C$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const ne=Y.getStatus();if(__PRIVATE_logDebug(Wt,`RPC '${_}' ${j} failed with status:`,ne,"response text:",Y.getResponseText()),ne>0){let ie=Y.getResponseJson();Array.isArray(ie)&&(ie=ie[0]);const se=ie==null?void 0:ie.error;if(se&&se.status&&se.message){const de=function(pe){const le=pe.toLowerCase().replace(/_/g,"-");return Object.values(C$1).indexOf(le)>=0?le:C$1.UNKNOWN}(se.status);K(new FirestoreError(de,se.message))}else K(new FirestoreError(C$1.UNKNOWN,"Server responded with status "+Y.getStatus()))}else K(new FirestoreError(C$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Wt,`RPC '${_}' ${j} completed.`)}});const X=JSON.stringify(z);__PRIVATE_logDebug(Wt,`RPC '${_}' ${j} sending request:`,z),Y.send(U,"POST",X,H,15)})}Wo(_,U,H){const z=__PRIVATE_generateUniqueDebugId(),j=[this.po,"/","google.firestore.v1.Firestore","/",_,"/channel"],q=createWebChannelTransport(),K=getStatEventTarget(),Y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;X!==void 0&&(Y.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(Y.useFetchStreams=!0),this.Do(Y.initMessageHeaders,U,H),Y.encodeInitMessageHeaders=!0;const Z=j.join("");__PRIVATE_logDebug(Wt,`Creating RPC '${_}' stream ${z}: ${Z}`,Y);const ne=q.createWebChannel(Z,Y);let ie=!1,se=!1;const de=new __PRIVATE_StreamBridge({Fo:pe=>{se?__PRIVATE_logDebug(Wt,`Not sending because RPC '${_}' stream ${z} is closed:`,pe):(ie||(__PRIVATE_logDebug(Wt,`Opening RPC '${_}' stream ${z} transport.`),ne.open(),ie=!0),__PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} sending:`,pe),ne.send(pe))},Mo:()=>ne.close()}),Ee=(pe,le,ue)=>{pe.listen(le,fe=>{try{ue(fe)}catch(ve){setTimeout(()=>{throw ve},0)}})};return Ee(ne,WebChannel.EventType.OPEN,()=>{se||(__PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} transport opened.`),de.Qo())}),Ee(ne,WebChannel.EventType.CLOSE,()=>{se||(se=!0,__PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} transport closed`),de.Ko())}),Ee(ne,WebChannel.EventType.ERROR,pe=>{se||(se=!0,__PRIVATE_logWarn(Wt,`RPC '${_}' stream ${z} transport errored:`,pe),de.Ko(new FirestoreError(C$1.UNAVAILABLE,"The operation could not be completed")))}),Ee(ne,WebChannel.EventType.MESSAGE,pe=>{var le;if(!se){const ue=pe.data[0];__PRIVATE_hardAssert(!!ue);const fe=ue,ve=(fe==null?void 0:fe.error)||((le=fe[0])===null||le===void 0?void 0:le.error);if(ve){__PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} received error:`,ve);const me=ve.status;let Ae=function(ce){const Se=Et[ce];if(Se!==void 0)return __PRIVATE_mapCodeFromRpcCode(Se)}(me),ae=ve.message;Ae===void 0&&(Ae=C$1.INTERNAL,ae="Unknown error status: "+me+" with message "+ve.message),se=!0,de.Ko(new FirestoreError(Ae,ae)),ne.close()}else __PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} received:`,ue),de.Uo(ue)}}),Ee(K,Event$1.STAT_EVENT,pe=>{pe.stat===Stat.PROXY?__PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} detected buffering proxy`):pe.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Wt,`RPC '${_}' stream ${z} detected no buffering proxy`)}),setTimeout(()=>{de.$o()},0),de}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(T){return new JsonProtoSerializer(T,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(_,U,H=1e3,z=1.5,j=6e4){this.Ti=_,this.timerId=U,this.Go=H,this.zo=z,this.jo=j,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(_){this.cancel();const U=Math.floor(this.Ho+this.e_()),H=Math.max(0,Date.now()-this.Yo),z=Math.max(0,U-H);z>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${z} ms (base delay: ${this.Ho} ms, delay with jitter: ${U} ms, last attempt: ${H} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,z,()=>(this.Yo=Date.now(),_())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="PersistentStream";class __PRIVATE_PersistentStream{constructor(_,U,H,z,j,q,K,Y){this.Ti=_,this.n_=H,this.r_=z,this.connection=j,this.authCredentialsProvider=q,this.appCheckCredentialsProvider=K,this.listener=Y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new __PRIVATE_ExponentialBackoff(_,U)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(_){this.E_(),this.stream.send(_)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(_,U){this.E_(),this.d_(),this.a_.cancel(),this.i_++,_!==4?this.a_.reset():U&&U.code===C$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(U.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):U&&U.code===C$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=_,await this.listener.Lo(U)}A_(){}auth(){this.state=1;const _=this.R_(this.i_),U=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([H,z])=>{this.i_===U&&this.V_(H,z)},H=>{_(()=>{const z=new FirestoreError(C$1.UNKNOWN,"Fetching auth token failed: "+H.message);return this.m_(z)})})}V_(_,U){const H=this.R_(this.i_);this.stream=this.f_(_,U),this.stream.xo(()=>{H(()=>this.listener.xo())}),this.stream.No(()=>{H(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(z=>{H(()=>this.m_(z))}),this.stream.onMessage(z=>{H(()=>++this.__==1?this.g_(z):this.onNext(z))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(_){return __PRIVATE_logDebug(Gt,`close with error: ${_}`),this.stream=null,this.close(4,_)}R_(_){return U=>{this.Ti.enqueueAndForget(()=>this.i_===_?U():(__PRIVATE_logDebug(Gt,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(_,U,H,z,j,q){super(_,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",U,H,z,q),this.serializer=j}f_(_,U){return this.connection.Wo("Listen",_,U)}g_(_){return this.onNext(_)}onNext(_){this.a_.reset();const U=__PRIVATE_fromWatchChange(this.serializer,_),H=function(j){if(!("targetChange"in j))return SnapshotVersion.min();const q=j.targetChange;return q.targetIds&&q.targetIds.length?SnapshotVersion.min():q.readTime?__PRIVATE_fromVersion(q.readTime):SnapshotVersion.min()}(_);return this.listener.p_(U,H)}y_(_){const U={};U.database=__PRIVATE_getEncodedDatabaseId(this.serializer),U.addTarget=function(j,q){let K;const Y=q.target;if(K=__PRIVATE_targetIsDocumentTarget(Y)?{documents:__PRIVATE_toDocumentsTarget(j,Y)}:{query:__PRIVATE_toQueryTarget(j,Y).ht},K.targetId=q.targetId,q.resumeToken.approximateByteSize()>0){K.resumeToken=__PRIVATE_toBytes(j,q.resumeToken);const X=__PRIVATE_toInt32Proto(j,q.expectedCount);X!==null&&(K.expectedCount=X)}else if(q.snapshotVersion.compareTo(SnapshotVersion.min())>0){K.readTime=toTimestamp(j,q.snapshotVersion.toTimestamp());const X=__PRIVATE_toInt32Proto(j,q.expectedCount);X!==null&&(K.expectedCount=X)}return K}(this.serializer,_);const H=__PRIVATE_toListenRequestLabels(this.serializer,_);H&&(U.labels=H),this.I_(U)}w_(_){const U={};U.database=__PRIVATE_getEncodedDatabaseId(this.serializer),U.removeTarget=_,this.I_(U)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(_,U,H,z,j,q){super(_,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",U,H,z,q),this.serializer=j}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(_,U){return this.connection.Wo("Write",_,U)}g_(_){return __PRIVATE_hardAssert(!!_.streamToken),this.lastStreamToken=_.streamToken,__PRIVATE_hardAssert(!_.writeResults||_.writeResults.length===0),this.listener.D_()}onNext(_){__PRIVATE_hardAssert(!!_.streamToken),this.lastStreamToken=_.streamToken,this.a_.reset();const U=__PRIVATE_fromWriteResults(_.writeResults,_.commitTime),H=__PRIVATE_fromVersion(_.commitTime);return this.listener.v_(H,U)}C_(){const _={};_.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.I_(_)}S_(_){const U={streamToken:this.lastStreamToken,writes:_.map(H=>toMutation(this.serializer,H))};this.I_(U)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(_,U,H,z){super(),this.authCredentials=_,this.appCheckCredentials=U,this.connection=H,this.serializer=z,this.F_=!1}M_(){if(this.F_)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.")}bo(_,U,H,z){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([j,q])=>this.connection.bo(_,__PRIVATE_toResourcePath(U,H),z,j,q)).catch(j=>{throw j.name==="FirebaseError"?(j.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),j):new FirestoreError(C$1.UNKNOWN,j.toString())})}Co(_,U,H,z,j){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([q,K])=>this.connection.Co(_,__PRIVATE_toResourcePath(U,H),z,q,K,j)).catch(q=>{throw q.name==="FirebaseError"?(q.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),q):new FirestoreError(C$1.UNKNOWN,q.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(_,U){this.asyncQueue=_,this.onlineStateHandler=U,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(_){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${_.toString()}`),this.L_("Offline")))}set(_){this.Q_(),this.x_=0,_==="Online"&&(this.N_=!1),this.L_(_)}L_(_){_!==this.state&&(this.state=_,this.onlineStateHandler(_))}k_(_){const U=`Could not reach Cloud Firestore backend. ${_}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(__PRIVATE_logError(U),this.N_=!1):__PRIVATE_logDebug("OnlineStateTracker",U)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(_,U,H,z,j){this.localStore=_,this.datastore=U,this.asyncQueue=H,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=j,this.z_.To(q=>{H.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(zt,"Restarting streams for network reachability change."),await async function(Y){const X=__PRIVATE_debugCast(Y);X.W_.add(4),await __PRIVATE_disableNetworkInternal(X),X.j_.set("Unknown"),X.W_.delete(4),await __PRIVATE_enableNetworkInternal(X)}(this))})}),this.j_=new __PRIVATE_OnlineStateTracker(H,z)}}async function __PRIVATE_enableNetworkInternal(T){if(__PRIVATE_canUseNetwork(T))for(const _ of T.G_)await _(!0)}async function __PRIVATE_disableNetworkInternal(T){for(const _ of T.G_)await _(!1)}function __PRIVATE_remoteStoreListen(T,_){const U=__PRIVATE_debugCast(T);U.U_.has(_.targetId)||(U.U_.set(_.targetId,_),__PRIVATE_shouldStartWatchStream(U)?__PRIVATE_startWatchStream(U):__PRIVATE_ensureWatchStream(U).c_()&&__PRIVATE_sendWatchRequest(U,_))}function __PRIVATE_remoteStoreUnlisten(T,_){const U=__PRIVATE_debugCast(T),H=__PRIVATE_ensureWatchStream(U);U.U_.delete(_),H.c_()&&__PRIVATE_sendUnwatchRequest(U,_),U.U_.size===0&&(H.c_()?H.P_():__PRIVATE_canUseNetwork(U)&&U.j_.set("Unknown"))}function __PRIVATE_sendWatchRequest(T,_){if(T.H_.Ne(_.targetId),_.resumeToken.approximateByteSize()>0||_.snapshotVersion.compareTo(SnapshotVersion.min())>0){const U=T.remoteSyncer.getRemoteKeysForTarget(_.targetId).size;_=_.withExpectedCount(U)}__PRIVATE_ensureWatchStream(T).y_(_)}function __PRIVATE_sendUnwatchRequest(T,_){T.H_.Ne(_),__PRIVATE_ensureWatchStream(T).w_(_)}function __PRIVATE_startWatchStream(T){T.H_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:_=>T.remoteSyncer.getRemoteKeysForTarget(_),lt:_=>T.U_.get(_)||null,it:()=>T.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(T).start(),T.j_.B_()}function __PRIVATE_shouldStartWatchStream(T){return __PRIVATE_canUseNetwork(T)&&!__PRIVATE_ensureWatchStream(T).u_()&&T.U_.size>0}function __PRIVATE_canUseNetwork(T){return __PRIVATE_debugCast(T).W_.size===0}function __PRIVATE_cleanUpWatchStreamState(T){T.H_=void 0}async function __PRIVATE_onWatchStreamConnected(T){T.j_.set("Online")}async function __PRIVATE_onWatchStreamOpen(T){T.U_.forEach((_,U)=>{__PRIVATE_sendWatchRequest(T,_)})}async function __PRIVATE_onWatchStreamClose(T,_){__PRIVATE_cleanUpWatchStreamState(T),__PRIVATE_shouldStartWatchStream(T)?(T.j_.q_(_),__PRIVATE_startWatchStream(T)):T.j_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(T,_,U){if(T.j_.set("Online"),_ instanceof __PRIVATE_WatchTargetChange&&_.state===2&&_.cause)try{await async function(z,j){const q=j.cause;for(const K of j.targetIds)z.U_.has(K)&&(await z.remoteSyncer.rejectListen(K,q),z.U_.delete(K),z.H_.removeTarget(K))}(T,_)}catch(H){__PRIVATE_logDebug(zt,"Failed to remove targets %s: %s ",_.targetIds.join(","),H),await __PRIVATE_disableNetworkUntilRecovery(T,H)}else if(_ instanceof __PRIVATE_DocumentWatchChange?T.H_.We(_):_ instanceof __PRIVATE_ExistenceFilterChange?T.H_.Ze(_):T.H_.je(_),!U.isEqual(SnapshotVersion.min()))try{const H=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(T.localStore);U.compareTo(H)>=0&&await function(j,q){const K=j.H_.ot(q);return K.targetChanges.forEach((Y,X)=>{if(Y.resumeToken.approximateByteSize()>0){const Z=j.U_.get(X);Z&&j.U_.set(X,Z.withResumeToken(Y.resumeToken,q))}}),K.targetMismatches.forEach((Y,X)=>{const Z=j.U_.get(Y);if(!Z)return;j.U_.set(Y,Z.withResumeToken(ByteString.EMPTY_BYTE_STRING,Z.snapshotVersion)),__PRIVATE_sendUnwatchRequest(j,Y);const ne=new TargetData(Z.target,Y,X,Z.sequenceNumber);__PRIVATE_sendWatchRequest(j,ne)}),j.remoteSyncer.applyRemoteEvent(K)}(T,U)}catch(H){__PRIVATE_logDebug(zt,"Failed to raise snapshot:",H),await __PRIVATE_disableNetworkUntilRecovery(T,H)}}async function __PRIVATE_disableNetworkUntilRecovery(T,_,U){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;T.W_.add(1),await __PRIVATE_disableNetworkInternal(T),T.j_.set("Offline"),U||(U=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(T.localStore)),T.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(zt,"Retrying IndexedDB access"),await U(),T.W_.delete(1),await __PRIVATE_enableNetworkInternal(T)})}function __PRIVATE_executeWithRecovery(T,_){return _().catch(U=>__PRIVATE_disableNetworkUntilRecovery(T,U,_))}async function __PRIVATE_fillWritePipeline(T){const _=__PRIVATE_debugCast(T),U=__PRIVATE_ensureWriteStream(_);let H=_.K_.length>0?_.K_[_.K_.length-1].batchId:Q;for(;__PRIVATE_canAddToWritePipeline(_);)try{const z=await __PRIVATE_localStoreGetNextMutationBatch(_.localStore,H);if(z===null){_.K_.length===0&&U.P_();break}H=z.batchId,__PRIVATE_addToWritePipeline(_,z)}catch(z){await __PRIVATE_disableNetworkUntilRecovery(_,z)}__PRIVATE_shouldStartWriteStream(_)&&__PRIVATE_startWriteStream(_)}function __PRIVATE_canAddToWritePipeline(T){return __PRIVATE_canUseNetwork(T)&&T.K_.length<10}function __PRIVATE_addToWritePipeline(T,_){T.K_.push(_);const U=__PRIVATE_ensureWriteStream(T);U.c_()&&U.b_&&U.S_(_.mutations)}function __PRIVATE_shouldStartWriteStream(T){return __PRIVATE_canUseNetwork(T)&&!__PRIVATE_ensureWriteStream(T).u_()&&T.K_.length>0}function __PRIVATE_startWriteStream(T){__PRIVATE_ensureWriteStream(T).start()}async function __PRIVATE_onWriteStreamOpen(T){__PRIVATE_ensureWriteStream(T).C_()}async function __PRIVATE_onWriteHandshakeComplete(T){const _=__PRIVATE_ensureWriteStream(T);for(const U of T.K_)_.S_(U.mutations)}async function __PRIVATE_onMutationResult(T,_,U){const H=T.K_.shift(),z=MutationBatchResult.from(H,_,U);await __PRIVATE_executeWithRecovery(T,()=>T.remoteSyncer.applySuccessfulWrite(z)),await __PRIVATE_fillWritePipeline(T)}async function __PRIVATE_onWriteStreamClose(T,_){_&&__PRIVATE_ensureWriteStream(T).b_&&await async function(H,z){if(function(q){return __PRIVATE_isPermanentError(q)&&q!==C$1.ABORTED}(z.code)){const j=H.K_.shift();__PRIVATE_ensureWriteStream(H).h_(),await __PRIVATE_executeWithRecovery(H,()=>H.remoteSyncer.rejectFailedWrite(j.batchId,z)),await __PRIVATE_fillWritePipeline(H)}}(T,_),__PRIVATE_shouldStartWriteStream(T)&&__PRIVATE_startWriteStream(T)}async function __PRIVATE_remoteStoreHandleCredentialChange(T,_){const U=__PRIVATE_debugCast(T);U.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(zt,"RemoteStore received new credentials");const H=__PRIVATE_canUseNetwork(U);U.W_.add(3),await __PRIVATE_disableNetworkInternal(U),H&&U.j_.set("Unknown"),await U.remoteSyncer.handleCredentialChange(_),U.W_.delete(3),await __PRIVATE_enableNetworkInternal(U)}async function __PRIVATE_remoteStoreApplyPrimaryState(T,_){const U=__PRIVATE_debugCast(T);_?(U.W_.delete(2),await __PRIVATE_enableNetworkInternal(U)):_||(U.W_.add(2),await __PRIVATE_disableNetworkInternal(U),U.j_.set("Unknown"))}function __PRIVATE_ensureWatchStream(T){return T.J_||(T.J_=function(U,H,z){const j=__PRIVATE_debugCast(U);return j.M_(),new __PRIVATE_PersistentListenStream(H,j.connection,j.authCredentials,j.appCheckCredentials,j.serializer,z)}(T.datastore,T.asyncQueue,{xo:__PRIVATE_onWatchStreamConnected.bind(null,T),No:__PRIVATE_onWatchStreamOpen.bind(null,T),Lo:__PRIVATE_onWatchStreamClose.bind(null,T),p_:__PRIVATE_onWatchStreamChange.bind(null,T)}),T.G_.push(async _=>{_?(T.J_.h_(),__PRIVATE_shouldStartWatchStream(T)?__PRIVATE_startWatchStream(T):T.j_.set("Unknown")):(await T.J_.stop(),__PRIVATE_cleanUpWatchStreamState(T))})),T.J_}function __PRIVATE_ensureWriteStream(T){return T.Y_||(T.Y_=function(U,H,z){const j=__PRIVATE_debugCast(U);return j.M_(),new __PRIVATE_PersistentWriteStream(H,j.connection,j.authCredentials,j.appCheckCredentials,j.serializer,z)}(T.datastore,T.asyncQueue,{xo:()=>Promise.resolve(),No:__PRIVATE_onWriteStreamOpen.bind(null,T),Lo:__PRIVATE_onWriteStreamClose.bind(null,T),D_:__PRIVATE_onWriteHandshakeComplete.bind(null,T),v_:__PRIVATE_onMutationResult.bind(null,T)}),T.G_.push(async _=>{_?(T.Y_.h_(),await __PRIVATE_fillWritePipeline(T)):(await T.Y_.stop(),T.K_.length>0&&(__PRIVATE_logDebug(zt,`Stopping write stream with ${T.K_.length} pending writes`),T.K_=[]))})),T.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(_,U,H,z,j){this.asyncQueue=_,this.timerId=U,this.targetTimeMs=H,this.op=z,this.removalCallback=j,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(q=>{})}get promise(){return this.deferred.promise}static createAndSchedule(_,U,H,z,j){const q=Date.now()+H,K=new DelayedOperation(_,U,q,z,j);return K.start(H),K}start(_){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),_)}skipDelay(){return this.handleDelayElapsed()}cancel(_){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C$1.CANCELLED,"Operation cancelled"+(_?": "+_:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(_=>this.deferred.resolve(_))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(T,_){if(__PRIVATE_logError("AsyncQueue",`${_}: ${T}`),__PRIVATE_isIndexedDbTransactionError(T))return new FirestoreError(C$1.UNAVAILABLE,`${_}: ${T}`);throw T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(_){return new DocumentSet(_.comparator)}constructor(_){this.comparator=_?(U,H)=>_(U,H)||DocumentKey.comparator(U.key,H.key):(U,H)=>DocumentKey.comparator(U.key,H.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(_){return this.keyedMap.get(_)!=null}get(_){return this.keyedMap.get(_)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(_){const U=this.keyedMap.get(_);return U?this.sortedSet.indexOf(U):-1}get size(){return this.sortedSet.size}forEach(_){this.sortedSet.inorderTraversal((U,H)=>(_(U),!1))}add(_){const U=this.delete(_.key);return U.copy(U.keyedMap.insert(_.key,_),U.sortedSet.insert(_,null))}delete(_){const U=this.get(_);return U?this.copy(this.keyedMap.remove(_),this.sortedSet.remove(U)):this}isEqual(_){if(!(_ instanceof DocumentSet)||this.size!==_.size)return!1;const U=this.sortedSet.getIterator(),H=_.sortedSet.getIterator();for(;U.hasNext();){const z=U.getNext().key,j=H.getNext().key;if(!z.isEqual(j))return!1}return!0}toString(){const _=[];return this.forEach(U=>{_.push(U.toString())}),_.length===0?"DocumentSet ()":`DocumentSet (
  `+_.join(`  
`)+`
)`}copy(_,U){const H=new DocumentSet;return H.comparator=this.comparator,H.keyedMap=_,H.sortedSet=U,H}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.Z_=new SortedMap(DocumentKey.comparator)}track(_){const U=_.doc.key,H=this.Z_.get(U);H?_.type!==0&&H.type===3?this.Z_=this.Z_.insert(U,_):_.type===3&&H.type!==1?this.Z_=this.Z_.insert(U,{type:H.type,doc:_.doc}):_.type===2&&H.type===2?this.Z_=this.Z_.insert(U,{type:2,doc:_.doc}):_.type===2&&H.type===0?this.Z_=this.Z_.insert(U,{type:0,doc:_.doc}):_.type===1&&H.type===0?this.Z_=this.Z_.remove(U):_.type===1&&H.type===2?this.Z_=this.Z_.insert(U,{type:1,doc:H.doc}):_.type===0&&H.type===1?this.Z_=this.Z_.insert(U,{type:2,doc:_.doc}):fail():this.Z_=this.Z_.insert(U,_)}X_(){const _=[];return this.Z_.inorderTraversal((U,H)=>{_.push(H)}),_}}class ViewSnapshot{constructor(_,U,H,z,j,q,K,Y,X){this.query=_,this.docs=U,this.oldDocs=H,this.docChanges=z,this.mutatedKeys=j,this.fromCache=q,this.syncStateChanged=K,this.excludesMetadataChanges=Y,this.hasCachedResults=X}static fromInitialDocuments(_,U,H,z,j){const q=[];return U.forEach(K=>{q.push({type:0,doc:K})}),new ViewSnapshot(_,U,DocumentSet.emptySet(U),q,H,z,!0,!1,j)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(_){if(!(this.fromCache===_.fromCache&&this.hasCachedResults===_.hasCachedResults&&this.syncStateChanged===_.syncStateChanged&&this.mutatedKeys.isEqual(_.mutatedKeys)&&__PRIVATE_queryEquals(this.query,_.query)&&this.docs.isEqual(_.docs)&&this.oldDocs.isEqual(_.oldDocs)))return!1;const U=this.docChanges,H=_.docChanges;if(U.length!==H.length)return!1;for(let z=0;z<U.length;z++)if(U[z].type!==H[z].type||!U[z].doc.isEqual(H[z].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(_=>_.ra())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(U,H){const z=__PRIVATE_debugCast(U),j=z.queries;z.queries=__PRIVATE_newQueriesObjectMap(),j.forEach((q,K)=>{for(const Y of K.ta)Y.onError(H)})})(this,new FirestoreError(C$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(T=>__PRIVATE_canonifyQuery(T),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(T,_){const U=__PRIVATE_debugCast(T);let H=3;const z=_.query;let j=U.queries.get(z);j?!j.na()&&_.ra()&&(H=2):(j=new __PRIVATE_QueryListenersInfo,H=_.ra()?0:1);try{switch(H){case 0:j.ea=await U.onListen(z,!0);break;case 1:j.ea=await U.onListen(z,!1);break;case 2:await U.onFirstRemoteStoreListen(z)}}catch(q){const K=__PRIVATE_wrapInUserErrorIfRecoverable(q,`Initialization of query '${__PRIVATE_stringifyQuery(_.query)}' failed`);return void _.onError(K)}U.queries.set(z,j),j.ta.push(_),_.sa(U.onlineState),j.ea&&_.oa(j.ea)&&__PRIVATE_raiseSnapshotsInSyncEvent(U)}async function __PRIVATE_eventManagerUnlisten(T,_){const U=__PRIVATE_debugCast(T),H=_.query;let z=3;const j=U.queries.get(H);if(j){const q=j.ta.indexOf(_);q>=0&&(j.ta.splice(q,1),j.ta.length===0?z=_.ra()?0:1:!j.na()&&_.ra()&&(z=2))}switch(z){case 0:return U.queries.delete(H),U.onUnlisten(H,!0);case 1:return U.queries.delete(H),U.onUnlisten(H,!1);case 2:return U.onLastRemoteStoreUnlisten(H);default:return}}function __PRIVATE_eventManagerOnWatchChange(T,_){const U=__PRIVATE_debugCast(T);let H=!1;for(const z of _){const j=z.query,q=U.queries.get(j);if(q){for(const K of q.ta)K.oa(z)&&(H=!0);q.ea=z}}H&&__PRIVATE_raiseSnapshotsInSyncEvent(U)}function __PRIVATE_eventManagerOnWatchError(T,_,U){const H=__PRIVATE_debugCast(T),z=H.queries.get(_);if(z)for(const j of z.ta)j.onError(U);H.queries.delete(_)}function __PRIVATE_raiseSnapshotsInSyncEvent(T){T.ia.forEach(_=>{_.next()})}var jt,Ht;(Ht=jt||(jt={}))._a="default",Ht.Cache="cache";class __PRIVATE_QueryListener{constructor(_,U,H){this.query=_,this.aa=U,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=H||{}}oa(_){if(!this.options.includeMetadataChanges){const H=[];for(const z of _.docChanges)z.type!==3&&H.push(z);_=new ViewSnapshot(_.query,_.docs,_.oldDocs,H,_.mutatedKeys,_.fromCache,_.syncStateChanged,!0,_.hasCachedResults)}let U=!1;return this.ua?this.la(_)&&(this.aa.next(_),U=!0):this.ha(_,this.onlineState)&&(this.Pa(_),U=!0),this.ca=_,U}onError(_){this.aa.error(_)}sa(_){this.onlineState=_;let U=!1;return this.ca&&!this.ua&&this.ha(this.ca,_)&&(this.Pa(this.ca),U=!0),U}ha(_,U){if(!_.fromCache||!this.ra())return!0;const H=U!=="Offline";return(!this.options.Ta||!H)&&(!_.docs.isEmpty()||_.hasCachedResults||U==="Offline")}la(_){if(_.docChanges.length>0)return!0;const U=this.ca&&this.ca.hasPendingWrites!==_.hasPendingWrites;return!(!_.syncStateChanged&&!U)&&this.options.includeMetadataChanges===!0}Pa(_){_=ViewSnapshot.fromInitialDocuments(_.query,_.docs,_.mutatedKeys,_.fromCache,_.hasCachedResults),this.ua=!0,this.aa.next(_)}ra(){return this.options.source!==jt.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_RemovedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_View{constructor(_,U){this.query=_,this.fa=U,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ya=__PRIVATE_newQueryComparator(_),this.wa=new DocumentSet(this.ya)}get ba(){return this.fa}Sa(_,U){const H=U?U.Da:new __PRIVATE_DocumentChangeSet,z=U?U.wa:this.wa;let j=U?U.mutatedKeys:this.mutatedKeys,q=z,K=!1;const Y=this.query.limitType==="F"&&z.size===this.query.limit?z.last():null,X=this.query.limitType==="L"&&z.size===this.query.limit?z.first():null;if(_.inorderTraversal((Z,ne)=>{const ie=z.get(Z),se=__PRIVATE_queryMatches(this.query,ne)?ne:null,de=!!ie&&this.mutatedKeys.has(ie.key),Ee=!!se&&(se.hasLocalMutations||this.mutatedKeys.has(se.key)&&se.hasCommittedMutations);let pe=!1;ie&&se?ie.data.isEqual(se.data)?de!==Ee&&(H.track({type:3,doc:se}),pe=!0):this.va(ie,se)||(H.track({type:2,doc:se}),pe=!0,(Y&&this.ya(se,Y)>0||X&&this.ya(se,X)<0)&&(K=!0)):!ie&&se?(H.track({type:0,doc:se}),pe=!0):ie&&!se&&(H.track({type:1,doc:ie}),pe=!0,(Y||X)&&(K=!0)),pe&&(se?(q=q.add(se),j=Ee?j.add(Z):j.delete(Z)):(q=q.delete(Z),j=j.delete(Z)))}),this.query.limit!==null)for(;q.size>this.query.limit;){const Z=this.query.limitType==="F"?q.last():q.first();q=q.delete(Z.key),j=j.delete(Z.key),H.track({type:1,doc:Z})}return{wa:q,Da:H,ls:K,mutatedKeys:j}}va(_,U){return _.hasLocalMutations&&U.hasCommittedMutations&&!U.hasLocalMutations}applyChanges(_,U,H,z){const j=this.wa;this.wa=_.wa,this.mutatedKeys=_.mutatedKeys;const q=_.Da.X_();q.sort((Z,ne)=>function(se,de){const Ee=pe=>{switch(pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return Ee(se)-Ee(de)}(Z.type,ne.type)||this.ya(Z.doc,ne.doc)),this.Ca(H),z=z!=null&&z;const K=U&&!z?this.Fa():[],Y=this.pa.size===0&&this.current&&!z?1:0,X=Y!==this.ga;return this.ga=Y,q.length!==0||X?{snapshot:new ViewSnapshot(this.query,_.wa,j,q,_.mutatedKeys,Y===0,X,!1,!!H&&H.resumeToken.approximateByteSize()>0),Ma:K}:{Ma:K}}sa(_){return this.current&&_==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(_){return!this.fa.has(_)&&!!this.wa.has(_)&&!this.wa.get(_).hasLocalMutations}Ca(_){_&&(_.addedDocuments.forEach(U=>this.fa=this.fa.add(U)),_.modifiedDocuments.forEach(U=>{}),_.removedDocuments.forEach(U=>this.fa=this.fa.delete(U)),this.current=_.current)}Fa(){if(!this.current)return[];const _=this.pa;this.pa=__PRIVATE_documentKeySet(),this.wa.forEach(H=>{this.xa(H.key)&&(this.pa=this.pa.add(H.key))});const U=[];return _.forEach(H=>{this.pa.has(H)||U.push(new __PRIVATE_RemovedLimboDocument(H))}),this.pa.forEach(H=>{_.has(H)||U.push(new __PRIVATE_AddedLimboDocument(H))}),U}Oa(_){this.fa=_.gs,this.pa=__PRIVATE_documentKeySet();const U=this.Sa(_.documents);return this.applyChanges(U,!0)}Na(){return ViewSnapshot.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jt="SyncEngine";class __PRIVATE_QueryView{constructor(_,U,H){this.query=_,this.targetId=U,this.view=H}}class LimboResolution{constructor(_){this.key=_,this.Ba=!1}}class __PRIVATE_SyncEngineImpl{constructor(_,U,H,z,j,q){this.localStore=_,this.remoteStore=U,this.eventManager=H,this.sharedClientState=z,this.currentUser=j,this.maxConcurrentLimboResolutions=q,this.La={},this.ka=new ObjectMap(K=>__PRIVATE_canonifyQuery(K),__PRIVATE_queryEquals),this.qa=new Map,this.Qa=new Set,this.$a=new SortedMap(DocumentKey.comparator),this.Ka=new Map,this.Ua=new __PRIVATE_ReferenceSet,this.Wa={},this.Ga=new Map,this.za=__PRIVATE_TargetIdGenerator.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function __PRIVATE_syncEngineListen(T,_,U=!0){const H=__PRIVATE_ensureWatchCallbacks(T);let z;const j=H.ka.get(_);return j?(H.sharedClientState.addLocalQueryTarget(j.targetId),z=j.view.Na()):z=await __PRIVATE_allocateTargetAndMaybeListen(H,_,U,!0),z}async function __PRIVATE_triggerRemoteStoreListen(T,_){const U=__PRIVATE_ensureWatchCallbacks(T);await __PRIVATE_allocateTargetAndMaybeListen(U,_,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(T,_,U,H){const z=await __PRIVATE_localStoreAllocateTarget(T.localStore,__PRIVATE_queryToTarget(_)),j=z.targetId,q=T.sharedClientState.addLocalQueryTarget(j,U);let K;return H&&(K=await __PRIVATE_initializeViewAndComputeSnapshot(T,_,j,q==="current",z.resumeToken)),T.isPrimaryClient&&U&&__PRIVATE_remoteStoreListen(T.remoteStore,z),K}async function __PRIVATE_initializeViewAndComputeSnapshot(T,_,U,H,z){T.Ha=(ne,ie,se)=>async function(Ee,pe,le,ue){let fe=pe.view.Sa(le);fe.ls&&(fe=await __PRIVATE_localStoreExecuteQuery(Ee.localStore,pe.query,!1).then(({documents:ae})=>pe.view.Sa(ae,fe)));const ve=ue&&ue.targetChanges.get(pe.targetId),me=ue&&ue.targetMismatches.get(pe.targetId)!=null,Ae=pe.view.applyChanges(fe,Ee.isPrimaryClient,ve,me);return __PRIVATE_updateTrackedLimbos(Ee,pe.targetId,Ae.Ma),Ae.snapshot}(T,ne,ie,se);const j=await __PRIVATE_localStoreExecuteQuery(T.localStore,_,!0),q=new __PRIVATE_View(_,j.gs),K=q.Sa(j.documents),Y=TargetChange.createSynthesizedTargetChangeForCurrentChange(U,H&&T.onlineState!=="Offline",z),X=q.applyChanges(K,T.isPrimaryClient,Y);__PRIVATE_updateTrackedLimbos(T,U,X.Ma);const Z=new __PRIVATE_QueryView(_,U,q);return T.ka.set(_,Z),T.qa.has(U)?T.qa.get(U).push(_):T.qa.set(U,[_]),X.snapshot}async function __PRIVATE_syncEngineUnlisten(T,_,U){const H=__PRIVATE_debugCast(T),z=H.ka.get(_),j=H.qa.get(z.targetId);if(j.length>1)return H.qa.set(z.targetId,j.filter(q=>!__PRIVATE_queryEquals(q,_))),void H.ka.delete(_);H.isPrimaryClient?(H.sharedClientState.removeLocalQueryTarget(z.targetId),H.sharedClientState.isActiveQueryTarget(z.targetId)||await __PRIVATE_localStoreReleaseTarget(H.localStore,z.targetId,!1).then(()=>{H.sharedClientState.clearQueryState(z.targetId),U&&__PRIVATE_remoteStoreUnlisten(H.remoteStore,z.targetId),__PRIVATE_removeAndCleanupTarget(H,z.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(H,z.targetId),await __PRIVATE_localStoreReleaseTarget(H.localStore,z.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(T,_){const U=__PRIVATE_debugCast(T),H=U.ka.get(_),z=U.qa.get(H.targetId);U.isPrimaryClient&&z.length===1&&(U.sharedClientState.removeLocalQueryTarget(H.targetId),__PRIVATE_remoteStoreUnlisten(U.remoteStore,H.targetId))}async function __PRIVATE_syncEngineWrite(T,_,U){const H=__PRIVATE_syncEngineEnsureWriteCallbacks(T);try{const z=await function(q,K){const Y=__PRIVATE_debugCast(q),X=Timestamp.now(),Z=K.reduce((se,de)=>se.add(de.key),__PRIVATE_documentKeySet());let ne,ie;return Y.persistence.runTransaction("Locally write mutations","readwrite",se=>{let de=__PRIVATE_mutableDocumentMap(),Ee=__PRIVATE_documentKeySet();return Y.ds.getEntries(se,Z).next(pe=>{de=pe,de.forEach((le,ue)=>{ue.isValidDocument()||(Ee=Ee.add(le))})}).next(()=>Y.localDocuments.getOverlayedDocuments(se,de)).next(pe=>{ne=pe;const le=[];for(const ue of K){const fe=__PRIVATE_mutationExtractBaseValue(ue,ne.get(ue.key).overlayedDocument);fe!=null&&le.push(new __PRIVATE_PatchMutation(ue.key,fe,__PRIVATE_extractFieldMask(fe.value.mapValue),Precondition.exists(!0)))}return Y.mutationQueue.addMutationBatch(se,X,le,K)}).next(pe=>{ie=pe;const le=pe.applyToLocalDocumentSet(ne,Ee);return Y.documentOverlayCache.saveOverlays(se,pe.batchId,le)})}).then(()=>({batchId:ie.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ne)}))}(H.localStore,_);H.sharedClientState.addPendingMutation(z.batchId),function(q,K,Y){let X=q.Wa[q.currentUser.toKey()];X||(X=new SortedMap(__PRIVATE_primitiveComparator)),X=X.insert(K,Y),q.Wa[q.currentUser.toKey()]=X}(H,z.batchId,U),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(H,z.changes),await __PRIVATE_fillWritePipeline(H.remoteStore)}catch(z){const j=__PRIVATE_wrapInUserErrorIfRecoverable(z,"Failed to persist write");U.reject(j)}}async function __PRIVATE_syncEngineApplyRemoteEvent(T,_){const U=__PRIVATE_debugCast(T);try{const H=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(U.localStore,_);_.targetChanges.forEach((z,j)=>{const q=U.Ka.get(j);q&&(__PRIVATE_hardAssert(z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size<=1),z.addedDocuments.size>0?q.Ba=!0:z.modifiedDocuments.size>0?__PRIVATE_hardAssert(q.Ba):z.removedDocuments.size>0&&(__PRIVATE_hardAssert(q.Ba),q.Ba=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(U,H,_)}catch(H){await __PRIVATE_ignoreIfPrimaryLeaseLoss(H)}}function __PRIVATE_syncEngineApplyOnlineStateChange(T,_,U){const H=__PRIVATE_debugCast(T);if(H.isPrimaryClient&&U===0||!H.isPrimaryClient&&U===1){const z=[];H.ka.forEach((j,q)=>{const K=q.view.sa(_);K.snapshot&&z.push(K.snapshot)}),function(q,K){const Y=__PRIVATE_debugCast(q);Y.onlineState=K;let X=!1;Y.queries.forEach((Z,ne)=>{for(const ie of ne.ta)ie.sa(K)&&(X=!0)}),X&&__PRIVATE_raiseSnapshotsInSyncEvent(Y)}(H.eventManager,_),z.length&&H.La.p_(z),H.onlineState=_,H.isPrimaryClient&&H.sharedClientState.setOnlineState(_)}}async function __PRIVATE_syncEngineRejectListen(T,_,U){const H=__PRIVATE_debugCast(T);H.sharedClientState.updateQueryState(_,"rejected",U);const z=H.Ka.get(_),j=z&&z.key;if(j){let q=new SortedMap(DocumentKey.comparator);q=q.insert(j,MutableDocument.newNoDocument(j,SnapshotVersion.min()));const K=__PRIVATE_documentKeySet().add(j),Y=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),q,K);await __PRIVATE_syncEngineApplyRemoteEvent(H,Y),H.$a=H.$a.remove(j),H.Ka.delete(_),__PRIVATE_pumpEnqueuedLimboResolutions(H)}else await __PRIVATE_localStoreReleaseTarget(H.localStore,_,!1).then(()=>__PRIVATE_removeAndCleanupTarget(H,_,U)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(T,_){const U=__PRIVATE_debugCast(T),H=_.batch.batchId;try{const z=await __PRIVATE_localStoreAcknowledgeBatch(U.localStore,_);__PRIVATE_processUserCallback(U,H,null),__PRIVATE_triggerPendingWritesCallbacks(U,H),U.sharedClientState.updateMutationState(H,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(U,z)}catch(z){await __PRIVATE_ignoreIfPrimaryLeaseLoss(z)}}async function __PRIVATE_syncEngineRejectFailedWrite(T,_,U){const H=__PRIVATE_debugCast(T);try{const z=await function(q,K){const Y=__PRIVATE_debugCast(q);return Y.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let Z;return Y.mutationQueue.lookupMutationBatch(X,K).next(ne=>(__PRIVATE_hardAssert(ne!==null),Z=ne.keys(),Y.mutationQueue.removeMutationBatch(X,ne))).next(()=>Y.mutationQueue.performConsistencyCheck(X)).next(()=>Y.documentOverlayCache.removeOverlaysForBatchId(X,Z,K)).next(()=>Y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,Z)).next(()=>Y.localDocuments.getDocuments(X,Z))})}(H.localStore,_);__PRIVATE_processUserCallback(H,_,U),__PRIVATE_triggerPendingWritesCallbacks(H,_),H.sharedClientState.updateMutationState(_,"rejected",U),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(H,z)}catch(z){await __PRIVATE_ignoreIfPrimaryLeaseLoss(z)}}function __PRIVATE_triggerPendingWritesCallbacks(T,_){(T.Ga.get(_)||[]).forEach(U=>{U.resolve()}),T.Ga.delete(_)}function __PRIVATE_processUserCallback(T,_,U){const H=__PRIVATE_debugCast(T);let z=H.Wa[H.currentUser.toKey()];if(z){const j=z.get(_);j&&(U?j.reject(U):j.resolve(),z=z.remove(_)),H.Wa[H.currentUser.toKey()]=z}}function __PRIVATE_removeAndCleanupTarget(T,_,U=null){T.sharedClientState.removeLocalQueryTarget(_);for(const H of T.qa.get(_))T.ka.delete(H),U&&T.La.Ja(H,U);T.qa.delete(_),T.isPrimaryClient&&T.Ua.Sr(_).forEach(H=>{T.Ua.containsKey(H)||__PRIVATE_removeLimboTarget(T,H)})}function __PRIVATE_removeLimboTarget(T,_){T.Qa.delete(_.path.canonicalString());const U=T.$a.get(_);U!==null&&(__PRIVATE_remoteStoreUnlisten(T.remoteStore,U),T.$a=T.$a.remove(_),T.Ka.delete(U),__PRIVATE_pumpEnqueuedLimboResolutions(T))}function __PRIVATE_updateTrackedLimbos(T,_,U){for(const H of U)H instanceof __PRIVATE_AddedLimboDocument?(T.Ua.addReference(H.key,_),__PRIVATE_trackLimboChange(T,H)):H instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(Jt,"Document no longer in limbo: "+H.key),T.Ua.removeReference(H.key,_),T.Ua.containsKey(H.key)||__PRIVATE_removeLimboTarget(T,H.key)):fail()}function __PRIVATE_trackLimboChange(T,_){const U=_.key,H=U.path.canonicalString();T.$a.get(U)||T.Qa.has(H)||(__PRIVATE_logDebug(Jt,"New document in limbo: "+U),T.Qa.add(H),__PRIVATE_pumpEnqueuedLimboResolutions(T))}function __PRIVATE_pumpEnqueuedLimboResolutions(T){for(;T.Qa.size>0&&T.$a.size<T.maxConcurrentLimboResolutions;){const _=T.Qa.values().next().value;T.Qa.delete(_);const U=new DocumentKey(ResourcePath.fromString(_)),H=T.za.next();T.Ka.set(H,new LimboResolution(U)),T.$a=T.$a.insert(U,H),__PRIVATE_remoteStoreListen(T.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(U.path)),H,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ae))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(T,_,U){const H=__PRIVATE_debugCast(T),z=[],j=[],q=[];H.ka.isEmpty()||(H.ka.forEach((K,Y)=>{q.push(H.Ha(Y,_,U).then(X=>{var Z;if((X||U)&&H.isPrimaryClient){const ne=X?!X.fromCache:(Z=U==null?void 0:U.targetChanges.get(Y.targetId))===null||Z===void 0?void 0:Z.current;H.sharedClientState.updateQueryState(Y.targetId,ne?"current":"not-current")}if(X){z.push(X);const ne=__PRIVATE_LocalViewChanges.Yi(Y.targetId,X);j.push(ne)}}))}),await Promise.all(q),H.La.p_(z),await async function(Y,X){const Z=__PRIVATE_debugCast(Y);try{await Z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ne=>PersistencePromise.forEach(X,ie=>PersistencePromise.forEach(ie.Hi,se=>Z.persistence.referenceDelegate.addReference(ne,ie.targetId,se)).next(()=>PersistencePromise.forEach(ie.Ji,se=>Z.persistence.referenceDelegate.removeReference(ne,ie.targetId,se)))))}catch(ne){if(!__PRIVATE_isIndexedDbTransactionError(ne))throw ne;__PRIVATE_logDebug(Ot,"Failed to update sequence numbers: "+ne)}for(const ne of X){const ie=ne.targetId;if(!ne.fromCache){const se=Z.Ts.get(ie),de=se.snapshotVersion,Ee=se.withLastLimboFreeSnapshotVersion(de);Z.Ts=Z.Ts.insert(ie,Ee)}}}(H.localStore,j))}async function __PRIVATE_syncEngineHandleCredentialChange(T,_){const U=__PRIVATE_debugCast(T);if(!U.currentUser.isEqual(_)){__PRIVATE_logDebug(Jt,"User change. New user:",_.toKey());const H=await __PRIVATE_localStoreHandleUserChange(U.localStore,_);U.currentUser=_,function(j,q){j.Ga.forEach(K=>{K.forEach(Y=>{Y.reject(new FirestoreError(C$1.CANCELLED,q))})}),j.Ga.clear()}(U,"'waitForPendingWrites' promise is rejected due to a user change."),U.sharedClientState.handleUserChange(_,H.removedBatchIds,H.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(U,H.Rs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(T,_){const U=__PRIVATE_debugCast(T),H=U.Ka.get(_);if(H&&H.Ba)return __PRIVATE_documentKeySet().add(H.key);{let z=__PRIVATE_documentKeySet();const j=U.qa.get(_);if(!j)return z;for(const q of j){const K=U.ka.get(q);z=z.unionWith(K.view.ba)}return z}}function __PRIVATE_ensureWatchCallbacks(T){const _=__PRIVATE_debugCast(T);return _.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,_),_.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,_),_.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,_),_.La.p_=__PRIVATE_eventManagerOnWatchChange.bind(null,_.eventManager),_.La.Ja=__PRIVATE_eventManagerOnWatchError.bind(null,_.eventManager),_}function __PRIVATE_syncEngineEnsureWriteCallbacks(T){const _=__PRIVATE_debugCast(T);return _.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,_),_.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,_),_}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(_){this.serializer=__PRIVATE_newSerializer(_.databaseInfo.databaseId),this.sharedClientState=this.Za(_),this.persistence=this.Xa(_),await this.persistence.start(),this.localStore=this.eu(_),this.gcScheduler=this.tu(_,this.localStore),this.indexBackfillerScheduler=this.nu(_,this.localStore)}tu(_,U){return null}nu(_,U){return null}eu(_){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,_.initialUser,this.serializer)}Xa(_){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.ri,this.serializer)}Za(_){return new __PRIVATE_MemorySharedClientState}async terminate(){var _,U;(_=this.gcScheduler)===null||_===void 0||_.stop(),(U=this.indexBackfillerScheduler)===null||U===void 0||U.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(_){super(),this.cacheSizeBytes=_}tu(_,U){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate);const H=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(H,_.asyncQueue,U)}Xa(_){const U=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(H=>__PRIVATE_MemoryLruDelegate.ri(H,U),this.serializer)}}class OnlineComponentProvider{async initialize(_,U){this.localStore||(this.localStore=_.localStore,this.sharedClientState=_.sharedClientState,this.datastore=this.createDatastore(U),this.remoteStore=this.createRemoteStore(U),this.eventManager=this.createEventManager(U),this.syncEngine=this.createSyncEngine(U,!_.synchronizeTabs),this.sharedClientState.onlineStateHandler=H=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,H,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(_){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(_){const U=__PRIVATE_newSerializer(_.databaseInfo.databaseId),H=function(j){return new __PRIVATE_WebChannelConnection(j)}(_.databaseInfo);return function(j,q,K,Y){return new __PRIVATE_DatastoreImpl(j,q,K,Y)}(_.authCredentials,_.appCheckCredentials,H,U)}createRemoteStore(_){return function(H,z,j,q,K){return new __PRIVATE_RemoteStoreImpl(H,z,j,q,K)}(this.localStore,this.datastore,_.asyncQueue,U=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,U,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(_,U){return function(z,j,q,K,Y,X,Z){const ne=new __PRIVATE_SyncEngineImpl(z,j,q,K,Y,X);return Z&&(ne.ja=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,_.initialUser,_.maxConcurrentLimboResolutions,U)}async terminate(){var _,U;await async function(z){const j=__PRIVATE_debugCast(z);__PRIVATE_logDebug(zt,"RemoteStore shutting down."),j.W_.add(5),await __PRIVATE_disableNetworkInternal(j),j.z_.shutdown(),j.j_.set("Unknown")}(this.remoteStore),(_=this.datastore)===null||_===void 0||_.terminate(),(U=this.eventManager)===null||U===void 0||U.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(_){this.observer=_,this.muted=!1}next(_){this.muted||this.observer.next&&this.iu(this.observer.next,_)}error(_){this.muted||(this.observer.error?this.iu(this.observer.error,_):__PRIVATE_logError("Uncaught Error in snapshot listener:",_.toString()))}su(){this.muted=!0}iu(_,U){setTimeout(()=>{this.muted||_(U)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="FirestoreClient";class FirestoreClient{constructor(_,U,H,z,j){this.authCredentials=_,this.appCheckCredentials=U,this.asyncQueue=H,this.databaseInfo=z,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=j,this.authCredentials.start(H,async q=>{__PRIVATE_logDebug(Yt,"Received user=",q.uid),await this.authCredentialListener(q),this.user=q}),this.appCheckCredentials.start(H,q=>(__PRIVATE_logDebug(Yt,"Received new app check token=",q),this.appCheckCredentialListener(q,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(_){this.authCredentialListener=_}setAppCheckTokenChangeListener(_){this.appCheckCredentialListener=_}terminate(){this.asyncQueue.enterRestrictedMode();const _=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),_.resolve()}catch(U){const H=__PRIVATE_wrapInUserErrorIfRecoverable(U,"Failed to shutdown persistence");_.reject(H)}}),_.promise}}async function __PRIVATE_setOfflineComponentProvider(T,_){T.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Yt,"Initializing OfflineComponentProvider");const U=T.configuration;await _.initialize(U);let H=U.initialUser;T.setCredentialChangeListener(async z=>{H.isEqual(z)||(await __PRIVATE_localStoreHandleUserChange(_.localStore,z),H=z)}),_.persistence.setDatabaseDeletedListener(()=>T.terminate()),T._offlineComponents=_}async function __PRIVATE_setOnlineComponentProvider(T,_){T.asyncQueue.verifyOperationInProgress();const U=await __PRIVATE_ensureOfflineComponents(T);__PRIVATE_logDebug(Yt,"Initializing OnlineComponentProvider"),await _.initialize(U,T.configuration),T.setCredentialChangeListener(H=>__PRIVATE_remoteStoreHandleCredentialChange(_.remoteStore,H)),T.setAppCheckTokenChangeListener((H,z)=>__PRIVATE_remoteStoreHandleCredentialChange(_.remoteStore,z)),T._onlineComponents=_}async function __PRIVATE_ensureOfflineComponents(T){if(!T._offlineComponents)if(T._uninitializedComponentsProvider){__PRIVATE_logDebug(Yt,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(T,T._uninitializedComponentsProvider._offline)}catch(_){const U=_;if(!function(z){return z.name==="FirebaseError"?z.code===C$1.FAILED_PRECONDITION||z.code===C$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&z instanceof DOMException)||z.code===22||z.code===20||z.code===11}(U))throw U;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+U),await __PRIVATE_setOfflineComponentProvider(T,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(Yt,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(T,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return T._offlineComponents}async function __PRIVATE_ensureOnlineComponents(T){return T._onlineComponents||(T._uninitializedComponentsProvider?(__PRIVATE_logDebug(Yt,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(T,T._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(Yt,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(T,new OnlineComponentProvider))),T._onlineComponents}function __PRIVATE_getSyncEngine(T){return __PRIVATE_ensureOnlineComponents(T).then(_=>_.syncEngine)}async function __PRIVATE_getEventManager(T){const _=await __PRIVATE_ensureOnlineComponents(T),U=_.eventManager;return U.onListen=__PRIVATE_syncEngineListen.bind(null,_.syncEngine),U.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,_.syncEngine),U.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,_.syncEngine),U.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,_.syncEngine),U}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(T,_,U={}){const H=new __PRIVATE_Deferred;return T.asyncQueue.enqueueAndForget(async()=>function(j,q,K,Y,X){const Z=new __PRIVATE_AsyncObserver({next:ie=>{Z.su(),q.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(j,ne));const se=ie.docs.has(K);!se&&ie.fromCache?X.reject(new FirestoreError(C$1.UNAVAILABLE,"Failed to get document because the client is offline.")):se&&ie.fromCache&&Y&&Y.source==="server"?X.reject(new FirestoreError(C$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(ie)},error:ie=>X.reject(ie)}),ne=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(K.path),Z,{includeMetadataChanges:!0,Ta:!0});return __PRIVATE_eventManagerListen(j,ne)}(await __PRIVATE_getEventManager(T),T.asyncQueue,_,U,H)),H.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(T){const _={};return T.timeoutSeconds!==void 0&&(_.timeoutSeconds=T.timeoutSeconds),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(T,_,U){if(!U)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${T}() cannot be called with an empty ${_}.`)}function __PRIVATE_validateIsNotUsedTogether(T,_,U,H){if(_===!0&&H===!0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`${T} and ${U} cannot be used together.`)}function __PRIVATE_validateDocumentPath(T){if(!DocumentKey.isDocumentKey(T))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${T} has ${T.length}.`)}function __PRIVATE_valueDescription(T){if(T===void 0)return"undefined";if(T===null)return"null";if(typeof T=="string")return T.length>20&&(T=`${T.substring(0,20)}...`),JSON.stringify(T);if(typeof T=="number"||typeof T=="boolean")return""+T;if(typeof T=="object"){if(T instanceof Array)return"an array";{const _=function(H){return H.constructor?H.constructor.name:null}(T);return _?`a custom ${_} object`:"an object"}}return typeof T=="function"?"a function":fail()}function __PRIVATE_cast(T,_){if("_delegate"in T&&(T=T._delegate),!(T instanceof _)){if(_.name===T.constructor.name)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const U=__PRIVATE_valueDescription(T);throw new FirestoreError(C$1.INVALID_ARGUMENT,`Expected type '${_.name}', but it was: ${U}`)}}return T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="firestore.googleapis.com",en=!0;class FirestoreSettingsImpl{constructor(_){var U,H;if(_.host===void 0){if(_.ssl!==void 0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xt,this.ssl=en}else this.host=_.host,this.ssl=(U=_.ssl)!==null&&U!==void 0?U:en;if(this.credentials=_.credentials,this.ignoreUndefinedProperties=!!_.ignoreUndefinedProperties,this.localCache=_.localCache,_.cacheSizeBytes===void 0)this.cacheSizeBytes=bt;else{if(_.cacheSizeBytes!==-1&&_.cacheSizeBytes<Dt)throw new FirestoreError(C$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=_.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",_.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",_.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!_.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:_.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!_.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((H=_.experimentalLongPollingOptions)!==null&&H!==void 0?H:{}),function(j){if(j.timeoutSeconds!==void 0){if(isNaN(j.timeoutSeconds))throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${j.timeoutSeconds} (must not be NaN)`);if(j.timeoutSeconds<5)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${j.timeoutSeconds} (minimum allowed value is 5)`);if(j.timeoutSeconds>30)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${j.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!_.useFetchStreams}isEqual(_){return this.host===_.host&&this.ssl===_.ssl&&this.credentials===_.credentials&&this.cacheSizeBytes===_.cacheSizeBytes&&this.experimentalForceLongPolling===_.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===_.experimentalAutoDetectLongPolling&&function(H,z){return H.timeoutSeconds===z.timeoutSeconds}(this.experimentalLongPollingOptions,_.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===_.ignoreUndefinedProperties&&this.useFetchStreams===_.useFetchStreams}}class Firestore$1{constructor(_,U,H,z){this._authCredentials=_,this._appCheckCredentials=U,this._databaseId=H,this._app=z,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(_){if(this._settingsFrozen)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(_),this._emulatorOptions=_.emulatorOptions||{},_.credentials!==void 0&&(this._authCredentials=function(H){if(!H)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(H.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(H.sessionIndex||"0",H.iamToken||null,H.authTokenFactory||null);case"provider":return H.client;default:throw new FirestoreError(C$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(_.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(U){const H=Zt.get(U);H&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),Zt.delete(U),H.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(T,_,U,H={}){var z;const j=(T=__PRIVATE_cast(T,Firestore$1))._getSettings(),q=Object.assign(Object.assign({},j),{emulatorOptions:T._getEmulatorOptions()}),K=`${_}:${U}`;j.host!==Xt&&j.host!==K&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const Y=Object.assign(Object.assign({},j),{host:K,ssl:!1,emulatorOptions:H});if(!deepEqual(Y,q)&&(T._setSettings(Y),H.mockUserToken)){let X,Z;if(typeof H.mockUserToken=="string")X=H.mockUserToken,Z=User.MOCK_USER;else{X=createMockUserToken(H.mockUserToken,(z=T._app)===null||z===void 0?void 0:z.options.projectId);const ne=H.mockUserToken.sub||H.mockUserToken.user_id;if(!ne)throw new FirestoreError(C$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Z=new User(ne)}T._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(X,Z))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(_,U,H){this.converter=U,this._query=H,this.type="query",this.firestore=_}withConverter(_){return new Query(this.firestore,_,this._query)}}class DocumentReference{constructor(_,U,H){this.converter=U,this._key=H,this.type="document",this.firestore=_}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(_){return new DocumentReference(this.firestore,_,this._key)}}class CollectionReference extends Query{constructor(_,U,H){super(_,U,__PRIVATE_newQueryForPath(H)),this._path=H,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const _=this._path.popLast();return _.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(_))}withConverter(_){return new CollectionReference(this.firestore,_,this._path)}}function doc(T,_,...U){if(T=getModularInstance(T),arguments.length===1&&(_=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",_),T instanceof Firestore$1){const H=ResourcePath.fromString(_,...U);return __PRIVATE_validateDocumentPath(H),new DocumentReference(T,null,new DocumentKey(H))}{if(!(T instanceof DocumentReference||T instanceof CollectionReference))throw new FirestoreError(C$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const H=T._path.child(ResourcePath.fromString(_,...U));return __PRIVATE_validateDocumentPath(H),new DocumentReference(T.firestore,T instanceof CollectionReference?T.converter:null,new DocumentKey(H))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(_=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.bu=()=>{const H=getDocument();H&&__PRIVATE_logDebug(tn,"Visibility state changed to "+H.visibilityState),this.a_.t_()},this.Su=_;const U=getDocument();U&&typeof U.addEventListener=="function"&&U.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(_){this.enqueue(_)}enqueueAndForgetEvenWhileRestricted(_){this.Du(),this.vu(_)}enterRestrictedMode(_){if(!this.mu){this.mu=!0,this.yu=_||!1;const U=getDocument();U&&typeof U.removeEventListener=="function"&&U.removeEventListener("visibilitychange",this.bu)}}enqueue(_){if(this.Du(),this.mu)return new Promise(()=>{});const U=new __PRIVATE_Deferred;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(_().then(U.resolve,U.reject),U.promise)).then(()=>U.promise)}enqueueRetryable(_){this.enqueueAndForget(()=>(this.Vu.push(_),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(_){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;__PRIVATE_logDebug(tn,"Operation failed with retryable error: "+_)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(_){const U=this.Su.then(()=>(this.pu=!0,_().catch(H=>{this.gu=H,this.pu=!1;const z=function(q){let K=q.message||"";return q.stack&&(K=q.stack.includes(q.message)?q.stack:q.message+`
`+q.stack),K}(H);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",z),H}).then(H=>(this.pu=!1,H))));return this.Su=U,U}enqueueAfterDelay(_,U,H){this.Du(),this.wu.indexOf(_)>-1&&(U=0);const z=DelayedOperation.createAndSchedule(this,_,U,H,j=>this.Fu(j));return this.fu.push(z),z}Du(){this.gu&&fail()}verifyOperationInProgress(){}async Mu(){let _;do _=this.Su,await _;while(_!==this.Su)}xu(_){for(const U of this.fu)if(U.timerId===_)return!0;return!1}Ou(_){return this.Mu().then(()=>{this.fu.sort((U,H)=>U.targetTimeMs-H.targetTimeMs);for(const U of this.fu)if(U.skipDelay(),_!=="all"&&U.timerId===_)break;return this.Mu()})}Nu(_){this.wu.push(_)}Fu(_){const U=this.fu.indexOf(_);this.fu.splice(U,1)}}class Firestore extends Firestore$1{constructor(_,U,H,z){super(_,U,H,z),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(z==null?void 0:z.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const _=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(_),this._firestoreClient=void 0,await _}}}function getFirestore(T,_){const U=typeof T=="object"?T:getApp(),H=typeof T=="string"?T:rt,z=_getProvider(U,"firestore").getImmediate({identifier:H});if(!z._initialized){const j=getDefaultEmulatorHostnameAndPort("firestore");j&&connectFirestoreEmulator(z,...j)}return z}function ensureFirestoreConfigured(T){if(T._terminated)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.");return T._firestoreClient||__PRIVATE_configureFirestore(T),T._firestoreClient}function __PRIVATE_configureFirestore(T){var _,U,H;const z=T._freezeSettings(),j=function(K,Y,X,Z){return new DatabaseInfo(K,Y,X,Z.host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(Z.experimentalLongPollingOptions),Z.useFetchStreams)}(T._databaseId,((_=T._app)===null||_===void 0?void 0:_.options.appId)||"",T._persistenceKey,z);T._componentsProvider||!((U=z.localCache)===null||U===void 0)&&U._offlineComponentProvider&&(!((H=z.localCache)===null||H===void 0)&&H._onlineComponentProvider)&&(T._componentsProvider={_offline:z.localCache._offlineComponentProvider,_online:z.localCache._onlineComponentProvider}),T._firestoreClient=new FirestoreClient(T._authCredentials,T._appCheckCredentials,T._queue,j,T._componentsProvider&&function(K){const Y=K==null?void 0:K._online.build();return{_offline:K==null?void 0:K._offline.build(Y),_online:Y}}(T._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(_){this._byteString=_}static fromBase64String(_){try{return new Bytes(ByteString.fromBase64String(_))}catch(U){throw new FirestoreError(C$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+U)}}static fromUint8Array(_){return new Bytes(ByteString.fromUint8Array(_))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(_){return this._byteString.isEqual(_._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(..._){for(let U=0;U<_.length;++U)if(_[U].length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(_)}isEqual(_){return this._internalPath.isEqual(_._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(_){this._methodName=_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(_,U){if(!isFinite(_)||_<-90||_>90)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+_);if(!isFinite(U)||U<-180||U>180)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+U);this._lat=_,this._long=U}get latitude(){return this._lat}get longitude(){return this._long}isEqual(_){return this._lat===_._lat&&this._long===_._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(_){return __PRIVATE_primitiveComparator(this._lat,_._lat)||__PRIVATE_primitiveComparator(this._long,_._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(_){this._values=(_||[]).map(U=>U)}toArray(){return this._values.map(_=>_)}isEqual(_){return function(H,z){if(H.length!==z.length)return!1;for(let j=0;j<H.length;++j)if(H[j]!==z[j])return!1;return!0}(this._values,_._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=/^__.*__$/;class ParsedSetData{constructor(_,U,H){this.data=_,this.fieldMask=U,this.fieldTransforms=H}toMutation(_,U){return this.fieldMask!==null?new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,U,this.fieldTransforms):new __PRIVATE_SetMutation(_,this.data,U,this.fieldTransforms)}}class ParsedUpdateData{constructor(_,U,H){this.data=_,this.fieldMask=U,this.fieldTransforms=H}toMutation(_,U){return new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,U,this.fieldTransforms)}}function __PRIVATE_isWrite(T){switch(T){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(_,U,H,z,j,q){this.settings=_,this.databaseId=U,this.serializer=H,this.ignoreUndefinedProperties=z,j===void 0&&this.Bu(),this.fieldTransforms=j||[],this.fieldMask=q||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(_){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),_),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(_){var U;const H=(U=this.path)===null||U===void 0?void 0:U.child(_),z=this.ku({path:H,Qu:!1});return z.$u(_),z}Ku(_){var U;const H=(U=this.path)===null||U===void 0?void 0:U.child(_),z=this.ku({path:H,Qu:!1});return z.Bu(),z}Uu(_){return this.ku({path:void 0,Qu:!0})}Wu(_){return __PRIVATE_createError(_,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(_){return this.fieldMask.find(U=>_.isPrefixOf(U))!==void 0||this.fieldTransforms.find(U=>_.isPrefixOf(U.field))!==void 0}Bu(){if(this.path)for(let _=0;_<this.path.length;_++)this.$u(this.path.get(_))}$u(_){if(_.length===0)throw this.Wu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Lu)&&rn.test(_))throw this.Wu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(_,U,H){this.databaseId=_,this.ignoreUndefinedProperties=U,this.serializer=H||__PRIVATE_newSerializer(_)}ju(_,U,H,z=!1){return new __PRIVATE_ParseContextImpl({Lu:_,methodName:U,zu:H,path:FieldPath$1.emptyPath(),Qu:!1,Gu:z},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(T){const _=T._freezeSettings(),U=__PRIVATE_newSerializer(T._databaseId);return new __PRIVATE_UserDataReader(T._databaseId,!!_.ignoreUndefinedProperties,U)}function __PRIVATE_parseSetData(T,_,U,H,z,j={}){const q=T.ju(j.merge||j.mergeFields?2:0,_,U,z);__PRIVATE_validatePlainObject("Data must be an object, but it was:",q,H);const K=__PRIVATE_parseObject(H,q);let Y,X;if(j.merge)Y=new FieldMask(q.fieldMask),X=q.fieldTransforms;else if(j.mergeFields){const Z=[];for(const ne of j.mergeFields){const ie=__PRIVATE_fieldPathFromArgument$1(_,ne,U);if(!q.contains(ie))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Field '${ie}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Z,ie)||Z.push(ie)}Y=new FieldMask(Z),X=q.fieldTransforms.filter(ne=>Y.covers(ne.field))}else Y=null,X=q.fieldTransforms;return new ParsedSetData(new ObjectValue(K),Y,X)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(_){if(_.Lu!==2)throw _.Lu===1?_.Wu(`${this._methodName}() can only appear at the top level of your update data`):_.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return _.fieldMask.push(_.path),null}isEqual(_){return _ instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(T,_,U,H){const z=T.ju(1,_,U);__PRIVATE_validatePlainObject("Data must be an object, but it was:",z,H);const j=[],q=ObjectValue.empty();forEach$1(H,(Y,X)=>{const Z=__PRIVATE_fieldPathFromDotSeparatedString(_,Y,U);X=getModularInstance(X);const ne=z.Ku(Z);if(X instanceof __PRIVATE_DeleteFieldValueImpl)j.push(Z);else{const ie=__PRIVATE_parseData(X,ne);ie!=null&&(j.push(Z),q.set(Z,ie))}});const K=new FieldMask(j);return new ParsedUpdateData(q,K,z.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(T,_,U,H,z,j){const q=T.ju(1,_,U),K=[__PRIVATE_fieldPathFromArgument$1(_,H,U)],Y=[z];if(j.length%2!=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${_}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ie=0;ie<j.length;ie+=2)K.push(__PRIVATE_fieldPathFromArgument$1(_,j[ie])),Y.push(j[ie+1]);const X=[],Z=ObjectValue.empty();for(let ie=K.length-1;ie>=0;--ie)if(!__PRIVATE_fieldMaskContains(X,K[ie])){const se=K[ie];let de=Y[ie];de=getModularInstance(de);const Ee=q.Ku(se);if(de instanceof __PRIVATE_DeleteFieldValueImpl)X.push(se);else{const pe=__PRIVATE_parseData(de,Ee);pe!=null&&(X.push(se),Z.set(se,pe))}}const ne=new FieldMask(X);return new ParsedUpdateData(Z,ne,q.fieldTransforms)}function __PRIVATE_parseData(T,_){if(__PRIVATE_looksLikeJsonObject(T=getModularInstance(T)))return __PRIVATE_validatePlainObject("Unsupported field value:",_,T),__PRIVATE_parseObject(T,_);if(T instanceof FieldValue)return function(H,z){if(!__PRIVATE_isWrite(z.Lu))throw z.Wu(`${H._methodName}() can only be used with update() and set()`);if(!z.path)throw z.Wu(`${H._methodName}() is not currently supported inside arrays`);const j=H._toFieldTransform(z);j&&z.fieldTransforms.push(j)}(T,_),null;if(T===void 0&&_.ignoreUndefinedProperties)return null;if(_.path&&_.fieldMask.push(_.path),T instanceof Array){if(_.settings.Qu&&_.Lu!==4)throw _.Wu("Nested arrays are not supported");return function(H,z){const j=[];let q=0;for(const K of H){let Y=__PRIVATE_parseData(K,z.Uu(q));Y==null&&(Y={nullValue:"NULL_VALUE"}),j.push(Y),q++}return{arrayValue:{values:j}}}(T,_)}return function(H,z){if((H=getModularInstance(H))===null)return{nullValue:"NULL_VALUE"};if(typeof H=="number")return toNumber(z.serializer,H);if(typeof H=="boolean")return{booleanValue:H};if(typeof H=="string")return{stringValue:H};if(H instanceof Date){const j=Timestamp.fromDate(H);return{timestampValue:toTimestamp(z.serializer,j)}}if(H instanceof Timestamp){const j=new Timestamp(H.seconds,1e3*Math.floor(H.nanoseconds/1e3));return{timestampValue:toTimestamp(z.serializer,j)}}if(H instanceof GeoPoint)return{geoPointValue:{latitude:H.latitude,longitude:H.longitude}};if(H instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(z.serializer,H._byteString)};if(H instanceof DocumentReference){const j=z.databaseId,q=H.firestore._databaseId;if(!q.isEqual(j))throw z.Wu(`Document reference is for database ${q.projectId}/${q.database} but should be for database ${j.projectId}/${j.database}`);return{referenceValue:__PRIVATE_toResourceName(H.firestore._databaseId||z.databaseId,H._key.path)}}if(H instanceof VectorValue)return function(q,K){return{mapValue:{fields:{[it]:{stringValue:_t},[at]:{arrayValue:{values:q.toArray().map(X=>{if(typeof X!="number")throw K.Wu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(K.serializer,X)})}}}}}}(H,z);throw z.Wu(`Unsupported field value: ${__PRIVATE_valueDescription(H)}`)}(T,_)}function __PRIVATE_parseObject(T,_){const U={};return isEmpty(T)?_.path&&_.path.length>0&&_.fieldMask.push(_.path):forEach$1(T,(H,z)=>{const j=__PRIVATE_parseData(z,_.qu(H));j!=null&&(U[H]=j)}),{mapValue:{fields:U}}}function __PRIVATE_looksLikeJsonObject(T){return!(typeof T!="object"||T===null||T instanceof Array||T instanceof Date||T instanceof Timestamp||T instanceof GeoPoint||T instanceof Bytes||T instanceof DocumentReference||T instanceof FieldValue||T instanceof VectorValue)}function __PRIVATE_validatePlainObject(T,_,U){if(!__PRIVATE_looksLikeJsonObject(U)||!function(z){return typeof z=="object"&&z!==null&&(Object.getPrototypeOf(z)===Object.prototype||Object.getPrototypeOf(z)===null)}(U)){const H=__PRIVATE_valueDescription(U);throw H==="an object"?_.Wu(T+" a custom object"):_.Wu(T+" "+H)}}function __PRIVATE_fieldPathFromArgument$1(T,_,U){if((_=getModularInstance(_))instanceof FieldPath)return _._internalPath;if(typeof _=="string")return __PRIVATE_fieldPathFromDotSeparatedString(T,_);throw __PRIVATE_createError("Field path arguments must be of type string or ",T,!1,void 0,U)}const sn=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(T,_,U){if(_.search(sn)>=0)throw __PRIVATE_createError(`Invalid field path (${_}). Paths must not contain '~', '*', '/', '[', or ']'`,T,!1,void 0,U);try{return new FieldPath(..._.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,T,!1,void 0,U)}}function __PRIVATE_createError(T,_,U,H,z){const j=H&&!H.isEmpty(),q=z!==void 0;let K=`Function ${_}() called with invalid data`;U&&(K+=" (via `toFirestore()`)"),K+=". ";let Y="";return(j||q)&&(Y+=" (found",j&&(Y+=` in field ${H}`),q&&(Y+=` in document ${z}`),Y+=")"),new FirestoreError(C$1.INVALID_ARGUMENT,K+T+Y)}function __PRIVATE_fieldMaskContains(T,_){return T.some(U=>U.isEqual(_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(_,U,H,z,j){this._firestore=_,this._userDataWriter=U,this._key=H,this._document=z,this._converter=j}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const _=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(_)}return this._userDataWriter.convertValue(this._document.data.value)}}get(_){if(this._document){const U=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(U!==null)return this._userDataWriter.convertValue(U)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(T,_){return typeof _=="string"?__PRIVATE_fieldPathFromDotSeparatedString(T,_):_ instanceof FieldPath?_._internalPath:_._delegate._internalPath}class AbstractUserDataWriter{convertValue(_,U="none"){switch(__PRIVATE_typeOrder(_)){case 0:return null;case 1:return _.booleanValue;case 2:return __PRIVATE_normalizeNumber(_.integerValue||_.doubleValue);case 3:return this.convertTimestamp(_.timestampValue);case 4:return this.convertServerTimestamp(_,U);case 5:return _.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(_.bytesValue));case 7:return this.convertReference(_.referenceValue);case 8:return this.convertGeoPoint(_.geoPointValue);case 9:return this.convertArray(_.arrayValue,U);case 11:return this.convertObject(_.mapValue,U);case 10:return this.convertVectorValue(_.mapValue);default:throw fail()}}convertObject(_,U){return this.convertObjectMap(_.fields,U)}convertObjectMap(_,U="none"){const H={};return forEach$1(_,(z,j)=>{H[z]=this.convertValue(j,U)}),H}convertVectorValue(_){var U,H,z;const j=(z=(H=(U=_.fields)===null||U===void 0?void 0:U[at].arrayValue)===null||H===void 0?void 0:H.values)===null||z===void 0?void 0:z.map(q=>__PRIVATE_normalizeNumber(q.doubleValue));return new VectorValue(j)}convertGeoPoint(_){return new GeoPoint(__PRIVATE_normalizeNumber(_.latitude),__PRIVATE_normalizeNumber(_.longitude))}convertArray(_,U){return(_.values||[]).map(H=>this.convertValue(H,U))}convertServerTimestamp(_,U){switch(U){case"previous":const H=__PRIVATE_getPreviousValue(_);return H==null?null:this.convertValue(H,U);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(_));default:return null}}convertTimestamp(_){const U=__PRIVATE_normalizeTimestamp(_);return new Timestamp(U.seconds,U.nanos)}convertDocumentKey(_,U){const H=ResourcePath.fromString(_);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(H));const z=new DatabaseId(H.get(1),H.get(3)),j=new DocumentKey(H.popFirst(5));return z.isEqual(U)||__PRIVATE_logError(`Document ${j} contains a document reference within a different database (${z.projectId}/${z.database}) which is not supported. It will be treated as a reference in the current database (${U.projectId}/${U.database}) instead.`),j}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(T,_,U){let H;return H=T?T.toFirestore(_):_,H}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(_,U){this.hasPendingWrites=_,this.fromCache=U}isEqual(_){return this.hasPendingWrites===_.hasPendingWrites&&this.fromCache===_.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(_,U,H,z,j,q){super(_,U,H,z,q),this._firestore=_,this._firestoreImpl=_,this.metadata=j}exists(){return super.exists()}data(_={}){if(this._document){if(this._converter){const U=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(U,_)}return this._userDataWriter.convertValue(this._document.data.value,_.serverTimestamps)}}get(_,U={}){if(this._document){const H=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(H!==null)return this._userDataWriter.convertValue(H,U.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(_={}){return super.data(_)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(T){T=__PRIVATE_cast(T,DocumentReference);const _=__PRIVATE_cast(T.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(_),T._key).then(U=>__PRIVATE_convertToDocSnapshot(_,T,U))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(_){super(),this.firestore=_}convertBytes(_){return new Bytes(_)}convertReference(_){const U=this.convertDocumentKey(_,this.firestore._databaseId);return new DocumentReference(this.firestore,null,U)}}function setDoc(T,_,U){T=__PRIVATE_cast(T,DocumentReference);const H=__PRIVATE_cast(T.firestore,Firestore),z=__PRIVATE_applyFirestoreDataConverter(T.converter,_);return executeWrite(H,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(H),"setDoc",T._key,z,T.converter!==null,U).toMutation(T._key,Precondition.none())])}function updateDoc(T,_,U,...H){T=__PRIVATE_cast(T,DocumentReference);const z=__PRIVATE_cast(T.firestore,Firestore),j=__PRIVATE_newUserDataReader(z);let q;return q=typeof(_=getModularInstance(_))=="string"||_ instanceof FieldPath?__PRIVATE_parseUpdateVarargs(j,"updateDoc",T._key,_,U,H):__PRIVATE_parseUpdateData(j,"updateDoc",T._key,_),executeWrite(z,[q.toMutation(T._key,Precondition.exists(!0))])}function executeWrite(T,_){return function(H,z){const j=new __PRIVATE_Deferred;return H.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(H),z,j)),j.promise}(ensureFirestoreConfigured(T),_)}function __PRIVATE_convertToDocSnapshot(T,_,U){const H=U.docs.get(_._key),z=new __PRIVATE_ExpUserDataWriter(T);return new DocumentSnapshot(T,z,_._key,H,new SnapshotMetadata(U.hasPendingWrites,U.fromCache),_.converter)}(function(_,U=!0){(function(z){D=z})(SDK_VERSION),_registerComponent(new Component("firestore",(H,{instanceIdentifier:z,options:j})=>{const q=H.getProvider("app").getImmediate(),K=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(H.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(q,H.getProvider("app-check-internal")),function(X,Z){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new FirestoreError(C$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(X.options.projectId,Z)}(q,z),q);return j=Object.assign({useFetchStreams:U},j),K._setSettings(j),K},"PUBLIC").setMultipleInstances(!0)),registerVersion(b$1,S,_),registerVersion(b$1,S,"esm2017")})();var name$1="firebase",version$1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(_,U,H=0){super(prependCode(_),`Firebase Storage: ${U} (${prependCode(_)})`),this.status_=H,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(_){this.status_=_}_codeEquals(_){return prependCode(_)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_){this.customData.serverResponse=_,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(T){T.UNKNOWN="unknown",T.OBJECT_NOT_FOUND="object-not-found",T.BUCKET_NOT_FOUND="bucket-not-found",T.PROJECT_NOT_FOUND="project-not-found",T.QUOTA_EXCEEDED="quota-exceeded",T.UNAUTHENTICATED="unauthenticated",T.UNAUTHORIZED="unauthorized",T.UNAUTHORIZED_APP="unauthorized-app",T.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",T.INVALID_CHECKSUM="invalid-checksum",T.CANCELED="canceled",T.INVALID_EVENT_NAME="invalid-event-name",T.INVALID_URL="invalid-url",T.INVALID_DEFAULT_BUCKET="invalid-default-bucket",T.NO_DEFAULT_BUCKET="no-default-bucket",T.CANNOT_SLICE_BLOB="cannot-slice-blob",T.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",T.NO_DOWNLOAD_URL="no-download-url",T.INVALID_ARGUMENT="invalid-argument",T.INVALID_ARGUMENT_COUNT="invalid-argument-count",T.APP_DELETED="app-deleted",T.INVALID_ROOT_OPERATION="invalid-root-operation",T.INVALID_FORMAT="invalid-format",T.INTERNAL_ERROR="internal-error",T.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(T){return"storage/"+T}function unknown(){const T="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,T)}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(T){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+T+"'.")}function invalidDefaultBucket(T){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+T+"'.")}function invalidArgument(T){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,T)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(T){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+T+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(_,U){this.bucket=_,this.path_=U}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const _=encodeURIComponent;return"/b/"+_(this.bucket)+"/o/"+_(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_,U){let H;try{H=Location.makeFromUrl(_,U)}catch{return new Location(_,"")}if(H.path==="")return H;throw invalidDefaultBucket(_)}static makeFromUrl(_,U){let H=null;const z="([A-Za-z0-9.\\-_]+)";function j(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const q="(/(.*))?$",K=new RegExp("^gs://"+z+q,"i"),Y={bucket:1,path:3};function X(ve){ve.path_=decodeURIComponent(ve.path)}const Z="v[A-Za-z0-9_]+",ne=U.replace(/[.]/g,"\\."),ie="(/([^?#]*).*)?$",se=new RegExp(`^https?://${ne}/${Z}/b/${z}/o${ie}`,"i"),de={bucket:1,path:3},Ee=U===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":U,pe="([^?#]*)",le=new RegExp(`^https?://${Ee}/${z}/${pe}`,"i"),fe=[{regex:K,indices:Y,postModify:j},{regex:se,indices:de,postModify:X},{regex:le,indices:{bucket:1,path:2},postModify:X}];for(let ve=0;ve<fe.length;ve++){const me=fe[ve],Ae=me.regex.exec(_);if(Ae){const ae=Ae[me.indices.bucket];let oe=Ae[me.indices.path];oe||(oe=""),H=new Location(ae,oe),me.postModify(H);break}}if(H==null)throw invalidUrl(_);return H}}class FailRequest{constructor(_){this.promise_=Promise.reject(_)}getPromise(){return this.promise_}cancel(_=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(T,_,U){let H=1,z=null,j=null,q=!1,K=0;function Y(){return K===2}let X=!1;function Z(...pe){X||(X=!0,_.apply(null,pe))}function ne(pe){z=setTimeout(()=>{z=null,T(se,Y())},pe)}function ie(){j&&clearTimeout(j)}function se(pe,...le){if(X){ie();return}if(pe){ie(),Z.call(null,pe,...le);return}if(Y()||q){ie(),Z.call(null,pe,...le);return}H<64&&(H*=2);let fe;K===1?(K=2,fe=0):fe=(H+Math.random())*1e3,ne(fe)}let de=!1;function Ee(pe){de||(de=!0,ie(),!X&&(z!==null?(pe||(K=2),clearTimeout(z),ne(0)):pe||(K=1)))}return ne(0),j=setTimeout(()=>{q=!0,Ee(!0)},U),Ee}function stop(T){T(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(T){return T!==void 0}function validateNumber(T,_,U,H){if(H<_)throw invalidArgument(`Invalid value for '${T}'. Expected ${_} or greater.`);if(H>U)throw invalidArgument(`Invalid value for '${T}'. Expected ${U} or less.`)}function makeQueryString(T){const _=encodeURIComponent;let U="?";for(const H in T)if(T.hasOwnProperty(H)){const z=_(H)+"="+_(T[H]);U=U+z+"&"}return U=U.slice(0,-1),U}var ErrorCode;(function(T){T[T.NO_ERROR=0]="NO_ERROR",T[T.NETWORK_ERROR=1]="NETWORK_ERROR",T[T.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(T,_){const U=T>=500&&T<600,z=[408,429].indexOf(T)!==-1,j=_.indexOf(T)!==-1;return U||z||j}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(_,U,H,z,j,q,K,Y,X,Z,ne,ie=!0){this.url_=_,this.method_=U,this.headers_=H,this.body_=z,this.successCodes_=j,this.additionalRetryCodes_=q,this.callback_=K,this.errorCallback_=Y,this.timeout_=X,this.progressCallback_=Z,this.connectionFactory_=ne,this.retry=ie,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((se,de)=>{this.resolve_=se,this.reject_=de,this.start_()})}start_(){const _=(H,z)=>{if(z){H(!1,new RequestEndStatus(!1,null,!0));return}const j=this.connectionFactory_();this.pendingConnection_=j;const q=K=>{const Y=K.loaded,X=K.lengthComputable?K.total:-1;this.progressCallback_!==null&&this.progressCallback_(Y,X)};this.progressCallback_!==null&&j.addUploadProgressListener(q),j.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&j.removeUploadProgressListener(q),this.pendingConnection_=null;const K=j.getErrorCode()===ErrorCode.NO_ERROR,Y=j.getStatus();if(!K||isRetryStatusCode(Y,this.additionalRetryCodes_)&&this.retry){const Z=j.getErrorCode()===ErrorCode.ABORT;H(!1,new RequestEndStatus(!1,null,Z));return}const X=this.successCodes_.indexOf(Y)!==-1;H(!0,new RequestEndStatus(X,j))})},U=(H,z)=>{const j=this.resolve_,q=this.reject_,K=z.connection;if(z.wasSuccessCode)try{const Y=this.callback_(K,K.getResponse());isJustDef(Y)?j(Y):j()}catch(Y){q(Y)}else if(K!==null){const Y=unknown();Y.serverResponse=K.getErrorText(),this.errorCallback_?q(this.errorCallback_(K,Y)):q(Y)}else if(z.canceled){const Y=this.appDelete_?appDeleted():canceled();q(Y)}else{const Y=retryLimitExceeded();q(Y)}};this.canceled_?U(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(_,U,this.timeout_)}getPromise(){return this.promise_}cancel(_){this.canceled_=!0,this.appDelete_=_||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(_,U,H){this.wasSuccessCode=_,this.connection=U,this.canceled=!!H}}function addAuthHeader_(T,_){_!==null&&_.length>0&&(T.Authorization="Firebase "+_)}function addVersionHeader_(T,_){T["X-Firebase-Storage-Version"]="webjs/"+(_??"AppManager")}function addGmpidHeader_(T,_){_&&(T["X-Firebase-GMPID"]=_)}function addAppCheckHeader_(T,_){_!==null&&(T["X-Firebase-AppCheck"]=_)}function makeRequest(T,_,U,H,z,j,q=!0){const K=makeQueryString(T.urlParams),Y=T.url+K,X=Object.assign({},T.headers);return addGmpidHeader_(X,_),addAuthHeader_(X,U),addVersionHeader_(X,j),addAppCheckHeader_(X,H),new NetworkRequest(Y,T.method,X,T.body,T.successCodes,T.additionalRetryCodes,T.handler,T.errorHandler,T.timeout,T.progressCallback,z,q)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(T){if(T.length===0)return null;const _=T.lastIndexOf("/");return _===-1?"":T.slice(0,_)}function lastComponent(T){const _=T.lastIndexOf("/",T.length-2);return _===-1?T:T.slice(_+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(_,U){this._service=_,U instanceof Location?this._location=U:this._location=Location.makeFromUrl(U,_.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_,U){return new Reference(_,U)}get root(){const _=new Location(this._location.bucket,"");return this._newRef(this._service,_)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const _=parent(this._location.path);if(_===null)return null;const U=new Location(this._location.bucket,_);return new Reference(this._service,U)}_throwIfRoot(_){if(this._location.path==="")throw invalidRootOperation(_)}}function extractBucket(T,_){const U=_==null?void 0:_[CONFIG_STORAGE_BUCKET_KEY];return U==null?null:Location.makeFromBucketSpec(U,T)}function connectStorageEmulator$1(T,_,U,H={}){T.host=`${_}:${U}`,T._protocol="http";const{mockUserToken:z}=H;z&&(T._overrideAuthToken=typeof z=="string"?z:createMockUserToken(z,T.app.options.projectId))}class FirebaseStorageImpl{constructor(_,U,H,z,j){this.app=_,this._authProvider=U,this._appCheckProvider=H,this._url=z,this._firebaseVersion=j,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,z!=null?this._bucket=Location.makeFromBucketSpec(z,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(_){this._host=_,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,_):this._bucket=extractBucket(_,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_){validateNumber("time",0,Number.POSITIVE_INFINITY,_),this._maxUploadRetryTime=_}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_){validateNumber("time",0,Number.POSITIVE_INFINITY,_),this._maxOperationRetryTime=_}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const _=this._authProvider.getImmediate({optional:!0});if(_){const U=await _.getToken();if(U!==null)return U.accessToken}return null}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const _=this._appCheckProvider.getImmediate({optional:!0});return _?(await _.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_=>_.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_){return new Reference(this,_)}_makeRequest(_,U,H,z,j=!0){if(this._deleted)return new FailRequest(appDeleted());{const q=makeRequest(_,this._appId,H,z,U,this._firebaseVersion,j);return this._requests.add(q),q.getPromise().then(()=>this._requests.delete(q),()=>this._requests.delete(q)),q}}async makeRequestWithTokens(_,U){const[H,z]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(_,U,H,z).getPromise()}}const name="@firebase/storage",version="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage(T=getApp(),_){T=getModularInstance(T);const H=_getProvider(T,STORAGE_TYPE).getImmediate({identifier:_}),z=getDefaultEmulatorHostnameAndPort("storage");return z&&connectStorageEmulator(H,...z),H}function connectStorageEmulator(T,_,U,H={}){connectStorageEmulator$1(T,_,U,H)}function factory(T,{instanceIdentifier:_}){const U=T.getProvider("app").getImmediate(),H=T.getProvider("auth-internal"),z=T.getProvider("app-check-internal");return new FirebaseStorageImpl(U,H,z,_,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyC-Ch9poP7HA2tCQtYhv-_zoJvbNbeBlCM",authDomain:"kendo-react-challenge.firebaseapp.com",projectId:"kendo-react-challenge",storageBucket:"kendo-react-challenge.firebasestorage.app",messagingSenderId:"1044704640541",appId:"1:1044704640541:web:285bb878c65ed2e5cd50f4"},app=initializeApp(firebaseConfig),auth=getAuth(app),firestore=getFirestore(app);getStorage(app);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const d$2="Close",h={success:"check-outline",error:"x-outline",info:"info-circle",warning:"exclamation-circle"},b={success:checkOutlineIcon,error:xOutlineIcon,info:infoCircleIcon,warning:exclamationCircleIcon},o$1=class Ti extends reactExports.Component{render(){const{onClose:_,className:U,closable:H=Ti.defaultProps.closable,type:z=Ti.defaultProps.type}=this.props;return reactExports.createElement("div",{dir:this.props.dir,className:"k-notification"+(U?` ${U}`:"")+(z.style==="none"?"":` k-notification-${z.style}`)+(H?" k-notification-closable":""),style:this.props.style},z.icon&&reactExports.createElement(v$3,{className:"k-notification-status",name:h[z.style],icon:b[z.style]}),reactExports.createElement("div",{className:"k-notification-content"},this.props.children),H&&reactExports.createElement("span",{className:"k-notification-actions"},reactExports.createElement("span",{className:"k-notification-action k-notification-close-action",title:d$2,onClick:j=>{_&&_.call(void 0,{target:this,syntheticEvent:j,nativeEvent:j.nativeEvent})},...typeof H!="boolean"?H:{}},reactExports.createElement(v$3,{name:"x",icon:xIcon}))))}};o$1.propTypes={className:n$f.string,closable:n$f.oneOfType([n$f.bool,n$f.object]),dir:n$f.string,style:n$f.object,type:n$f.shape({style:n$f.oneOf(["none","success","error","warning","info"]),icon:n$f.bool}),onClose:n$f.func},o$1.defaultProps={closable:!1,type:{style:"none",icon:!0}};let r=o$1;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const e=class extends reactExports.Component{render(){const{style:_={},className:U}=this.props;return reactExports.createElement("div",{className:"k-notification-group"+(U?` ${U}`:""),style:{alignItems:"center",flexWrap:"wrap",..._}},this.props.children)}};e.propTypes={className:n$f.string,style:n$f.object};let p=e;const AuthContext=reactExports.createContext(void 0),AuthProvider=({children:T})=>{const[_,U]=reactExports.useState(null),[H,z]=reactExports.useState(null),[j,q]=reactExports.useState(!1),[K,Y]=reactExports.useState(!0),X=useNavigate(),[Z,ne]=reactExports.useState(null);reactExports.useEffect(()=>{const ue=onAuthStateChanged(auth,async fe=>{if(fe)try{const ve=await fe.getIdToken();z(ve);const me=doc(firestore,"users",fe.uid);if((await getDoc(me)).exists())U(fe),q(!0);else{const ae={uid:fe.uid,email:fe.email,displayName:fe.displayName,createdAt:new Date};await setDoc(me,ae),U(fe),q(!0),X("/set-api-key")}}catch(ve){console.error("Error fetching user data:",ve),U(null),q(!1)}else U(null),z(null),q(!1);Y(!1)});return()=>ue()},[X]);const ie=(ue,fe)=>{ne({message:ue,type:fe}),setTimeout(()=>ne(null),3e3)},se=()=>j?!0:(ie("Authentication Error: You must be logged in to perform this action.","error"),!1),de=async()=>{try{const ue=new GoogleAuthProvider,fe=await signInWithPopup(auth,ue),ve={uid:fe.user.uid,email:fe.user.email,displayName:fe.user.displayName},me=doc(firestore,"users",fe.user.uid),Ae=await getDoc(me);Ae.exists()?(q(!0),ie("Successfully signed in","success"),Ae.data().apiKey?X("/analyze"):X("/set-api-key")):(await setDoc(me,{...ve,createdAt:new Date}),q(!0),ie("Account created successfully","success"),X("/set-api-key"))}catch(ue){console.error(ue),ie("Failed to sign in with Google","error")}},Ee=async(ue,fe)=>{try{await signInWithEmailAndPassword(auth,ue,fe),q(!0),ie("Successfully signed in","success"),X("/set-api-key")}catch{ie("Failed to sign in: Please re-check credentials and try again","error")}},pe=async(ue,fe,ve)=>{try{const Ae=(await createUserWithEmailAndPassword(auth,ue,fe)).user;await updateProfile(Ae,{displayName:ve});const ae={uid:Ae.uid,email:Ae.email,displayName:ve},oe=doc(firestore,"users",Ae.uid);await setDoc(oe,{...ae,createdAt:new Date}),q(!0),ie("Account created successfully","success"),X("/dashboard")}catch(me){console.error(me),ie("Error creating account","error")}},le=async()=>{try{await signOut(auth),q(!1),U(null),ie("Successfully signed out","success"),X("/")}catch(ue){console.error(ue),ie("Failed to sign out","error")}};return jsxRuntimeExports.jsxs(AuthContext.Provider,{value:{user:_,userToken:H,isLoggedIn:j,loading:K,signInWithGoogle:de,signInWithEmail:Ee,createUserWithEmail:pe,logout:le,showAuthError:se},children:[T,jsxRuntimeExports.jsx(p,{style:{top:"10%",left:"50%",transform:"translateX(-50%)"},children:Z&&jsxRuntimeExports.jsx(r,{type:{style:Z.type,icon:!0},closable:!0,children:Z.message})})]})},useAuth=()=>{const T=reactExports.useContext(AuthContext);if(!T)throw new Error("useAuth must be used within an AuthProvider");return T},MainLayout=({children:T})=>{const{user:_,isLoggedIn:U,logout:H}=useAuth(),z=useNavigate(),[j,q]=reactExports.useState(!1),K=reactExports.useRef(null),Y=async()=>{await H(),z("/"),q(!1)},X=ie=>{var se;if(ie.item.text==="Logout"){Y();return}(se=ie.item.data)!=null&&se.route&&z(ie.item.data.route),q(!1)},Z=()=>{z("/login")},ne=()=>{q(!j)};return jsxRuntimeExports.jsxs("div",{className:"main-layout",children:[jsxRuntimeExports.jsxs(l$2,{className:"main-appbar",themeColor:"primary",children:[jsxRuntimeExports.jsx(c$1,{}),jsxRuntimeExports.jsx(l$1,{}),jsxRuntimeExports.jsx(c$1,{children:U?jsxRuntimeExports.jsxs("div",{className:"user-section",children:[jsxRuntimeExports.jsx("div",{ref:K,onClick:ne,className:"user-menu-container",children:jsxRuntimeExports.jsx(M$1,{svgIcon:userIcon,size:"large",className:"user-btn",themeColor:"base",fillMode:"outline",rounded:"full",children:"User"})}),j&&jsxRuntimeExports.jsx(te,{anchor:K.current,show:j,popupClass:"user-menu-popup",animate:!0,anchorAlign:{horizontal:"right",vertical:"bottom"},popupAlign:{horizontal:"right",vertical:"top"},children:jsxRuntimeExports.jsxs(e$1,{vertical:!0,onSelect:X,children:[jsxRuntimeExports.jsx(t$5,{text:"Profile",data:{route:"/profile"}}),jsxRuntimeExports.jsx(t$5,{text:"Logout"})]})})]}):jsxRuntimeExports.jsx("div",{className:"auth-buttons",children:jsxRuntimeExports.jsxs(M$1,{onClick:Z,themeColor:"primary",fillMode:"flat",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(M$3,{icon:userIcon})}),jsxRuntimeExports.jsx("span",{children:" Login"})]})})})]}),jsxRuntimeExports.jsx("main",{className:"main-content",children:T})]})},LandingPage=()=>{const T=useNavigate(),{user:_,signInWithGoogle:U}=useAuth(),H=async()=>{try{_?T("/analyze"):await U()}catch(z){console.error("Sign-in failed:",z)}};return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsxs("header",{className:"LP-content",children:[jsxRuntimeExports.jsx("h1",{children:"Resume Analyzer"}),jsxRuntimeExports.jsx("p",{children:"Compare your resume with job descriptions to get personalized feedback"}),jsxRuntimeExports.jsx(M$1,{className:"cta-btn",fillMode:"solid",size:"large",onClick:H,children:"Get Started"})]})})};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const l="labels.optional",o={[l]:"(Optional)"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const I=T=>{const[_,U]=reactExports.useState({focused:!1}),H=ce=>{U({focused:!0})},z=ce=>{U({focused:!1})},{label:j,editorId:q,className:K,labelClassName:Y,editorValue:X,editorPlaceholder:Z,editorValid:ne,editorDisabled:ie,style:se,id:de,optional:Ee,unstyled:pe,...le}=T,ue=i$1(),fe=Ee?ue.toLanguageString(l,o[l]):"",ve=fe&&reactExports.createElement("span",{className:"k-label-optional"},fe),me=pe&&pe.uFloatingLabel,Ae=!Z&&!X&&X!==0,ae=n$c(g$5.wrapper({c:me,focused:_.focused,empty:Ae,notEmpty:!Ae,disabled:ie,isRtl:T.dir==="rtl"}),K),oe=n$c(g$5.label({c:me,focused:_.focused,empty:Ae,notEmpty:!Ae,invalid:ne===!1,disabled:ie}),Y);return reactExports.createElement("span",{...le,id:T.id,className:ae,onFocus:H,onBlur:z,style:se,dir:T.dir},T.children,j?q?reactExports.createElement("label",{id:de,htmlFor:q,className:oe},j,ve):reactExports.createElement("span",{id:de,className:oe},j,ve):null)};I.propTypes={label:n$f.string,editorId:n$f.string,editorValue:n$f.oneOfType([n$f.string,n$f.bool,n$f.number]),editorPlaceholder:n$f.string,editorValid:n$f.bool,editorDisabled:n$f.bool,id:n$f.string,style:n$f.object,className:n$f.string,labelClassName:n$f.string,optional:n$f.bool};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const C=reactExports.forwardRef((T,_)=>{const U=reactExports.useContext($).call(void 0,T),[,H]=reactExports.useReducer(Me=>Me,!0),z=c$8(U,ee),{className:j,label:q,labelClassName:K,id:Y,validationMessage:X,defaultValue:Z,valid:ne,unstyled:ie,visited:se,touched:de,modified:Ee,autoFocus:pe,ariaLabelledBy:le,ariaDescribedBy:ue,validityStyles:fe,style:ve,ariaLabel:me,...Ae}=z,ae=n$9(),oe=ie||ae,ce=oe&&oe.uInput,Se=I$3(),[he,xe]=reactExports.useState({value:Z}),ye=Y||Se,Ge=reactExports.useRef(null),qe=reactExports.useRef(void 0),Fe=reactExports.useRef(null),He=()=>{Ge.current&&Ge.current.focus()},Ye=()=>qe.current!==void 0?qe.current:z.value!==void 0?z.value:he.value,ke=()=>{const Me={badInput:Ge.current?Ge.current.validity.badInput:!1,patternMismatch:Ge.current?Ge.current.validity.patternMismatch:!1,rangeOverflow:Ge.current?Ge.current.validity.rangeOverflow:!1,rangeUnderflow:Ge.current?Ge.current.validity.rangeUnderflow:!1,stepMismatch:Ge.current?Ge.current.validity.stepMismatch:!1,tooLong:Ge.current?Ge.current.validity.tooLong:!1,typeMismatch:Ge.current?Ge.current.validity.typeMismatch:!1,valueMissing:Ge.current?Ge.current.validity.valueMissing:!1};return{...Me,customError:X!==void 0,valid:ne!==void 0?ne:Ge.current?!Ke(Me):!0}};reactExports.useImperativeHandle(Fe,()=>({element:Ge.current,props:z,get value(){return Ye()},name:z.name,get validity(){return ke()},focus:He})),reactExports.useImperativeHandle(_,()=>Fe.current);const Ke=Me=>{let Le=!1;for(const Qe in Me)Me.hasOwnProperty(Qe)&&(Le=Le||!!Me[Qe]);return Le},gt=!fe||ke().valid,De=n$c(j,F$1.input({c:ce,invalid:!gt,disabled:z.disabled})),Ie=()=>{Ge.current&&Ge.current.setCustomValidity&&(ke().valid||!fe?Ge.current.classList.remove("k-invalid"):Ge.current.classList.add("k-invalid"),Ge.current.setCustomValidity(ke().valid?"":X||""))},Pe=Me=>{xe({value:Me.target.value}),qe.current=Me.target.value,z.onChange&&z.onChange.call(void 0,{syntheticEvent:Me,nativeEvent:Me.nativeEvent,value:Me.target.value,target:Fe.current}),qe.current=void 0},we=Me=>{if(Me.animationName==="autoFillStart"){const Le=Me.target.parentNode;Le&&Le.classList.contains("k-empty")&&Le.classList.remove("k-empty")}};reactExports.useEffect(()=>{H()},[]),reactExports.useEffect(()=>{Ie()});const Ve=reactExports.createElement("input",{"aria-labelledby":le,"aria-describedby":ue,"aria-disabled":z.disabled||void 0,"aria-invalid":!gt||void 0,"aria-label":me||void 0,...Ae,style:q?void 0:ve,value:Ye(),id:ye,autoFocus:pe,className:De,onChange:Pe,onAnimationStart:we,ref:Ge});return q?reactExports.createElement(I,{label:q,labelClassName:K,editorId:ye,editorValue:String(Ye()),editorValid:gt,editorDisabled:z.disabled,editorPlaceholder:z.placeholder,children:Ve,style:ve,dir:z.dir,unstyled:oe}):Ve}),$=a$6(),ee={defaultValue:"",required:!1,validityStyles:!0,autoFocus:!1};C.displayName="KendoReactInput";C.propTypes={label:n$f.string,labelClassName:n$f.string,validationMessage:n$f.string,required:n$f.bool,validate:n$f.bool,id:n$f.string,ariaLabelledBy:n$f.string,ariaDescribedBy:n$f.string,ariaLabel:n$f.string,autoFocus:n$f.bool,value:n$f.oneOfType([n$f.string,n$f.number,n$f.array])};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const be=a$6(),A=reactExports.forwardRef((T,_)=>{const U=n$a(be,T),{size:H=d$1.size,rounded:z=d$1.rounded,fillMode:j=d$1.fillMode,autoFocus:q=d$1.autoFocus,prefix:K=null,suffix:Y=null,ariaDescribedBy:X,ariaLabelledBy:Z,autoSize:ne,className:ie,defaultValue:se,disabled:de,readOnly:Ee,required:pe,rows:le,id:ue,name:fe,placeholder:ve,style:me,tabIndex:Ae,value:ae,valid:oe,validationMessage:ce,validityStyles:Se,onChange:he,onFocus:xe,onBlur:ye,visited:Ge,touched:qe,modified:Fe,resizable:He,inputAttributes:Ye,...ke}=U,Ke=reactExports.useRef(null),gt=reactExports.useCallback(()=>{Ke.current&&Ke.current.focus()},[]),[De,Ie]=reactExports.useState(se),[Pe,we]=s$f(K),[Ve,Me]=s$f(Y),Le=ae!==void 0,Qe=Le?ae:De,ut=reactExports.useCallback(()=>({element:Ke,focus:gt,get value(){return Qe},get name(){return Ke.current&&Ke.current.name}}),[gt,Qe]);reactExports.useImperativeHandle(_,ut);const[Bt,nn]=reactExports.useState("auto"),un=I$3(),on=u$7(Ke,U.dir),hn=oe!==void 0?oe:pe?!!Qe:!0;reactExports.useEffect(()=>{Ke.current&&Ke.current.setCustomValidity&&Ke.current.setCustomValidity(hn?"":ce||"")},[hn,ce]),o$d(()=>{Ke.current&&nn(`${Ke.current.scrollHeight}px`)},[Qe]);const At=reactExports.useCallback(ct=>{const vt=ct.target.value;nn("auto"),!Le&&!de&&Ie(vt),he&&!de&&v$5(he,ct,{...ut(),value:vt},{value:vt})},[Ie,he,de,Le]),xt=reactExports.useCallback(ct=>{xe&&!de&&v$5(xe,ct,ut(),void 0)},[xe,de]),$e=reactExports.useCallback(ct=>{ye&&!de&&v$5(ye,ct,ut(),void 0)},[ye,de]),Be={id:ue||un,role:"textbox",name:fe,className:n$c("k-input-inner","!k-overflow-auto",{"k-resize":!ne&&He!=="none"}),ref:Ke,disabled:de,rows:le,placeholder:ve,readOnly:Ee,required:pe,tabIndex:e$d(Ae,de),autoFocus:q,style:ne?{resize:"none",overflow:"hidden",height:Bt}:He?{resize:He}:{},"aria-labelledby":Z,"aria-describedby":X,"aria-multiline":!0,"aria-disabled":de||void 0,"aria-required":pe,value:Le?ae:De,...Object.assign({},ke,Ye),onChange:At,onFocus:xt,onBlur:$e};return reactExports.createElement("span",{className:n$c("k-input","k-textarea",{[`k-input-${a$3.sizeMap[H]||H}`]:H,[`k-input-${j}`]:j,[`k-rounded-${a$3.roundedMap[z]||z}`]:z,"k-invalid":!(hn||Se!==void 0||Se===!0),"k-required":pe,"k-disabled":de},ie),style:me,dir:on},U.prefix&&reactExports.createElement(Pe,{...we}),reactExports.createElement("textarea",{...Be}),U.suffix&&reactExports.createElement(Ve,{...Me}))});A.propTypes={ariaDescribedBy:n$f.string,ariaLabelledBy:n$f.string,autoSize:n$f.bool,className:n$f.string,defaultValue:n$f.string,dir:n$f.string,disabled:n$f.bool,readOnly:n$f.bool,rows:n$f.number,id:n$f.string,name:n$f.string,placeholder:n$f.string,style:n$f.object,tabIndex:n$f.number,value:n$f.oneOfType([n$f.string,n$f.arrayOf(n$f.string),n$f.number]),onChange:n$f.func,onFocus:n$f.func,onBlur:n$f.func,size:n$f.oneOf([null,"small","medium","large"]),rounded:n$f.oneOf([null,"small","medium","large","full"]),fillMode:n$f.oneOf([null,"solid","flat","outline"]),resizable:n$f.oneOf(["none","both","horizontal","vertical"]),autoFocus:n$f.bool};const d$1={size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1};A.displayName="KendoTextArea";function bind(T,_){return function(){return T.apply(_,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(T=>_=>{const U=toString.call(_);return T[U]||(T[U]=U.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=T=>(T=T.toLowerCase(),_=>kindOf(_)===T),typeOfTest=T=>_=>typeof _===T,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(T){return T!==null&&!isUndefined(T)&&T.constructor!==null&&!isUndefined(T.constructor)&&isFunction(T.constructor.isBuffer)&&T.constructor.isBuffer(T)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(T){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(T):_=T&&T.buffer&&isArrayBuffer(T.buffer),_}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=T=>T!==null&&typeof T=="object",isBoolean=T=>T===!0||T===!1,isPlainObject=T=>{if(kindOf(T)!=="object")return!1;const _=getPrototypeOf(T);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in T)&&!(Symbol.iterator in T)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=T=>isObject(T)&&isFunction(T.pipe),isFormData=T=>{let _;return T&&(typeof FormData=="function"&&T instanceof FormData||isFunction(T.append)&&((_=kindOf(T))==="formdata"||_==="object"&&isFunction(T.toString)&&T.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=T=>T.trim?T.trim():T.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(T,_,{allOwnKeys:U=!1}={}){if(T===null||typeof T>"u")return;let H,z;if(typeof T!="object"&&(T=[T]),isArray(T))for(H=0,z=T.length;H<z;H++)_.call(null,T[H],H,T);else{const j=U?Object.getOwnPropertyNames(T):Object.keys(T),q=j.length;let K;for(H=0;H<q;H++)K=j[H],_.call(null,T[K],K,T)}}function findKey(T,_){_=_.toLowerCase();const U=Object.keys(T);let H=U.length,z;for(;H-- >0;)if(z=U[H],_===z.toLowerCase())return z;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=T=>!isUndefined(T)&&T!==_global;function merge(){const{caseless:T}=isContextDefined(this)&&this||{},_={},U=(H,z)=>{const j=T&&findKey(_,z)||z;isPlainObject(_[j])&&isPlainObject(H)?_[j]=merge(_[j],H):isPlainObject(H)?_[j]=merge({},H):isArray(H)?_[j]=H.slice():_[j]=H};for(let H=0,z=arguments.length;H<z;H++)arguments[H]&&forEach(arguments[H],U);return _}const extend=(T,_,U,{allOwnKeys:H}={})=>(forEach(_,(z,j)=>{U&&isFunction(z)?T[j]=bind(z,U):T[j]=z},{allOwnKeys:H}),T),stripBOM=T=>(T.charCodeAt(0)===65279&&(T=T.slice(1)),T),inherits=(T,_,U,H)=>{T.prototype=Object.create(_.prototype,H),T.prototype.constructor=T,Object.defineProperty(T,"super",{value:_.prototype}),U&&Object.assign(T.prototype,U)},toFlatObject=(T,_,U,H)=>{let z,j,q;const K={};if(_=_||{},T==null)return _;do{for(z=Object.getOwnPropertyNames(T),j=z.length;j-- >0;)q=z[j],(!H||H(q,T,_))&&!K[q]&&(_[q]=T[q],K[q]=!0);T=U!==!1&&getPrototypeOf(T)}while(T&&(!U||U(T,_))&&T!==Object.prototype);return _},endsWith=(T,_,U)=>{T=String(T),(U===void 0||U>T.length)&&(U=T.length),U-=_.length;const H=T.indexOf(_,U);return H!==-1&&H===U},toArray=T=>{if(!T)return null;if(isArray(T))return T;let _=T.length;if(!isNumber(_))return null;const U=new Array(_);for(;_-- >0;)U[_]=T[_];return U},isTypedArray=(T=>_=>T&&_ instanceof T)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(T,_)=>{const H=(T&&T[Symbol.iterator]).call(T);let z;for(;(z=H.next())&&!z.done;){const j=z.value;_.call(T,j[0],j[1])}},matchAll=(T,_)=>{let U;const H=[];for(;(U=T.exec(_))!==null;)H.push(U);return H},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=T=>T.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(U,H,z){return H.toUpperCase()+z}),hasOwnProperty=(({hasOwnProperty:T})=>(_,U)=>T.call(_,U))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(T,_)=>{const U=Object.getOwnPropertyDescriptors(T),H={};forEach(U,(z,j)=>{let q;(q=_(z,j,T))!==!1&&(H[j]=q||z)}),Object.defineProperties(T,H)},freezeMethods=T=>{reduceDescriptors(T,(_,U)=>{if(isFunction(T)&&["arguments","caller","callee"].indexOf(U)!==-1)return!1;const H=T[U];if(isFunction(H)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+U+"'")})}})},toObjectSet=(T,_)=>{const U={},H=z=>{z.forEach(j=>{U[j]=!0})};return isArray(T)?H(T):H(String(T).split(_)),U},noop=()=>{},toFiniteNumber=(T,_)=>T!=null&&Number.isFinite(T=+T)?T:_;function isSpecCompliantForm(T){return!!(T&&isFunction(T.append)&&T[Symbol.toStringTag]==="FormData"&&T[Symbol.iterator])}const toJSONObject=T=>{const _=new Array(10),U=(H,z)=>{if(isObject(H)){if(_.indexOf(H)>=0)return;if(!("toJSON"in H)){_[z]=H;const j=isArray(H)?[]:{};return forEach(H,(q,K)=>{const Y=U(q,z+1);!isUndefined(Y)&&(j[K]=Y)}),_[z]=void 0,j}}return H};return U(T,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=T=>T&&(isObject(T)||isFunction(T))&&isFunction(T.then)&&isFunction(T.catch),_setImmediate=((T,_)=>T?setImmediate:_?((U,H)=>(_global.addEventListener("message",({source:z,data:j})=>{z===_global&&j===U&&H.length&&H.shift()()},!1),z=>{H.push(z),_global.postMessage(U,"*")}))(`axios@${Math.random()}`,[]):U=>setTimeout(U))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(T,_,U,H,z){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=T,this.name="AxiosError",_&&(this.code=_),U&&(this.config=U),H&&(this.request=H),z&&(this.response=z,this.status=z.status?z.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(T=>{descriptors[T]={value:T}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(T,_,U,H,z,j)=>{const q=Object.create(prototype$1);return utils$1.toFlatObject(T,q,function(Y){return Y!==Error.prototype},K=>K!=="isAxiosError"),AxiosError$1.call(q,T.message,_,U,H,z),q.cause=T,q.name=T.name,j&&Object.assign(q,j),q};const httpAdapter=null;function isVisitable(T){return utils$1.isPlainObject(T)||utils$1.isArray(T)}function removeBrackets(T){return utils$1.endsWith(T,"[]")?T.slice(0,-2):T}function renderKey(T,_,U){return T?T.concat(_).map(function(z,j){return z=removeBrackets(z),!U&&j?"["+z+"]":z}).join(U?".":""):_}function isFlatArray(T){return utils$1.isArray(T)&&!T.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(_){return/^is[A-Z]/.test(_)});function toFormData$1(T,_,U){if(!utils$1.isObject(T))throw new TypeError("target must be an object");_=_||new FormData,U=utils$1.toFlatObject(U,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ee,pe){return!utils$1.isUndefined(pe[Ee])});const H=U.metaTokens,z=U.visitor||Z,j=U.dots,q=U.indexes,Y=(U.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(_);if(!utils$1.isFunction(z))throw new TypeError("visitor must be a function");function X(de){if(de===null)return"";if(utils$1.isDate(de))return de.toISOString();if(!Y&&utils$1.isBlob(de))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(de)||utils$1.isTypedArray(de)?Y&&typeof Blob=="function"?new Blob([de]):Buffer.from(de):de}function Z(de,Ee,pe){let le=de;if(de&&!pe&&typeof de=="object"){if(utils$1.endsWith(Ee,"{}"))Ee=H?Ee:Ee.slice(0,-2),de=JSON.stringify(de);else if(utils$1.isArray(de)&&isFlatArray(de)||(utils$1.isFileList(de)||utils$1.endsWith(Ee,"[]"))&&(le=utils$1.toArray(de)))return Ee=removeBrackets(Ee),le.forEach(function(fe,ve){!(utils$1.isUndefined(fe)||fe===null)&&_.append(q===!0?renderKey([Ee],ve,j):q===null?Ee:Ee+"[]",X(fe))}),!1}return isVisitable(de)?!0:(_.append(renderKey(pe,Ee,j),X(de)),!1)}const ne=[],ie=Object.assign(predicates,{defaultVisitor:Z,convertValue:X,isVisitable});function se(de,Ee){if(!utils$1.isUndefined(de)){if(ne.indexOf(de)!==-1)throw Error("Circular reference detected in "+Ee.join("."));ne.push(de),utils$1.forEach(de,function(le,ue){(!(utils$1.isUndefined(le)||le===null)&&z.call(_,le,utils$1.isString(ue)?ue.trim():ue,Ee,ie))===!0&&se(le,Ee?Ee.concat(ue):[ue])}),ne.pop()}}if(!utils$1.isObject(T))throw new TypeError("data must be an object");return se(T),_}function encode$1(T){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(T).replace(/[!'()~]|%20|%00/g,function(H){return _[H]})}function AxiosURLSearchParams(T,_){this._pairs=[],T&&toFormData$1(T,this,_)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(_,U){this._pairs.push([_,U])};prototype.toString=function(_){const U=_?function(H){return _.call(this,H,encode$1)}:encode$1;return this._pairs.map(function(z){return U(z[0])+"="+U(z[1])},"").join("&")};function encode(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(T,_,U){if(!_)return T;const H=U&&U.encode||encode;utils$1.isFunction(U)&&(U={serialize:U});const z=U&&U.serialize;let j;if(z?j=z(_,U):j=utils$1.isURLSearchParams(_)?_.toString():new AxiosURLSearchParams(_,U).toString(H),j){const q=T.indexOf("#");q!==-1&&(T=T.slice(0,q)),T+=(T.indexOf("?")===-1?"?":"&")+j}return T}class InterceptorManager{constructor(){this.handlers=[]}use(_,U,H){return this.handlers.push({fulfilled:_,rejected:U,synchronous:H?H.synchronous:!1,runWhen:H?H.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){utils$1.forEach(this.handlers,function(H){H!==null&&_(H)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(T,_){return toFormData$1(T,new platform.classes.URLSearchParams,Object.assign({visitor:function(U,H,z,j){return platform.isNode&&utils$1.isBuffer(U)?(this.append(H,U.toString("base64")),!1):j.defaultVisitor.apply(this,arguments)}},_))}function parsePropPath(T){return utils$1.matchAll(/\w+|\[(\w*)]/g,T).map(_=>_[0]==="[]"?"":_[1]||_[0])}function arrayToObject(T){const _={},U=Object.keys(T);let H;const z=U.length;let j;for(H=0;H<z;H++)j=U[H],_[j]=T[j];return _}function formDataToJSON(T){function _(U,H,z,j){let q=U[j++];if(q==="__proto__")return!0;const K=Number.isFinite(+q),Y=j>=U.length;return q=!q&&utils$1.isArray(z)?z.length:q,Y?(utils$1.hasOwnProp(z,q)?z[q]=[z[q],H]:z[q]=H,!K):((!z[q]||!utils$1.isObject(z[q]))&&(z[q]=[]),_(U,H,z[q],j)&&utils$1.isArray(z[q])&&(z[q]=arrayToObject(z[q])),!K)}if(utils$1.isFormData(T)&&utils$1.isFunction(T.entries)){const U={};return utils$1.forEachEntry(T,(H,z)=>{_(parsePropPath(H),z,U,0)}),U}return null}function stringifySafely(T,_,U){if(utils$1.isString(T))try{return(_||JSON.parse)(T),utils$1.trim(T)}catch(H){if(H.name!=="SyntaxError")throw H}return(U||JSON.stringify)(T)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(_,U){const H=U.getContentType()||"",z=H.indexOf("application/json")>-1,j=utils$1.isObject(_);if(j&&utils$1.isHTMLForm(_)&&(_=new FormData(_)),utils$1.isFormData(_))return z?JSON.stringify(formDataToJSON(_)):_;if(utils$1.isArrayBuffer(_)||utils$1.isBuffer(_)||utils$1.isStream(_)||utils$1.isFile(_)||utils$1.isBlob(_)||utils$1.isReadableStream(_))return _;if(utils$1.isArrayBufferView(_))return _.buffer;if(utils$1.isURLSearchParams(_))return U.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_.toString();let K;if(j){if(H.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(_,this.formSerializer).toString();if((K=utils$1.isFileList(_))||H.indexOf("multipart/form-data")>-1){const Y=this.env&&this.env.FormData;return toFormData$1(K?{"files[]":_}:_,Y&&new Y,this.formSerializer)}}return j||z?(U.setContentType("application/json",!1),stringifySafely(_)):_}],transformResponse:[function(_){const U=this.transitional||defaults.transitional,H=U&&U.forcedJSONParsing,z=this.responseType==="json";if(utils$1.isResponse(_)||utils$1.isReadableStream(_))return _;if(_&&utils$1.isString(_)&&(H&&!this.responseType||z)){const q=!(U&&U.silentJSONParsing)&&z;try{return JSON.parse(_)}catch(K){if(q)throw K.name==="SyntaxError"?AxiosError$1.from(K,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):K}}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],T=>{defaults.headers[T]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=T=>{const _={};let U,H,z;return T&&T.split(`
`).forEach(function(q){z=q.indexOf(":"),U=q.substring(0,z).trim().toLowerCase(),H=q.substring(z+1).trim(),!(!U||_[U]&&ignoreDuplicateOf[U])&&(U==="set-cookie"?_[U]?_[U].push(H):_[U]=[H]:_[U]=_[U]?_[U]+", "+H:H)}),_},$internals=Symbol("internals");function normalizeHeader(T){return T&&String(T).trim().toLowerCase()}function normalizeValue(T){return T===!1||T==null?T:utils$1.isArray(T)?T.map(normalizeValue):String(T)}function parseTokens(T){const _=Object.create(null),U=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let H;for(;H=U.exec(T);)_[H[1]]=H[2];return _}const isValidHeaderName=T=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(T.trim());function matchHeaderValue(T,_,U,H,z){if(utils$1.isFunction(H))return H.call(this,_,U);if(z&&(_=U),!!utils$1.isString(_)){if(utils$1.isString(H))return _.indexOf(H)!==-1;if(utils$1.isRegExp(H))return H.test(_)}}function formatHeader(T){return T.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,U,H)=>U.toUpperCase()+H)}function buildAccessors(T,_){const U=utils$1.toCamelCase(" "+_);["get","set","has"].forEach(H=>{Object.defineProperty(T,H+U,{value:function(z,j,q){return this[H].call(this,_,z,j,q)},configurable:!0})})}let AxiosHeaders$1=class{constructor(_){_&&this.set(_)}set(_,U,H){const z=this;function j(K,Y,X){const Z=normalizeHeader(Y);if(!Z)throw new Error("header name must be a non-empty string");const ne=utils$1.findKey(z,Z);(!ne||z[ne]===void 0||X===!0||X===void 0&&z[ne]!==!1)&&(z[ne||Y]=normalizeValue(K))}const q=(K,Y)=>utils$1.forEach(K,(X,Z)=>j(X,Z,Y));if(utils$1.isPlainObject(_)||_ instanceof this.constructor)q(_,U);else if(utils$1.isString(_)&&(_=_.trim())&&!isValidHeaderName(_))q(parseHeaders(_),U);else if(utils$1.isHeaders(_))for(const[K,Y]of _.entries())j(Y,K,H);else _!=null&&j(U,_,H);return this}get(_,U){if(_=normalizeHeader(_),_){const H=utils$1.findKey(this,_);if(H){const z=this[H];if(!U)return z;if(U===!0)return parseTokens(z);if(utils$1.isFunction(U))return U.call(this,z,H);if(utils$1.isRegExp(U))return U.exec(z);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,U){if(_=normalizeHeader(_),_){const H=utils$1.findKey(this,_);return!!(H&&this[H]!==void 0&&(!U||matchHeaderValue(this,this[H],H,U)))}return!1}delete(_,U){const H=this;let z=!1;function j(q){if(q=normalizeHeader(q),q){const K=utils$1.findKey(H,q);K&&(!U||matchHeaderValue(H,H[K],K,U))&&(delete H[K],z=!0)}}return utils$1.isArray(_)?_.forEach(j):j(_),z}clear(_){const U=Object.keys(this);let H=U.length,z=!1;for(;H--;){const j=U[H];(!_||matchHeaderValue(this,this[j],j,_,!0))&&(delete this[j],z=!0)}return z}normalize(_){const U=this,H={};return utils$1.forEach(this,(z,j)=>{const q=utils$1.findKey(H,j);if(q){U[q]=normalizeValue(z),delete U[j];return}const K=_?formatHeader(j):String(j).trim();K!==j&&delete U[j],U[K]=normalizeValue(z),H[K]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const U=Object.create(null);return utils$1.forEach(this,(H,z)=>{H!=null&&H!==!1&&(U[z]=_&&utils$1.isArray(H)?H.join(", "):H)}),U}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,U])=>_+": "+U).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...U){const H=new this(_);return U.forEach(z=>H.set(z)),H}static accessor(_){const H=(this[$internals]=this[$internals]={accessors:{}}).accessors,z=this.prototype;function j(q){const K=normalizeHeader(q);H[K]||(buildAccessors(z,q),H[K]=!0)}return utils$1.isArray(_)?_.forEach(j):j(_),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:T},_)=>{let U=_[0].toUpperCase()+_.slice(1);return{get:()=>T,set(H){this[U]=H}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(T,_){const U=this||defaults,H=_||U,z=AxiosHeaders$1.from(H.headers);let j=H.data;return utils$1.forEach(T,function(K){j=K.call(U,j,z.normalize(),_?_.status:void 0)}),z.normalize(),j}function isCancel$1(T){return!!(T&&T.__CANCEL__)}function CanceledError$1(T,_,U){AxiosError$1.call(this,T??"canceled",AxiosError$1.ERR_CANCELED,_,U),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(T,_,U){const H=U.config.validateStatus;!U.status||!H||H(U.status)?T(U):_(new AxiosError$1("Request failed with status code "+U.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(U.status/100)-4],U.config,U.request,U))}function parseProtocol(T){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec(T);return _&&_[1]||""}function speedometer(T,_){T=T||10;const U=new Array(T),H=new Array(T);let z=0,j=0,q;return _=_!==void 0?_:1e3,function(Y){const X=Date.now(),Z=H[j];q||(q=X),U[z]=Y,H[z]=X;let ne=j,ie=0;for(;ne!==z;)ie+=U[ne++],ne=ne%T;if(z=(z+1)%T,z===j&&(j=(j+1)%T),X-q<_)return;const se=Z&&X-Z;return se?Math.round(ie*1e3/se):void 0}}function throttle(T,_){let U=0,H=1e3/_,z,j;const q=(X,Z=Date.now())=>{U=Z,z=null,j&&(clearTimeout(j),j=null),T.apply(null,X)};return[(...X)=>{const Z=Date.now(),ne=Z-U;ne>=H?q(X,Z):(z=X,j||(j=setTimeout(()=>{j=null,q(z)},H-ne)))},()=>z&&q(z)]}const progressEventReducer=(T,_,U=3)=>{let H=0;const z=speedometer(50,250);return throttle(j=>{const q=j.loaded,K=j.lengthComputable?j.total:void 0,Y=q-H,X=z(Y),Z=q<=K;H=q;const ne={loaded:q,total:K,progress:K?q/K:void 0,bytes:Y,rate:X||void 0,estimated:X&&K&&Z?(K-q)/X:void 0,event:j,lengthComputable:K!=null,[_?"download":"upload"]:!0};T(ne)},U)},progressEventDecorator=(T,_)=>{const U=T!=null;return[H=>_[0]({lengthComputable:U,total:T,loaded:H}),_[1]]},asyncDecorator=T=>(..._)=>utils$1.asap(()=>T(..._)),isURLSameOrigin=platform.hasStandardBrowserEnv?((T,_)=>U=>(U=new URL(U,platform.origin),T.protocol===U.protocol&&T.host===U.host&&(_||T.port===U.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(T,_,U,H,z,j){const q=[T+"="+encodeURIComponent(_)];utils$1.isNumber(U)&&q.push("expires="+new Date(U).toGMTString()),utils$1.isString(H)&&q.push("path="+H),utils$1.isString(z)&&q.push("domain="+z),j===!0&&q.push("secure"),document.cookie=q.join("; ")},read(T){const _=document.cookie.match(new RegExp("(^|;\\s*)("+T+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove(T){this.write(T,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(T){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(T)}function combineURLs(T,_){return _?T.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):T}function buildFullPath(T,_,U){let H=!isAbsoluteURL(_);return T&&(H||U==!1)?combineURLs(T,_):_}const headersToObject=T=>T instanceof AxiosHeaders$1?{...T}:T;function mergeConfig$1(T,_){_=_||{};const U={};function H(X,Z,ne,ie){return utils$1.isPlainObject(X)&&utils$1.isPlainObject(Z)?utils$1.merge.call({caseless:ie},X,Z):utils$1.isPlainObject(Z)?utils$1.merge({},Z):utils$1.isArray(Z)?Z.slice():Z}function z(X,Z,ne,ie){if(utils$1.isUndefined(Z)){if(!utils$1.isUndefined(X))return H(void 0,X,ne,ie)}else return H(X,Z,ne,ie)}function j(X,Z){if(!utils$1.isUndefined(Z))return H(void 0,Z)}function q(X,Z){if(utils$1.isUndefined(Z)){if(!utils$1.isUndefined(X))return H(void 0,X)}else return H(void 0,Z)}function K(X,Z,ne){if(ne in _)return H(X,Z);if(ne in T)return H(void 0,X)}const Y={url:j,method:j,data:j,baseURL:q,transformRequest:q,transformResponse:q,paramsSerializer:q,timeout:q,timeoutMessage:q,withCredentials:q,withXSRFToken:q,adapter:q,responseType:q,xsrfCookieName:q,xsrfHeaderName:q,onUploadProgress:q,onDownloadProgress:q,decompress:q,maxContentLength:q,maxBodyLength:q,beforeRedirect:q,transport:q,httpAgent:q,httpsAgent:q,cancelToken:q,socketPath:q,responseEncoding:q,validateStatus:K,headers:(X,Z,ne)=>z(headersToObject(X),headersToObject(Z),ne,!0)};return utils$1.forEach(Object.keys(Object.assign({},T,_)),function(Z){const ne=Y[Z]||z,ie=ne(T[Z],_[Z],Z);utils$1.isUndefined(ie)&&ne!==K||(U[Z]=ie)}),U}const resolveConfig=T=>{const _=mergeConfig$1({},T);let{data:U,withXSRFToken:H,xsrfHeaderName:z,xsrfCookieName:j,headers:q,auth:K}=_;_.headers=q=AxiosHeaders$1.from(q),_.url=buildURL(buildFullPath(_.baseURL,_.url,_.allowAbsoluteUrls),T.params,T.paramsSerializer),K&&q.set("Authorization","Basic "+btoa((K.username||"")+":"+(K.password?unescape(encodeURIComponent(K.password)):"")));let Y;if(utils$1.isFormData(U)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)q.setContentType(void 0);else if((Y=q.getContentType())!==!1){const[X,...Z]=Y?Y.split(";").map(ne=>ne.trim()).filter(Boolean):[];q.setContentType([X||"multipart/form-data",...Z].join("; "))}}if(platform.hasStandardBrowserEnv&&(H&&utils$1.isFunction(H)&&(H=H(_)),H||H!==!1&&isURLSameOrigin(_.url))){const X=z&&j&&cookies.read(j);X&&q.set(z,X)}return _},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(T){return new Promise(function(U,H){const z=resolveConfig(T);let j=z.data;const q=AxiosHeaders$1.from(z.headers).normalize();let{responseType:K,onUploadProgress:Y,onDownloadProgress:X}=z,Z,ne,ie,se,de;function Ee(){se&&se(),de&&de(),z.cancelToken&&z.cancelToken.unsubscribe(Z),z.signal&&z.signal.removeEventListener("abort",Z)}let pe=new XMLHttpRequest;pe.open(z.method.toUpperCase(),z.url,!0),pe.timeout=z.timeout;function le(){if(!pe)return;const fe=AxiosHeaders$1.from("getAllResponseHeaders"in pe&&pe.getAllResponseHeaders()),me={data:!K||K==="text"||K==="json"?pe.responseText:pe.response,status:pe.status,statusText:pe.statusText,headers:fe,config:T,request:pe};settle(function(ae){U(ae),Ee()},function(ae){H(ae),Ee()},me),pe=null}"onloadend"in pe?pe.onloadend=le:pe.onreadystatechange=function(){!pe||pe.readyState!==4||pe.status===0&&!(pe.responseURL&&pe.responseURL.indexOf("file:")===0)||setTimeout(le)},pe.onabort=function(){pe&&(H(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,T,pe)),pe=null)},pe.onerror=function(){H(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,T,pe)),pe=null},pe.ontimeout=function(){let ve=z.timeout?"timeout of "+z.timeout+"ms exceeded":"timeout exceeded";const me=z.transitional||transitionalDefaults;z.timeoutErrorMessage&&(ve=z.timeoutErrorMessage),H(new AxiosError$1(ve,me.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,T,pe)),pe=null},j===void 0&&q.setContentType(null),"setRequestHeader"in pe&&utils$1.forEach(q.toJSON(),function(ve,me){pe.setRequestHeader(me,ve)}),utils$1.isUndefined(z.withCredentials)||(pe.withCredentials=!!z.withCredentials),K&&K!=="json"&&(pe.responseType=z.responseType),X&&([ie,de]=progressEventReducer(X,!0),pe.addEventListener("progress",ie)),Y&&pe.upload&&([ne,se]=progressEventReducer(Y),pe.upload.addEventListener("progress",ne),pe.upload.addEventListener("loadend",se)),(z.cancelToken||z.signal)&&(Z=fe=>{pe&&(H(!fe||fe.type?new CanceledError$1(null,T,pe):fe),pe.abort(),pe=null)},z.cancelToken&&z.cancelToken.subscribe(Z),z.signal&&(z.signal.aborted?Z():z.signal.addEventListener("abort",Z)));const ue=parseProtocol(z.url);if(ue&&platform.protocols.indexOf(ue)===-1){H(new AxiosError$1("Unsupported protocol "+ue+":",AxiosError$1.ERR_BAD_REQUEST,T));return}pe.send(j||null)})},composeSignals=(T,_)=>{const{length:U}=T=T?T.filter(Boolean):[];if(_||U){let H=new AbortController,z;const j=function(X){if(!z){z=!0,K();const Z=X instanceof Error?X:this.reason;H.abort(Z instanceof AxiosError$1?Z:new CanceledError$1(Z instanceof Error?Z.message:Z))}};let q=_&&setTimeout(()=>{q=null,j(new AxiosError$1(`timeout ${_} of ms exceeded`,AxiosError$1.ETIMEDOUT))},_);const K=()=>{T&&(q&&clearTimeout(q),q=null,T.forEach(X=>{X.unsubscribe?X.unsubscribe(j):X.removeEventListener("abort",j)}),T=null)};T.forEach(X=>X.addEventListener("abort",j));const{signal:Y}=H;return Y.unsubscribe=()=>utils$1.asap(K),Y}},streamChunk=function*(T,_){let U=T.byteLength;if(U<_){yield T;return}let H=0,z;for(;H<U;)z=H+_,yield T.slice(H,z),H=z},readBytes=async function*(T,_){for await(const U of readStream(T))yield*streamChunk(U,_)},readStream=async function*(T){if(T[Symbol.asyncIterator]){yield*T;return}const _=T.getReader();try{for(;;){const{done:U,value:H}=await _.read();if(U)break;yield H}}finally{await _.cancel()}},trackStream=(T,_,U,H)=>{const z=readBytes(T,_);let j=0,q,K=Y=>{q||(q=!0,H&&H(Y))};return new ReadableStream({async pull(Y){try{const{done:X,value:Z}=await z.next();if(X){K(),Y.close();return}let ne=Z.byteLength;if(U){let ie=j+=ne;U(ie)}Y.enqueue(new Uint8Array(Z))}catch(X){throw K(X),X}},cancel(Y){return K(Y),z.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(T=>_=>T.encode(_))(new TextEncoder):async T=>new Uint8Array(await new Response(T).arrayBuffer())),test=(T,..._)=>{try{return!!T(..._)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let T=!1;const _=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!_}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(T=>T.body)};isFetchSupported&&(T=>{["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!resolvers[_]&&(resolvers[_]=utils$1.isFunction(T[_])?U=>U[_]():(U,H)=>{throw new AxiosError$1(`Response type '${_}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,H)})})})(new Response);const getBodyLength=async T=>{if(T==null)return 0;if(utils$1.isBlob(T))return T.size;if(utils$1.isSpecCompliantForm(T))return(await new Request(platform.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(T)||utils$1.isArrayBuffer(T))return T.byteLength;if(utils$1.isURLSearchParams(T)&&(T=T+""),utils$1.isString(T))return(await encodeText(T)).byteLength},resolveBodyLength=async(T,_)=>{const U=utils$1.toFiniteNumber(T.getContentLength());return U??getBodyLength(_)},fetchAdapter=isFetchSupported&&(async T=>{let{url:_,method:U,data:H,signal:z,cancelToken:j,timeout:q,onDownloadProgress:K,onUploadProgress:Y,responseType:X,headers:Z,withCredentials:ne="same-origin",fetchOptions:ie}=resolveConfig(T);X=X?(X+"").toLowerCase():"text";let se=composeSignals([z,j&&j.toAbortSignal()],q),de;const Ee=se&&se.unsubscribe&&(()=>{se.unsubscribe()});let pe;try{if(Y&&supportsRequestStream&&U!=="get"&&U!=="head"&&(pe=await resolveBodyLength(Z,H))!==0){let me=new Request(_,{method:"POST",body:H,duplex:"half"}),Ae;if(utils$1.isFormData(H)&&(Ae=me.headers.get("content-type"))&&Z.setContentType(Ae),me.body){const[ae,oe]=progressEventDecorator(pe,progressEventReducer(asyncDecorator(Y)));H=trackStream(me.body,DEFAULT_CHUNK_SIZE,ae,oe)}}utils$1.isString(ne)||(ne=ne?"include":"omit");const le="credentials"in Request.prototype;de=new Request(_,{...ie,signal:se,method:U.toUpperCase(),headers:Z.normalize().toJSON(),body:H,duplex:"half",credentials:le?ne:void 0});let ue=await fetch(de);const fe=supportsResponseStream&&(X==="stream"||X==="response");if(supportsResponseStream&&(K||fe&&Ee)){const me={};["status","statusText","headers"].forEach(ce=>{me[ce]=ue[ce]});const Ae=utils$1.toFiniteNumber(ue.headers.get("content-length")),[ae,oe]=K&&progressEventDecorator(Ae,progressEventReducer(asyncDecorator(K),!0))||[];ue=new Response(trackStream(ue.body,DEFAULT_CHUNK_SIZE,ae,()=>{oe&&oe(),Ee&&Ee()}),me)}X=X||"text";let ve=await resolvers[utils$1.findKey(resolvers,X)||"text"](ue,T);return!fe&&Ee&&Ee(),await new Promise((me,Ae)=>{settle(me,Ae,{data:ve,headers:AxiosHeaders$1.from(ue.headers),status:ue.status,statusText:ue.statusText,config:T,request:de})})}catch(le){throw Ee&&Ee(),le&&le.name==="TypeError"&&/fetch/i.test(le.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,T,de),{cause:le.cause||le}):AxiosError$1.from(le,le&&le.code,T,de)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(T,_)=>{if(T){try{Object.defineProperty(T,"name",{value:_})}catch{}Object.defineProperty(T,"adapterName",{value:_})}});const renderReason=T=>`- ${T}`,isResolvedHandle=T=>utils$1.isFunction(T)||T===null||T===!1,adapters={getAdapter:T=>{T=utils$1.isArray(T)?T:[T];const{length:_}=T;let U,H;const z={};for(let j=0;j<_;j++){U=T[j];let q;if(H=U,!isResolvedHandle(U)&&(H=knownAdapters[(q=String(U)).toLowerCase()],H===void 0))throw new AxiosError$1(`Unknown adapter '${q}'`);if(H)break;z[q||"#"+j]=H}if(!H){const j=Object.entries(z).map(([K,Y])=>`adapter ${K} `+(Y===!1?"is not supported by the environment":"is not available in the build"));let q=_?j.length>1?`since :
`+j.map(renderReason).join(`
`):" "+renderReason(j[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+q,"ERR_NOT_SUPPORT")}return H},adapters:knownAdapters};function throwIfCancellationRequested(T){if(T.cancelToken&&T.cancelToken.throwIfRequested(),T.signal&&T.signal.aborted)throw new CanceledError$1(null,T)}function dispatchRequest(T){return throwIfCancellationRequested(T),T.headers=AxiosHeaders$1.from(T.headers),T.data=transformData.call(T,T.transformRequest),["post","put","patch"].indexOf(T.method)!==-1&&T.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(T.adapter||defaults.adapter)(T).then(function(H){return throwIfCancellationRequested(T),H.data=transformData.call(T,T.transformResponse,H),H.headers=AxiosHeaders$1.from(H.headers),H},function(H){return isCancel$1(H)||(throwIfCancellationRequested(T),H&&H.response&&(H.response.data=transformData.call(T,T.transformResponse,H.response),H.response.headers=AxiosHeaders$1.from(H.response.headers))),Promise.reject(H)})}const VERSION$1="1.8.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((T,_)=>{validators$1[T]=function(H){return typeof H===T||"a"+(_<1?"n ":" ")+T}});const deprecatedWarnings={};validators$1.transitional=function(_,U,H){function z(j,q){return"[Axios v"+VERSION$1+"] Transitional option '"+j+"'"+q+(H?". "+H:"")}return(j,q,K)=>{if(_===!1)throw new AxiosError$1(z(q," has been removed"+(U?" in "+U:"")),AxiosError$1.ERR_DEPRECATED);return U&&!deprecatedWarnings[q]&&(deprecatedWarnings[q]=!0,console.warn(z(q," has been deprecated since v"+U+" and will be removed in the near future"))),_?_(j,q,K):!0}};validators$1.spelling=function(_){return(U,H)=>(console.warn(`${H} is likely a misspelling of ${_}`),!0)};function assertOptions(T,_,U){if(typeof T!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const H=Object.keys(T);let z=H.length;for(;z-- >0;){const j=H[z],q=_[j];if(q){const K=T[j],Y=K===void 0||q(K,j,T);if(Y!==!0)throw new AxiosError$1("option "+j+" must be "+Y,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(U!==!0)throw new AxiosError$1("Unknown option "+j,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(_){this.defaults=_,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(_,U){try{return await this._request(_,U)}catch(H){if(H instanceof Error){let z={};Error.captureStackTrace?Error.captureStackTrace(z):z=new Error;const j=z.stack?z.stack.replace(/^.+\n/,""):"";try{H.stack?j&&!String(H.stack).endsWith(j.replace(/^.+\n.+\n/,""))&&(H.stack+=`
`+j):H.stack=j}catch{}}throw H}}_request(_,U){typeof _=="string"?(U=U||{},U.url=_):U=_||{},U=mergeConfig$1(this.defaults,U);const{transitional:H,paramsSerializer:z,headers:j}=U;H!==void 0&&validator.assertOptions(H,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),z!=null&&(utils$1.isFunction(z)?U.paramsSerializer={serialize:z}:validator.assertOptions(z,{encode:validators.function,serialize:validators.function},!0)),U.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?U.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:U.allowAbsoluteUrls=!0),validator.assertOptions(U,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),U.method=(U.method||this.defaults.method||"get").toLowerCase();let q=j&&utils$1.merge(j.common,j[U.method]);j&&utils$1.forEach(["delete","get","head","post","put","patch","common"],de=>{delete j[de]}),U.headers=AxiosHeaders$1.concat(q,j);const K=[];let Y=!0;this.interceptors.request.forEach(function(Ee){typeof Ee.runWhen=="function"&&Ee.runWhen(U)===!1||(Y=Y&&Ee.synchronous,K.unshift(Ee.fulfilled,Ee.rejected))});const X=[];this.interceptors.response.forEach(function(Ee){X.push(Ee.fulfilled,Ee.rejected)});let Z,ne=0,ie;if(!Y){const de=[dispatchRequest.bind(this),void 0];for(de.unshift.apply(de,K),de.push.apply(de,X),ie=de.length,Z=Promise.resolve(U);ne<ie;)Z=Z.then(de[ne++],de[ne++]);return Z}ie=K.length;let se=U;for(ne=0;ne<ie;){const de=K[ne++],Ee=K[ne++];try{se=de(se)}catch(pe){Ee.call(this,pe);break}}try{Z=dispatchRequest.call(this,se)}catch(de){return Promise.reject(de)}for(ne=0,ie=X.length;ne<ie;)Z=Z.then(X[ne++],X[ne++]);return Z}getUri(_){_=mergeConfig$1(this.defaults,_);const U=buildFullPath(_.baseURL,_.url,_.allowAbsoluteUrls);return buildURL(U,_.params,_.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(_){Axios$1.prototype[_]=function(U,H){return this.request(mergeConfig$1(H||{},{method:_,url:U,data:(H||{}).data}))}});utils$1.forEach(["post","put","patch"],function(_){function U(H){return function(j,q,K){return this.request(mergeConfig$1(K||{},{method:_,headers:H?{"Content-Type":"multipart/form-data"}:{},url:j,data:q}))}}Axios$1.prototype[_]=U(),Axios$1.prototype[_+"Form"]=U(!0)});let CancelToken$1=class Us{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let U;this.promise=new Promise(function(j){U=j});const H=this;this.promise.then(z=>{if(!H._listeners)return;let j=H._listeners.length;for(;j-- >0;)H._listeners[j](z);H._listeners=null}),this.promise.then=z=>{let j;const q=new Promise(K=>{H.subscribe(K),j=K}).then(z);return q.cancel=function(){H.unsubscribe(j)},q},_(function(j,q,K){H.reason||(H.reason=new CanceledError$1(j,q,K),U(H.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const U=this._listeners.indexOf(_);U!==-1&&this._listeners.splice(U,1)}toAbortSignal(){const _=new AbortController,U=H=>{_.abort(H)};return this.subscribe(U),_.signal.unsubscribe=()=>this.unsubscribe(U),_.signal}static source(){let _;return{token:new Us(function(z){_=z}),cancel:_}}};function spread$1(T){return function(U){return T.apply(null,U)}}function isAxiosError$1(T){return utils$1.isObject(T)&&T.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([T,_])=>{HttpStatusCode$1[_]=T});function createInstance(T){const _=new Axios$1(T),U=bind(Axios$1.prototype.request,_);return utils$1.extend(U,Axios$1.prototype,_,{allOwnKeys:!0}),utils$1.extend(U,_,null,{allOwnKeys:!0}),U.create=function(z){return createInstance(mergeConfig$1(T,z))},U}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(_){return Promise.all(_)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=T=>formDataToJSON(utils$1.isHTMLForm(T)?new FormData(T):T);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;async function analyzeResume(T,_){var j,q,K,Y,X;const U="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyBGcxooTxbFWPb-9p8qk2gurcsrB0ddCSc",z={contents:[{parts:[{text:`
 "You are an AI assistant that evaluates job compatibility based on a candidate's resume and a job description. Your task is to analyze the given resume against the job description and provide a structured JSON output covering the following:  

1️⃣ **Overall Skills Match (%)**  
- Provide a percentage match between the resume and the job description.  

2️⃣ **Key Strengths**  
- List the candidate's **strongest** skills and experiences that align well with the job.  

3️⃣ **Weaknesses (if any)**  
- Identify gaps in **soft skills, experience, industry best practices, or tooling knowledge** that might impact job performance.  

4️⃣ **Missing Skills**  
- List technical or domain-specific skills mentioned in the job description but missing from the resume.  

5️⃣ **Detailed Experience Alignment**  
- Break down the candidate's experience in relation to the **job responsibilities** and indicate how well each requirement is met. Use labels: "Strong Match", "Partial Match", or "Not Covered".  

6️⃣ **Formatting & Presentation Feedback**  
- Provide suggestions to **improve resume readability, keyword optimization, bullet point clarity, or structural consistency** (if needed).  

7️⃣ **Improvement Suggestions (Prioritized)**  
- List actionable improvements categorized as:  
  - 🔴 **High Priority:** Must-fix for better job compatibility.  
  - 🟡 **Medium Priority:** Recommended but not critical.  
  - 🔵 **Low Priority:** Minor optimizations to enhance presentation.  

### **Analyze the following inputs:**  

**Candidate Resume:**  
${T}

**Job Description:**  
${_}

### **Return Format (Example JSON Output):**  

{
  "skills_match": "90%",
  "strengths": ["List of strong skills"],
  "weaknesses": ["List of soft skill or experience gaps"],
  "missing_skills": ["List of missing skills"],
  "experience_alignment": {
    "Develop and maintain React apps": "Strong Match",
    "Optimize web performance": "Partial Match",
    "Work with TypeScript & Redux": "Not Covered",
    "API integration (REST/GraphQL)": "Strong Match"
  },
  "formatting_feedback": ["List of resume structuring improvements"],
  "improvement_suggestions": {
    "high_priority": ["Critical areas to improve"],
    "medium_priority": ["Recommended but optional"],
    "low_priority": ["Minor enhancements"]
  }
}

IMPORTANT: Return ONLY the JSON object without any markdown formatting or code blocks.
  `}]}]};try{const ne=((X=(Y=(K=(q=(j=(await axios.post(U,z,{headers:{"Content-Type":"application/json"}})).data.candidates)==null?void 0:j[0])==null?void 0:q.content)==null?void 0:K.parts)==null?void 0:Y[0])==null?void 0:X.text)||"{}";let ie=ne;return ne.includes("```json")?ie=ne.replace(/```json\n|\n```/g,""):ne.includes("```")&&(ie=ne.replace(/```\n|\n```/g,"")),JSON.parse(ie)}catch(Z){return console.error("Error analyzing resume:",Z),{error:"Failed to analyze resume. Please try again."}}}function commonjsRequire(T){throw new Error('Could not dynamically require "'+T+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(_,U){module.exports=_.pdfjsLib=U()})(globalThis,()=>(()=>{var __webpack_modules__=[,(T,_)=>{var zn;Object.defineProperty(_,"__esModule",{value:!0}),_.VerbosityLevel=_.Util=_.UnknownErrorException=_.UnexpectedResponseException=_.TextRenderingMode=_.RenderingIntentFlag=_.PromiseCapability=_.PermissionFlag=_.PasswordResponses=_.PasswordException=_.PageActionEventType=_.OPS=_.MissingPDFException=_.MAX_IMAGE_SIZE_TO_CACHE=_.LINE_FACTOR=_.LINE_DESCENT_FACTOR=_.InvalidPDFException=_.ImageKind=_.IDENTITY_MATRIX=_.FormatError=_.FeatureTest=_.FONT_IDENTITY_MATRIX=_.DocumentActionEventType=_.CMapCompressionType=_.BaseException=_.BASELINE_FACTOR=_.AnnotationType=_.AnnotationReplyType=_.AnnotationPrefix=_.AnnotationMode=_.AnnotationFlag=_.AnnotationFieldFlag=_.AnnotationEditorType=_.AnnotationEditorPrefix=_.AnnotationEditorParamsType=_.AnnotationBorderStyleType=_.AnnotationActionEventType=_.AbortException=void 0,_.assert=ke,_.bytesToString=Bt,_.createValidAbsoluteUrl=gt,_.getModificationDate=En,_.getUuid=kn,_.getVerbosityLevel=qe,_.info=Fe,_.isArrayBuffer=yt,_.isArrayEqual=vn,_.isNodeJS=void 0,_.normalizeUnicode=xn,_.objectFromMap=hn,_.objectSize=on,_.setVerbosityLevel=Ge,_.shadow=De,_.string32=un,_.stringToBytes=nn,_.stringToPDFString=qt,_.stringToUTF8String=fn,_.unreachable=Ye,_.utf8StringToString=pn,_.warn=He;const U=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_.isNodeJS=U;const H=[1,0,0,1,0,0];_.IDENTITY_MATRIX=H;const z=[.001,0,0,.001,0,0];_.FONT_IDENTITY_MATRIX=z;const j=1e7;_.MAX_IMAGE_SIZE_TO_CACHE=j;const q=1.35;_.LINE_FACTOR=q;const K=.35;_.LINE_DESCENT_FACTOR=K;const Y=K/q;_.BASELINE_FACTOR=Y;const X={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_.RenderingIntentFlag=X;const Z={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_.AnnotationMode=Z;const ne="pdfjs_internal_editor_";_.AnnotationEditorPrefix=ne;const ie={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_.AnnotationEditorType=ie;const se={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_.AnnotationEditorParamsType=se;const de={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_.PermissionFlag=de;const Ee={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_.TextRenderingMode=Ee;const pe={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_.ImageKind=pe;const le={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_.AnnotationType=le;const ue={GROUP:"Group",REPLY:"R"};_.AnnotationReplyType=ue;const fe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_.AnnotationFlag=fe;const ve={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_.AnnotationFieldFlag=ve;const me={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_.AnnotationBorderStyleType=me;const Ae={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_.AnnotationActionEventType=Ae;const ae={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_.DocumentActionEventType=ae;const oe={O:"PageOpen",C:"PageClose"};_.PageActionEventType=oe;const ce={ERRORS:0,WARNINGS:1,INFOS:5};_.VerbosityLevel=ce;const Se={NONE:0,BINARY:1};_.CMapCompressionType=Se;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_.OPS=he;const xe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_.PasswordResponses=xe;let ye=ce.WARNINGS;function Ge(mn){Number.isInteger(mn)&&(ye=mn)}function qe(){return ye}function Fe(mn){ye>=ce.INFOS&&console.log(`Info: ${mn}`)}function He(mn){ye>=ce.WARNINGS&&console.log(`Warning: ${mn}`)}function Ye(mn){throw new Error(mn)}function ke(mn,Ct){mn||Ye(Ct)}function Ke(mn){switch(mn==null?void 0:mn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function gt(mn,Ct=null,Ft=null){if(!mn)return null;try{if(Ft&&typeof mn=="string"){if(Ft.addDefaultProtocol&&mn.startsWith("www.")){const Vn=mn.match(/\./g);(Vn==null?void 0:Vn.length)>=2&&(mn=`http://${mn}`)}if(Ft.tryConvertEncoding)try{mn=fn(mn)}catch{}}const Tn=Ct?new URL(mn,Ct):new URL(mn);if(Ke(Tn))return Tn}catch{}return null}function De(mn,Ct,Ft,Tn=!1){return Object.defineProperty(mn,Ct,{value:Ft,enumerable:!Tn,configurable:!0,writable:!1}),Ft}const Ie=function(){function Ct(Ft,Tn){this.constructor===Ct&&Ye("Cannot initialize BaseException."),this.message=Ft,this.name=Tn}return Ct.prototype=new Error,Ct.constructor=Ct,Ct}();_.BaseException=Ie;class Pe extends Ie{constructor(Ct,Ft){super(Ct,"PasswordException"),this.code=Ft}}_.PasswordException=Pe;class we extends Ie{constructor(Ct,Ft){super(Ct,"UnknownErrorException"),this.details=Ft}}_.UnknownErrorException=we;class Ve extends Ie{constructor(Ct){super(Ct,"InvalidPDFException")}}_.InvalidPDFException=Ve;class Me extends Ie{constructor(Ct){super(Ct,"MissingPDFException")}}_.MissingPDFException=Me;class Le extends Ie{constructor(Ct,Ft){super(Ct,"UnexpectedResponseException"),this.status=Ft}}_.UnexpectedResponseException=Le;class Qe extends Ie{constructor(Ct){super(Ct,"FormatError")}}_.FormatError=Qe;class ut extends Ie{constructor(Ct){super(Ct,"AbortException")}}_.AbortException=ut;function Bt(mn){(typeof mn!="object"||(mn==null?void 0:mn.length)===void 0)&&Ye("Invalid argument for bytesToString");const Ct=mn.length,Ft=8192;if(Ct<Ft)return String.fromCharCode.apply(null,mn);const Tn=[];for(let Vn=0;Vn<Ct;Vn+=Ft){const Fn=Math.min(Vn+Ft,Ct),We=mn.subarray(Vn,Fn);Tn.push(String.fromCharCode.apply(null,We))}return Tn.join("")}function nn(mn){typeof mn!="string"&&Ye("Invalid argument for stringToBytes");const Ct=mn.length,Ft=new Uint8Array(Ct);for(let Tn=0;Tn<Ct;++Tn)Ft[Tn]=mn.charCodeAt(Tn)&255;return Ft}function un(mn){return String.fromCharCode(mn>>24&255,mn>>16&255,mn>>8&255,mn&255)}function on(mn){return Object.keys(mn).length}function hn(mn){const Ct=Object.create(null);for(const[Ft,Tn]of mn)Ct[Ft]=Tn;return Ct}function At(){const mn=new Uint8Array(4);return mn[0]=1,new Uint32Array(mn.buffer,0,1)[0]===1}function xt(){try{return new Function(""),!0}catch{return!1}}class $e{static get isLittleEndian(){return De(this,"isLittleEndian",At())}static get isEvalSupported(){return De(this,"isEvalSupported",xt())}static get isOffscreenCanvasSupported(){return De(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?De(this,"platform",{isWin:!1,isMac:!1}):De(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ct,Ft;return De(this,"isCSSRoundSupported",(Ft=(Ct=globalThis.CSS)==null?void 0:Ct.supports)==null?void 0:Ft.call(Ct,"width: round(1.5px, 1px)"))}}_.FeatureTest=$e;const Be=[...Array(256).keys()].map(mn=>mn.toString(16).padStart(2,"0"));class ct{static makeHexColor(Ct,Ft,Tn){return`#${Be[Ct]}${Be[Ft]}${Be[Tn]}`}static scaleMinMax(Ct,Ft){let Tn;Ct[0]?(Ct[0]<0&&(Tn=Ft[0],Ft[0]=Ft[1],Ft[1]=Tn),Ft[0]*=Ct[0],Ft[1]*=Ct[0],Ct[3]<0&&(Tn=Ft[2],Ft[2]=Ft[3],Ft[3]=Tn),Ft[2]*=Ct[3],Ft[3]*=Ct[3]):(Tn=Ft[0],Ft[0]=Ft[2],Ft[2]=Tn,Tn=Ft[1],Ft[1]=Ft[3],Ft[3]=Tn,Ct[1]<0&&(Tn=Ft[2],Ft[2]=Ft[3],Ft[3]=Tn),Ft[2]*=Ct[1],Ft[3]*=Ct[1],Ct[2]<0&&(Tn=Ft[0],Ft[0]=Ft[1],Ft[1]=Tn),Ft[0]*=Ct[2],Ft[1]*=Ct[2]),Ft[0]+=Ct[4],Ft[1]+=Ct[4],Ft[2]+=Ct[5],Ft[3]+=Ct[5]}static transform(Ct,Ft){return[Ct[0]*Ft[0]+Ct[2]*Ft[1],Ct[1]*Ft[0]+Ct[3]*Ft[1],Ct[0]*Ft[2]+Ct[2]*Ft[3],Ct[1]*Ft[2]+Ct[3]*Ft[3],Ct[0]*Ft[4]+Ct[2]*Ft[5]+Ct[4],Ct[1]*Ft[4]+Ct[3]*Ft[5]+Ct[5]]}static applyTransform(Ct,Ft){const Tn=Ct[0]*Ft[0]+Ct[1]*Ft[2]+Ft[4],Vn=Ct[0]*Ft[1]+Ct[1]*Ft[3]+Ft[5];return[Tn,Vn]}static applyInverseTransform(Ct,Ft){const Tn=Ft[0]*Ft[3]-Ft[1]*Ft[2],Vn=(Ct[0]*Ft[3]-Ct[1]*Ft[2]+Ft[2]*Ft[5]-Ft[4]*Ft[3])/Tn,Fn=(-Ct[0]*Ft[1]+Ct[1]*Ft[0]+Ft[4]*Ft[1]-Ft[5]*Ft[0])/Tn;return[Vn,Fn]}static getAxialAlignedBoundingBox(Ct,Ft){const Tn=this.applyTransform(Ct,Ft),Vn=this.applyTransform(Ct.slice(2,4),Ft),Fn=this.applyTransform([Ct[0],Ct[3]],Ft),We=this.applyTransform([Ct[2],Ct[1]],Ft);return[Math.min(Tn[0],Vn[0],Fn[0],We[0]),Math.min(Tn[1],Vn[1],Fn[1],We[1]),Math.max(Tn[0],Vn[0],Fn[0],We[0]),Math.max(Tn[1],Vn[1],Fn[1],We[1])]}static inverseTransform(Ct){const Ft=Ct[0]*Ct[3]-Ct[1]*Ct[2];return[Ct[3]/Ft,-Ct[1]/Ft,-Ct[2]/Ft,Ct[0]/Ft,(Ct[2]*Ct[5]-Ct[4]*Ct[3])/Ft,(Ct[4]*Ct[1]-Ct[5]*Ct[0])/Ft]}static singularValueDecompose2dScale(Ct){const Ft=[Ct[0],Ct[2],Ct[1],Ct[3]],Tn=Ct[0]*Ft[0]+Ct[1]*Ft[2],Vn=Ct[0]*Ft[1]+Ct[1]*Ft[3],Fn=Ct[2]*Ft[0]+Ct[3]*Ft[2],We=Ct[2]*Ft[1]+Ct[3]*Ft[3],cn=(Tn+We)/2,yn=Math.sqrt((Tn+We)**2-4*(Tn*We-Fn*Vn))/2,Rn=cn+yn||1,$n=cn-yn||1;return[Math.sqrt(Rn),Math.sqrt($n)]}static normalizeRect(Ct){const Ft=Ct.slice(0);return Ct[0]>Ct[2]&&(Ft[0]=Ct[2],Ft[2]=Ct[0]),Ct[1]>Ct[3]&&(Ft[1]=Ct[3],Ft[3]=Ct[1]),Ft}static intersect(Ct,Ft){const Tn=Math.max(Math.min(Ct[0],Ct[2]),Math.min(Ft[0],Ft[2])),Vn=Math.min(Math.max(Ct[0],Ct[2]),Math.max(Ft[0],Ft[2]));if(Tn>Vn)return null;const Fn=Math.max(Math.min(Ct[1],Ct[3]),Math.min(Ft[1],Ft[3])),We=Math.min(Math.max(Ct[1],Ct[3]),Math.max(Ft[1],Ft[3]));return Fn>We?null:[Tn,Fn,Vn,We]}static bezierBoundingBox(Ct,Ft,Tn,Vn,Fn,We,cn,yn){const Rn=[],$n=[[],[]];let An,je,Oe,Je,Mt,ln,dn,_n;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(je=6*Ct-12*Tn+6*Fn,An=-3*Ct+9*Tn-9*Fn+3*cn,Oe=3*Tn-3*Ct):(je=6*Ft-12*Vn+6*We,An=-3*Ft+9*Vn-9*We+3*yn,Oe=3*Vn-3*Ft),Math.abs(An)<1e-12){if(Math.abs(je)<1e-12)continue;Je=-Oe/je,0<Je&&Je<1&&Rn.push(Je);continue}dn=je*je-4*Oe*An,_n=Math.sqrt(dn),!(dn<0)&&(Mt=(-je+_n)/(2*An),0<Mt&&Mt<1&&Rn.push(Mt),ln=(-je-_n)/(2*An),0<ln&&ln<1&&Rn.push(ln))}let Cn=Rn.length,In;const bn=Cn;for(;Cn--;)Je=Rn[Cn],In=1-Je,$n[0][Cn]=In*In*In*Ct+3*In*In*Je*Tn+3*In*Je*Je*Fn+Je*Je*Je*cn,$n[1][Cn]=In*In*In*Ft+3*In*In*Je*Vn+3*In*Je*Je*We+Je*Je*Je*yn;return $n[0][bn]=Ct,$n[1][bn]=Ft,$n[0][bn+1]=cn,$n[1][bn+1]=yn,$n[0].length=$n[1].length=bn+2,[Math.min(...$n[0]),Math.min(...$n[1]),Math.max(...$n[0]),Math.max(...$n[1])]}}_.Util=ct;const vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function qt(mn){if(mn[0]>="ï"){let Ft;if(mn[0]==="þ"&&mn[1]==="ÿ"?Ft="utf-16be":mn[0]==="ÿ"&&mn[1]==="þ"?Ft="utf-16le":mn[0]==="ï"&&mn[1]==="»"&&mn[2]==="¿"&&(Ft="utf-8"),Ft)try{const Tn=new TextDecoder(Ft,{fatal:!0}),Vn=nn(mn);return Tn.decode(Vn)}catch(Tn){He(`stringToPDFString: "${Tn}".`)}}const Ct=[];for(let Ft=0,Tn=mn.length;Ft<Tn;Ft++){const Vn=vt[mn.charCodeAt(Ft)];Ct.push(Vn?String.fromCharCode(Vn):mn.charAt(Ft))}return Ct.join("")}function fn(mn){return decodeURIComponent(escape(mn))}function pn(mn){return unescape(encodeURIComponent(mn))}function yt(mn){return typeof mn=="object"&&(mn==null?void 0:mn.byteLength)!==void 0}function vn(mn,Ct){if(mn.length!==Ct.length)return!1;for(let Ft=0,Tn=mn.length;Ft<Tn;Ft++)if(mn[Ft]!==Ct[Ft])return!1;return!0}function En(mn=new Date){return[mn.getUTCFullYear().toString(),(mn.getUTCMonth()+1).toString().padStart(2,"0"),mn.getUTCDate().toString().padStart(2,"0"),mn.getUTCHours().toString().padStart(2,"0"),mn.getUTCMinutes().toString().padStart(2,"0"),mn.getUTCSeconds().toString().padStart(2,"0")].join("")}class On{constructor(){kt(this,zn,!1);this.promise=new Promise((Ct,Ft)=>{this.resolve=Tn=>{Lt(this,zn,!0),Ct(Tn)},this.reject=Tn=>{Lt(this,zn,!0),Ft(Tn)}})}get settled(){return _e(this,zn)}}zn=new WeakMap,_.PromiseCapability=On;let Dn=null,Un=null;function xn(mn){return Dn||(Dn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Un=new Map([["ﬅ","ſt"]])),mn.replaceAll(Dn,(Ct,Ft,Tn)=>Ft?Ft.normalize("NFKC"):Un.get(Tn))}function kn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const mn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(mn);else for(let Ct=0;Ct<32;Ct++)mn[Ct]=Math.floor(Math.random()*255);return Bt(mn)}const Hn="pdfjs_internal_id_";_.AnnotationPrefix=Hn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var T,U,H,z,vr,Zr,K,Y,X,Z,ne,ie,se,de,Ee,ei,le,ue,Ri,ve,me;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ae){if(typeof ae=="string"||ae instanceof URL?ae={url:ae}:(0,_util.isArrayBuffer)(ae)&&(ae={data:ae}),typeof ae!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ae.url&&!ae.data&&!ae.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const oe=new PDFDocumentLoadingTask,{docId:ce}=oe,Se=ae.url?getUrlProp(ae.url):null,he=ae.data?getDataProp(ae.data):null,xe=ae.httpHeaders||null,ye=ae.withCredentials===!0,Ge=ae.password??null,qe=ae.range instanceof PDFDataRangeTransport?ae.range:null,Fe=Number.isInteger(ae.rangeChunkSize)&&ae.rangeChunkSize>0?ae.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let He=ae.worker instanceof PDFWorker?ae.worker:null;const Ye=ae.verbosity,ke=typeof ae.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ae.docBaseUrl)?ae.docBaseUrl:null,Ke=typeof ae.cMapUrl=="string"?ae.cMapUrl:null,gt=ae.cMapPacked!==!1,De=ae.CMapReaderFactory||DefaultCMapReaderFactory,Ie=typeof ae.standardFontDataUrl=="string"?ae.standardFontDataUrl:null,Pe=ae.StandardFontDataFactory||DefaultStandardFontDataFactory,we=ae.stopAtErrors!==!0,Ve=Number.isInteger(ae.maxImageSize)&&ae.maxImageSize>-1?ae.maxImageSize:-1,Me=ae.isEvalSupported!==!1,Le=typeof ae.isOffscreenCanvasSupported=="boolean"?ae.isOffscreenCanvasSupported:!_util.isNodeJS,Qe=Number.isInteger(ae.canvasMaxAreaInBytes)?ae.canvasMaxAreaInBytes:-1,ut=typeof ae.disableFontFace=="boolean"?ae.disableFontFace:_util.isNodeJS,Bt=ae.fontExtraProperties===!0,nn=ae.enableXfa===!0,un=ae.ownerDocument||globalThis.document,on=ae.disableRange===!0,hn=ae.disableStream===!0,At=ae.disableAutoFetch===!0,xt=ae.pdfBug===!0,$e=qe?qe.length:ae.length??NaN,Be=typeof ae.useSystemFonts=="boolean"?ae.useSystemFonts:!_util.isNodeJS&&!ut,ct=typeof ae.useWorkerFetch=="boolean"?ae.useWorkerFetch:De===_display_utils.DOMCMapReaderFactory&&Pe===_display_utils.DOMStandardFontDataFactory&&Ke&&Ie&&(0,_display_utils.isValidFetchUrl)(Ke,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Ie,document.baseURI),vt=ae.canvasFactory||new DefaultCanvasFactory({ownerDocument:un}),qt=ae.filterFactory||new DefaultFilterFactory({docId:ce,ownerDocument:un}),fn=null;(0,_util.setVerbosityLevel)(Ye);const pn={canvasFactory:vt,filterFactory:qt};if(ct||(pn.cMapReaderFactory=new De({baseUrl:Ke,isCompressed:gt}),pn.standardFontDataFactory=new Pe({baseUrl:Ie})),!He){const En={verbosity:Ye,port:_worker_options.GlobalWorkerOptions.workerPort};He=En.port?PDFWorker.fromPort(En):new PDFWorker(En),oe._worker=He}const yt={docId:ce,apiVersion:"3.11.174",data:he,password:Ge,disableAutoFetch:At,rangeChunkSize:Fe,length:$e,docBaseUrl:ke,enableXfa:nn,evaluatorOptions:{maxImageSize:Ve,disableFontFace:ut,ignoreErrors:we,isEvalSupported:Me,isOffscreenCanvasSupported:Le,canvasMaxAreaInBytes:Qe,fontExtraProperties:Bt,useSystemFonts:Be,cMapUrl:ct?Ke:null,standardFontDataUrl:ct?Ie:null}},vn={ignoreErrors:we,isEvalSupported:Me,disableFontFace:ut,fontExtraProperties:Bt,enableXfa:nn,ownerDocument:un,disableAutoFetch:At,pdfBug:xt,styleElement:fn};return He.promise.then(function(){if(oe.destroyed)throw new Error("Loading aborted");const En=_fetchDocument(He,yt),On=new Promise(function(Dn){let Un;qe?Un=new _transport_stream.PDFDataTransportStream({length:$e,initialData:qe.initialData,progressiveDone:qe.progressiveDone,contentDispositionFilename:qe.contentDispositionFilename,disableRange:on,disableStream:hn},qe):he||(Un=(kn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(kn):(0,_display_utils.isValidFetchUrl)(kn.url)?new _displayFetch_stream.PDFFetchStream(kn):new _displayNetwork.PDFNetworkStream(kn))({url:Se,length:$e,httpHeaders:xe,withCredentials:ye,rangeChunkSize:Fe,disableRange:on,disableStream:hn})),Dn(Un)});return Promise.all([En,On]).then(function([Dn,Un]){if(oe.destroyed)throw new Error("Loading aborted");const xn=new _message_handler.MessageHandler(ce,Dn,He.port),kn=new WorkerTransport(xn,oe,Un,vn,pn);oe._transport=kn,xn.send("Ready",null)})}).catch(oe._capability.reject),oe}async function _fetchDocument(ae,oe){if(ae.destroyed)throw new Error("Worker was destroyed");const ce=await ae.messageHandler.sendWithPromise("GetDocRequest",oe,oe.data?[oe.data.buffer]:null);if(ae.destroyed)throw new Error("Worker was destroyed");return ce}function getUrlProp(ae){if(ae instanceof URL)return ae.href;try{return new URL(ae,window.location).href}catch{if(_util.isNodeJS&&typeof ae=="string")return ae}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ae){if(_util.isNodeJS&&typeof Buffer<"u"&&ae instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ae instanceof Uint8Array&&ae.byteLength===ae.buffer.byteLength)return ae;if(typeof ae=="string")return(0,_util.stringToBytes)(ae);if(typeof ae=="object"&&!isNaN(ae==null?void 0:ae.length)||(0,_util.isArrayBuffer)(ae))return new Uint8Array(ae);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _=class _{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Dr(_,T)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var oe,ce,Se;this.destroyed=!0;try{(oe=this._worker)!=null&&oe.port&&(this._worker._pendingDestroy=!0),await((ce=this._transport)==null?void 0:ce.destroy())}catch(he){throw(Se=this._worker)!=null&&Se.port&&delete this._worker._pendingDestroy,he}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};T=new WeakMap,kt(_,T,0);let PDFDocumentLoadingTask=_;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(oe,ce,Se=!1,he=null){this.length=oe,this.initialData=ce,this.progressiveDone=Se,this.contentDispositionFilename=he,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(oe){this._rangeListeners.push(oe)}addProgressListener(oe){this._progressListeners.push(oe)}addProgressiveReadListener(oe){this._progressiveReadListeners.push(oe)}addProgressiveDoneListener(oe){this._progressiveDoneListeners.push(oe)}onDataRange(oe,ce){for(const Se of this._rangeListeners)Se(oe,ce)}onDataProgress(oe,ce){this._readyCapability.promise.then(()=>{for(const Se of this._progressListeners)Se(oe,ce)})}onDataProgressiveRead(oe){this._readyCapability.promise.then(()=>{for(const ce of this._progressiveReadListeners)ce(oe)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const oe of this._progressiveDoneListeners)oe()})}transportReady(){this._readyCapability.resolve()}requestDataRange(oe,ce){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(oe,ce){this._pdfInfo=oe,this._transport=ce,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Se=>{if(!Se)return Se;const he=[];for(const xe in Se)he.push(...Se[xe]);return he}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(oe){return this._transport.getPage(oe)}getPageIndex(oe){return this._transport.getPageIndex(oe)}getDestinations(){return this._transport.getDestinations()}getDestination(oe){return this._transport.getDestination(oe)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(oe=!1){return this._transport.startCleanup(oe||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(oe,ce,Se,he=!1){kt(this,z);kt(this,U,null);kt(this,H,!1);this._pageIndex=oe,this._pageInfo=ce,this._transport=Se,this._stats=he?new _display_utils.StatTimer:null,this._pdfBug=he,this.commonObjs=Se.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:oe,rotation:ce=this.rotate,offsetX:Se=0,offsetY:he=0,dontFlip:xe=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:oe,rotation:ce,offsetX:Se,offsetY:he,dontFlip:xe})}getAnnotations({intent:oe="display"}={}){const ce=this._transport.getRenderingIntent(oe);return this._transport.getAnnotations(this._pageIndex,ce.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var oe;return((oe=this._transport._htmlForXfa)==null?void 0:oe.children[this._pageIndex])||null}render({canvasContext:oe,viewport:ce,intent:Se="display",annotationMode:he=_util.AnnotationMode.ENABLE,transform:xe=null,background:ye=null,optionalContentConfigPromise:Ge=null,annotationCanvasMap:qe=null,pageColors:Fe=null,printAnnotationStorage:He=null}){var Pe,we;(Pe=this._stats)==null||Pe.time("Overall");const Ye=this._transport.getRenderingIntent(Se,he,He);Lt(this,H,!1),pt(this,z,Zr).call(this),Ge||(Ge=this._transport.getOptionalContentConfig());let ke=this._intentStates.get(Ye.cacheKey);ke||(ke=Object.create(null),this._intentStates.set(Ye.cacheKey,ke)),ke.streamReaderCancelTimeout&&(clearTimeout(ke.streamReaderCancelTimeout),ke.streamReaderCancelTimeout=null);const Ke=!!(Ye.renderingIntent&_util.RenderingIntentFlag.PRINT);ke.displayReadyCapability||(ke.displayReadyCapability=new _util.PromiseCapability,ke.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(we=this._stats)==null||we.time("Page Request"),this._pumpOperatorList(Ye));const gt=Ve=>{var Me,Le;ke.renderTasks.delete(De),(this._maybeCleanupAfterRender||Ke)&&Lt(this,H,!0),pt(this,z,vr).call(this,!Ke),Ve?(De.capability.reject(Ve),this._abortOperatorList({intentState:ke,reason:Ve instanceof Error?Ve:new Error(Ve)})):De.capability.resolve(),(Me=this._stats)==null||Me.timeEnd("Rendering"),(Le=this._stats)==null||Le.timeEnd("Overall")},De=new InternalRenderTask({callback:gt,params:{canvasContext:oe,viewport:ce,transform:xe,background:ye},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:qe,operatorList:ke.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ke,pdfBug:this._pdfBug,pageColors:Fe});(ke.renderTasks||(ke.renderTasks=new Set)).add(De);const Ie=De.task;return Promise.all([ke.displayReadyCapability.promise,Ge]).then(([Ve,Me])=>{var Le;if(this.destroyed){gt();return}(Le=this._stats)==null||Le.time("Rendering"),De.initializeGraphics({transparency:Ve,optionalContentConfig:Me}),De.operatorListChanged()}).catch(gt),Ie}getOperatorList({intent:oe="display",annotationMode:ce=_util.AnnotationMode.ENABLE,printAnnotationStorage:Se=null}={}){var qe;function he(){ye.operatorList.lastChunk&&(ye.opListReadCapability.resolve(ye.operatorList),ye.renderTasks.delete(Ge))}const xe=this._transport.getRenderingIntent(oe,ce,Se,!0);let ye=this._intentStates.get(xe.cacheKey);ye||(ye=Object.create(null),this._intentStates.set(xe.cacheKey,ye));let Ge;return ye.opListReadCapability||(Ge=Object.create(null),Ge.operatorListChanged=he,ye.opListReadCapability=new _util.PromiseCapability,(ye.renderTasks||(ye.renderTasks=new Set)).add(Ge),ye.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(qe=this._stats)==null||qe.time("Page Request"),this._pumpOperatorList(xe)),ye.opListReadCapability.promise}streamTextContent({includeMarkedContent:oe=!1,disableNormalization:ce=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:oe===!0,disableNormalization:ce===!0},{highWaterMark:100,size(he){return he.items.length}})}getTextContent(oe={}){if(this._transport._htmlForXfa)return this.getXfa().then(Se=>_xfa_text.XfaText.textContent(Se));const ce=this.streamTextContent(oe);return new Promise(function(Se,he){function xe(){ye.read().then(function({value:qe,done:Fe}){if(Fe){Se(Ge);return}Object.assign(Ge.styles,qe.styles),Ge.items.push(...qe.items),xe()},he)}const ye=ce.getReader(),Ge={items:[],styles:Object.create(null)};xe()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const oe=[];for(const ce of this._intentStates.values())if(this._abortOperatorList({intentState:ce,reason:new Error("Page was destroyed."),force:!0}),!ce.opListReadCapability)for(const Se of ce.renderTasks)oe.push(Se.completed),Se.cancel();return this.objs.clear(),Lt(this,H,!1),pt(this,z,Zr).call(this),Promise.all(oe)}cleanup(oe=!1){Lt(this,H,!0);const ce=pt(this,z,vr).call(this,!1);return oe&&ce&&this._stats&&(this._stats=new _display_utils.StatTimer),ce}_startRenderPage(oe,ce){var he,xe;const Se=this._intentStates.get(ce);Se&&((he=this._stats)==null||he.timeEnd("Page Request"),(xe=Se.displayReadyCapability)==null||xe.resolve(oe))}_renderPageChunk(oe,ce){for(let Se=0,he=oe.length;Se<he;Se++)ce.operatorList.fnArray.push(oe.fnArray[Se]),ce.operatorList.argsArray.push(oe.argsArray[Se]);ce.operatorList.lastChunk=oe.lastChunk,ce.operatorList.separateAnnots=oe.separateAnnots;for(const Se of ce.renderTasks)Se.operatorListChanged();oe.lastChunk&&pt(this,z,vr).call(this,!0)}_pumpOperatorList({renderingIntent:oe,cacheKey:ce,annotationStorageSerializable:Se}){const{map:he,transfers:xe}=Se,Ge=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:oe,cacheKey:ce,annotationStorage:he},xe).getReader(),qe=this._intentStates.get(ce);qe.streamReader=Ge;const Fe=()=>{Ge.read().then(({value:He,done:Ye})=>{if(Ye){qe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(He,qe),Fe())},He=>{if(qe.streamReader=null,!this._transport.destroyed){if(qe.operatorList){qe.operatorList.lastChunk=!0;for(const Ye of qe.renderTasks)Ye.operatorListChanged();pt(this,z,vr).call(this,!0)}if(qe.displayReadyCapability)qe.displayReadyCapability.reject(He);else if(qe.opListReadCapability)qe.opListReadCapability.reject(He);else throw He}})};Fe()}_abortOperatorList({intentState:oe,reason:ce,force:Se=!1}){if(oe.streamReader){if(oe.streamReaderCancelTimeout&&(clearTimeout(oe.streamReaderCancelTimeout),oe.streamReaderCancelTimeout=null),!Se){if(oe.renderTasks.size>0)return;if(ce instanceof _display_utils.RenderingCancelledException){let he=RENDERING_CANCELLED_TIMEOUT;ce.extraDelay>0&&ce.extraDelay<1e3&&(he+=ce.extraDelay),oe.streamReaderCancelTimeout=setTimeout(()=>{oe.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:oe,reason:ce,force:!0})},he);return}}if(oe.streamReader.cancel(new _util.AbortException(ce.message)).catch(()=>{}),oe.streamReader=null,!this._transport.destroyed){for(const[he,xe]of this._intentStates)if(xe===oe){this._intentStates.delete(he);break}this.cleanup()}}}get stats(){return this._stats}}U=new WeakMap,H=new WeakMap,z=new WeakSet,vr=function(oe=!1){if(pt(this,z,Zr).call(this),!_e(this,H)||this.destroyed)return!1;if(oe)return Lt(this,U,setTimeout(()=>{Lt(this,U,null),pt(this,z,vr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ce,operatorList:Se}of this._intentStates.values())if(ce.size>0||!Se.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Lt(this,H,!1),!0},Zr=function(){_e(this,U)&&(clearTimeout(_e(this,U)),Lt(this,U,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){kt(this,K,new Set);kt(this,Y,Promise.resolve())}postMessage(oe,ce){const Se={data:structuredClone(oe,ce?{transfer:ce}:null)};_e(this,Y).then(()=>{for(const he of _e(this,K))he.call(this,Se)})}addEventListener(oe,ce){_e(this,K).add(ce)}removeEventListener(oe,ce){_e(this,K).delete(ce)}terminate(){_e(this,K).clear()}}K=new WeakMap,Y=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ae=(X=document==null?void 0:document.currentScript)==null?void 0:X.src;ae&&(PDFWorkerUtil.fallbackWorkerSrc=ae.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ae,oe){let ce;try{if(ce=new URL(ae),!ce.origin||ce.origin==="null")return!1}catch{return!1}const Se=new URL(oe,ce);return ce.origin===Se.origin},PDFWorkerUtil.createCDNWrapper=function(ae){const oe=`importScripts("${ae}");`;return URL.createObjectURL(new Blob([oe]))}}const _PDFWorker=class _PDFWorker{constructor({name:ae=null,port:oe=null,verbosity:ce=(0,_util.getVerbosityLevel)()}={}){var Se;if(this.name=ae,this.destroyed=!1,this.verbosity=ce,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,oe){if((Se=_e(_PDFWorker,Z))!=null&&Se.has(oe))throw new Error("Cannot use more than one PDFWorker per port.");(_e(_PDFWorker,Z)||Lt(_PDFWorker,Z,new WeakMap)).set(oe,this),this._initializeFromPort(oe);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ae){this._port=ae,this._messageHandler=new _message_handler.MessageHandler("main","worker",ae),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ae}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ae)||(ae=PDFWorkerUtil.createCDNWrapper(new URL(ae,window.location).href));const oe=new Worker(ae),ce=new _message_handler.MessageHandler("main","worker",oe),Se=()=>{oe.removeEventListener("error",he),ce.destroy(),oe.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},he=()=>{this._webWorker||Se()};oe.addEventListener("error",he),ce.on("test",ye=>{if(oe.removeEventListener("error",he),this.destroyed){Se();return}ye?(this._messageHandler=ce,this._port=oe,this._webWorker=oe,this._readyCapability.resolve(),ce.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ce.destroy(),oe.terminate())}),ce.on("ready",ye=>{if(oe.removeEventListener("error",he),this.destroyed){Se();return}try{xe()}catch{this._setupFakeWorker()}});const xe=()=>{const ye=new Uint8Array;ce.send("test",ye,[ye.buffer])};xe();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ae=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const oe=new LoopbackPort;this._port=oe;const ce=`fake${PDFWorkerUtil.fakeWorkerId++}`,Se=new _message_handler.MessageHandler(ce+"_worker",ce,oe);ae.setup(Se,oe);const he=new _message_handler.MessageHandler(ce,ce+"_worker",oe);this._messageHandler=he,this._readyCapability.resolve(),he.send("configure",{verbosity:this.verbosity})}).catch(ae=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ae.message}".`))})}destroy(){var ae;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ae=_e(_PDFWorker,Z))==null||ae.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ae){var ce;if(!(ae!=null&&ae.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const oe=(ce=_e(this,Z))==null?void 0:ce.get(ae.port);if(oe){if(oe._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return oe}return new _PDFWorker(ae)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ae;try{return((ae=globalThis.pdfjsWorker)==null?void 0:ae.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Z=new WeakMap,kt(_PDFWorker,Z);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(oe,ce,Se,he,xe){kt(this,Ee);kt(this,ne,new Map);kt(this,ie,new Map);kt(this,se,new Map);kt(this,de,null);this.messageHandler=oe,this.loadingTask=ce,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:he.ownerDocument,styleElement:he.styleElement}),this._params=he,this.canvasFactory=xe.canvasFactory,this.filterFactory=xe.filterFactory,this.cMapReaderFactory=xe.cMapReaderFactory,this.standardFontDataFactory=xe.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Se,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(oe,ce=_util.AnnotationMode.ENABLE,Se=null,he=!1){let xe=_util.RenderingIntentFlag.DISPLAY,ye=_annotation_storage.SerializableEmpty;switch(oe){case"any":xe=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":xe=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${oe}`)}switch(ce){case _util.AnnotationMode.DISABLE:xe+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:xe+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:xe+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ye=(xe&_util.RenderingIntentFlag.PRINT&&Se instanceof _annotation_storage.PrintAnnotationStorage?Se:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ce}`)}return he&&(xe+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:xe,cacheKey:`${xe}_${ye.hash}`,annotationStorageSerializable:ye}}destroy(){var Se;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Se=_e(this,de))==null||Se.reject(new Error("Worker was destroyed during onPassword callback"));const oe=[];for(const he of _e(this,ie).values())oe.push(he._destroy());_e(this,ie).clear(),_e(this,se).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ce=this.messageHandler.sendWithPromise("Terminate",null);return oe.push(ce),Promise.all(oe).then(()=>{var he;this.commonObjs.clear(),this.fontLoader.clear(),_e(this,ne).clear(),this.filterFactory.destroy(),(he=this._networkStream)==null||he.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:oe,loadingTask:ce}=this;oe.on("GetReader",(Se,he)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=xe=>{this._lastProgress={loaded:xe.loaded,total:xe.total}},he.onPull=()=>{this._fullReader.read().then(function({value:xe,done:ye}){if(ye){he.close();return}(0,_util.assert)(xe instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),he.enqueue(new Uint8Array(xe),1,[xe])}).catch(xe=>{he.error(xe)})},he.onCancel=xe=>{this._fullReader.cancel(xe),he.ready.catch(ye=>{if(!this.destroyed)throw ye})}}),oe.on("ReaderHeadersReady",Se=>{const he=new _util.PromiseCapability,xe=this._fullReader;return xe.headersReady.then(()=>{var ye;(!xe.isStreamingSupported||!xe.isRangeSupported)&&(this._lastProgress&&((ye=ce.onProgress)==null||ye.call(ce,this._lastProgress)),xe.onProgress=Ge=>{var qe;(qe=ce.onProgress)==null||qe.call(ce,{loaded:Ge.loaded,total:Ge.total})}),he.resolve({isStreamingSupported:xe.isStreamingSupported,isRangeSupported:xe.isRangeSupported,contentLength:xe.contentLength})},he.reject),he.promise}),oe.on("GetRangeReader",(Se,he)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const xe=this._networkStream.getRangeReader(Se.begin,Se.end);if(!xe){he.close();return}he.onPull=()=>{xe.read().then(function({value:ye,done:Ge}){if(Ge){he.close();return}(0,_util.assert)(ye instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),he.enqueue(new Uint8Array(ye),1,[ye])}).catch(ye=>{he.error(ye)})},he.onCancel=ye=>{xe.cancel(ye),he.ready.catch(Ge=>{if(!this.destroyed)throw Ge})}}),oe.on("GetDoc",({pdfInfo:Se})=>{this._numPages=Se.numPages,this._htmlForXfa=Se.htmlForXfa,delete Se.htmlForXfa,ce._capability.resolve(new PDFDocumentProxy(Se,this))}),oe.on("DocException",function(Se){let he;switch(Se.name){case"PasswordException":he=new _util.PasswordException(Se.message,Se.code);break;case"InvalidPDFException":he=new _util.InvalidPDFException(Se.message);break;case"MissingPDFException":he=new _util.MissingPDFException(Se.message);break;case"UnexpectedResponseException":he=new _util.UnexpectedResponseException(Se.message,Se.status);break;case"UnknownErrorException":he=new _util.UnknownErrorException(Se.message,Se.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ce._capability.reject(he)}),oe.on("PasswordRequest",Se=>{if(Lt(this,de,new _util.PromiseCapability),ce.onPassword){const he=xe=>{xe instanceof Error?_e(this,de).reject(xe):_e(this,de).resolve({password:xe})};try{ce.onPassword(he,Se.code)}catch(xe){_e(this,de).reject(xe)}}else _e(this,de).reject(new _util.PasswordException(Se.message,Se.code));return _e(this,de).promise}),oe.on("DataLoaded",Se=>{var he;(he=ce.onProgress)==null||he.call(ce,{loaded:Se.length,total:Se.length}),this.downloadInfoCapability.resolve(Se)}),oe.on("StartRenderPage",Se=>{if(this.destroyed)return;_e(this,ie).get(Se.pageIndex)._startRenderPage(Se.transparency,Se.cacheKey)}),oe.on("commonobj",([Se,he,xe])=>{var ye;if(!this.destroyed&&!this.commonObjs.has(Se))switch(he){case"Font":const Ge=this._params;if("error"in xe){const He=xe.error;(0,_util.warn)(`Error during font loading: ${He}`),this.commonObjs.resolve(Se,He);break}const qe=Ge.pdfBug&&((ye=globalThis.FontInspector)!=null&&ye.enabled)?(He,Ye)=>globalThis.FontInspector.fontAdded(He,Ye):null,Fe=new _font_loader.FontFaceObject(xe,{isEvalSupported:Ge.isEvalSupported,disableFontFace:Ge.disableFontFace,ignoreErrors:Ge.ignoreErrors,inspectFont:qe});this.fontLoader.bind(Fe).catch(He=>oe.sendWithPromise("FontFallback",{id:Se})).finally(()=>{!Ge.fontExtraProperties&&Fe.data&&(Fe.data=null),this.commonObjs.resolve(Se,Fe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Se,xe);break;default:throw new Error(`Got unknown common object type ${he}`)}}),oe.on("obj",([Se,he,xe,ye])=>{var qe;if(this.destroyed)return;const Ge=_e(this,ie).get(he);if(!Ge.objs.has(Se))switch(xe){case"Image":if(Ge.objs.resolve(Se,ye),ye){let Fe;if(ye.bitmap){const{width:He,height:Ye}=ye;Fe=He*Ye*4}else Fe=((qe=ye.data)==null?void 0:qe.length)||0;Fe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ge._maybeCleanupAfterRender=!0)}break;case"Pattern":Ge.objs.resolve(Se,ye);break;default:throw new Error(`Got unknown object type ${xe}`)}}),oe.on("DocProgress",Se=>{var he;this.destroyed||(he=ce.onProgress)==null||he.call(ce,{loaded:Se.loaded,total:Se.total})}),oe.on("FetchBuiltInCMap",Se=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Se):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),oe.on("FetchStandardFontData",Se=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Se):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Se;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:oe,transfers:ce}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:oe,filename:((Se=this._fullReader)==null?void 0:Se.filename)??null},ce).finally(()=>{this.annotationStorage.resetModified()})}getPage(oe){if(!Number.isInteger(oe)||oe<=0||oe>this._numPages)return Promise.reject(new Error("Invalid page request."));const ce=oe-1,Se=_e(this,se).get(ce);if(Se)return Se;const he=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ce}).then(xe=>{if(this.destroyed)throw new Error("Transport destroyed");const ye=new PDFPageProxy(ce,xe,this,this._params.pdfBug);return _e(this,ie).set(ce,ye),ye});return _e(this,se).set(ce,he),he}getPageIndex(oe){return typeof oe!="object"||oe===null||!Number.isInteger(oe.num)||oe.num<0||!Number.isInteger(oe.gen)||oe.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:oe.num,gen:oe.gen})}getAnnotations(oe,ce){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:oe,intent:ce})}getFieldObjects(){return pt(this,Ee,ei).call(this,"GetFieldObjects")}hasJSActions(){return pt(this,Ee,ei).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(oe){return typeof oe!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:oe})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return pt(this,Ee,ei).call(this,"GetDocJSActions")}getPageJSActions(oe){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:oe})}getStructTree(oe){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:oe})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(oe=>new _optional_content_config.OptionalContentConfig(oe))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const oe="GetMetadata",ce=_e(this,ne).get(oe);if(ce)return ce;const Se=this.messageHandler.sendWithPromise(oe,null).then(he=>{var xe,ye;return{info:he[0],metadata:he[1]?new _metadata.Metadata(he[1]):null,contentDispositionFilename:((xe=this._fullReader)==null?void 0:xe.filename)??null,contentLength:((ye=this._fullReader)==null?void 0:ye.contentLength)??null}});return _e(this,ne).set(oe,Se),Se}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(oe=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ce of _e(this,ie).values())if(!ce.cleanup())throw new Error(`startCleanup: Page ${ce.pageNumber} is currently rendering.`);this.commonObjs.clear(),oe||this.fontLoader.clear(),_e(this,ne).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:oe,enableXfa:ce}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:oe,enableXfa:ce})}}ne=new WeakMap,ie=new WeakMap,se=new WeakMap,de=new WeakMap,Ee=new WeakSet,ei=function(oe,ce=null){const Se=_e(this,ne).get(oe);if(Se)return Se;const he=this.messageHandler.sendWithPromise(oe,ce);return _e(this,ne).set(oe,he),he};class PDFObjects{constructor(){kt(this,ue);kt(this,le,Object.create(null))}get(oe,ce=null){if(ce){const he=pt(this,ue,Ri).call(this,oe);return he.capability.promise.then(()=>ce(he.data)),null}const Se=_e(this,le)[oe];if(!(Se!=null&&Se.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${oe}.`);return Se.data}has(oe){const ce=_e(this,le)[oe];return(ce==null?void 0:ce.capability.settled)||!1}resolve(oe,ce=null){const Se=pt(this,ue,Ri).call(this,oe);Se.data=ce,Se.capability.resolve()}clear(){var oe;for(const ce in _e(this,le)){const{data:Se}=_e(this,le)[ce];(oe=Se==null?void 0:Se.bitmap)==null||oe.close()}Lt(this,le,Object.create(null))}}le=new WeakMap,ue=new WeakSet,Ri=function(oe){var ce;return(ce=_e(this,le))[oe]||(ce[oe]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(oe){kt(this,ve,null);Lt(this,ve,oe),this.onContinue=null}get promise(){return _e(this,ve).capability.promise}cancel(oe=0){_e(this,ve).cancel(null,oe)}get separateAnnots(){const{separateAnnots:oe}=_e(this,ve).operatorList;if(!oe)return!1;const{annotationCanvasMap:ce}=_e(this,ve);return oe.form||oe.canvas&&(ce==null?void 0:ce.size)>0}}ve=new WeakMap,exports.RenderTask=RenderTask;const Ae=class Ae{constructor({callback:oe,params:ce,objs:Se,commonObjs:he,annotationCanvasMap:xe,operatorList:ye,pageIndex:Ge,canvasFactory:qe,filterFactory:Fe,useRequestAnimationFrame:He=!1,pdfBug:Ye=!1,pageColors:ke=null}){this.callback=oe,this.params=ce,this.objs=Se,this.commonObjs=he,this.annotationCanvasMap=xe,this.operatorListIdx=null,this.operatorList=ye,this._pageIndex=Ge,this.canvasFactory=qe,this.filterFactory=Fe,this._pdfBug=Ye,this.pageColors=ke,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=He===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ce.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:oe=!1,optionalContentConfig:ce}){var Ge,qe;if(this.cancelled)return;if(this._canvas){if(_e(Ae,me).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_e(Ae,me).add(this._canvas)}this._pdfBug&&((Ge=globalThis.StepperManager)!=null&&Ge.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Se,viewport:he,transform:xe,background:ye}=this.params;this.gfx=new _canvas.CanvasGraphics(Se,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ce},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:xe,viewport:he,transparency:oe,background:ye}),this.operatorListIdx=0,this.graphicsReady=!0,(qe=this.graphicsReadyCallback)==null||qe.call(this)}cancel(oe=null,ce=0){var Se;this.running=!1,this.cancelled=!0,(Se=this.gfx)==null||Se.endDrawing(),_e(Ae,me).delete(this._canvas),this.callback(oe||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ce))}operatorListChanged(){var oe;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(oe=this.stepper)==null||oe.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_e(Ae,me).delete(this._canvas),this.callback())))}};me=new WeakMap,kt(Ae,me,new WeakSet);let InternalRenderTask=Ae;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(T,_,U)=>{var X,Z,ne,Hs,se;Object.defineProperty(_,"__esModule",{value:!0}),_.SerializableEmpty=_.PrintAnnotationStorage=_.AnnotationStorage=void 0;var H=U(1),z=U(4),j=U(8);const q=Object.freeze({map:null,hash:"",transfers:void 0});_.SerializableEmpty=q;class K{constructor(){kt(this,ne);kt(this,X,!1);kt(this,Z,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ee,pe){const le=_e(this,Z).get(Ee);return le===void 0?pe:Object.assign(pe,le)}getRawValue(Ee){return _e(this,Z).get(Ee)}remove(Ee){if(_e(this,Z).delete(Ee),_e(this,Z).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const pe of _e(this,Z).values())if(pe instanceof z.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ee,pe){const le=_e(this,Z).get(Ee);let ue=!1;if(le!==void 0)for(const[fe,ve]of Object.entries(pe))le[fe]!==ve&&(ue=!0,le[fe]=ve);else ue=!0,_e(this,Z).set(Ee,pe);ue&&pt(this,ne,Hs).call(this),pe instanceof z.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(pe.constructor._type)}has(Ee){return _e(this,Z).has(Ee)}getAll(){return _e(this,Z).size>0?(0,H.objectFromMap)(_e(this,Z)):null}setAll(Ee){for(const[pe,le]of Object.entries(Ee))this.setValue(pe,le)}get size(){return _e(this,Z).size}resetModified(){_e(this,X)&&(Lt(this,X,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Y(this)}get serializable(){if(_e(this,Z).size===0)return q;const Ee=new Map,pe=new j.MurmurHash3_64,le=[],ue=Object.create(null);let fe=!1;for(const[ve,me]of _e(this,Z)){const Ae=me instanceof z.AnnotationEditor?me.serialize(!1,ue):me;Ae&&(Ee.set(ve,Ae),pe.update(`${ve}:${JSON.stringify(Ae)}`),fe||(fe=!!Ae.bitmap))}if(fe)for(const ve of Ee.values())ve.bitmap&&le.push(ve.bitmap);return Ee.size>0?{map:Ee,hash:pe.hexdigest(),transfers:le}:q}}X=new WeakMap,Z=new WeakMap,ne=new WeakSet,Hs=function(){_e(this,X)||(Lt(this,X,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_.AnnotationStorage=K;class Y extends K{constructor(pe){super();kt(this,se);const{map:le,hash:ue,transfers:fe}=pe.serializable,ve=structuredClone(le,fe?{transfer:fe}:null);Lt(this,se,{map:ve,hash:ue,transfers:fe})}get print(){(0,H.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _e(this,se)}}se=new WeakMap,_.PrintAnnotationStorage=Y},(T,_,U)=>{var Y,X,Z,ne,ie,se,de,Ee,pe,le,ue,fe,ve,me,Ae,Si,xi,ce,Ii,Pi,Bs,zs,js,Ci,qs;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditor=void 0;var H=U(5),z=U(1),j=U(6);const He=class He{constructor(ke){kt(this,Ae);kt(this,Y,"");kt(this,X,!1);kt(this,Z,null);kt(this,ne,null);kt(this,ie,null);kt(this,se,!1);kt(this,de,null);kt(this,Ee,this.focusin.bind(this));kt(this,pe,this.focusout.bind(this));kt(this,le,!1);kt(this,ue,!1);kt(this,fe,!1);Wn(this,"_initialOptions",Object.create(null));Wn(this,"_uiManager",null);Wn(this,"_focusEventsAllowed",!0);Wn(this,"_l10nPromise",null);kt(this,ve,!1);kt(this,me,He._zIndex++);this.constructor===He&&(0,z.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ke.parent,this.id=ke.id,this.width=this.height=null,this.pageIndex=ke.parent.pageIndex,this.name=ke.name,this.div=null,this._uiManager=ke.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ke.isCentered,this._structTreeParentId=null;const{rotation:Ke,rawDims:{pageWidth:gt,pageHeight:De,pageX:Ie,pageY:Pe}}=this.parent.viewport;this.rotation=Ke,this.pageRotation=(360+Ke-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[gt,De],this.pageTranslation=[Ie,Pe];const[we,Ve]=this.parentDimensions;this.x=ke.x/we,this.y=ke.y/Ve,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,z.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ke){const Ke=new K({id:ke.parent.getNextId(),parent:ke.parent,uiManager:ke._uiManager});Ke.annotationElementId=ke.annotationElementId,Ke.deleted=!0,Ke._uiManager.addToAnnotationStorage(Ke)}static initialize(ke,Ke=null){if(He._l10nPromise||(He._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(De=>[De,ke.get(De)]))),Ke!=null&&Ke.strings)for(const De of Ke.strings)He._l10nPromise.set(De,ke.get(De));if(He._borderLineWidth!==-1)return;const gt=getComputedStyle(document.documentElement);He._borderLineWidth=parseFloat(gt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ke,Ke){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ke){return!1}static paste(ke,Ke){(0,z.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _e(this,ve)}set _isDraggable(ke){var Ke;Lt(this,ve,ke),(Ke=this.div)==null||Ke.classList.toggle("draggable",ke)}center(){const[ke,Ke]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ke/(ke*2),this.y+=this.width*ke/(Ke*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ke/(ke*2),this.y-=this.width*ke/(Ke*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ke){this._uiManager.addCommands(ke)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_e(this,me)}setParent(ke){ke!==null&&(this.pageIndex=ke.pageIndex,this.pageDimensions=ke.pageDimensions),this.parent=ke}focusin(ke){this._focusEventsAllowed&&(_e(this,le)?Lt(this,le,!1):this.parent.setSelected(this))}focusout(ke){var gt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ke=ke.relatedTarget;Ke!=null&&Ke.closest(`#${this.id}`)||(ke.preventDefault(),(gt=this.parent)!=null&&gt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ke,Ke,gt,De){const[Ie,Pe]=this.parentDimensions;[gt,De]=this.screenToPageTranslation(gt,De),this.x=(ke+gt)/Ie,this.y=(Ke+De)/Pe,this.fixAndSetPosition()}translate(ke,Ke){pt(this,Ae,Si).call(this,this.parentDimensions,ke,Ke)}translateInPage(ke,Ke){pt(this,Ae,Si).call(this,this.pageDimensions,ke,Ke),this.div.scrollIntoView({block:"nearest"})}drag(ke,Ke){const[gt,De]=this.parentDimensions;if(this.x+=ke/gt,this.y+=Ke/De,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Me,y:Le}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Me,Le)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ie,y:Pe}=this;const[we,Ve]=pt(this,Ae,xi).call(this);Ie+=we,Pe+=Ve,this.div.style.left=`${(100*Ie).toFixed(2)}%`,this.div.style.top=`${(100*Pe).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[ke,Ke]=this.pageDimensions;let{x:gt,y:De,width:Ie,height:Pe}=this;switch(Ie*=ke,Pe*=Ke,gt*=ke,De*=Ke,this.rotation){case 0:gt=Math.max(0,Math.min(ke-Ie,gt)),De=Math.max(0,Math.min(Ke-Pe,De));break;case 90:gt=Math.max(0,Math.min(ke-Pe,gt)),De=Math.min(Ke,Math.max(Ie,De));break;case 180:gt=Math.min(ke,Math.max(Ie,gt)),De=Math.min(Ke,Math.max(Pe,De));break;case 270:gt=Math.min(ke,Math.max(Pe,gt)),De=Math.max(0,Math.min(Ke-Ie,De));break}this.x=gt/=ke,this.y=De/=Ke;const[we,Ve]=pt(this,Ae,xi).call(this);gt+=we,De+=Ve;const{style:Me}=this.div;Me.left=`${(100*gt).toFixed(2)}%`,Me.top=`${(100*De).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ke,Ke){var gt;return pt(gt=He,ce,Ii).call(gt,ke,Ke,this.parentRotation)}pageTranslationToScreen(ke,Ke){var gt;return pt(gt=He,ce,Ii).call(gt,ke,Ke,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ke,pageDimensions:[Ke,gt]}=this,De=Ke*ke,Ie=gt*ke;return z.FeatureTest.isCSSRoundSupported?[Math.round(De),Math.round(Ie)]:[De,Ie]}setDims(ke,Ke){var Ie;const[gt,De]=this.parentDimensions;this.div.style.width=`${(100*ke/gt).toFixed(2)}%`,_e(this,se)||(this.div.style.height=`${(100*Ke/De).toFixed(2)}%`),(Ie=_e(this,Z))==null||Ie.classList.toggle("small",ke<He.SMALL_EDITOR_SIZE||Ke<He.SMALL_EDITOR_SIZE)}fixDims(){const{style:ke}=this.div,{height:Ke,width:gt}=ke,De=gt.endsWith("%"),Ie=!_e(this,se)&&Ke.endsWith("%");if(De&&Ie)return;const[Pe,we]=this.parentDimensions;De||(ke.width=`${(100*parseFloat(gt)/Pe).toFixed(2)}%`),!_e(this,se)&&!Ie&&(ke.height=`${(100*parseFloat(Ke)/we).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_e(this,Z))return;const ke=Lt(this,Z,document.createElement("button"));ke.className="altText";const Ke=await He._l10nPromise.get("editor_alt_text_button_label");ke.textContent=Ke,ke.setAttribute("aria-label",Ke),ke.tabIndex="0",ke.addEventListener("contextmenu",j.noContextMenu),ke.addEventListener("pointerdown",gt=>gt.stopPropagation()),ke.addEventListener("click",gt=>{gt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),ke.addEventListener("keydown",gt=>{gt.target===ke&&gt.key==="Enter"&&(gt.preventDefault(),this._uiManager.editAltText(this))}),pt(this,Ae,Ci).call(this),this.div.append(ke),He.SMALL_EDITOR_SIZE||(He.SMALL_EDITOR_SIZE=Math.min(128,Math.round(ke.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_e(this,Y),decorative:_e(this,X)}}set altTextData({altText:ke,decorative:Ke}){_e(this,Y)===ke&&_e(this,X)===Ke||(Lt(this,Y,ke),Lt(this,X,Ke),pt(this,Ae,Ci).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_e(this,Ee)),this.div.addEventListener("focusout",_e(this,pe));const[ke,Ke]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ke/ke).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ke/Ke).toFixed(2)}%`);const[gt,De]=this.getInitialTranslation();return this.translate(gt,De),(0,H.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(ke){const{isMac:Ke}=z.FeatureTest.platform;if(ke.button!==0||ke.ctrlKey&&Ke){ke.preventDefault();return}Lt(this,le,!0),pt(this,Ae,qs).call(this,ke)}moveInDOM(){var ke;(ke=this.parent)==null||ke.moveEditorInDOM(this)}_setParentAndPosition(ke,Ke,gt){ke.changeParent(this),this.x=Ke,this.y=gt,this.fixAndSetPosition()}getRect(ke,Ke){const gt=this.parentScale,[De,Ie]=this.pageDimensions,[Pe,we]=this.pageTranslation,Ve=ke/gt,Me=Ke/gt,Le=this.x*De,Qe=this.y*Ie,ut=this.width*De,Bt=this.height*Ie;switch(this.rotation){case 0:return[Le+Ve+Pe,Ie-Qe-Me-Bt+we,Le+Ve+ut+Pe,Ie-Qe-Me+we];case 90:return[Le+Me+Pe,Ie-Qe+Ve+we,Le+Me+Bt+Pe,Ie-Qe+Ve+ut+we];case 180:return[Le-Ve-ut+Pe,Ie-Qe+Me+we,Le-Ve+Pe,Ie-Qe+Me+Bt+we];case 270:return[Le-Me-Bt+Pe,Ie-Qe-Ve-ut+we,Le-Me+Pe,Ie-Qe-Ve+we];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ke,Ke){const[gt,De,Ie,Pe]=ke,we=Ie-gt,Ve=Pe-De;switch(this.rotation){case 0:return[gt,Ke-Pe,we,Ve];case 90:return[gt,Ke-De,Ve,we];case 180:return[Ie,Ke-De,we,Ve];case 270:return[Ie,Ke-Pe,Ve,we];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Lt(this,fe,!0)}disableEditMode(){Lt(this,fe,!1)}isInEditMode(){return _e(this,fe)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ke,Ke;(ke=this.div)==null||ke.addEventListener("focusin",_e(this,Ee)),(Ke=this.div)==null||Ke.addEventListener("focusout",_e(this,pe))}serialize(ke=!1,Ke=null){(0,z.unreachable)("An editor must be serializable")}static deserialize(ke,Ke,gt){const De=new this.prototype.constructor({parent:Ke,id:Ke.getNextId(),uiManager:gt});De.rotation=ke.rotation;const[Ie,Pe]=De.pageDimensions,[we,Ve,Me,Le]=De.getRectInCurrentCoords(ke.rect,Pe);return De.x=we/Ie,De.y=Ve/Pe,De.width=Me/Ie,De.height=Le/Pe,De}remove(){var ke;this.div.removeEventListener("focusin",_e(this,Ee)),this.div.removeEventListener("focusout",_e(this,pe)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(ke=_e(this,Z))==null||ke.remove(),Lt(this,Z,null),Lt(this,ne,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(pt(this,Ae,Bs).call(this),_e(this,de).classList.remove("hidden"))}select(){var ke;this.makeResizable(),(ke=this.div)==null||ke.classList.add("selectedEditor")}unselect(){var ke,Ke,gt;(ke=_e(this,de))==null||ke.classList.add("hidden"),(Ke=this.div)==null||Ke.classList.remove("selectedEditor"),(gt=this.div)!=null&&gt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(ke,Ke){}disableEditing(){_e(this,Z)&&(_e(this,Z).hidden=!0)}enableEditing(){_e(this,Z)&&(_e(this,Z).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _e(this,ue)}set isEditing(ke){Lt(this,ue,ke),this.parent&&(ke?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ke,Ke){Lt(this,se,!0);const gt=ke/Ke,{style:De}=this.div;De.aspectRatio=gt,De.height="auto"}static get MIN_SIZE(){return 16}};Y=new WeakMap,X=new WeakMap,Z=new WeakMap,ne=new WeakMap,ie=new WeakMap,se=new WeakMap,de=new WeakMap,Ee=new WeakMap,pe=new WeakMap,le=new WeakMap,ue=new WeakMap,fe=new WeakMap,ve=new WeakMap,me=new WeakMap,Ae=new WeakSet,Si=function([ke,Ke],gt,De){[gt,De]=this.screenToPageTranslation(gt,De),this.x+=gt/ke,this.y+=De/Ke,this.fixAndSetPosition()},xi=function(){const[ke,Ke]=this.parentDimensions,{_borderLineWidth:gt}=He,De=gt/ke,Ie=gt/Ke;switch(this.rotation){case 90:return[-De,Ie];case 180:return[De,Ie];case 270:return[De,-Ie];default:return[-De,-Ie]}},ce=new WeakSet,Ii=function(ke,Ke,gt){switch(gt){case 90:return[Ke,-ke];case 180:return[-ke,-Ke];case 270:return[-Ke,ke];default:return[ke,Ke]}},Pi=function(ke){switch(ke){case 90:{const[Ke,gt]=this.pageDimensions;return[0,-Ke/gt,gt/Ke,0]}case 180:return[-1,0,0,-1];case 270:{const[Ke,gt]=this.pageDimensions;return[0,Ke/gt,-gt/Ke,0]}default:return[1,0,0,1]}},Bs=function(){if(_e(this,de))return;Lt(this,de,document.createElement("div")),_e(this,de).classList.add("resizers");const ke=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||ke.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ke of ke){const gt=document.createElement("div");_e(this,de).append(gt),gt.classList.add("resizer",Ke),gt.addEventListener("pointerdown",pt(this,Ae,zs).bind(this,Ke)),gt.addEventListener("contextmenu",j.noContextMenu)}this.div.prepend(_e(this,de))},zs=function(ke,Ke){Ke.preventDefault();const{isMac:gt}=z.FeatureTest.platform;if(Ke.button!==0||Ke.ctrlKey&&gt)return;const De=pt(this,Ae,js).bind(this,ke),Ie=this._isDraggable;this._isDraggable=!1;const Pe={passive:!0,capture:!0};window.addEventListener("pointermove",De,Pe);const we=this.x,Ve=this.y,Me=this.width,Le=this.height,Qe=this.parent.div.style.cursor,ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ke.target).cursor;const Bt=()=>{this._isDraggable=Ie,window.removeEventListener("pointerup",Bt),window.removeEventListener("blur",Bt),window.removeEventListener("pointermove",De,Pe),this.parent.div.style.cursor=Qe,this.div.style.cursor=ut;const nn=this.x,un=this.y,on=this.width,hn=this.height;nn===we&&un===Ve&&on===Me&&hn===Le||this.addCommands({cmd:()=>{this.width=on,this.height=hn,this.x=nn,this.y=un;const[At,xt]=this.parentDimensions;this.setDims(At*on,xt*hn),this.fixAndSetPosition()},undo:()=>{this.width=Me,this.height=Le,this.x=we,this.y=Ve;const[At,xt]=this.parentDimensions;this.setDims(At*Me,xt*Le),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Bt),window.addEventListener("blur",Bt)},js=function(ke,Ke){const[gt,De]=this.parentDimensions,Ie=this.x,Pe=this.y,we=this.width,Ve=this.height,Me=He.MIN_SIZE/gt,Le=He.MIN_SIZE/De,Qe=xn=>Math.round(xn*1e4)/1e4,ut=pt(this,Ae,Pi).call(this,this.rotation),Bt=(xn,kn)=>[ut[0]*xn+ut[2]*kn,ut[1]*xn+ut[3]*kn],nn=pt(this,Ae,Pi).call(this,360-this.rotation),un=(xn,kn)=>[nn[0]*xn+nn[2]*kn,nn[1]*xn+nn[3]*kn];let on,hn,At=!1,xt=!1;switch(ke){case"topLeft":At=!0,on=(xn,kn)=>[0,0],hn=(xn,kn)=>[xn,kn];break;case"topMiddle":on=(xn,kn)=>[xn/2,0],hn=(xn,kn)=>[xn/2,kn];break;case"topRight":At=!0,on=(xn,kn)=>[xn,0],hn=(xn,kn)=>[0,kn];break;case"middleRight":xt=!0,on=(xn,kn)=>[xn,kn/2],hn=(xn,kn)=>[0,kn/2];break;case"bottomRight":At=!0,on=(xn,kn)=>[xn,kn],hn=(xn,kn)=>[0,0];break;case"bottomMiddle":on=(xn,kn)=>[xn/2,kn],hn=(xn,kn)=>[xn/2,0];break;case"bottomLeft":At=!0,on=(xn,kn)=>[0,kn],hn=(xn,kn)=>[xn,0];break;case"middleLeft":xt=!0,on=(xn,kn)=>[0,kn/2],hn=(xn,kn)=>[xn,kn/2];break}const $e=on(we,Ve),Be=hn(we,Ve);let ct=Bt(...Be);const vt=Qe(Ie+ct[0]),qt=Qe(Pe+ct[1]);let fn=1,pn=1,[yt,vn]=this.screenToPageTranslation(Ke.movementX,Ke.movementY);if([yt,vn]=un(yt/gt,vn/De),At){const xn=Math.hypot(we,Ve);fn=pn=Math.max(Math.min(Math.hypot(Be[0]-$e[0]-yt,Be[1]-$e[1]-vn)/xn,1/we,1/Ve),Me/we,Le/Ve)}else xt?fn=Math.max(Me,Math.min(1,Math.abs(Be[0]-$e[0]-yt)))/we:pn=Math.max(Le,Math.min(1,Math.abs(Be[1]-$e[1]-vn)))/Ve;const En=Qe(we*fn),On=Qe(Ve*pn);ct=Bt(...hn(En,On));const Dn=vt-ct[0],Un=qt-ct[1];this.width=En,this.height=On,this.x=Dn,this.y=Un,this.setDims(gt*En,De*On),this.fixAndSetPosition()},Ci=async function(){var gt;const ke=_e(this,Z);if(!ke)return;if(!_e(this,Y)&&!_e(this,X)){ke.classList.remove("done"),(gt=_e(this,ne))==null||gt.remove();return}He._l10nPromise.get("editor_alt_text_edit_button_label").then(De=>{ke.setAttribute("aria-label",De)});let Ke=_e(this,ne);if(!Ke){Lt(this,ne,Ke=document.createElement("span")),Ke.className="tooltip",Ke.setAttribute("role","tooltip");const De=Ke.id=`alt-text-tooltip-${this.id}`;ke.setAttribute("aria-describedby",De);const Ie=100;ke.addEventListener("mouseenter",()=>{Lt(this,ie,setTimeout(()=>{Lt(this,ie,null),_e(this,ne).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ie))}),ke.addEventListener("mouseleave",()=>{var Pe;clearTimeout(_e(this,ie)),Lt(this,ie,null),(Pe=_e(this,ne))==null||Pe.classList.remove("show")})}ke.classList.add("done"),Ke.innerText=_e(this,X)?await He._l10nPromise.get("editor_alt_text_decorative_tooltip"):_e(this,Y),Ke.parentNode||ke.append(Ke)},qs=function(ke){if(!this._isDraggable)return;const Ke=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let gt,De;Ke&&(gt={passive:!0,capture:!0},De=Pe=>{const[we,Ve]=this.screenToPageTranslation(Pe.movementX,Pe.movementY);this._uiManager.dragSelectedEditors(we,Ve)},window.addEventListener("pointermove",De,gt));const Ie=()=>{if(window.removeEventListener("pointerup",Ie),window.removeEventListener("blur",Ie),Ke&&window.removeEventListener("pointermove",De,gt),Lt(this,le,!1),!this._uiManager.endDragSession()){const{isMac:Pe}=z.FeatureTest.platform;ke.ctrlKey&&!Pe||ke.shiftKey||ke.metaKey&&Pe?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ie),window.addEventListener("blur",Ie)},kt(He,ce),Wn(He,"_borderLineWidth",-1),Wn(He,"_colorManager",new H.ColorManager),Wn(He,"_zIndex",1),Wn(He,"SMALL_EDITOR_SIZE",0);let q=He;_.AnnotationEditor=q;class K extends q{constructor(ke){super(ke),this.annotationElementId=ke.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(T,_,U)=>{var se,de,Ee,pe,le,wi,ve,me,Ae,ae,oe,Ws,he,xe,ye,Ge,qe,Fe,He,Ye,ke,Ke,gt,De,Ie,Pe,we,Ve,Me,Le,Qe,ut,Bt,nn,un,on,hn,At,xt,$e,Be,ct,vt,qt,fn,pn,yt,Gs,$i,ki,ti,Di,Mi,ir,Mr,Ks,Ys,Oi,Or,Ni;Object.defineProperty(_,"__esModule",{value:!0}),_.KeyboardManager=_.CommandManager=_.ColorManager=_.AnnotationEditorUIManager=void 0,_.bindEvents=j,_.opacityToHex=q;var H=U(1),z=U(6);function j(Fn,We,cn){for(const yn of cn)We.addEventListener(yn,Fn[yn].bind(Fn))}function q(Fn){return Math.round(Math.min(255,Math.max(1,255*Fn))).toString(16).padStart(2,"0")}class K{constructor(){kt(this,se,0)}getId(){return`${H.AnnotationEditorPrefix}${Dr(this,se)._++}`}}se=new WeakMap;const fe=class fe{constructor(){kt(this,le);kt(this,de,(0,H.getUuid)());kt(this,Ee,0);kt(this,pe,null)}static get _isSVGFittingCanvas(){const We='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',yn=new OffscreenCanvas(1,3).getContext("2d"),Rn=new Image;Rn.src=We;const $n=Rn.decode().then(()=>(yn.drawImage(Rn,0,0,1,1,0,0,1,3),new Uint32Array(yn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,H.shadow)(this,"_isSVGFittingCanvas",$n)}async getFromFile(We){const{lastModified:cn,name:yn,size:Rn,type:$n}=We;return pt(this,le,wi).call(this,`${cn}_${yn}_${Rn}_${$n}`,We)}async getFromUrl(We){return pt(this,le,wi).call(this,We,We)}async getFromId(We){_e(this,pe)||Lt(this,pe,new Map);const cn=_e(this,pe).get(We);return cn?cn.bitmap?(cn.refCounter+=1,cn):cn.file?this.getFromFile(cn.file):this.getFromUrl(cn.url):null}getSvgUrl(We){const cn=_e(this,pe).get(We);return cn!=null&&cn.isSvg?cn.svgUrl:null}deleteId(We){_e(this,pe)||Lt(this,pe,new Map);const cn=_e(this,pe).get(We);cn&&(cn.refCounter-=1,cn.refCounter===0&&(cn.bitmap=null))}isValidId(We){return We.startsWith(`image_${_e(this,de)}_`)}};de=new WeakMap,Ee=new WeakMap,pe=new WeakMap,le=new WeakSet,wi=async function(We,cn){_e(this,pe)||Lt(this,pe,new Map);let yn=_e(this,pe).get(We);if(yn===null)return null;if(yn!=null&&yn.bitmap)return yn.refCounter+=1,yn;try{yn||(yn={bitmap:null,id:`image_${_e(this,de)}_${Dr(this,Ee)._++}`,refCounter:0,isSvg:!1});let Rn;if(typeof cn=="string"){yn.url=cn;const $n=await fetch(cn);if(!$n.ok)throw new Error($n.statusText);Rn=await $n.blob()}else Rn=yn.file=cn;if(Rn.type==="image/svg+xml"){const $n=fe._isSVGFittingCanvas,An=new FileReader,je=new Image,Oe=new Promise((Je,Mt)=>{je.onload=()=>{yn.bitmap=je,yn.isSvg=!0,Je()},An.onload=async()=>{const ln=yn.svgUrl=An.result;je.src=await $n?`${ln}#svgView(preserveAspectRatio(none))`:ln},je.onerror=An.onerror=Mt});An.readAsDataURL(Rn),await Oe}else yn.bitmap=await createImageBitmap(Rn);yn.refCounter=1}catch(Rn){console.error(Rn),yn=null}return _e(this,pe).set(We,yn),yn&&_e(this,pe).set(yn.id,yn),yn};let Y=fe;class X{constructor(We=128){kt(this,ve,[]);kt(this,me,!1);kt(this,Ae);kt(this,ae,-1);Lt(this,Ae,We)}add({cmd:We,undo:cn,mustExec:yn,type:Rn=NaN,overwriteIfSameType:$n=!1,keepUndo:An=!1}){if(yn&&We(),_e(this,me))return;const je={cmd:We,undo:cn,type:Rn};if(_e(this,ae)===-1){_e(this,ve).length>0&&(_e(this,ve).length=0),Lt(this,ae,0),_e(this,ve).push(je);return}if($n&&_e(this,ve)[_e(this,ae)].type===Rn){An&&(je.undo=_e(this,ve)[_e(this,ae)].undo),_e(this,ve)[_e(this,ae)]=je;return}const Oe=_e(this,ae)+1;Oe===_e(this,Ae)?_e(this,ve).splice(0,1):(Lt(this,ae,Oe),Oe<_e(this,ve).length&&_e(this,ve).splice(Oe)),_e(this,ve).push(je)}undo(){_e(this,ae)!==-1&&(Lt(this,me,!0),_e(this,ve)[_e(this,ae)].undo(),Lt(this,me,!1),Lt(this,ae,_e(this,ae)-1))}redo(){_e(this,ae)<_e(this,ve).length-1&&(Lt(this,ae,_e(this,ae)+1),Lt(this,me,!0),_e(this,ve)[_e(this,ae)].cmd(),Lt(this,me,!1))}hasSomethingToUndo(){return _e(this,ae)!==-1}hasSomethingToRedo(){return _e(this,ae)<_e(this,ve).length-1}destroy(){Lt(this,ve,null)}}ve=new WeakMap,me=new WeakMap,Ae=new WeakMap,ae=new WeakMap,_.CommandManager=X;class Z{constructor(We){kt(this,oe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:cn}=H.FeatureTest.platform;for(const[yn,Rn,$n={}]of We)for(const An of yn){const je=An.startsWith("mac+");cn&&je?(this.callbacks.set(An.slice(4),{callback:Rn,options:$n}),this.allKeys.add(An.split("+").at(-1))):!cn&&!je&&(this.callbacks.set(An,{callback:Rn,options:$n}),this.allKeys.add(An.split("+").at(-1)))}}exec(We,cn){if(!this.allKeys.has(cn.key))return;const yn=this.callbacks.get(pt(this,oe,Ws).call(this,cn));if(!yn)return;const{callback:Rn,options:{bubbles:$n=!1,args:An=[],checker:je=null}}=yn;je&&!je(We,cn)||(Rn.bind(We,...An)(),$n||(cn.stopPropagation(),cn.preventDefault()))}}oe=new WeakSet,Ws=function(We){We.altKey&&this.buffer.push("alt"),We.ctrlKey&&this.buffer.push("ctrl"),We.metaKey&&this.buffer.push("meta"),We.shiftKey&&this.buffer.push("shift"),this.buffer.push(We.key);const cn=this.buffer.join("+");return this.buffer.length=0,cn},_.KeyboardManager=Z;const Se=class Se{get _colors(){const We=new Map([["CanvasText",null],["Canvas",null]]);return(0,z.getColorValues)(We),(0,H.shadow)(this,"_colors",We)}convert(We){const cn=(0,z.getRGB)(We);if(!window.matchMedia("(forced-colors: active)").matches)return cn;for(const[yn,Rn]of this._colors)if(Rn.every(($n,An)=>$n===cn[An]))return Se._colorsMapping.get(yn);return cn}getHexCode(We){const cn=this._colors.get(We);return cn?H.Util.makeHexColor(...cn):We}};Wn(Se,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ne=Se;_.ColorManager=ne;const Vn=class Vn{constructor(We,cn,yn,Rn,$n,An){kt(this,yt);kt(this,he,null);kt(this,xe,new Map);kt(this,ye,new Map);kt(this,Ge,null);kt(this,qe,null);kt(this,Fe,new X);kt(this,He,0);kt(this,Ye,new Set);kt(this,ke,null);kt(this,Ke,null);kt(this,gt,new Set);kt(this,De,null);kt(this,Ie,new K);kt(this,Pe,!1);kt(this,we,!1);kt(this,Ve,null);kt(this,Me,H.AnnotationEditorType.NONE);kt(this,Le,new Set);kt(this,Qe,null);kt(this,ut,this.blur.bind(this));kt(this,Bt,this.focus.bind(this));kt(this,nn,this.copy.bind(this));kt(this,un,this.cut.bind(this));kt(this,on,this.paste.bind(this));kt(this,hn,this.keydown.bind(this));kt(this,At,this.onEditingAction.bind(this));kt(this,xt,this.onPageChanging.bind(this));kt(this,$e,this.onScaleChanging.bind(this));kt(this,Be,this.onRotationChanging.bind(this));kt(this,ct,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});kt(this,vt,[0,0]);kt(this,qt,null);kt(this,fn,null);kt(this,pn,null);Lt(this,fn,We),Lt(this,pn,cn),Lt(this,Ge,yn),this._eventBus=Rn,this._eventBus._on("editingaction",_e(this,At)),this._eventBus._on("pagechanging",_e(this,xt)),this._eventBus._on("scalechanging",_e(this,$e)),this._eventBus._on("rotationchanging",_e(this,Be)),Lt(this,qe,$n.annotationStorage),Lt(this,De,$n.filterFactory),Lt(this,Qe,An),this.viewParameters={realScale:z.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const We=Vn.prototype,cn=$n=>{const{activeElement:An}=document;return An&&_e($n,fn).contains(An)&&$n.hasSomethingToControl()},yn=this.TRANSLATE_SMALL,Rn=this.TRANSLATE_BIG;return(0,H.shadow)(this,"_keyboardManager",new Z([[["ctrl+a","mac+meta+a"],We.selectAll],[["ctrl+z","mac+meta+z"],We.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],We.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],We.delete],[["Escape","mac+Escape"],We.unselectAll],[["ArrowLeft","mac+ArrowLeft"],We.translateSelectedEditors,{args:[-yn,0],checker:cn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],We.translateSelectedEditors,{args:[-Rn,0],checker:cn}],[["ArrowRight","mac+ArrowRight"],We.translateSelectedEditors,{args:[yn,0],checker:cn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],We.translateSelectedEditors,{args:[Rn,0],checker:cn}],[["ArrowUp","mac+ArrowUp"],We.translateSelectedEditors,{args:[0,-yn],checker:cn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],We.translateSelectedEditors,{args:[0,-Rn],checker:cn}],[["ArrowDown","mac+ArrowDown"],We.translateSelectedEditors,{args:[0,yn],checker:cn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],We.translateSelectedEditors,{args:[0,Rn],checker:cn}]]))}destroy(){pt(this,yt,ti).call(this),pt(this,yt,$i).call(this),this._eventBus._off("editingaction",_e(this,At)),this._eventBus._off("pagechanging",_e(this,xt)),this._eventBus._off("scalechanging",_e(this,$e)),this._eventBus._off("rotationchanging",_e(this,Be));for(const We of _e(this,ye).values())We.destroy();_e(this,ye).clear(),_e(this,xe).clear(),_e(this,gt).clear(),Lt(this,he,null),_e(this,Le).clear(),_e(this,Fe).destroy(),_e(this,Ge).destroy()}get hcmFilter(){return(0,H.shadow)(this,"hcmFilter",_e(this,Qe)?_e(this,De).addHCMFilter(_e(this,Qe).foreground,_e(this,Qe).background):"none")}get direction(){return(0,H.shadow)(this,"direction",getComputedStyle(_e(this,fn)).direction)}editAltText(We){var cn;(cn=_e(this,Ge))==null||cn.editAltText(this,We)}onPageChanging({pageNumber:We}){Lt(this,He,We-1)}focusMainContainer(){_e(this,fn).focus()}findParent(We,cn){for(const yn of _e(this,ye).values()){const{x:Rn,y:$n,width:An,height:je}=yn.div.getBoundingClientRect();if(We>=Rn&&We<=Rn+An&&cn>=$n&&cn<=$n+je)return yn}return null}disableUserSelect(We=!1){_e(this,pn).classList.toggle("noUserSelect",We)}addShouldRescale(We){_e(this,gt).add(We)}removeShouldRescale(We){_e(this,gt).delete(We)}onScaleChanging({scale:We}){this.commitOrRemove(),this.viewParameters.realScale=We*z.PixelsPerInch.PDF_TO_CSS_UNITS;for(const cn of _e(this,gt))cn.onScaleChanging()}onRotationChanging({pagesRotation:We}){this.commitOrRemove(),this.viewParameters.rotation=We}addToAnnotationStorage(We){!We.isEmpty()&&_e(this,qe)&&!_e(this,qe).has(We.id)&&_e(this,qe).setValue(We.id,We)}blur(){if(!this.hasSelection)return;const{activeElement:We}=document;for(const cn of _e(this,Le))if(cn.div.contains(We)){Lt(this,Ve,[cn,We]),cn._focusEventsAllowed=!1;break}}focus(){if(!_e(this,Ve))return;const[We,cn]=_e(this,Ve);Lt(this,Ve,null),cn.addEventListener("focusin",()=>{We._focusEventsAllowed=!0},{once:!0}),cn.focus()}addEditListeners(){pt(this,yt,ki).call(this),pt(this,yt,Di).call(this)}removeEditListeners(){pt(this,yt,ti).call(this),pt(this,yt,Mi).call(this)}copy(We){var yn;if(We.preventDefault(),(yn=_e(this,he))==null||yn.commitOrRemove(),!this.hasSelection)return;const cn=[];for(const Rn of _e(this,Le)){const $n=Rn.serialize(!0);$n&&cn.push($n)}cn.length!==0&&We.clipboardData.setData("application/pdfjs",JSON.stringify(cn))}cut(We){this.copy(We),this.delete()}paste(We){We.preventDefault();const{clipboardData:cn}=We;for(const $n of cn.items)for(const An of _e(this,Ke))if(An.isHandlingMimeForPasting($n.type)){An.paste($n,this.currentLayer);return}let yn=cn.getData("application/pdfjs");if(!yn)return;try{yn=JSON.parse(yn)}catch($n){(0,H.warn)(`paste: "${$n.message}".`);return}if(!Array.isArray(yn))return;this.unselectAll();const Rn=this.currentLayer;try{const $n=[];for(const Oe of yn){const Je=Rn.deserialize(Oe);if(!Je)return;$n.push(Je)}const An=()=>{for(const Oe of $n)pt(this,yt,Oi).call(this,Oe);pt(this,yt,Ni).call(this,$n)},je=()=>{for(const Oe of $n)Oe.remove()};this.addCommands({cmd:An,undo:je,mustExec:!0})}catch($n){(0,H.warn)(`paste: "${$n.message}".`)}}keydown(We){var cn;(cn=this.getActive())!=null&&cn.shouldGetKeyboardEvents()||Vn._keyboardManager.exec(this,We)}onEditingAction(We){["undo","redo","delete","selectAll"].includes(We.name)&&this[We.name]()}setEditingState(We){We?(pt(this,yt,Gs).call(this),pt(this,yt,ki).call(this),pt(this,yt,Di).call(this),pt(this,yt,ir).call(this,{isEditing:_e(this,Me)!==H.AnnotationEditorType.NONE,isEmpty:pt(this,yt,Or).call(this),hasSomethingToUndo:_e(this,Fe).hasSomethingToUndo(),hasSomethingToRedo:_e(this,Fe).hasSomethingToRedo(),hasSelectedEditor:!1})):(pt(this,yt,$i).call(this),pt(this,yt,ti).call(this),pt(this,yt,Mi).call(this),pt(this,yt,ir).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(We){if(!_e(this,Ke)){Lt(this,Ke,We);for(const cn of _e(this,Ke))pt(this,yt,Mr).call(this,cn.defaultPropertiesToUpdate)}}getId(){return _e(this,Ie).getId()}get currentLayer(){return _e(this,ye).get(_e(this,He))}getLayer(We){return _e(this,ye).get(We)}get currentPageIndex(){return _e(this,He)}addLayer(We){_e(this,ye).set(We.pageIndex,We),_e(this,Pe)?We.enable():We.disable()}removeLayer(We){_e(this,ye).delete(We.pageIndex)}updateMode(We,cn=null){if(_e(this,Me)!==We){if(Lt(this,Me,We),We===H.AnnotationEditorType.NONE){this.setEditingState(!1),pt(this,yt,Ys).call(this);return}this.setEditingState(!0),pt(this,yt,Ks).call(this),this.unselectAll();for(const yn of _e(this,ye).values())yn.updateMode(We);if(cn){for(const yn of _e(this,xe).values())if(yn.annotationElementId===cn){this.setSelected(yn),yn.enterInEditMode();break}}}}updateToolbar(We){We!==_e(this,Me)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:We})}updateParams(We,cn){if(_e(this,Ke)){if(We===H.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(We);return}for(const yn of _e(this,Le))yn.updateParams(We,cn);for(const yn of _e(this,Ke))yn.updateDefaultParams(We,cn)}}enableWaiting(We=!1){if(_e(this,we)!==We){Lt(this,we,We);for(const cn of _e(this,ye).values())We?cn.disableClick():cn.enableClick(),cn.div.classList.toggle("waiting",We)}}getEditors(We){const cn=[];for(const yn of _e(this,xe).values())yn.pageIndex===We&&cn.push(yn);return cn}getEditor(We){return _e(this,xe).get(We)}addEditor(We){_e(this,xe).set(We.id,We)}removeEditor(We){var cn;_e(this,xe).delete(We.id),this.unselect(We),(!We.annotationElementId||!_e(this,Ye).has(We.annotationElementId))&&((cn=_e(this,qe))==null||cn.remove(We.id))}addDeletedAnnotationElement(We){_e(this,Ye).add(We.annotationElementId),We.deleted=!0}isDeletedAnnotationElement(We){return _e(this,Ye).has(We)}removeDeletedAnnotationElement(We){_e(this,Ye).delete(We.annotationElementId),We.deleted=!1}setActiveEditor(We){_e(this,he)!==We&&(Lt(this,he,We),We&&pt(this,yt,Mr).call(this,We.propertiesToUpdate))}toggleSelected(We){if(_e(this,Le).has(We)){_e(this,Le).delete(We),We.unselect(),pt(this,yt,ir).call(this,{hasSelectedEditor:this.hasSelection});return}_e(this,Le).add(We),We.select(),pt(this,yt,Mr).call(this,We.propertiesToUpdate),pt(this,yt,ir).call(this,{hasSelectedEditor:!0})}setSelected(We){for(const cn of _e(this,Le))cn!==We&&cn.unselect();_e(this,Le).clear(),_e(this,Le).add(We),We.select(),pt(this,yt,Mr).call(this,We.propertiesToUpdate),pt(this,yt,ir).call(this,{hasSelectedEditor:!0})}isSelected(We){return _e(this,Le).has(We)}unselect(We){We.unselect(),_e(this,Le).delete(We),pt(this,yt,ir).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _e(this,Le).size!==0}undo(){_e(this,Fe).undo(),pt(this,yt,ir).call(this,{hasSomethingToUndo:_e(this,Fe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:pt(this,yt,Or).call(this)})}redo(){_e(this,Fe).redo(),pt(this,yt,ir).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_e(this,Fe).hasSomethingToRedo(),isEmpty:pt(this,yt,Or).call(this)})}addCommands(We){_e(this,Fe).add(We),pt(this,yt,ir).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:pt(this,yt,Or).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const We=[..._e(this,Le)],cn=()=>{for(const Rn of We)Rn.remove()},yn=()=>{for(const Rn of We)pt(this,yt,Oi).call(this,Rn)};this.addCommands({cmd:cn,undo:yn,mustExec:!0})}commitOrRemove(){var We;(We=_e(this,he))==null||We.commitOrRemove()}hasSomethingToControl(){return _e(this,he)||this.hasSelection}selectAll(){for(const We of _e(this,Le))We.commit();pt(this,yt,Ni).call(this,_e(this,xe).values())}unselectAll(){if(_e(this,he)){_e(this,he).commitOrRemove();return}if(this.hasSelection){for(const We of _e(this,Le))We.unselect();_e(this,Le).clear(),pt(this,yt,ir).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(We,cn,yn=!1){if(yn||this.commitOrRemove(),!this.hasSelection)return;_e(this,vt)[0]+=We,_e(this,vt)[1]+=cn;const[Rn,$n]=_e(this,vt),An=[..._e(this,Le)],je=1e3;_e(this,qt)&&clearTimeout(_e(this,qt)),Lt(this,qt,setTimeout(()=>{Lt(this,qt,null),_e(this,vt)[0]=_e(this,vt)[1]=0,this.addCommands({cmd:()=>{for(const Oe of An)_e(this,xe).has(Oe.id)&&Oe.translateInPage(Rn,$n)},undo:()=>{for(const Oe of An)_e(this,xe).has(Oe.id)&&Oe.translateInPage(-Rn,-$n)},mustExec:!1})},je));for(const Oe of An)Oe.translateInPage(We,cn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Lt(this,ke,new Map);for(const We of _e(this,Le))_e(this,ke).set(We,{savedX:We.x,savedY:We.y,savedPageIndex:We.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_e(this,ke))return!1;this.disableUserSelect(!1);const We=_e(this,ke);Lt(this,ke,null);let cn=!1;for(const[{x:Rn,y:$n,pageIndex:An},je]of We)je.newX=Rn,je.newY=$n,je.newPageIndex=An,cn||(cn=Rn!==je.savedX||$n!==je.savedY||An!==je.savedPageIndex);if(!cn)return!1;const yn=(Rn,$n,An,je)=>{if(_e(this,xe).has(Rn.id)){const Oe=_e(this,ye).get(je);Oe?Rn._setParentAndPosition(Oe,$n,An):(Rn.pageIndex=je,Rn.x=$n,Rn.y=An)}};return this.addCommands({cmd:()=>{for(const[Rn,{newX:$n,newY:An,newPageIndex:je}]of We)yn(Rn,$n,An,je)},undo:()=>{for(const[Rn,{savedX:$n,savedY:An,savedPageIndex:je}]of We)yn(Rn,$n,An,je)},mustExec:!0}),!0}dragSelectedEditors(We,cn){if(_e(this,ke))for(const yn of _e(this,ke).keys())yn.drag(We,cn)}rebuild(We){if(We.parent===null){const cn=this.getLayer(We.pageIndex);cn?(cn.changeParent(We),cn.addOrRebuild(We)):(this.addEditor(We),this.addToAnnotationStorage(We),We.rebuild())}else We.parent.addOrRebuild(We)}isActive(We){return _e(this,he)===We}getActive(){return _e(this,he)}getMode(){return _e(this,Me)}get imageManager(){return(0,H.shadow)(this,"imageManager",new Y)}};he=new WeakMap,xe=new WeakMap,ye=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Fe=new WeakMap,He=new WeakMap,Ye=new WeakMap,ke=new WeakMap,Ke=new WeakMap,gt=new WeakMap,De=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,we=new WeakMap,Ve=new WeakMap,Me=new WeakMap,Le=new WeakMap,Qe=new WeakMap,ut=new WeakMap,Bt=new WeakMap,nn=new WeakMap,un=new WeakMap,on=new WeakMap,hn=new WeakMap,At=new WeakMap,xt=new WeakMap,$e=new WeakMap,Be=new WeakMap,ct=new WeakMap,vt=new WeakMap,qt=new WeakMap,fn=new WeakMap,pn=new WeakMap,yt=new WeakSet,Gs=function(){window.addEventListener("focus",_e(this,Bt)),window.addEventListener("blur",_e(this,ut))},$i=function(){window.removeEventListener("focus",_e(this,Bt)),window.removeEventListener("blur",_e(this,ut))},ki=function(){window.addEventListener("keydown",_e(this,hn),{capture:!0})},ti=function(){window.removeEventListener("keydown",_e(this,hn),{capture:!0})},Di=function(){document.addEventListener("copy",_e(this,nn)),document.addEventListener("cut",_e(this,un)),document.addEventListener("paste",_e(this,on))},Mi=function(){document.removeEventListener("copy",_e(this,nn)),document.removeEventListener("cut",_e(this,un)),document.removeEventListener("paste",_e(this,on))},ir=function(We){Object.entries(We).some(([yn,Rn])=>_e(this,ct)[yn]!==Rn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_e(this,ct),We)})},Mr=function(We){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:We})},Ks=function(){if(!_e(this,Pe)){Lt(this,Pe,!0);for(const We of _e(this,ye).values())We.enable()}},Ys=function(){if(this.unselectAll(),_e(this,Pe)){Lt(this,Pe,!1);for(const We of _e(this,ye).values())We.disable()}},Oi=function(We){const cn=_e(this,ye).get(We.pageIndex);cn?cn.addOrRebuild(We):this.addEditor(We)},Or=function(){if(_e(this,xe).size===0)return!0;if(_e(this,xe).size===1)for(const We of _e(this,xe).values())return We.isEmpty();return!1},Ni=function(We){_e(this,Le).clear();for(const cn of We)cn.isEmpty()||(_e(this,Le).add(cn),cn.select());pt(this,yt,ir).call(this,{hasSelectedEditor:!0})},Wn(Vn,"TRANSLATE_SMALL",1),Wn(Vn,"TRANSLATE_BIG",10);let ie=Vn;_.AnnotationEditorUIManager=ie},(T,_,U)=>{var He,Ye,ke,Ke,gt,De,Ie,Pe,we,Ve,Me,Le,yr,br,Li,ni,ri,Nr,Lr;Object.defineProperty(_,"__esModule",{value:!0}),_.StatTimer=_.RenderingCancelledException=_.PixelsPerInch=_.PageViewport=_.PDFDateString=_.DOMStandardFontDataFactory=_.DOMSVGFactory=_.DOMFilterFactory=_.DOMCanvasFactory=_.DOMCMapReaderFactory=void 0,_.deprecated=ae,_.getColorValues=xe,_.getCurrentTransform=ye,_.getCurrentTransformInverse=Ge,_.getFilenameFromUrl=le,_.getPdfFilenameFromUrl=ue,_.getRGB=he,_.getXfaPageViewport=Se,_.isDataScheme=Ee,_.isPdfFile=pe,_.isValidFetchUrl=ve,_.loadScript=Ae,_.noContextMenu=me,_.setLayerDimensions=qe;var H=U(7),z=U(1);const j="http://www.w3.org/2000/svg",Fe=class Fe{};Wn(Fe,"CSS",96),Wn(Fe,"PDF",72),Wn(Fe,"PDF_TO_CSS_UNITS",Fe.CSS/Fe.PDF);let q=Fe;_.PixelsPerInch=q;class K extends H.BaseFilterFactory{constructor({docId:$e,ownerDocument:Be=globalThis.document}={}){super();kt(this,Le);kt(this,He);kt(this,Ye);kt(this,ke);kt(this,Ke);kt(this,gt);kt(this,De);kt(this,Ie);kt(this,Pe);kt(this,we);kt(this,Ve);kt(this,Me,0);Lt(this,ke,$e),Lt(this,Ke,Be)}addFilter($e){if(!$e)return"none";let Be=_e(this,Le,yr).get($e);if(Be)return Be;let ct,vt,qt,fn;if($e.length===1){const En=$e[0],On=new Array(256);for(let Dn=0;Dn<256;Dn++)On[Dn]=En[Dn]/255;fn=ct=vt=qt=On.join(",")}else{const[En,On,Dn]=$e,Un=new Array(256),xn=new Array(256),kn=new Array(256);for(let Hn=0;Hn<256;Hn++)Un[Hn]=En[Hn]/255,xn[Hn]=On[Hn]/255,kn[Hn]=Dn[Hn]/255;ct=Un.join(","),vt=xn.join(","),qt=kn.join(","),fn=`${ct}${vt}${qt}`}if(Be=_e(this,Le,yr).get(fn),Be)return _e(this,Le,yr).set($e,Be),Be;const pn=`g_${_e(this,ke)}_transfer_map_${Dr(this,Me)._++}`,yt=`url(#${pn})`;_e(this,Le,yr).set($e,yt),_e(this,Le,yr).set(fn,yt);const vn=pt(this,Le,ni).call(this,pn);return pt(this,Le,Nr).call(this,ct,vt,qt,vn),yt}addHCMFilter($e,Be){var On;const ct=`${$e}-${Be}`;if(_e(this,De)===ct)return _e(this,Ie);if(Lt(this,De,ct),Lt(this,Ie,"none"),(On=_e(this,gt))==null||On.remove(),!$e||!Be)return _e(this,Ie);const vt=pt(this,Le,Lr).call(this,$e);$e=z.Util.makeHexColor(...vt);const qt=pt(this,Le,Lr).call(this,Be);if(Be=z.Util.makeHexColor(...qt),_e(this,Le,br).style.color="",$e==="#000000"&&Be==="#ffffff"||$e===Be)return _e(this,Ie);const fn=new Array(256);for(let Dn=0;Dn<=255;Dn++){const Un=Dn/255;fn[Dn]=Un<=.03928?Un/12.92:((Un+.055)/1.055)**2.4}const pn=fn.join(","),yt=`g_${_e(this,ke)}_hcm_filter`,vn=Lt(this,Pe,pt(this,Le,ni).call(this,yt));pt(this,Le,Nr).call(this,pn,pn,pn,vn),pt(this,Le,Li).call(this,vn);const En=(Dn,Un)=>{const xn=vt[Dn]/255,kn=qt[Dn]/255,Hn=new Array(Un+1);for(let zn=0;zn<=Un;zn++)Hn[zn]=xn+zn/Un*(kn-xn);return Hn.join(",")};return pt(this,Le,Nr).call(this,En(0,5),En(1,5),En(2,5),vn),Lt(this,Ie,`url(#${yt})`),_e(this,Ie)}addHighlightHCMFilter($e,Be,ct,vt){var kn;const qt=`${$e}-${Be}-${ct}-${vt}`;if(_e(this,we)===qt)return _e(this,Ve);if(Lt(this,we,qt),Lt(this,Ve,"none"),(kn=_e(this,Pe))==null||kn.remove(),!$e||!Be)return _e(this,Ve);const[fn,pn]=[$e,Be].map(pt(this,Le,Lr).bind(this));let yt=Math.round(.2126*fn[0]+.7152*fn[1]+.0722*fn[2]),vn=Math.round(.2126*pn[0]+.7152*pn[1]+.0722*pn[2]),[En,On]=[ct,vt].map(pt(this,Le,Lr).bind(this));vn<yt&&([yt,vn,En,On]=[vn,yt,On,En]),_e(this,Le,br).style.color="";const Dn=(Hn,zn,mn)=>{const Ct=new Array(256),Ft=(vn-yt)/mn,Tn=Hn/255,Vn=(zn-Hn)/(255*mn);let Fn=0;for(let We=0;We<=mn;We++){const cn=Math.round(yt+We*Ft),yn=Tn+We*Vn;for(let Rn=Fn;Rn<=cn;Rn++)Ct[Rn]=yn;Fn=cn+1}for(let We=Fn;We<256;We++)Ct[We]=Ct[Fn-1];return Ct.join(",")},Un=`g_${_e(this,ke)}_hcm_highlight_filter`,xn=Lt(this,Pe,pt(this,Le,ni).call(this,Un));return pt(this,Le,Li).call(this,xn),pt(this,Le,Nr).call(this,Dn(En[0],On[0],5),Dn(En[1],On[1],5),Dn(En[2],On[2],5),xn),Lt(this,Ve,`url(#${Un})`),_e(this,Ve)}destroy($e=!1){$e&&(_e(this,Ie)||_e(this,Ve))||(_e(this,Ye)&&(_e(this,Ye).parentNode.parentNode.remove(),Lt(this,Ye,null)),_e(this,He)&&(_e(this,He).clear(),Lt(this,He,null)),Lt(this,Me,0))}}He=new WeakMap,Ye=new WeakMap,ke=new WeakMap,Ke=new WeakMap,gt=new WeakMap,De=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,we=new WeakMap,Ve=new WeakMap,Me=new WeakMap,Le=new WeakSet,yr=function(){return _e(this,He)||Lt(this,He,new Map)},br=function(){if(!_e(this,Ye)){const $e=_e(this,Ke).createElement("div"),{style:Be}=$e;Be.visibility="hidden",Be.contain="strict",Be.width=Be.height=0,Be.position="absolute",Be.top=Be.left=0,Be.zIndex=-1;const ct=_e(this,Ke).createElementNS(j,"svg");ct.setAttribute("width",0),ct.setAttribute("height",0),Lt(this,Ye,_e(this,Ke).createElementNS(j,"defs")),$e.append(ct),ct.append(_e(this,Ye)),_e(this,Ke).body.append($e)}return _e(this,Ye)},Li=function($e){const Be=_e(this,Ke).createElementNS(j,"feColorMatrix");Be.setAttribute("type","matrix"),Be.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),$e.append(Be)},ni=function($e){const Be=_e(this,Ke).createElementNS(j,"filter");return Be.setAttribute("color-interpolation-filters","sRGB"),Be.setAttribute("id",$e),_e(this,Le,br).append(Be),Be},ri=function($e,Be,ct){const vt=_e(this,Ke).createElementNS(j,Be);vt.setAttribute("type","discrete"),vt.setAttribute("tableValues",ct),$e.append(vt)},Nr=function($e,Be,ct,vt){const qt=_e(this,Ke).createElementNS(j,"feComponentTransfer");vt.append(qt),pt(this,Le,ri).call(this,qt,"feFuncR",$e),pt(this,Le,ri).call(this,qt,"feFuncG",Be),pt(this,Le,ri).call(this,qt,"feFuncB",ct)},Lr=function($e){return _e(this,Le,br).style.color=$e,he(getComputedStyle(_e(this,Le,br)).getPropertyValue("color"))},_.DOMFilterFactory=K;class Y extends H.BaseCanvasFactory{constructor({ownerDocument:xt=globalThis.document}={}){super(),this._document=xt}_createCanvas(xt,$e){const Be=this._document.createElement("canvas");return Be.width=xt,Be.height=$e,Be}}_.DOMCanvasFactory=Y;async function X(At,xt=!1){if(ve(At,document.baseURI)){const $e=await fetch(At);if(!$e.ok)throw new Error($e.statusText);return xt?new Uint8Array(await $e.arrayBuffer()):(0,z.stringToBytes)(await $e.text())}return new Promise(($e,Be)=>{const ct=new XMLHttpRequest;ct.open("GET",At,!0),xt&&(ct.responseType="arraybuffer"),ct.onreadystatechange=()=>{if(ct.readyState===XMLHttpRequest.DONE){if(ct.status===200||ct.status===0){let vt;if(xt&&ct.response?vt=new Uint8Array(ct.response):!xt&&ct.responseText&&(vt=(0,z.stringToBytes)(ct.responseText)),vt){$e(vt);return}}Be(new Error(ct.statusText))}},ct.send(null)})}class Z extends H.BaseCMapReaderFactory{_fetchData(xt,$e){return X(xt,this.isCompressed).then(Be=>({cMapData:Be,compressionType:$e}))}}_.DOMCMapReaderFactory=Z;class ne extends H.BaseStandardFontDataFactory{_fetchData(xt){return X(xt,!0)}}_.DOMStandardFontDataFactory=ne;class ie extends H.BaseSVGFactory{_createSVG(xt){return document.createElementNS(j,xt)}}_.DOMSVGFactory=ie;class se{constructor({viewBox:xt,scale:$e,rotation:Be,offsetX:ct=0,offsetY:vt=0,dontFlip:qt=!1}){this.viewBox=xt,this.scale=$e,this.rotation=Be,this.offsetX=ct,this.offsetY=vt;const fn=(xt[2]+xt[0])/2,pn=(xt[3]+xt[1])/2;let yt,vn,En,On;switch(Be%=360,Be<0&&(Be+=360),Be){case 180:yt=-1,vn=0,En=0,On=1;break;case 90:yt=0,vn=1,En=1,On=0;break;case 270:yt=0,vn=-1,En=-1,On=0;break;case 0:yt=1,vn=0,En=0,On=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}qt&&(En=-En,On=-On);let Dn,Un,xn,kn;yt===0?(Dn=Math.abs(pn-xt[1])*$e+ct,Un=Math.abs(fn-xt[0])*$e+vt,xn=(xt[3]-xt[1])*$e,kn=(xt[2]-xt[0])*$e):(Dn=Math.abs(fn-xt[0])*$e+ct,Un=Math.abs(pn-xt[1])*$e+vt,xn=(xt[2]-xt[0])*$e,kn=(xt[3]-xt[1])*$e),this.transform=[yt*$e,vn*$e,En*$e,On*$e,Dn-yt*$e*fn-En*$e*pn,Un-vn*$e*fn-On*$e*pn],this.width=xn,this.height=kn}get rawDims(){const{viewBox:xt}=this;return(0,z.shadow)(this,"rawDims",{pageWidth:xt[2]-xt[0],pageHeight:xt[3]-xt[1],pageX:xt[0],pageY:xt[1]})}clone({scale:xt=this.scale,rotation:$e=this.rotation,offsetX:Be=this.offsetX,offsetY:ct=this.offsetY,dontFlip:vt=!1}={}){return new se({viewBox:this.viewBox.slice(),scale:xt,rotation:$e,offsetX:Be,offsetY:ct,dontFlip:vt})}convertToViewportPoint(xt,$e){return z.Util.applyTransform([xt,$e],this.transform)}convertToViewportRectangle(xt){const $e=z.Util.applyTransform([xt[0],xt[1]],this.transform),Be=z.Util.applyTransform([xt[2],xt[3]],this.transform);return[$e[0],$e[1],Be[0],Be[1]]}convertToPdfPoint(xt,$e){return z.Util.applyInverseTransform([xt,$e],this.transform)}}_.PageViewport=se;class de extends z.BaseException{constructor(xt,$e=0){super(xt,"RenderingCancelledException"),this.extraDelay=$e}}_.RenderingCancelledException=de;function Ee(At){const xt=At.length;let $e=0;for(;$e<xt&&At[$e].trim()==="";)$e++;return At.substring($e,$e+5).toLowerCase()==="data:"}function pe(At){return typeof At=="string"&&/\.pdf$/i.test(At)}function le(At,xt=!1){return xt||([At]=At.split(/[#?]/,1)),At.substring(At.lastIndexOf("/")+1)}function ue(At,xt="document.pdf"){if(typeof At!="string")return xt;if(Ee(At))return(0,z.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),xt;const $e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Be=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ct=$e.exec(At);let vt=Be.exec(ct[1])||Be.exec(ct[2])||Be.exec(ct[3]);if(vt&&(vt=vt[0],vt.includes("%")))try{vt=Be.exec(decodeURIComponent(vt))[0]}catch{}return vt||xt}class fe{constructor(){Wn(this,"started",Object.create(null));Wn(this,"times",[])}time(xt){xt in this.started&&(0,z.warn)(`Timer is already running for ${xt}`),this.started[xt]=Date.now()}timeEnd(xt){xt in this.started||(0,z.warn)(`Timer has not been started for ${xt}`),this.times.push({name:xt,start:this.started[xt],end:Date.now()}),delete this.started[xt]}toString(){const xt=[];let $e=0;for(const{name:Be}of this.times)$e=Math.max(Be.length,$e);for(const{name:Be,start:ct,end:vt}of this.times)xt.push(`${Be.padEnd($e)} ${vt-ct}ms
`);return xt.join("")}}_.StatTimer=fe;function ve(At,xt){try{const{protocol:$e}=xt?new URL(At,xt):new URL(At);return $e==="http:"||$e==="https:"}catch{return!1}}function me(At){At.preventDefault()}function Ae(At,xt=!1){return new Promise(($e,Be)=>{const ct=document.createElement("script");ct.src=At,ct.onload=function(vt){xt&&ct.remove(),$e(vt)},ct.onerror=function(){Be(new Error(`Cannot load script at: ${ct.src}`))},(document.head||document.documentElement).append(ct)})}function ae(At){console.log("Deprecated API usage: "+At)}let oe;class ce{static toDateObject(xt){if(!xt||typeof xt!="string")return null;oe||(oe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const $e=oe.exec(xt);if(!$e)return null;const Be=parseInt($e[1],10);let ct=parseInt($e[2],10);ct=ct>=1&&ct<=12?ct-1:0;let vt=parseInt($e[3],10);vt=vt>=1&&vt<=31?vt:1;let qt=parseInt($e[4],10);qt=qt>=0&&qt<=23?qt:0;let fn=parseInt($e[5],10);fn=fn>=0&&fn<=59?fn:0;let pn=parseInt($e[6],10);pn=pn>=0&&pn<=59?pn:0;const yt=$e[7]||"Z";let vn=parseInt($e[8],10);vn=vn>=0&&vn<=23?vn:0;let En=parseInt($e[9],10)||0;return En=En>=0&&En<=59?En:0,yt==="-"?(qt+=vn,fn+=En):yt==="+"&&(qt-=vn,fn-=En),new Date(Date.UTC(Be,ct,vt,qt,fn,pn))}}_.PDFDateString=ce;function Se(At,{scale:xt=1,rotation:$e=0}){const{width:Be,height:ct}=At.attributes.style,vt=[0,0,parseInt(Be),parseInt(ct)];return new se({viewBox:vt,scale:xt,rotation:$e})}function he(At){if(At.startsWith("#")){const xt=parseInt(At.slice(1),16);return[(xt&16711680)>>16,(xt&65280)>>8,xt&255]}return At.startsWith("rgb(")?At.slice(4,-1).split(",").map(xt=>parseInt(xt)):At.startsWith("rgba(")?At.slice(5,-1).split(",").map(xt=>parseInt(xt)).slice(0,3):((0,z.warn)(`Not a valid color format: "${At}"`),[0,0,0])}function xe(At){const xt=document.createElement("span");xt.style.visibility="hidden",document.body.append(xt);for(const $e of At.keys()){xt.style.color=$e;const Be=window.getComputedStyle(xt).color;At.set($e,he(Be))}xt.remove()}function ye(At){const{a:xt,b:$e,c:Be,d:ct,e:vt,f:qt}=At.getTransform();return[xt,$e,Be,ct,vt,qt]}function Ge(At){const{a:xt,b:$e,c:Be,d:ct,e:vt,f:qt}=At.getTransform().invertSelf();return[xt,$e,Be,ct,vt,qt]}function qe(At,xt,$e=!1,Be=!0){if(xt instanceof se){const{pageWidth:ct,pageHeight:vt}=xt.rawDims,{style:qt}=At,fn=z.FeatureTest.isCSSRoundSupported,pn=`var(--scale-factor) * ${ct}px`,yt=`var(--scale-factor) * ${vt}px`,vn=fn?`round(${pn}, 1px)`:`calc(${pn})`,En=fn?`round(${yt}, 1px)`:`calc(${yt})`;!$e||xt.rotation%180===0?(qt.width=vn,qt.height=En):(qt.width=En,qt.height=vn)}Be&&At.setAttribute("data-main-rotation",xt.rotation)}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseStandardFontDataFactory=_.BaseSVGFactory=_.BaseFilterFactory=_.BaseCanvasFactory=_.BaseCMapReaderFactory=void 0;var H=U(1);class z{constructor(){this.constructor===z&&(0,H.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(Z){return"none"}addHCMFilter(Z,ne){return"none"}addHighlightHCMFilter(Z,ne,ie,se){return"none"}destroy(Z=!1){}}_.BaseFilterFactory=z;class j{constructor(){this.constructor===j&&(0,H.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Z,ne){if(Z<=0||ne<=0)throw new Error("Invalid canvas size");const ie=this._createCanvas(Z,ne);return{canvas:ie,context:ie.getContext("2d")}}reset(Z,ne,ie){if(!Z.canvas)throw new Error("Canvas is not specified");if(ne<=0||ie<=0)throw new Error("Invalid canvas size");Z.canvas.width=ne,Z.canvas.height=ie}destroy(Z){if(!Z.canvas)throw new Error("Canvas is not specified");Z.canvas.width=0,Z.canvas.height=0,Z.canvas=null,Z.context=null}_createCanvas(Z,ne){(0,H.unreachable)("Abstract method `_createCanvas` called.")}}_.BaseCanvasFactory=j;class q{constructor({baseUrl:Z=null,isCompressed:ne=!0}){this.constructor===q&&(0,H.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Z,this.isCompressed=ne}async fetch({name:Z}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Z)throw new Error("CMap name must be specified.");const ne=this.baseUrl+Z+(this.isCompressed?".bcmap":""),ie=this.isCompressed?H.CMapCompressionType.BINARY:H.CMapCompressionType.NONE;return this._fetchData(ne,ie).catch(se=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ne}`)})}_fetchData(Z,ne){(0,H.unreachable)("Abstract method `_fetchData` called.")}}_.BaseCMapReaderFactory=q;class K{constructor({baseUrl:Z=null}){this.constructor===K&&(0,H.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Z}async fetch({filename:Z}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Z)throw new Error("Font filename must be specified.");const ne=`${this.baseUrl}${Z}`;return this._fetchData(ne).catch(ie=>{throw new Error(`Unable to load font data at: ${ne}`)})}_fetchData(Z){(0,H.unreachable)("Abstract method `_fetchData` called.")}}_.BaseStandardFontDataFactory=K;class Y{constructor(){this.constructor===Y&&(0,H.unreachable)("Cannot initialize BaseSVGFactory.")}create(Z,ne,ie=!1){if(Z<=0||ne<=0)throw new Error("Invalid SVG dimensions");const se=this._createSVG("svg:svg");return se.setAttribute("version","1.1"),ie||(se.setAttribute("width",`${Z}px`),se.setAttribute("height",`${ne}px`)),se.setAttribute("preserveAspectRatio","none"),se.setAttribute("viewBox",`0 0 ${Z} ${ne}`),se}createElement(Z){if(typeof Z!="string")throw new Error("Invalid SVG element type");return this._createSVG(Z)}_createSVG(Z){(0,H.unreachable)("Abstract method `_createSVG` called.")}}_.BaseSVGFactory=Y},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.MurmurHash3_64=void 0;var H=U(1);const z=3285377520,j=4294901760,q=65535;class K{constructor(X){this.h1=X?X&4294967295:z,this.h2=X?X&4294967295:z}update(X){let Z,ne;if(typeof X=="string"){Z=new Uint8Array(X.length*2),ne=0;for(let ae=0,oe=X.length;ae<oe;ae++){const ce=X.charCodeAt(ae);ce<=255?Z[ne++]=ce:(Z[ne++]=ce>>>8,Z[ne++]=ce&255)}}else if((0,H.isArrayBuffer)(X))Z=X.slice(),ne=Z.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ie=ne>>2,se=ne-ie*4,de=new Uint32Array(Z.buffer,0,ie);let Ee=0,pe=0,le=this.h1,ue=this.h2;const fe=3432918353,ve=461845907,me=fe&q,Ae=ve&q;for(let ae=0;ae<ie;ae++)ae&1?(Ee=de[ae],Ee=Ee*fe&j|Ee*me&q,Ee=Ee<<15|Ee>>>17,Ee=Ee*ve&j|Ee*Ae&q,le^=Ee,le=le<<13|le>>>19,le=le*5+3864292196):(pe=de[ae],pe=pe*fe&j|pe*me&q,pe=pe<<15|pe>>>17,pe=pe*ve&j|pe*Ae&q,ue^=pe,ue=ue<<13|ue>>>19,ue=ue*5+3864292196);switch(Ee=0,se){case 3:Ee^=Z[ie*4+2]<<16;case 2:Ee^=Z[ie*4+1]<<8;case 1:Ee^=Z[ie*4],Ee=Ee*fe&j|Ee*me&q,Ee=Ee<<15|Ee>>>17,Ee=Ee*ve&j|Ee*Ae&q,ie&1?le^=Ee:ue^=Ee}this.h1=le,this.h2=ue}hexdigest(){let X=this.h1,Z=this.h2;return X^=Z>>>1,X=X*3981806797&j|X*36045&q,Z=Z*4283543511&j|((Z<<16|X>>>16)*2950163797&j)>>>16,X^=Z>>>1,X=X*444984403&j|X*60499&q,Z=Z*3301882366&j|((Z<<16|X>>>16)*3120437893&j)>>>16,X^=Z>>>1,(X>>>0).toString(16).padStart(8,"0")+(Z>>>0).toString(16).padStart(8,"0")}}_.MurmurHash3_64=K},(T,_,U)=>{var q;Object.defineProperty(_,"__esModule",{value:!0}),_.FontLoader=_.FontFaceObject=void 0;var H=U(1);class z{constructor({ownerDocument:Y=globalThis.document,styleElement:X=null}){kt(this,q,new Set);this._document=Y,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Y){this.nativeFontFaces.add(Y),this._document.fonts.add(Y)}removeNativeFontFace(Y){this.nativeFontFaces.delete(Y),this._document.fonts.delete(Y)}insertRule(Y){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const X=this.styleElement.sheet;X.insertRule(Y,X.cssRules.length)}clear(){for(const Y of this.nativeFontFaces)this._document.fonts.delete(Y);this.nativeFontFaces.clear(),_e(this,q).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Y){if(!(!Y||_e(this,q).has(Y.loadedName))){if((0,H.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:X,src:Z,style:ne}=Y,ie=new FontFace(X,Z,ne);this.addNativeFontFace(ie);try{await ie.load(),_e(this,q).add(X)}catch{(0,H.warn)(`Cannot load system font: ${Y.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ie)}return}(0,H.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Y){if(Y.attached||Y.missingFile&&!Y.systemFontInfo)return;if(Y.attached=!0,Y.systemFontInfo){await this.loadSystemFont(Y.systemFontInfo);return}if(this.isFontLoadingAPISupported){const Z=Y.createNativeFontFace();if(Z){this.addNativeFontFace(Z);try{await Z.loaded}catch(ne){throw(0,H.warn)(`Failed to load font '${Z.family}': '${ne}'.`),Y.disableFontFace=!0,ne}}return}const X=Y.createFontFaceRule();if(X){if(this.insertRule(X),this.isSyncFontLoadingSupported)return;await new Promise(Z=>{const ne=this._queueLoadingCallback(Z);this._prepareFontLoadEvent(Y,ne)})}}get isFontLoadingAPISupported(){var X;const Y=!!((X=this._document)!=null&&X.fonts);return(0,H.shadow)(this,"isFontLoadingAPISupported",Y)}get isSyncFontLoadingSupported(){let Y=!1;return(H.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Y=!0),(0,H.shadow)(this,"isSyncFontLoadingSupported",Y)}_queueLoadingCallback(Y){function X(){for((0,H.assert)(!ne.done,"completeRequest() cannot be called twice."),ne.done=!0;Z.length>0&&Z[0].done;){const ie=Z.shift();setTimeout(ie.callback,0)}}const{loadingRequests:Z}=this,ne={done:!1,complete:X,callback:Y};return Z.push(ne),ne}get _loadTestFont(){const Y=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,H.shadow)(this,"_loadTestFont",Y)}_prepareFontLoadEvent(Y,X){function Z(he,xe){return he.charCodeAt(xe)<<24|he.charCodeAt(xe+1)<<16|he.charCodeAt(xe+2)<<8|he.charCodeAt(xe+3)&255}function ne(he,xe,ye,Ge){const qe=he.substring(0,xe),Fe=he.substring(xe+ye);return qe+Ge+Fe}let ie,se;const de=this._document.createElement("canvas");de.width=1,de.height=1;const Ee=de.getContext("2d");let pe=0;function le(he,xe){if(++pe>30){(0,H.warn)("Load test font never loaded."),xe();return}if(Ee.font="30px "+he,Ee.fillText(".",0,20),Ee.getImageData(0,0,1,1).data[3]>0){xe();return}setTimeout(le.bind(null,he,xe))}const ue=`lt${Date.now()}${this.loadTestFontId++}`;let fe=this._loadTestFont;fe=ne(fe,976,ue.length,ue);const me=16,Ae=1482184792;let ae=Z(fe,me);for(ie=0,se=ue.length-3;ie<se;ie+=4)ae=ae-Ae+Z(ue,ie)|0;ie<ue.length&&(ae=ae-Ae+Z(ue+"XXX",ie)|0),fe=ne(fe,me,4,(0,H.string32)(ae));const oe=`url(data:font/opentype;base64,${btoa(fe)});`,ce=`@font-face {font-family:"${ue}";src:${oe}}`;this.insertRule(ce);const Se=this._document.createElement("div");Se.style.visibility="hidden",Se.style.width=Se.style.height="10px",Se.style.position="absolute",Se.style.top=Se.style.left="0px";for(const he of[Y.loadedName,ue]){const xe=this._document.createElement("span");xe.textContent="Hi",xe.style.fontFamily=he,Se.append(xe)}this._document.body.append(Se),le(ue,()=>{Se.remove(),X.complete()})}}q=new WeakMap,_.FontLoader=z;class j{constructor(Y,{isEvalSupported:X=!0,disableFontFace:Z=!1,ignoreErrors:ne=!1,inspectFont:ie=null}){this.compiledGlyphs=Object.create(null);for(const se in Y)this[se]=Y[se];this.isEvalSupported=X!==!1,this.disableFontFace=Z===!0,this.ignoreErrors=ne===!0,this._inspectFont=ie}createNativeFontFace(){var X;if(!this.data||this.disableFontFace)return null;let Y;if(!this.cssFontInfo)Y=new FontFace(this.loadedName,this.data,{});else{const Z={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Z.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Y=new FontFace(this.cssFontInfo.fontFamily,this.data,Z)}return(X=this._inspectFont)==null||X.call(this,this),Y}createFontFaceRule(){var ne;if(!this.data||this.disableFontFace)return null;const Y=(0,H.bytesToString)(this.data),X=`url(data:${this.mimetype};base64,${btoa(Y)});`;let Z;if(!this.cssFontInfo)Z=`@font-face {font-family:"${this.loadedName}";src:${X}}`;else{let ie=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ie+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Z=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ie}src:${X}}`}return(ne=this._inspectFont)==null||ne.call(this,this,X),Z}getPathGenerator(Y,X){if(this.compiledGlyphs[X]!==void 0)return this.compiledGlyphs[X];let Z;try{Z=Y.get(this.loadedName+"_path_"+X)}catch(ne){if(!this.ignoreErrors)throw ne;return(0,H.warn)(`getPathGenerator - ignoring character: "${ne}".`),this.compiledGlyphs[X]=function(ie,se){}}if(this.isEvalSupported&&H.FeatureTest.isEvalSupported){const ne=[];for(const ie of Z){const se=ie.args!==void 0?ie.args.join(","):"";ne.push("c.",ie.cmd,"(",se,`);
`)}return this.compiledGlyphs[X]=new Function("c","size",ne.join(""))}return this.compiledGlyphs[X]=function(ne,ie){for(const se of Z)se.cmd==="scale"&&(se.args=[ie,-ie]),ne[se.cmd].apply(ne,se.args)}}}_.FontFaceObject=j},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NodeStandardFontDataFactory=_.NodeFilterFactory=_.NodeCanvasFactory=_.NodeCMapReaderFactory=void 0;var H=U(7);U(1);const z=function(X){return new Promise((Z,ne)=>{require$$5.readFile(X,(se,de)=>{if(se||!de){ne(new Error(se));return}Z(new Uint8Array(de))})})};class j extends H.BaseFilterFactory{}_.NodeFilterFactory=j;class q extends H.BaseCanvasFactory{_createCanvas(Z,ne){return require$$5.createCanvas(Z,ne)}}_.NodeCanvasFactory=q;class K extends H.BaseCMapReaderFactory{_fetchData(Z,ne){return z(Z).then(ie=>({cMapData:ie,compressionType:ne}))}}_.NodeCMapReaderFactory=K;class Y extends H.BaseStandardFontDataFactory{_fetchData(Z){return z(Z)}}_.NodeStandardFontDataFactory=Y},(T,_,U)=>{var Ye,Fi,Vi;Object.defineProperty(_,"__esModule",{value:!0}),_.CanvasGraphics=void 0;var H=U(1),z=U(6),j=U(12),q=U(13);const K=16,Y=100,X=4096,Z=15,ne=10,ie=1e3,se=16;function de(De,Ie){if(De._removeMirroring)throw new Error("Context is already forwarding operations.");De.__originalSave=De.save,De.__originalRestore=De.restore,De.__originalRotate=De.rotate,De.__originalScale=De.scale,De.__originalTranslate=De.translate,De.__originalTransform=De.transform,De.__originalSetTransform=De.setTransform,De.__originalResetTransform=De.resetTransform,De.__originalClip=De.clip,De.__originalMoveTo=De.moveTo,De.__originalLineTo=De.lineTo,De.__originalBezierCurveTo=De.bezierCurveTo,De.__originalRect=De.rect,De.__originalClosePath=De.closePath,De.__originalBeginPath=De.beginPath,De._removeMirroring=()=>{De.save=De.__originalSave,De.restore=De.__originalRestore,De.rotate=De.__originalRotate,De.scale=De.__originalScale,De.translate=De.__originalTranslate,De.transform=De.__originalTransform,De.setTransform=De.__originalSetTransform,De.resetTransform=De.__originalResetTransform,De.clip=De.__originalClip,De.moveTo=De.__originalMoveTo,De.lineTo=De.__originalLineTo,De.bezierCurveTo=De.__originalBezierCurveTo,De.rect=De.__originalRect,De.closePath=De.__originalClosePath,De.beginPath=De.__originalBeginPath,delete De._removeMirroring},De.save=function(){Ie.save(),this.__originalSave()},De.restore=function(){Ie.restore(),this.__originalRestore()},De.translate=function(we,Ve){Ie.translate(we,Ve),this.__originalTranslate(we,Ve)},De.scale=function(we,Ve){Ie.scale(we,Ve),this.__originalScale(we,Ve)},De.transform=function(we,Ve,Me,Le,Qe,ut){Ie.transform(we,Ve,Me,Le,Qe,ut),this.__originalTransform(we,Ve,Me,Le,Qe,ut)},De.setTransform=function(we,Ve,Me,Le,Qe,ut){Ie.setTransform(we,Ve,Me,Le,Qe,ut),this.__originalSetTransform(we,Ve,Me,Le,Qe,ut)},De.resetTransform=function(){Ie.resetTransform(),this.__originalResetTransform()},De.rotate=function(we){Ie.rotate(we),this.__originalRotate(we)},De.clip=function(we){Ie.clip(we),this.__originalClip(we)},De.moveTo=function(Pe,we){Ie.moveTo(Pe,we),this.__originalMoveTo(Pe,we)},De.lineTo=function(Pe,we){Ie.lineTo(Pe,we),this.__originalLineTo(Pe,we)},De.bezierCurveTo=function(Pe,we,Ve,Me,Le,Qe){Ie.bezierCurveTo(Pe,we,Ve,Me,Le,Qe),this.__originalBezierCurveTo(Pe,we,Ve,Me,Le,Qe)},De.rect=function(Pe,we,Ve,Me){Ie.rect(Pe,we,Ve,Me),this.__originalRect(Pe,we,Ve,Me)},De.closePath=function(){Ie.closePath(),this.__originalClosePath()},De.beginPath=function(){Ie.beginPath(),this.__originalBeginPath()}}class Ee{constructor(Ie){this.canvasFactory=Ie,this.cache=Object.create(null)}getCanvas(Ie,Pe,we){let Ve;return this.cache[Ie]!==void 0?(Ve=this.cache[Ie],this.canvasFactory.reset(Ve,Pe,we)):(Ve=this.canvasFactory.create(Pe,we),this.cache[Ie]=Ve),Ve}delete(Ie){delete this.cache[Ie]}clear(){for(const Ie in this.cache){const Pe=this.cache[Ie];this.canvasFactory.destroy(Pe),delete this.cache[Ie]}}}function pe(De,Ie,Pe,we,Ve,Me,Le,Qe,ut,Bt){const[nn,un,on,hn,At,xt]=(0,z.getCurrentTransform)(De);if(un===0&&on===0){const ct=Le*nn+At,vt=Math.round(ct),qt=Qe*hn+xt,fn=Math.round(qt),pn=(Le+ut)*nn+At,yt=Math.abs(Math.round(pn)-vt)||1,vn=(Qe+Bt)*hn+xt,En=Math.abs(Math.round(vn)-fn)||1;return De.setTransform(Math.sign(nn),0,0,Math.sign(hn),vt,fn),De.drawImage(Ie,Pe,we,Ve,Me,0,0,yt,En),De.setTransform(nn,un,on,hn,At,xt),[yt,En]}if(nn===0&&hn===0){const ct=Qe*on+At,vt=Math.round(ct),qt=Le*un+xt,fn=Math.round(qt),pn=(Qe+Bt)*on+At,yt=Math.abs(Math.round(pn)-vt)||1,vn=(Le+ut)*un+xt,En=Math.abs(Math.round(vn)-fn)||1;return De.setTransform(0,Math.sign(un),Math.sign(on),0,vt,fn),De.drawImage(Ie,Pe,we,Ve,Me,0,0,En,yt),De.setTransform(nn,un,on,hn,At,xt),[En,yt]}De.drawImage(Ie,Pe,we,Ve,Me,Le,Qe,ut,Bt);const $e=Math.hypot(nn,un),Be=Math.hypot(on,hn);return[$e*ut,Be*Bt]}function le(De){const{width:Ie,height:Pe}=De;if(Ie>ie||Pe>ie)return null;const we=1e3,Ve=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Me=Ie+1;let Le=new Uint8Array(Me*(Pe+1)),Qe,ut,Bt;const nn=Ie+7&-8;let un=new Uint8Array(nn*Pe),on=0;for(const Be of De.data){let ct=128;for(;ct>0;)un[on++]=Be&ct?0:255,ct>>=1}let hn=0;for(on=0,un[on]!==0&&(Le[0]=1,++hn),ut=1;ut<Ie;ut++)un[on]!==un[on+1]&&(Le[ut]=un[on]?2:1,++hn),on++;for(un[on]!==0&&(Le[ut]=2,++hn),Qe=1;Qe<Pe;Qe++){on=Qe*nn,Bt=Qe*Me,un[on-nn]!==un[on]&&(Le[Bt]=un[on]?1:8,++hn);let Be=(un[on]?4:0)+(un[on-nn]?8:0);for(ut=1;ut<Ie;ut++)Be=(Be>>2)+(un[on+1]?4:0)+(un[on-nn+1]?8:0),Ve[Be]&&(Le[Bt+ut]=Ve[Be],++hn),on++;if(un[on-nn]!==un[on]&&(Le[Bt+ut]=un[on]?2:4,++hn),hn>we)return null}for(on=nn*(Pe-1),Bt=Qe*Me,un[on]!==0&&(Le[Bt]=8,++hn),ut=1;ut<Ie;ut++)un[on]!==un[on+1]&&(Le[Bt+ut]=un[on]?4:8,++hn),on++;if(un[on]!==0&&(Le[Bt+ut]=4,++hn),hn>we)return null;const At=new Int32Array([0,Me,-1,0,-Me,0,0,0,1]),xt=new Path2D;for(Qe=0;hn&&Qe<=Pe;Qe++){let Be=Qe*Me;const ct=Be+Ie;for(;Be<ct&&!Le[Be];)Be++;if(Be===ct)continue;xt.moveTo(Be%Me,Qe);const vt=Be;let qt=Le[Be];do{const fn=At[qt];do Be+=fn;while(!Le[Be]);const pn=Le[Be];pn!==5&&pn!==10?(qt=pn,Le[Be]=0):(qt=pn&51*qt>>4,Le[Be]&=qt>>2|qt<<2),xt.lineTo(Be%Me,Be/Me|0),Le[Be]||--hn}while(vt!==Be);--Qe}return un=null,Le=null,function(Be){Be.save(),Be.scale(1/Ie,-1/Pe),Be.translate(0,-Pe),Be.fill(xt),Be.beginPath(),Be.restore()}}class ue{constructor(Ie,Pe){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=H.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=H.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=H.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Ie,Pe])}clone(){const Ie=Object.create(this);return Ie.clipBox=this.clipBox.slice(),Ie}setCurrentPoint(Ie,Pe){this.x=Ie,this.y=Pe}updatePathMinMax(Ie,Pe,we){[Pe,we]=H.Util.applyTransform([Pe,we],Ie),this.minX=Math.min(this.minX,Pe),this.minY=Math.min(this.minY,we),this.maxX=Math.max(this.maxX,Pe),this.maxY=Math.max(this.maxY,we)}updateRectMinMax(Ie,Pe){const we=H.Util.applyTransform(Pe,Ie),Ve=H.Util.applyTransform(Pe.slice(2),Ie);this.minX=Math.min(this.minX,we[0],Ve[0]),this.minY=Math.min(this.minY,we[1],Ve[1]),this.maxX=Math.max(this.maxX,we[0],Ve[0]),this.maxY=Math.max(this.maxY,we[1],Ve[1])}updateScalingPathMinMax(Ie,Pe){H.Util.scaleMinMax(Ie,Pe),this.minX=Math.min(this.minX,Pe[0]),this.maxX=Math.max(this.maxX,Pe[1]),this.minY=Math.min(this.minY,Pe[2]),this.maxY=Math.max(this.maxY,Pe[3])}updateCurvePathMinMax(Ie,Pe,we,Ve,Me,Le,Qe,ut,Bt,nn){const un=H.Util.bezierBoundingBox(Pe,we,Ve,Me,Le,Qe,ut,Bt);if(nn){nn[0]=Math.min(nn[0],un[0],un[2]),nn[1]=Math.max(nn[1],un[0],un[2]),nn[2]=Math.min(nn[2],un[1],un[3]),nn[3]=Math.max(nn[3],un[1],un[3]);return}this.updateRectMinMax(Ie,un)}getPathBoundingBox(Ie=j.PathType.FILL,Pe=null){const we=[this.minX,this.minY,this.maxX,this.maxY];if(Ie===j.PathType.STROKE){Pe||(0,H.unreachable)("Stroke bounding box must include transform.");const Ve=H.Util.singularValueDecompose2dScale(Pe),Me=Ve[0]*this.lineWidth/2,Le=Ve[1]*this.lineWidth/2;we[0]-=Me,we[1]-=Le,we[2]+=Me,we[3]+=Le}return we}updateClipFromPath(){const Ie=H.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Ie||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Ie){this.clipBox=Ie,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Ie=j.PathType.FILL,Pe=null){return H.Util.intersect(this.clipBox,this.getPathBoundingBox(Ie,Pe))}}function fe(De,Ie){if(typeof ImageData<"u"&&Ie instanceof ImageData){De.putImageData(Ie,0,0);return}const Pe=Ie.height,we=Ie.width,Ve=Pe%se,Me=(Pe-Ve)/se,Le=Ve===0?Me:Me+1,Qe=De.createImageData(we,se);let ut=0,Bt;const nn=Ie.data,un=Qe.data;let on,hn,At,xt;if(Ie.kind===H.ImageKind.GRAYSCALE_1BPP){const $e=nn.byteLength,Be=new Uint32Array(un.buffer,0,un.byteLength>>2),ct=Be.length,vt=we+7>>3,qt=4294967295,fn=H.FeatureTest.isLittleEndian?4278190080:255;for(on=0;on<Le;on++){for(At=on<Me?se:Ve,Bt=0,hn=0;hn<At;hn++){const pn=$e-ut;let yt=0;const vn=pn>vt?we:pn*8-7,En=vn&-8;let On=0,Dn=0;for(;yt<En;yt+=8)Dn=nn[ut++],Be[Bt++]=Dn&128?qt:fn,Be[Bt++]=Dn&64?qt:fn,Be[Bt++]=Dn&32?qt:fn,Be[Bt++]=Dn&16?qt:fn,Be[Bt++]=Dn&8?qt:fn,Be[Bt++]=Dn&4?qt:fn,Be[Bt++]=Dn&2?qt:fn,Be[Bt++]=Dn&1?qt:fn;for(;yt<vn;yt++)On===0&&(Dn=nn[ut++],On=128),Be[Bt++]=Dn&On?qt:fn,On>>=1}for(;Bt<ct;)Be[Bt++]=0;De.putImageData(Qe,0,on*se)}}else if(Ie.kind===H.ImageKind.RGBA_32BPP){for(hn=0,xt=we*se*4,on=0;on<Me;on++)un.set(nn.subarray(ut,ut+xt)),ut+=xt,De.putImageData(Qe,0,hn),hn+=se;on<Le&&(xt=we*Ve*4,un.set(nn.subarray(ut,ut+xt)),De.putImageData(Qe,0,hn))}else if(Ie.kind===H.ImageKind.RGB_24BPP)for(At=se,xt=we*At,on=0;on<Le;on++){for(on>=Me&&(At=Ve,xt=we*At),Bt=0,hn=xt;hn--;)un[Bt++]=nn[ut++],un[Bt++]=nn[ut++],un[Bt++]=nn[ut++],un[Bt++]=255;De.putImageData(Qe,0,on*se)}else throw new Error(`bad image kind: ${Ie.kind}`)}function ve(De,Ie){if(Ie.bitmap){De.drawImage(Ie.bitmap,0,0);return}const Pe=Ie.height,we=Ie.width,Ve=Pe%se,Me=(Pe-Ve)/se,Le=Ve===0?Me:Me+1,Qe=De.createImageData(we,se);let ut=0;const Bt=Ie.data,nn=Qe.data;for(let un=0;un<Le;un++){const on=un<Me?se:Ve;({srcPos:ut}=(0,q.convertBlackAndWhiteToRGBA)({src:Bt,srcPos:ut,dest:nn,width:we,height:on,nonBlackColor:0})),De.putImageData(Qe,0,un*se)}}function me(De,Ie){const Pe=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const we of Pe)De[we]!==void 0&&(Ie[we]=De[we]);De.setLineDash!==void 0&&(Ie.setLineDash(De.getLineDash()),Ie.lineDashOffset=De.lineDashOffset)}function Ae(De){if(De.strokeStyle=De.fillStyle="#000000",De.fillRule="nonzero",De.globalAlpha=1,De.lineWidth=1,De.lineCap="butt",De.lineJoin="miter",De.miterLimit=10,De.globalCompositeOperation="source-over",De.font="10px sans-serif",De.setLineDash!==void 0&&(De.setLineDash([]),De.lineDashOffset=0),!H.isNodeJS){const{filter:Ie}=De;Ie!=="none"&&Ie!==""&&(De.filter="none")}}function ae(De,Ie,Pe,we){const Ve=De.length;for(let Me=3;Me<Ve;Me+=4){const Le=De[Me];if(Le===0)De[Me-3]=Ie,De[Me-2]=Pe,De[Me-1]=we;else if(Le<255){const Qe=255-Le;De[Me-3]=De[Me-3]*Le+Ie*Qe>>8,De[Me-2]=De[Me-2]*Le+Pe*Qe>>8,De[Me-1]=De[Me-1]*Le+we*Qe>>8}}}function oe(De,Ie,Pe){const we=De.length,Ve=1/255;for(let Me=3;Me<we;Me+=4){const Le=Pe?Pe[De[Me]]:De[Me];Ie[Me]=Ie[Me]*Le*Ve|0}}function ce(De,Ie,Pe){const we=De.length;for(let Ve=3;Ve<we;Ve+=4){const Me=De[Ve-3]*77+De[Ve-2]*152+De[Ve-1]*28;Ie[Ve]=Pe?Ie[Ve]*Pe[Me>>8]>>8:Ie[Ve]*Me>>16}}function Se(De,Ie,Pe,we,Ve,Me,Le,Qe,ut,Bt,nn){const un=!!Me,on=un?Me[0]:0,hn=un?Me[1]:0,At=un?Me[2]:0,xt=Ve==="Luminosity"?ce:oe,Be=Math.min(we,Math.ceil(1048576/Pe));for(let ct=0;ct<we;ct+=Be){const vt=Math.min(Be,we-ct),qt=De.getImageData(Qe-Bt,ct+(ut-nn),Pe,vt),fn=Ie.getImageData(Qe,ct+ut,Pe,vt);un&&ae(qt.data,on,hn,At),xt(qt.data,fn.data,Le),Ie.putImageData(fn,Qe,ct+ut)}}function he(De,Ie,Pe,we){const Ve=we[0],Me=we[1],Le=we[2]-Ve,Qe=we[3]-Me;Le===0||Qe===0||(Se(Ie.context,Pe,Le,Qe,Ie.subtype,Ie.backdrop,Ie.transferMap,Ve,Me,Ie.offsetX,Ie.offsetY),De.save(),De.globalAlpha=1,De.globalCompositeOperation="source-over",De.setTransform(1,0,0,1,0,0),De.drawImage(Pe.canvas,0,0),De.restore())}function xe(De,Ie){const Pe=H.Util.singularValueDecompose2dScale(De);Pe[0]=Math.fround(Pe[0]),Pe[1]=Math.fround(Pe[1]);const we=Math.fround((globalThis.devicePixelRatio||1)*z.PixelsPerInch.PDF_TO_CSS_UNITS);return Ie!==void 0?Ie:Pe[0]<=we||Pe[1]<=we}const ye=["butt","round","square"],Ge=["miter","round","bevel"],qe={},Fe={},gt=class gt{constructor(Ie,Pe,we,Ve,Me,{optionalContentConfig:Le,markedContentStack:Qe=null},ut,Bt){kt(this,Ye);this.ctx=Ie,this.current=new ue(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Pe,this.objs=we,this.canvasFactory=Ve,this.filterFactory=Me,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Qe||[],this.optionalContentConfig=Le,this.cachedCanvases=new Ee(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ut,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Bt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Ie,Pe=null){return typeof Ie=="string"?Ie.startsWith("g_")?this.commonObjs.get(Ie):this.objs.get(Ie):Pe}beginDrawing({transform:Ie,viewport:Pe,transparency:we=!1,background:Ve=null}){const Me=this.ctx.canvas.width,Le=this.ctx.canvas.height,Qe=this.ctx.fillStyle;if(this.ctx.fillStyle=Ve||"#ffffff",this.ctx.fillRect(0,0,Me,Le),this.ctx.fillStyle=Qe,we){const ut=this.cachedCanvases.getCanvas("transparent",Me,Le);this.compositeCtx=this.ctx,this.transparentCanvas=ut.canvas,this.ctx=ut.context,this.ctx.save(),this.ctx.transform(...(0,z.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ae(this.ctx),Ie&&(this.ctx.transform(...Ie),this.outputScaleX=Ie[0],this.outputScaleY=Ie[0]),this.ctx.transform(...Pe.transform),this.viewportScale=Pe.scale,this.baseTransform=(0,z.getCurrentTransform)(this.ctx)}executeOperatorList(Ie,Pe,we,Ve){const Me=Ie.argsArray,Le=Ie.fnArray;let Qe=Pe||0;const ut=Me.length;if(ut===Qe)return Qe;const Bt=ut-Qe>ne&&typeof we=="function",nn=Bt?Date.now()+Z:0;let un=0;const on=this.commonObjs,hn=this.objs;let At;for(;;){if(Ve!==void 0&&Qe===Ve.nextBreakPoint)return Ve.breakIt(Qe,we),Qe;if(At=Le[Qe],At!==H.OPS.dependency)this[At].apply(this,Me[Qe]);else for(const xt of Me[Qe]){const $e=xt.startsWith("g_")?on:hn;if(!$e.has(xt))return $e.get(xt,we),Qe}if(Qe++,Qe===ut)return Qe;if(Bt&&++un>ne){if(Date.now()>nn)return we(),Qe;un=0}}}endDrawing(){pt(this,Ye,Fi).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Ie of this._cachedBitmapsMap.values()){for(const Pe of Ie.values())typeof HTMLCanvasElement<"u"&&Pe instanceof HTMLCanvasElement&&(Pe.width=Pe.height=0);Ie.clear()}this._cachedBitmapsMap.clear(),pt(this,Ye,Vi).call(this)}_scaleImage(Ie,Pe){const we=Ie.width,Ve=Ie.height;let Me=Math.max(Math.hypot(Pe[0],Pe[1]),1),Le=Math.max(Math.hypot(Pe[2],Pe[3]),1),Qe=we,ut=Ve,Bt="prescale1",nn,un;for(;Me>2&&Qe>1||Le>2&&ut>1;){let on=Qe,hn=ut;Me>2&&Qe>1&&(on=Qe>=16384?Math.floor(Qe/2)-1||1:Math.ceil(Qe/2),Me/=Qe/on),Le>2&&ut>1&&(hn=ut>=16384?Math.floor(ut/2)-1||1:Math.ceil(ut)/2,Le/=ut/hn),nn=this.cachedCanvases.getCanvas(Bt,on,hn),un=nn.context,un.clearRect(0,0,on,hn),un.drawImage(Ie,0,0,Qe,ut,0,0,on,hn),Ie=nn.canvas,Qe=on,ut=hn,Bt=Bt==="prescale1"?"prescale2":"prescale1"}return{img:Ie,paintWidth:Qe,paintHeight:ut}}_createMaskCanvas(Ie){const Pe=this.ctx,{width:we,height:Ve}=Ie,Me=this.current.fillColor,Le=this.current.patternFill,Qe=(0,z.getCurrentTransform)(Pe);let ut,Bt,nn,un;if((Ie.bitmap||Ie.data)&&Ie.count>1){const yt=Ie.bitmap||Ie.data.buffer;Bt=JSON.stringify(Le?Qe:[Qe.slice(0,4),Me]),ut=this._cachedBitmapsMap.get(yt),ut||(ut=new Map,this._cachedBitmapsMap.set(yt,ut));const vn=ut.get(Bt);if(vn&&!Le){const En=Math.round(Math.min(Qe[0],Qe[2])+Qe[4]),On=Math.round(Math.min(Qe[1],Qe[3])+Qe[5]);return{canvas:vn,offsetX:En,offsetY:On}}nn=vn}nn||(un=this.cachedCanvases.getCanvas("maskCanvas",we,Ve),ve(un.context,Ie));let on=H.Util.transform(Qe,[1/we,0,0,-1/Ve,0,0]);on=H.Util.transform(on,[1,0,0,1,0,-Ve]);const hn=H.Util.applyTransform([0,0],on),At=H.Util.applyTransform([we,Ve],on),xt=H.Util.normalizeRect([hn[0],hn[1],At[0],At[1]]),$e=Math.round(xt[2]-xt[0])||1,Be=Math.round(xt[3]-xt[1])||1,ct=this.cachedCanvases.getCanvas("fillCanvas",$e,Be),vt=ct.context,qt=Math.min(hn[0],At[0]),fn=Math.min(hn[1],At[1]);vt.translate(-qt,-fn),vt.transform(...on),nn||(nn=this._scaleImage(un.canvas,(0,z.getCurrentTransformInverse)(vt)),nn=nn.img,ut&&Le&&ut.set(Bt,nn)),vt.imageSmoothingEnabled=xe((0,z.getCurrentTransform)(vt),Ie.interpolate),pe(vt,nn,0,0,nn.width,nn.height,0,0,we,Ve),vt.globalCompositeOperation="source-in";const pn=H.Util.transform((0,z.getCurrentTransformInverse)(vt),[1,0,0,1,-qt,-fn]);return vt.fillStyle=Le?Me.getPattern(Pe,this,pn,j.PathType.FILL):Me,vt.fillRect(0,0,we,Ve),ut&&!Le&&(this.cachedCanvases.delete("fillCanvas"),ut.set(Bt,ct.canvas)),{canvas:ct.canvas,offsetX:Math.round(qt),offsetY:Math.round(fn)}}setLineWidth(Ie){Ie!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Ie,this.ctx.lineWidth=Ie}setLineCap(Ie){this.ctx.lineCap=ye[Ie]}setLineJoin(Ie){this.ctx.lineJoin=Ge[Ie]}setMiterLimit(Ie){this.ctx.miterLimit=Ie}setDash(Ie,Pe){const we=this.ctx;we.setLineDash!==void 0&&(we.setLineDash(Ie),we.lineDashOffset=Pe)}setRenderingIntent(Ie){}setFlatness(Ie){}setGState(Ie){for(const[Pe,we]of Ie)switch(Pe){case"LW":this.setLineWidth(we);break;case"LC":this.setLineCap(we);break;case"LJ":this.setLineJoin(we);break;case"ML":this.setMiterLimit(we);break;case"D":this.setDash(we[0],we[1]);break;case"RI":this.setRenderingIntent(we);break;case"FL":this.setFlatness(we);break;case"Font":this.setFont(we[0],we[1]);break;case"CA":this.current.strokeAlpha=we;break;case"ca":this.current.fillAlpha=we,this.ctx.globalAlpha=we;break;case"BM":this.ctx.globalCompositeOperation=we;break;case"SMask":this.current.activeSMask=we?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(we);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Ie=this.inSMaskMode;this.current.activeSMask&&!Ie?this.beginSMaskMode():!this.current.activeSMask&&Ie&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Ie=this.ctx.canvas.width,Pe=this.ctx.canvas.height,we="smaskGroupAt"+this.groupLevel,Ve=this.cachedCanvases.getCanvas(we,Ie,Pe);this.suspendedCtx=this.ctx,this.ctx=Ve.context;const Me=this.ctx;Me.setTransform(...(0,z.getCurrentTransform)(this.suspendedCtx)),me(this.suspendedCtx,Me),de(Me,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),me(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Ie){if(!this.current.activeSMask)return;Ie?(Ie[0]=Math.floor(Ie[0]),Ie[1]=Math.floor(Ie[1]),Ie[2]=Math.ceil(Ie[2]),Ie[3]=Math.ceil(Ie[3])):Ie=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Pe=this.current.activeSMask,we=this.suspendedCtx;he(we,Pe,this.ctx,Ie),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(me(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Ie=this.current;this.stateStack.push(Ie),this.current=Ie.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),me(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Ie,Pe,we,Ve,Me,Le){this.ctx.transform(Ie,Pe,we,Ve,Me,Le),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Ie,Pe,we){const Ve=this.ctx,Me=this.current;let Le=Me.x,Qe=Me.y,ut,Bt;const nn=(0,z.getCurrentTransform)(Ve),un=nn[0]===0&&nn[3]===0||nn[1]===0&&nn[2]===0,on=un?we.slice(0):null;for(let hn=0,At=0,xt=Ie.length;hn<xt;hn++)switch(Ie[hn]|0){case H.OPS.rectangle:Le=Pe[At++],Qe=Pe[At++];const $e=Pe[At++],Be=Pe[At++],ct=Le+$e,vt=Qe+Be;Ve.moveTo(Le,Qe),$e===0||Be===0?Ve.lineTo(ct,vt):(Ve.lineTo(ct,Qe),Ve.lineTo(ct,vt),Ve.lineTo(Le,vt)),un||Me.updateRectMinMax(nn,[Le,Qe,ct,vt]),Ve.closePath();break;case H.OPS.moveTo:Le=Pe[At++],Qe=Pe[At++],Ve.moveTo(Le,Qe),un||Me.updatePathMinMax(nn,Le,Qe);break;case H.OPS.lineTo:Le=Pe[At++],Qe=Pe[At++],Ve.lineTo(Le,Qe),un||Me.updatePathMinMax(nn,Le,Qe);break;case H.OPS.curveTo:ut=Le,Bt=Qe,Le=Pe[At+4],Qe=Pe[At+5],Ve.bezierCurveTo(Pe[At],Pe[At+1],Pe[At+2],Pe[At+3],Le,Qe),Me.updateCurvePathMinMax(nn,ut,Bt,Pe[At],Pe[At+1],Pe[At+2],Pe[At+3],Le,Qe,on),At+=6;break;case H.OPS.curveTo2:ut=Le,Bt=Qe,Ve.bezierCurveTo(Le,Qe,Pe[At],Pe[At+1],Pe[At+2],Pe[At+3]),Me.updateCurvePathMinMax(nn,ut,Bt,Le,Qe,Pe[At],Pe[At+1],Pe[At+2],Pe[At+3],on),Le=Pe[At+2],Qe=Pe[At+3],At+=4;break;case H.OPS.curveTo3:ut=Le,Bt=Qe,Le=Pe[At+2],Qe=Pe[At+3],Ve.bezierCurveTo(Pe[At],Pe[At+1],Le,Qe,Le,Qe),Me.updateCurvePathMinMax(nn,ut,Bt,Pe[At],Pe[At+1],Le,Qe,Le,Qe,on),At+=4;break;case H.OPS.closePath:Ve.closePath();break}un&&Me.updateScalingPathMinMax(nn,on),Me.setCurrentPoint(Le,Qe)}closePath(){this.ctx.closePath()}stroke(Ie=!0){const Pe=this.ctx,we=this.current.strokeColor;Pe.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof we=="object"&&(we!=null&&we.getPattern)?(Pe.save(),Pe.strokeStyle=we.getPattern(Pe,this,(0,z.getCurrentTransformInverse)(Pe),j.PathType.STROKE),this.rescaleAndStroke(!1),Pe.restore()):this.rescaleAndStroke(!0)),Ie&&this.consumePath(this.current.getClippedPathBoundingBox()),Pe.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Ie=!0){const Pe=this.ctx,we=this.current.fillColor,Ve=this.current.patternFill;let Me=!1;Ve&&(Pe.save(),Pe.fillStyle=we.getPattern(Pe,this,(0,z.getCurrentTransformInverse)(Pe),j.PathType.FILL),Me=!0);const Le=this.current.getClippedPathBoundingBox();this.contentVisible&&Le!==null&&(this.pendingEOFill?(Pe.fill("evenodd"),this.pendingEOFill=!1):Pe.fill()),Me&&Pe.restore(),Ie&&this.consumePath(Le)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=qe}eoClip(){this.pendingClip=Fe}beginText(){this.current.textMatrix=H.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Ie=this.pendingTextPaths,Pe=this.ctx;if(Ie===void 0){Pe.beginPath();return}Pe.save(),Pe.beginPath();for(const we of Ie)Pe.setTransform(...we.transform),Pe.translate(we.x,we.y),we.addToPath(Pe,we.fontSize);Pe.restore(),Pe.clip(),Pe.beginPath(),delete this.pendingTextPaths}setCharSpacing(Ie){this.current.charSpacing=Ie}setWordSpacing(Ie){this.current.wordSpacing=Ie}setHScale(Ie){this.current.textHScale=Ie/100}setLeading(Ie){this.current.leading=-Ie}setFont(Ie,Pe){var nn;const we=this.commonObjs.get(Ie),Ve=this.current;if(!we)throw new Error(`Can't find font for ${Ie}`);if(Ve.fontMatrix=we.fontMatrix||H.FONT_IDENTITY_MATRIX,(Ve.fontMatrix[0]===0||Ve.fontMatrix[3]===0)&&(0,H.warn)("Invalid font matrix for font "+Ie),Pe<0?(Pe=-Pe,Ve.fontDirection=-1):Ve.fontDirection=1,this.current.font=we,this.current.fontSize=Pe,we.isType3Font)return;const Me=we.loadedName||"sans-serif",Le=((nn=we.systemFontInfo)==null?void 0:nn.css)||`"${Me}", ${we.fallbackName}`;let Qe="normal";we.black?Qe="900":we.bold&&(Qe="bold");const ut=we.italic?"italic":"normal";let Bt=Pe;Pe<K?Bt=K:Pe>Y&&(Bt=Y),this.current.fontSizeScale=Pe/Bt,this.ctx.font=`${ut} ${Qe} ${Bt}px ${Le}`}setTextRenderingMode(Ie){this.current.textRenderingMode=Ie}setTextRise(Ie){this.current.textRise=Ie}moveText(Ie,Pe){this.current.x=this.current.lineX+=Ie,this.current.y=this.current.lineY+=Pe}setLeadingMoveText(Ie,Pe){this.setLeading(-Pe),this.moveText(Ie,Pe)}setTextMatrix(Ie,Pe,we,Ve,Me,Le){this.current.textMatrix=[Ie,Pe,we,Ve,Me,Le],this.current.textMatrixScale=Math.hypot(Ie,Pe),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Ie,Pe,we,Ve){const Me=this.ctx,Le=this.current,Qe=Le.font,ut=Le.textRenderingMode,Bt=Le.fontSize/Le.fontSizeScale,nn=ut&H.TextRenderingMode.FILL_STROKE_MASK,un=!!(ut&H.TextRenderingMode.ADD_TO_PATH_FLAG),on=Le.patternFill&&!Qe.missingFile;let hn;(Qe.disableFontFace||un||on)&&(hn=Qe.getPathGenerator(this.commonObjs,Ie)),Qe.disableFontFace||on?(Me.save(),Me.translate(Pe,we),Me.beginPath(),hn(Me,Bt),Ve&&Me.setTransform(...Ve),(nn===H.TextRenderingMode.FILL||nn===H.TextRenderingMode.FILL_STROKE)&&Me.fill(),(nn===H.TextRenderingMode.STROKE||nn===H.TextRenderingMode.FILL_STROKE)&&Me.stroke(),Me.restore()):((nn===H.TextRenderingMode.FILL||nn===H.TextRenderingMode.FILL_STROKE)&&Me.fillText(Ie,Pe,we),(nn===H.TextRenderingMode.STROKE||nn===H.TextRenderingMode.FILL_STROKE)&&Me.strokeText(Ie,Pe,we)),un&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,z.getCurrentTransform)(Me),x:Pe,y:we,fontSize:Bt,addToPath:hn})}get isFontSubpixelAAEnabled(){const{context:Ie}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Ie.scale(1.5,1),Ie.fillText("I",0,10);const Pe=Ie.getImageData(0,0,10,10).data;let we=!1;for(let Ve=3;Ve<Pe.length;Ve+=4)if(Pe[Ve]>0&&Pe[Ve]<255){we=!0;break}return(0,H.shadow)(this,"isFontSubpixelAAEnabled",we)}showText(Ie){const Pe=this.current,we=Pe.font;if(we.isType3Font)return this.showType3Text(Ie);const Ve=Pe.fontSize;if(Ve===0)return;const Me=this.ctx,Le=Pe.fontSizeScale,Qe=Pe.charSpacing,ut=Pe.wordSpacing,Bt=Pe.fontDirection,nn=Pe.textHScale*Bt,un=Ie.length,on=we.vertical,hn=on?1:-1,At=we.defaultVMetrics,xt=Ve*Pe.fontMatrix[0],$e=Pe.textRenderingMode===H.TextRenderingMode.FILL&&!we.disableFontFace&&!Pe.patternFill;Me.save(),Me.transform(...Pe.textMatrix),Me.translate(Pe.x,Pe.y+Pe.textRise),Bt>0?Me.scale(nn,-1):Me.scale(nn,1);let Be;if(Pe.patternFill){Me.save();const pn=Pe.fillColor.getPattern(Me,this,(0,z.getCurrentTransformInverse)(Me),j.PathType.FILL);Be=(0,z.getCurrentTransform)(Me),Me.restore(),Me.fillStyle=pn}let ct=Pe.lineWidth;const vt=Pe.textMatrixScale;if(vt===0||ct===0){const pn=Pe.textRenderingMode&H.TextRenderingMode.FILL_STROKE_MASK;(pn===H.TextRenderingMode.STROKE||pn===H.TextRenderingMode.FILL_STROKE)&&(ct=this.getSinglePixelWidth())}else ct/=vt;if(Le!==1&&(Me.scale(Le,Le),ct/=Le),Me.lineWidth=ct,we.isInvalidPDFjsFont){const pn=[];let yt=0;for(const vn of Ie)pn.push(vn.unicode),yt+=vn.width;Me.fillText(pn.join(""),0,0),Pe.x+=yt*xt*nn,Me.restore(),this.compose();return}let qt=0,fn;for(fn=0;fn<un;++fn){const pn=Ie[fn];if(typeof pn=="number"){qt+=hn*pn*Ve/1e3;continue}let yt=!1;const vn=(pn.isSpace?ut:0)+Qe,En=pn.fontChar,On=pn.accent;let Dn,Un,xn=pn.width;if(on){const Hn=pn.vmetric||At,zn=-(pn.vmetric?Hn[1]:xn*.5)*xt,mn=Hn[2]*xt;xn=Hn?-Hn[0]:xn,Dn=zn/Le,Un=(qt+mn)/Le}else Dn=qt/Le,Un=0;if(we.remeasure&&xn>0){const Hn=Me.measureText(En).width*1e3/Ve*Le;if(xn<Hn&&this.isFontSubpixelAAEnabled){const zn=xn/Hn;yt=!0,Me.save(),Me.scale(zn,1),Dn/=zn}else xn!==Hn&&(Dn+=(xn-Hn)/2e3*Ve/Le)}if(this.contentVisible&&(pn.isInFont||we.missingFile)){if($e&&!On)Me.fillText(En,Dn,Un);else if(this.paintChar(En,Dn,Un,Be),On){const Hn=Dn+Ve*On.offset.x/Le,zn=Un-Ve*On.offset.y/Le;this.paintChar(On.fontChar,Hn,zn,Be)}}const kn=on?xn*xt-vn*Bt:xn*xt+vn*Bt;qt+=kn,yt&&Me.restore()}on?Pe.y-=qt:Pe.x+=qt*nn,Me.restore(),this.compose()}showType3Text(Ie){const Pe=this.ctx,we=this.current,Ve=we.font,Me=we.fontSize,Le=we.fontDirection,Qe=Ve.vertical?1:-1,ut=we.charSpacing,Bt=we.wordSpacing,nn=we.textHScale*Le,un=we.fontMatrix||H.FONT_IDENTITY_MATRIX,on=Ie.length,hn=we.textRenderingMode===H.TextRenderingMode.INVISIBLE;let At,xt,$e,Be;if(!(hn||Me===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Pe.save(),Pe.transform(...we.textMatrix),Pe.translate(we.x,we.y),Pe.scale(nn,Le),At=0;At<on;++At){if(xt=Ie[At],typeof xt=="number"){Be=Qe*xt*Me/1e3,this.ctx.translate(Be,0),we.x+=Be*nn;continue}const ct=(xt.isSpace?Bt:0)+ut,vt=Ve.charProcOperatorList[xt.operatorListId];if(!vt){(0,H.warn)(`Type3 character "${xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=xt,this.save(),Pe.scale(Me,Me),Pe.transform(...un),this.executeOperatorList(vt),this.restore()),$e=H.Util.applyTransform([xt.width,0],un)[0]*Me+ct,Pe.translate($e,0),we.x+=$e*nn}Pe.restore(),this.processingType3=null}}setCharWidth(Ie,Pe){}setCharWidthAndBounds(Ie,Pe,we,Ve,Me,Le){this.ctx.rect(we,Ve,Me-we,Le-Ve),this.ctx.clip(),this.endPath()}getColorN_Pattern(Ie){let Pe;if(Ie[0]==="TilingPattern"){const we=Ie[1],Ve=this.baseTransform||(0,z.getCurrentTransform)(this.ctx),Me={createCanvasGraphics:Le=>new gt(Le,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Pe=new j.TilingPattern(Ie,we,this.ctx,Me,Ve)}else Pe=this._getPattern(Ie[1],Ie[2]);return Pe}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Ie,Pe,we){const Ve=H.Util.makeHexColor(Ie,Pe,we);this.ctx.strokeStyle=Ve,this.current.strokeColor=Ve}setFillRGBColor(Ie,Pe,we){const Ve=H.Util.makeHexColor(Ie,Pe,we);this.ctx.fillStyle=Ve,this.current.fillColor=Ve,this.current.patternFill=!1}_getPattern(Ie,Pe=null){let we;return this.cachedPatterns.has(Ie)?we=this.cachedPatterns.get(Ie):(we=(0,j.getShadingPattern)(this.getObject(Ie)),this.cachedPatterns.set(Ie,we)),Pe&&(we.matrix=Pe),we}shadingFill(Ie){if(!this.contentVisible)return;const Pe=this.ctx;this.save();const we=this._getPattern(Ie);Pe.fillStyle=we.getPattern(Pe,this,(0,z.getCurrentTransformInverse)(Pe),j.PathType.SHADING);const Ve=(0,z.getCurrentTransformInverse)(Pe);if(Ve){const{width:Me,height:Le}=Pe.canvas,[Qe,ut,Bt,nn]=H.Util.getAxialAlignedBoundingBox([0,0,Me,Le],Ve);this.ctx.fillRect(Qe,ut,Bt-Qe,nn-ut)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,H.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,H.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Ie,Pe){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Ie)&&Ie.length===6&&this.transform(...Ie),this.baseTransform=(0,z.getCurrentTransform)(this.ctx),Pe)){const we=Pe[2]-Pe[0],Ve=Pe[3]-Pe[1];this.ctx.rect(Pe[0],Pe[1],we,Ve),this.current.updateRectMinMax((0,z.getCurrentTransform)(this.ctx),Pe),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Ie){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Pe=this.ctx;Ie.isolated||(0,H.info)("TODO: Support non-isolated groups."),Ie.knockout&&(0,H.warn)("Knockout groups not supported.");const we=(0,z.getCurrentTransform)(Pe);if(Ie.matrix&&Pe.transform(...Ie.matrix),!Ie.bbox)throw new Error("Bounding box is required.");let Ve=H.Util.getAxialAlignedBoundingBox(Ie.bbox,(0,z.getCurrentTransform)(Pe));const Me=[0,0,Pe.canvas.width,Pe.canvas.height];Ve=H.Util.intersect(Ve,Me)||[0,0,0,0];const Le=Math.floor(Ve[0]),Qe=Math.floor(Ve[1]);let ut=Math.max(Math.ceil(Ve[2])-Le,1),Bt=Math.max(Math.ceil(Ve[3])-Qe,1),nn=1,un=1;ut>X&&(nn=ut/X,ut=X),Bt>X&&(un=Bt/X,Bt=X),this.current.startNewPathAndClipBox([0,0,ut,Bt]);let on="groupAt"+this.groupLevel;Ie.smask&&(on+="_smask_"+this.smaskCounter++%2);const hn=this.cachedCanvases.getCanvas(on,ut,Bt),At=hn.context;At.scale(1/nn,1/un),At.translate(-Le,-Qe),At.transform(...we),Ie.smask?this.smaskStack.push({canvas:hn.canvas,context:At,offsetX:Le,offsetY:Qe,scaleX:nn,scaleY:un,subtype:Ie.smask.subtype,backdrop:Ie.smask.backdrop,transferMap:Ie.smask.transferMap||null,startTransformInverse:null}):(Pe.setTransform(1,0,0,1,0,0),Pe.translate(Le,Qe),Pe.scale(nn,un),Pe.save()),me(Pe,At),this.ctx=At,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Pe),this.groupLevel++}endGroup(Ie){if(!this.contentVisible)return;this.groupLevel--;const Pe=this.ctx,we=this.groupStack.pop();if(this.ctx=we,this.ctx.imageSmoothingEnabled=!1,Ie.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ve=(0,z.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ve);const Me=H.Util.getAxialAlignedBoundingBox([0,0,Pe.canvas.width,Pe.canvas.height],Ve);this.ctx.drawImage(Pe.canvas,0,0),this.ctx.restore(),this.compose(Me)}}beginAnnotation(Ie,Pe,we,Ve,Me){if(pt(this,Ye,Fi).call(this),Ae(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Pe)&&Pe.length===4){const Le=Pe[2]-Pe[0],Qe=Pe[3]-Pe[1];if(Me&&this.annotationCanvasMap){we=we.slice(),we[4]-=Pe[0],we[5]-=Pe[1],Pe=Pe.slice(),Pe[0]=Pe[1]=0,Pe[2]=Le,Pe[3]=Qe;const[ut,Bt]=H.Util.singularValueDecompose2dScale((0,z.getCurrentTransform)(this.ctx)),{viewportScale:nn}=this,un=Math.ceil(Le*this.outputScaleX*nn),on=Math.ceil(Qe*this.outputScaleY*nn);this.annotationCanvas=this.canvasFactory.create(un,on);const{canvas:hn,context:At}=this.annotationCanvas;this.annotationCanvasMap.set(Ie,hn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=At,this.ctx.save(),this.ctx.setTransform(ut,0,0,-Bt,0,Qe*Bt),Ae(this.ctx)}else Ae(this.ctx),this.ctx.rect(Pe[0],Pe[1],Le,Qe),this.ctx.clip(),this.endPath()}this.current=new ue(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...we),this.transform(...Ve)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),pt(this,Ye,Vi).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Ie){if(!this.contentVisible)return;const Pe=Ie.count;Ie=this.getObject(Ie.data,Ie),Ie.count=Pe;const we=this.ctx,Ve=this.processingType3;if(Ve&&(Ve.compiled===void 0&&(Ve.compiled=le(Ie)),Ve.compiled)){Ve.compiled(we);return}const Me=this._createMaskCanvas(Ie),Le=Me.canvas;we.save(),we.setTransform(1,0,0,1,0,0),we.drawImage(Le,Me.offsetX,Me.offsetY),we.restore(),this.compose()}paintImageMaskXObjectRepeat(Ie,Pe,we=0,Ve=0,Me,Le){if(!this.contentVisible)return;Ie=this.getObject(Ie.data,Ie);const Qe=this.ctx;Qe.save();const ut=(0,z.getCurrentTransform)(Qe);Qe.transform(Pe,we,Ve,Me,0,0);const Bt=this._createMaskCanvas(Ie);Qe.setTransform(1,0,0,1,Bt.offsetX-ut[4],Bt.offsetY-ut[5]);for(let nn=0,un=Le.length;nn<un;nn+=2){const on=H.Util.transform(ut,[Pe,we,Ve,Me,Le[nn],Le[nn+1]]),[hn,At]=H.Util.applyTransform([0,0],on);Qe.drawImage(Bt.canvas,hn,At)}Qe.restore(),this.compose()}paintImageMaskXObjectGroup(Ie){if(!this.contentVisible)return;const Pe=this.ctx,we=this.current.fillColor,Ve=this.current.patternFill;for(const Me of Ie){const{data:Le,width:Qe,height:ut,transform:Bt}=Me,nn=this.cachedCanvases.getCanvas("maskCanvas",Qe,ut),un=nn.context;un.save();const on=this.getObject(Le,Me);ve(un,on),un.globalCompositeOperation="source-in",un.fillStyle=Ve?we.getPattern(un,this,(0,z.getCurrentTransformInverse)(Pe),j.PathType.FILL):we,un.fillRect(0,0,Qe,ut),un.restore(),Pe.save(),Pe.transform(...Bt),Pe.scale(1,-1),pe(Pe,nn.canvas,0,0,Qe,ut,0,-1,1,1),Pe.restore()}this.compose()}paintImageXObject(Ie){if(!this.contentVisible)return;const Pe=this.getObject(Ie);if(!Pe){(0,H.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Pe)}paintImageXObjectRepeat(Ie,Pe,we,Ve){if(!this.contentVisible)return;const Me=this.getObject(Ie);if(!Me){(0,H.warn)("Dependent image isn't ready yet");return}const Le=Me.width,Qe=Me.height,ut=[];for(let Bt=0,nn=Ve.length;Bt<nn;Bt+=2)ut.push({transform:[Pe,0,0,we,Ve[Bt],Ve[Bt+1]],x:0,y:0,w:Le,h:Qe});this.paintInlineImageXObjectGroup(Me,ut)}applyTransferMapsToCanvas(Ie){return this.current.transferMaps!=="none"&&(Ie.filter=this.current.transferMaps,Ie.drawImage(Ie.canvas,0,0),Ie.filter="none"),Ie.canvas}applyTransferMapsToBitmap(Ie){if(this.current.transferMaps==="none")return Ie.bitmap;const{bitmap:Pe,width:we,height:Ve}=Ie,Me=this.cachedCanvases.getCanvas("inlineImage",we,Ve),Le=Me.context;return Le.filter=this.current.transferMaps,Le.drawImage(Pe,0,0),Le.filter="none",Me.canvas}paintInlineImageXObject(Ie){if(!this.contentVisible)return;const Pe=Ie.width,we=Ie.height,Ve=this.ctx;if(this.save(),!H.isNodeJS){const{filter:Qe}=Ve;Qe!=="none"&&Qe!==""&&(Ve.filter="none")}Ve.scale(1/Pe,-1/we);let Me;if(Ie.bitmap)Me=this.applyTransferMapsToBitmap(Ie);else if(typeof HTMLElement=="function"&&Ie instanceof HTMLElement||!Ie.data)Me=Ie;else{const ut=this.cachedCanvases.getCanvas("inlineImage",Pe,we).context;fe(ut,Ie),Me=this.applyTransferMapsToCanvas(ut)}const Le=this._scaleImage(Me,(0,z.getCurrentTransformInverse)(Ve));Ve.imageSmoothingEnabled=xe((0,z.getCurrentTransform)(Ve),Ie.interpolate),pe(Ve,Le.img,0,0,Le.paintWidth,Le.paintHeight,0,-we,Pe,we),this.compose(),this.restore()}paintInlineImageXObjectGroup(Ie,Pe){if(!this.contentVisible)return;const we=this.ctx;let Ve;if(Ie.bitmap)Ve=Ie.bitmap;else{const Me=Ie.width,Le=Ie.height,ut=this.cachedCanvases.getCanvas("inlineImage",Me,Le).context;fe(ut,Ie),Ve=this.applyTransferMapsToCanvas(ut)}for(const Me of Pe)we.save(),we.transform(...Me.transform),we.scale(1,-1),pe(we,Ve,Me.x,Me.y,Me.w,Me.h,0,-1,1,1),we.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Ie){}markPointProps(Ie,Pe){}beginMarkedContent(Ie){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Ie,Pe){Ie==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Pe)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Ie){const Pe=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ie);const we=this.ctx;this.pendingClip&&(Pe||(this.pendingClip===Fe?we.clip("evenodd"):we.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),we.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Ie=(0,z.getCurrentTransform)(this.ctx);if(Ie[1]===0&&Ie[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Ie[0]),Math.abs(Ie[3]));else{const Pe=Math.abs(Ie[0]*Ie[3]-Ie[2]*Ie[1]),we=Math.hypot(Ie[0],Ie[2]),Ve=Math.hypot(Ie[1],Ie[3]);this._cachedGetSinglePixelWidth=Math.max(we,Ve)/Pe}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Ie}=this.current,{a:Pe,b:we,c:Ve,d:Me}=this.ctx.getTransform();let Le,Qe;if(we===0&&Ve===0){const ut=Math.abs(Pe),Bt=Math.abs(Me);if(ut===Bt)if(Ie===0)Le=Qe=1/ut;else{const nn=ut*Ie;Le=Qe=nn<1?1/nn:1}else if(Ie===0)Le=1/ut,Qe=1/Bt;else{const nn=ut*Ie,un=Bt*Ie;Le=nn<1?1/nn:1,Qe=un<1?1/un:1}}else{const ut=Math.abs(Pe*Me-we*Ve),Bt=Math.hypot(Pe,we),nn=Math.hypot(Ve,Me);if(Ie===0)Le=nn/ut,Qe=Bt/ut;else{const un=Ie*ut;Le=nn>un?nn/un:1,Qe=Bt>un?Bt/un:1}}this._cachedScaleForStroking[0]=Le,this._cachedScaleForStroking[1]=Qe}return this._cachedScaleForStroking}rescaleAndStroke(Ie){const{ctx:Pe}=this,{lineWidth:we}=this.current,[Ve,Me]=this.getScaleForStroking();if(Pe.lineWidth=we||1,Ve===1&&Me===1){Pe.stroke();return}const Le=Pe.getLineDash();if(Ie&&Pe.save(),Pe.scale(Ve,Me),Le.length>0){const Qe=Math.max(Ve,Me);Pe.setLineDash(Le.map(ut=>ut/Qe)),Pe.lineDashOffset/=Qe}Pe.stroke(),Ie&&Pe.restore()}isContentVisible(){for(let Ie=this.markedContentStack.length-1;Ie>=0;Ie--)if(!this.markedContentStack[Ie].visible)return!1;return!0}};Ye=new WeakSet,Fi=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vi=function(){if(this.pageColors){const Ie=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Ie!=="none"){const Pe=this.ctx.filter;this.ctx.filter=Ie,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Pe}}};let He=gt;_.CanvasGraphics=He;for(const De in H.OPS)He.prototype[De]!==void 0&&(He.prototype[H.OPS[De]]=He.prototype[De])},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TilingPattern=_.PathType=void 0,_.getShadingPattern=se;var H=U(1),z=U(6);const j={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_.PathType=j;function q(le,ue){if(!ue)return;const fe=ue[2]-ue[0],ve=ue[3]-ue[1],me=new Path2D;me.rect(ue[0],ue[1],fe,ve),le.clip(me)}class K{constructor(){this.constructor===K&&(0,H.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,H.unreachable)("Abstract method `getPattern` called.")}}class Y extends K{constructor(ue){super(),this._type=ue[1],this._bbox=ue[2],this._colorStops=ue[3],this._p0=ue[4],this._p1=ue[5],this._r0=ue[6],this._r1=ue[7],this.matrix=null}_createGradient(ue){let fe;this._type==="axial"?fe=ue.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(fe=ue.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ve of this._colorStops)fe.addColorStop(ve[0],ve[1]);return fe}getPattern(ue,fe,ve,me){let Ae;if(me===j.STROKE||me===j.FILL){const ae=fe.current.getClippedPathBoundingBox(me,(0,z.getCurrentTransform)(ue))||[0,0,0,0],oe=Math.ceil(ae[2]-ae[0])||1,ce=Math.ceil(ae[3]-ae[1])||1,Se=fe.cachedCanvases.getCanvas("pattern",oe,ce,!0),he=Se.context;he.clearRect(0,0,he.canvas.width,he.canvas.height),he.beginPath(),he.rect(0,0,he.canvas.width,he.canvas.height),he.translate(-ae[0],-ae[1]),ve=H.Util.transform(ve,[1,0,0,1,ae[0],ae[1]]),he.transform(...fe.baseTransform),this.matrix&&he.transform(...this.matrix),q(he,this._bbox),he.fillStyle=this._createGradient(he),he.fill(),Ae=ue.createPattern(Se.canvas,"no-repeat");const xe=new DOMMatrix(ve);Ae.setTransform(xe)}else q(ue,this._bbox),Ae=this._createGradient(ue);return Ae}}function X(le,ue,fe,ve,me,Ae,ae,oe){const ce=ue.coords,Se=ue.colors,he=le.data,xe=le.width*4;let ye;ce[fe+1]>ce[ve+1]&&(ye=fe,fe=ve,ve=ye,ye=Ae,Ae=ae,ae=ye),ce[ve+1]>ce[me+1]&&(ye=ve,ve=me,me=ye,ye=ae,ae=oe,oe=ye),ce[fe+1]>ce[ve+1]&&(ye=fe,fe=ve,ve=ye,ye=Ae,Ae=ae,ae=ye);const Ge=(ce[fe]+ue.offsetX)*ue.scaleX,qe=(ce[fe+1]+ue.offsetY)*ue.scaleY,Fe=(ce[ve]+ue.offsetX)*ue.scaleX,He=(ce[ve+1]+ue.offsetY)*ue.scaleY,Ye=(ce[me]+ue.offsetX)*ue.scaleX,ke=(ce[me+1]+ue.offsetY)*ue.scaleY;if(qe>=ke)return;const Ke=Se[Ae],gt=Se[Ae+1],De=Se[Ae+2],Ie=Se[ae],Pe=Se[ae+1],we=Se[ae+2],Ve=Se[oe],Me=Se[oe+1],Le=Se[oe+2],Qe=Math.round(qe),ut=Math.round(ke);let Bt,nn,un,on,hn,At,xt,$e;for(let Be=Qe;Be<=ut;Be++){if(Be<He){const pn=Be<qe?0:(qe-Be)/(qe-He);Bt=Ge-(Ge-Fe)*pn,nn=Ke-(Ke-Ie)*pn,un=gt-(gt-Pe)*pn,on=De-(De-we)*pn}else{let pn;Be>ke?pn=1:He===ke?pn=0:pn=(He-Be)/(He-ke),Bt=Fe-(Fe-Ye)*pn,nn=Ie-(Ie-Ve)*pn,un=Pe-(Pe-Me)*pn,on=we-(we-Le)*pn}let ct;Be<qe?ct=0:Be>ke?ct=1:ct=(qe-Be)/(qe-ke),hn=Ge-(Ge-Ye)*ct,At=Ke-(Ke-Ve)*ct,xt=gt-(gt-Me)*ct,$e=De-(De-Le)*ct;const vt=Math.round(Math.min(Bt,hn)),qt=Math.round(Math.max(Bt,hn));let fn=xe*Be+vt*4;for(let pn=vt;pn<=qt;pn++)ct=(Bt-pn)/(Bt-hn),ct<0?ct=0:ct>1&&(ct=1),he[fn++]=nn-(nn-At)*ct|0,he[fn++]=un-(un-xt)*ct|0,he[fn++]=on-(on-$e)*ct|0,he[fn++]=255}}function Z(le,ue,fe){const ve=ue.coords,me=ue.colors;let Ae,ae;switch(ue.type){case"lattice":const oe=ue.verticesPerRow,ce=Math.floor(ve.length/oe)-1,Se=oe-1;for(Ae=0;Ae<ce;Ae++){let he=Ae*oe;for(let xe=0;xe<Se;xe++,he++)X(le,fe,ve[he],ve[he+1],ve[he+oe],me[he],me[he+1],me[he+oe]),X(le,fe,ve[he+oe+1],ve[he+1],ve[he+oe],me[he+oe+1],me[he+1],me[he+oe])}break;case"triangles":for(Ae=0,ae=ve.length;Ae<ae;Ae+=3)X(le,fe,ve[Ae],ve[Ae+1],ve[Ae+2],me[Ae],me[Ae+1],me[Ae+2]);break;default:throw new Error("illegal figure")}}class ne extends K{constructor(ue){super(),this._coords=ue[2],this._colors=ue[3],this._figures=ue[4],this._bounds=ue[5],this._bbox=ue[7],this._background=ue[8],this.matrix=null}_createMeshCanvas(ue,fe,ve){const oe=Math.floor(this._bounds[0]),ce=Math.floor(this._bounds[1]),Se=Math.ceil(this._bounds[2])-oe,he=Math.ceil(this._bounds[3])-ce,xe=Math.min(Math.ceil(Math.abs(Se*ue[0]*1.1)),3e3),ye=Math.min(Math.ceil(Math.abs(he*ue[1]*1.1)),3e3),Ge=Se/xe,qe=he/ye,Fe={coords:this._coords,colors:this._colors,offsetX:-oe,offsetY:-ce,scaleX:1/Ge,scaleY:1/qe},He=xe+2*2,Ye=ye+2*2,ke=ve.getCanvas("mesh",He,Ye,!1),Ke=ke.context,gt=Ke.createImageData(xe,ye);if(fe){const Ie=gt.data;for(let Pe=0,we=Ie.length;Pe<we;Pe+=4)Ie[Pe]=fe[0],Ie[Pe+1]=fe[1],Ie[Pe+2]=fe[2],Ie[Pe+3]=255}for(const Ie of this._figures)Z(gt,Ie,Fe);return Ke.putImageData(gt,2,2),{canvas:ke.canvas,offsetX:oe-2*Ge,offsetY:ce-2*qe,scaleX:Ge,scaleY:qe}}getPattern(ue,fe,ve,me){q(ue,this._bbox);let Ae;if(me===j.SHADING)Ae=H.Util.singularValueDecompose2dScale((0,z.getCurrentTransform)(ue));else if(Ae=H.Util.singularValueDecompose2dScale(fe.baseTransform),this.matrix){const oe=H.Util.singularValueDecompose2dScale(this.matrix);Ae=[Ae[0]*oe[0],Ae[1]*oe[1]]}const ae=this._createMeshCanvas(Ae,me===j.SHADING?null:this._background,fe.cachedCanvases);return me!==j.SHADING&&(ue.setTransform(...fe.baseTransform),this.matrix&&ue.transform(...this.matrix)),ue.translate(ae.offsetX,ae.offsetY),ue.scale(ae.scaleX,ae.scaleY),ue.createPattern(ae.canvas,"no-repeat")}}class ie extends K{getPattern(){return"hotpink"}}function se(le){switch(le[0]){case"RadialAxial":return new Y(le);case"Mesh":return new ne(le);case"Dummy":return new ie}throw new Error(`Unknown IR type: ${le[0]}`)}const de={COLORED:1,UNCOLORED:2},pe=class pe{constructor(ue,fe,ve,me,Ae){this.operatorList=ue[2],this.matrix=ue[3]||[1,0,0,1,0,0],this.bbox=ue[4],this.xstep=ue[5],this.ystep=ue[6],this.paintType=ue[7],this.tilingType=ue[8],this.color=fe,this.ctx=ve,this.canvasGraphicsFactory=me,this.baseTransform=Ae}createPatternCanvas(ue){const fe=this.operatorList,ve=this.bbox,me=this.xstep,Ae=this.ystep,ae=this.paintType,oe=this.tilingType,ce=this.color,Se=this.canvasGraphicsFactory;(0,H.info)("TilingType: "+oe);const he=ve[0],xe=ve[1],ye=ve[2],Ge=ve[3],qe=H.Util.singularValueDecompose2dScale(this.matrix),Fe=H.Util.singularValueDecompose2dScale(this.baseTransform),He=[qe[0]*Fe[0],qe[1]*Fe[1]],Ye=this.getSizeAndScale(me,this.ctx.canvas.width,He[0]),ke=this.getSizeAndScale(Ae,this.ctx.canvas.height,He[1]),Ke=ue.cachedCanvases.getCanvas("pattern",Ye.size,ke.size,!0),gt=Ke.context,De=Se.createCanvasGraphics(gt);De.groupLevel=ue.groupLevel,this.setFillAndStrokeStyleToContext(De,ae,ce);let Ie=he,Pe=xe,we=ye,Ve=Ge;return he<0&&(Ie=0,we+=Math.abs(he)),xe<0&&(Pe=0,Ve+=Math.abs(xe)),gt.translate(-(Ye.scale*Ie),-(ke.scale*Pe)),De.transform(Ye.scale,0,0,ke.scale,0,0),gt.save(),this.clipBbox(De,Ie,Pe,we,Ve),De.baseTransform=(0,z.getCurrentTransform)(De.ctx),De.executeOperatorList(fe),De.endDrawing(),{canvas:Ke.canvas,scaleX:Ye.scale,scaleY:ke.scale,offsetX:Ie,offsetY:Pe}}getSizeAndScale(ue,fe,ve){ue=Math.abs(ue);const me=Math.max(pe.MAX_PATTERN_SIZE,fe);let Ae=Math.ceil(ue*ve);return Ae>=me?Ae=me:ve=Ae/ue,{scale:ve,size:Ae}}clipBbox(ue,fe,ve,me,Ae){const ae=me-fe,oe=Ae-ve;ue.ctx.rect(fe,ve,ae,oe),ue.current.updateRectMinMax((0,z.getCurrentTransform)(ue.ctx),[fe,ve,me,Ae]),ue.clip(),ue.endPath()}setFillAndStrokeStyleToContext(ue,fe,ve){const me=ue.ctx,Ae=ue.current;switch(fe){case de.COLORED:const ae=this.ctx;me.fillStyle=ae.fillStyle,me.strokeStyle=ae.strokeStyle,Ae.fillColor=ae.fillStyle,Ae.strokeColor=ae.strokeStyle;break;case de.UNCOLORED:const oe=H.Util.makeHexColor(ve[0],ve[1],ve[2]);me.fillStyle=oe,me.strokeStyle=oe,Ae.fillColor=oe,Ae.strokeColor=oe;break;default:throw new H.FormatError(`Unsupported paint type: ${fe}`)}}getPattern(ue,fe,ve,me){let Ae=ve;me!==j.SHADING&&(Ae=H.Util.transform(Ae,fe.baseTransform),this.matrix&&(Ae=H.Util.transform(Ae,this.matrix)));const ae=this.createPatternCanvas(fe);let oe=new DOMMatrix(Ae);oe=oe.translate(ae.offsetX,ae.offsetY),oe=oe.scale(1/ae.scaleX,1/ae.scaleY);const ce=ue.createPattern(ae.canvas,"repeat");return ce.setTransform(oe),ce}};Wn(pe,"MAX_PATTERN_SIZE",3e3);let Ee=pe;_.TilingPattern=Ee},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.convertBlackAndWhiteToRGBA=j,_.convertToRGBA=z,_.grayToRGBA=K;var H=U(1);function z(Y){switch(Y.kind){case H.ImageKind.GRAYSCALE_1BPP:return j(Y);case H.ImageKind.RGB_24BPP:return q(Y)}return null}function j({src:Y,srcPos:X=0,dest:Z,width:ne,height:ie,nonBlackColor:se=4294967295,inverseDecode:de=!1}){const Ee=H.FeatureTest.isLittleEndian?4278190080:255,[pe,le]=de?[se,Ee]:[Ee,se],ue=ne>>3,fe=ne&7,ve=Y.length;Z=new Uint32Array(Z.buffer);let me=0;for(let Ae=0;Ae<ie;Ae++){for(const oe=X+ue;X<oe;X++){const ce=X<ve?Y[X]:255;Z[me++]=ce&128?le:pe,Z[me++]=ce&64?le:pe,Z[me++]=ce&32?le:pe,Z[me++]=ce&16?le:pe,Z[me++]=ce&8?le:pe,Z[me++]=ce&4?le:pe,Z[me++]=ce&2?le:pe,Z[me++]=ce&1?le:pe}if(fe===0)continue;const ae=X<ve?Y[X++]:255;for(let oe=0;oe<fe;oe++)Z[me++]=ae&1<<7-oe?le:pe}return{srcPos:X,destPos:me}}function q({src:Y,srcPos:X=0,dest:Z,destPos:ne=0,width:ie,height:se}){let de=0;const Ee=Y.length>>2,pe=new Uint32Array(Y.buffer,X,Ee);if(H.FeatureTest.isLittleEndian){for(;de<Ee-2;de+=3,ne+=4){const le=pe[de],ue=pe[de+1],fe=pe[de+2];Z[ne]=le|4278190080,Z[ne+1]=le>>>24|ue<<8|4278190080,Z[ne+2]=ue>>>16|fe<<16|4278190080,Z[ne+3]=fe>>>8|4278190080}for(let le=de*4,ue=Y.length;le<ue;le+=3)Z[ne++]=Y[le]|Y[le+1]<<8|Y[le+2]<<16|4278190080}else{for(;de<Ee-2;de+=3,ne+=4){const le=pe[de],ue=pe[de+1],fe=pe[de+2];Z[ne]=le|255,Z[ne+1]=le<<24|ue>>>8|255,Z[ne+2]=ue<<16|fe>>>16|255,Z[ne+3]=fe<<8|255}for(let le=de*4,ue=Y.length;le<ue;le+=3)Z[ne++]=Y[le]<<24|Y[le+1]<<16|Y[le+2]<<8|255}return{srcPos:X,destPos:ne}}function K(Y,X){if(H.FeatureTest.isLittleEndian)for(let Z=0,ne=Y.length;Z<ne;Z++)X[Z]=Y[Z]*65793|4278190080;else for(let Z=0,ne=Y.length;Z<ne;Z++)X[Z]=Y[Z]*16843008|255}},(T,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GlobalWorkerOptions=void 0;const U=Object.create(null);_.GlobalWorkerOptions=U,U.workerPort=null,U.workerSrc=""},(T,_,U)=>{var Y,Xs,Qs,ii;Object.defineProperty(_,"__esModule",{value:!0}),_.MessageHandler=void 0;var H=U(1);const z={DATA:1,ERROR:2},j={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function q(ie){switch(ie instanceof Error||typeof ie=="object"&&ie!==null||(0,H.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ie.name){case"AbortException":return new H.AbortException(ie.message);case"MissingPDFException":return new H.MissingPDFException(ie.message);case"PasswordException":return new H.PasswordException(ie.message,ie.code);case"UnexpectedResponseException":return new H.UnexpectedResponseException(ie.message,ie.status);case"UnknownErrorException":return new H.UnknownErrorException(ie.message,ie.details);default:return new H.UnknownErrorException(ie.message,ie.toString())}}class K{constructor(se,de,Ee){kt(this,Y);this.sourceName=se,this.targetName=de,this.comObj=Ee,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=pe=>{const le=pe.data;if(le.targetName!==this.sourceName)return;if(le.stream){pt(this,Y,Qs).call(this,le);return}if(le.callback){const fe=le.callbackId,ve=this.callbackCapabilities[fe];if(!ve)throw new Error(`Cannot resolve callback ${fe}`);if(delete this.callbackCapabilities[fe],le.callback===z.DATA)ve.resolve(le.data);else if(le.callback===z.ERROR)ve.reject(q(le.reason));else throw new Error("Unexpected callback case");return}const ue=this.actionHandler[le.action];if(!ue)throw new Error(`Unknown action from worker: ${le.action}`);if(le.callbackId){const fe=this.sourceName,ve=le.sourceName;new Promise(function(me){me(ue(le.data))}).then(function(me){Ee.postMessage({sourceName:fe,targetName:ve,callback:z.DATA,callbackId:le.callbackId,data:me})},function(me){Ee.postMessage({sourceName:fe,targetName:ve,callback:z.ERROR,callbackId:le.callbackId,reason:q(me)})});return}if(le.streamId){pt(this,Y,Xs).call(this,le);return}ue(le.data)},Ee.addEventListener("message",this._onComObjOnMessage)}on(se,de){const Ee=this.actionHandler;if(Ee[se])throw new Error(`There is already an actionName called "${se}"`);Ee[se]=de}send(se,de,Ee){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:se,data:de},Ee)}sendWithPromise(se,de,Ee){const pe=this.callbackId++,le=new H.PromiseCapability;this.callbackCapabilities[pe]=le;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:se,callbackId:pe,data:de},Ee)}catch(ue){le.reject(ue)}return le.promise}sendWithStream(se,de,Ee,pe){const le=this.streamId++,ue=this.sourceName,fe=this.targetName,ve=this.comObj;return new ReadableStream({start:me=>{const Ae=new H.PromiseCapability;return this.streamControllers[le]={controller:me,startCall:Ae,pullCall:null,cancelCall:null,isClosed:!1},ve.postMessage({sourceName:ue,targetName:fe,action:se,streamId:le,data:de,desiredSize:me.desiredSize},pe),Ae.promise},pull:me=>{const Ae=new H.PromiseCapability;return this.streamControllers[le].pullCall=Ae,ve.postMessage({sourceName:ue,targetName:fe,stream:j.PULL,streamId:le,desiredSize:me.desiredSize}),Ae.promise},cancel:me=>{(0,H.assert)(me instanceof Error,"cancel must have a valid reason");const Ae=new H.PromiseCapability;return this.streamControllers[le].cancelCall=Ae,this.streamControllers[le].isClosed=!0,ve.postMessage({sourceName:ue,targetName:fe,stream:j.CANCEL,streamId:le,reason:q(me)}),Ae.promise}},Ee)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Y=new WeakSet,Xs=function(se){const de=se.streamId,Ee=this.sourceName,pe=se.sourceName,le=this.comObj,ue=this,fe=this.actionHandler[se.action],ve={enqueue(me,Ae=1,ae){if(this.isCancelled)return;const oe=this.desiredSize;this.desiredSize-=Ae,oe>0&&this.desiredSize<=0&&(this.sinkCapability=new H.PromiseCapability,this.ready=this.sinkCapability.promise),le.postMessage({sourceName:Ee,targetName:pe,stream:j.ENQUEUE,streamId:de,chunk:me},ae)},close(){this.isCancelled||(this.isCancelled=!0,le.postMessage({sourceName:Ee,targetName:pe,stream:j.CLOSE,streamId:de}),delete ue.streamSinks[de])},error(me){(0,H.assert)(me instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,le.postMessage({sourceName:Ee,targetName:pe,stream:j.ERROR,streamId:de,reason:q(me)}))},sinkCapability:new H.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:se.desiredSize,ready:null};ve.sinkCapability.resolve(),ve.ready=ve.sinkCapability.promise,this.streamSinks[de]=ve,new Promise(function(me){me(fe(se.data,ve))}).then(function(){le.postMessage({sourceName:Ee,targetName:pe,stream:j.START_COMPLETE,streamId:de,success:!0})},function(me){le.postMessage({sourceName:Ee,targetName:pe,stream:j.START_COMPLETE,streamId:de,reason:q(me)})})},Qs=function(se){const de=se.streamId,Ee=this.sourceName,pe=se.sourceName,le=this.comObj,ue=this.streamControllers[de],fe=this.streamSinks[de];switch(se.stream){case j.START_COMPLETE:se.success?ue.startCall.resolve():ue.startCall.reject(q(se.reason));break;case j.PULL_COMPLETE:se.success?ue.pullCall.resolve():ue.pullCall.reject(q(se.reason));break;case j.PULL:if(!fe){le.postMessage({sourceName:Ee,targetName:pe,stream:j.PULL_COMPLETE,streamId:de,success:!0});break}fe.desiredSize<=0&&se.desiredSize>0&&fe.sinkCapability.resolve(),fe.desiredSize=se.desiredSize,new Promise(function(ve){var me;ve((me=fe.onPull)==null?void 0:me.call(fe))}).then(function(){le.postMessage({sourceName:Ee,targetName:pe,stream:j.PULL_COMPLETE,streamId:de,success:!0})},function(ve){le.postMessage({sourceName:Ee,targetName:pe,stream:j.PULL_COMPLETE,streamId:de,reason:q(ve)})});break;case j.ENQUEUE:if((0,H.assert)(ue,"enqueue should have stream controller"),ue.isClosed)break;ue.controller.enqueue(se.chunk);break;case j.CLOSE:if((0,H.assert)(ue,"close should have stream controller"),ue.isClosed)break;ue.isClosed=!0,ue.controller.close(),pt(this,Y,ii).call(this,ue,de);break;case j.ERROR:(0,H.assert)(ue,"error should have stream controller"),ue.controller.error(q(se.reason)),pt(this,Y,ii).call(this,ue,de);break;case j.CANCEL_COMPLETE:se.success?ue.cancelCall.resolve():ue.cancelCall.reject(q(se.reason)),pt(this,Y,ii).call(this,ue,de);break;case j.CANCEL:if(!fe)break;new Promise(function(ve){var me;ve((me=fe.onCancel)==null?void 0:me.call(fe,q(se.reason)))}).then(function(){le.postMessage({sourceName:Ee,targetName:pe,stream:j.CANCEL_COMPLETE,streamId:de,success:!0})},function(ve){le.postMessage({sourceName:Ee,targetName:pe,stream:j.CANCEL_COMPLETE,streamId:de,reason:q(ve)})}),fe.sinkCapability.reject(q(se.reason)),fe.isCancelled=!0,delete this.streamSinks[de];break;default:throw new Error("Unexpected stream case")}},ii=async function(se,de){var Ee,pe,le;await Promise.allSettled([(Ee=se.startCall)==null?void 0:Ee.promise,(pe=se.pullCall)==null?void 0:pe.promise,(le=se.cancelCall)==null?void 0:le.promise]),delete this.streamControllers[de]},_.MessageHandler=K},(T,_,U)=>{var j,q;Object.defineProperty(_,"__esModule",{value:!0}),_.Metadata=void 0;var H=U(1);class z{constructor({parsedData:Y,rawData:X}){kt(this,j);kt(this,q);Lt(this,j,Y),Lt(this,q,X)}getRaw(){return _e(this,q)}get(Y){return _e(this,j).get(Y)??null}getAll(){return(0,H.objectFromMap)(_e(this,j))}has(Y){return _e(this,j).has(Y)}}j=new WeakMap,q=new WeakMap,_.Metadata=z},(T,_,U)=>{var Y,X,Z,ne,ie,se,Ui;Object.defineProperty(_,"__esModule",{value:!0}),_.OptionalContentConfig=void 0;var H=U(1),z=U(8);const j=Symbol("INTERNAL");class q{constructor(pe,le){kt(this,Y,!0);this.name=pe,this.intent=le}get visible(){return _e(this,Y)}_setVisible(pe,le){pe!==j&&(0,H.unreachable)("Internal method `_setVisible` called."),Lt(this,Y,le)}}Y=new WeakMap;class K{constructor(pe){kt(this,se);kt(this,X,null);kt(this,Z,new Map);kt(this,ne,null);kt(this,ie,null);if(this.name=null,this.creator=null,pe!==null){this.name=pe.name,this.creator=pe.creator,Lt(this,ie,pe.order);for(const le of pe.groups)_e(this,Z).set(le.id,new q(le.name,le.intent));if(pe.baseState==="OFF")for(const le of _e(this,Z).values())le._setVisible(j,!1);for(const le of pe.on)_e(this,Z).get(le)._setVisible(j,!0);for(const le of pe.off)_e(this,Z).get(le)._setVisible(j,!1);Lt(this,ne,this.getHash())}}isVisible(pe){if(_e(this,Z).size===0)return!0;if(!pe)return(0,H.warn)("Optional content group not defined."),!0;if(pe.type==="OCG")return _e(this,Z).has(pe.id)?_e(this,Z).get(pe.id).visible:((0,H.warn)(`Optional content group not found: ${pe.id}`),!0);if(pe.type==="OCMD"){if(pe.expression)return pt(this,se,Ui).call(this,pe.expression);if(!pe.policy||pe.policy==="AnyOn"){for(const le of pe.ids){if(!_e(this,Z).has(le))return(0,H.warn)(`Optional content group not found: ${le}`),!0;if(_e(this,Z).get(le).visible)return!0}return!1}else if(pe.policy==="AllOn"){for(const le of pe.ids){if(!_e(this,Z).has(le))return(0,H.warn)(`Optional content group not found: ${le}`),!0;if(!_e(this,Z).get(le).visible)return!1}return!0}else if(pe.policy==="AnyOff"){for(const le of pe.ids){if(!_e(this,Z).has(le))return(0,H.warn)(`Optional content group not found: ${le}`),!0;if(!_e(this,Z).get(le).visible)return!0}return!1}else if(pe.policy==="AllOff"){for(const le of pe.ids){if(!_e(this,Z).has(le))return(0,H.warn)(`Optional content group not found: ${le}`),!0;if(_e(this,Z).get(le).visible)return!1}return!0}return(0,H.warn)(`Unknown optional content policy ${pe.policy}.`),!0}return(0,H.warn)(`Unknown group type ${pe.type}.`),!0}setVisibility(pe,le=!0){if(!_e(this,Z).has(pe)){(0,H.warn)(`Optional content group not found: ${pe}`);return}_e(this,Z).get(pe)._setVisible(j,!!le),Lt(this,X,null)}get hasInitialVisibility(){return _e(this,ne)===null||this.getHash()===_e(this,ne)}getOrder(){return _e(this,Z).size?_e(this,ie)?_e(this,ie).slice():[..._e(this,Z).keys()]:null}getGroups(){return _e(this,Z).size>0?(0,H.objectFromMap)(_e(this,Z)):null}getGroup(pe){return _e(this,Z).get(pe)||null}getHash(){if(_e(this,X)!==null)return _e(this,X);const pe=new z.MurmurHash3_64;for(const[le,ue]of _e(this,Z))pe.update(`${le}:${ue.visible}`);return Lt(this,X,pe.hexdigest())}}X=new WeakMap,Z=new WeakMap,ne=new WeakMap,ie=new WeakMap,se=new WeakSet,Ui=function(pe){const le=pe.length;if(le<2)return!0;const ue=pe[0];for(let fe=1;fe<le;fe++){const ve=pe[fe];let me;if(Array.isArray(ve))me=pt(this,se,Ui).call(this,ve);else if(_e(this,Z).has(ve))me=_e(this,Z).get(ve).visible;else return(0,H.warn)(`Optional content group not found: ${ve}`),!0;switch(ue){case"And":if(!me)return!1;break;case"Or":if(me)return!0;break;case"Not":return!me;default:return!0}}return ue==="And"},_.OptionalContentConfig=K},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFDataTransportStream=void 0;var H=U(1),z=U(6);class j{constructor({length:X,initialData:Z,progressiveDone:ne=!1,contentDispositionFilename:ie=null,disableRange:se=!1,disableStream:de=!1},Ee){if((0,H.assert)(Ee,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ne,this._contentDispositionFilename=ie,(Z==null?void 0:Z.length)>0){const pe=Z instanceof Uint8Array&&Z.byteLength===Z.buffer.byteLength?Z.buffer:new Uint8Array(Z).buffer;this._queuedChunks.push(pe)}this._pdfDataRangeTransport=Ee,this._isStreamingSupported=!de,this._isRangeSupported=!se,this._contentLength=X,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pe,le)=>{this._onReceiveData({begin:pe,chunk:le})}),this._pdfDataRangeTransport.addProgressListener((pe,le)=>{this._onProgress({loaded:pe,total:le})}),this._pdfDataRangeTransport.addProgressiveReadListener(pe=>{this._onReceiveData({chunk:pe})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:X,chunk:Z}){const ne=Z instanceof Uint8Array&&Z.byteLength===Z.buffer.byteLength?Z.buffer:new Uint8Array(Z).buffer;if(X===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ne):this._queuedChunks.push(ne);else{const ie=this._rangeReaders.some(function(se){return se._begin!==X?!1:(se._enqueue(ne),!0)});(0,H.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var X;return((X=this._fullRequestReader)==null?void 0:X._loaded)??0}_onProgress(X){var Z,ne,ie,se;X.total===void 0?(ne=(Z=this._rangeReaders[0])==null?void 0:Z.onProgress)==null||ne.call(Z,{loaded:X.loaded}):(se=(ie=this._fullRequestReader)==null?void 0:ie.onProgress)==null||se.call(ie,{loaded:X.loaded,total:X.total})}_onProgressiveDone(){var X;(X=this._fullRequestReader)==null||X.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(X){const Z=this._rangeReaders.indexOf(X);Z>=0&&this._rangeReaders.splice(Z,1)}getFullReader(){(0,H.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const X=this._queuedChunks;return this._queuedChunks=null,new q(this,X,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(X,Z){if(Z<=this._progressiveDataLength)return null;const ne=new K(this,X,Z);return this._pdfDataRangeTransport.requestDataRange(X,Z),this._rangeReaders.push(ne),ne}cancelAllRequests(X){var Z;(Z=this._fullRequestReader)==null||Z.cancel(X);for(const ne of this._rangeReaders.slice(0))ne.cancel(X);this._pdfDataRangeTransport.abort()}}_.PDFDataTransportStream=j;class q{constructor(X,Z,ne=!1,ie=null){this._stream=X,this._done=ne||!1,this._filename=(0,z.isPdfFile)(ie)?ie:null,this._queuedChunks=Z||[],this._loaded=0;for(const se of this._queuedChunks)this._loaded+=se.byteLength;this._requests=[],this._headersReady=Promise.resolve(),X._fullRequestReader=this,this.onProgress=null}_enqueue(X){this._done||(this._requests.length>0?this._requests.shift().resolve({value:X,done:!1}):this._queuedChunks.push(X),this._loaded+=X.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const X=new H.PromiseCapability;return this._requests.push(X),X.promise}cancel(X){this._done=!0;for(const Z of this._requests)Z.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class K{constructor(X,Z,ne){this._stream=X,this._begin=Z,this._end=ne,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(X){if(!this._done){if(this._requests.length===0)this._queuedChunk=X;else{this._requests.shift().resolve({value:X,done:!1});for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Z=this._queuedChunk;return this._queuedChunk=null,{value:Z,done:!1}}if(this._done)return{value:void 0,done:!0};const X=new H.PromiseCapability;return this._requests.push(X),X.promise}cancel(X){this._done=!0;for(const Z of this._requests)Z.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFetchStream=void 0;var H=U(1),z=U(20);function j(ne,ie,se){return{method:"GET",headers:ne,signal:se.signal,mode:"cors",credentials:ie?"include":"same-origin",redirect:"follow"}}function q(ne){const ie=new Headers;for(const se in ne){const de=ne[se];de!==void 0&&ie.append(se,de)}return ie}function K(ne){return ne instanceof Uint8Array?ne.buffer:ne instanceof ArrayBuffer?ne:((0,H.warn)(`getArrayBuffer - unexpected data format: ${ne}`),new Uint8Array(ne).buffer)}class Y{constructor(ie){this.source=ie,this.isHttp=/^https?:/i.test(ie.url),this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ie;return((ie=this._fullRequestReader)==null?void 0:ie._loaded)??0}getFullReader(){return(0,H.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new X(this),this._fullRequestReader}getRangeReader(ie,se){if(se<=this._progressiveDataLength)return null;const de=new Z(this,ie,se);return this._rangeRequestReaders.push(de),de}cancelAllRequests(ie){var se;(se=this._fullRequestReader)==null||se.cancel(ie);for(const de of this._rangeRequestReaders.slice(0))de.cancel(ie)}}_.PDFFetchStream=Y;class X{constructor(ie){this._stream=ie,this._reader=null,this._loaded=0,this._filename=null;const se=ie.source;this._withCredentials=se.withCredentials||!1,this._contentLength=se.length,this._headersCapability=new H.PromiseCapability,this._disableRange=se.disableRange||!1,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!se.disableStream,this._isRangeSupported=!se.disableRange,this._headers=q(this._stream.httpHeaders);const de=se.url;fetch(de,j(this._headers,this._withCredentials,this._abortController)).then(Ee=>{if(!(0,z.validateResponseStatus)(Ee.status))throw(0,z.createResponseStatusError)(Ee.status,de);this._reader=Ee.body.getReader(),this._headersCapability.resolve();const pe=fe=>Ee.headers.get(fe),{allowRangeRequests:le,suggestedLength:ue}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:pe,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=le,this._contentLength=ue||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(pe),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new H.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var de;await this._headersCapability.promise;const{value:ie,done:se}=await this._reader.read();return se?{value:ie,done:se}:(this._loaded+=ie.byteLength,(de=this.onProgress)==null||de.call(this,{loaded:this._loaded,total:this._contentLength}),{value:K(ie),done:!1})}cancel(ie){var se;(se=this._reader)==null||se.cancel(ie),this._abortController.abort()}}class Z{constructor(ie,se,de){this._stream=ie,this._reader=null,this._loaded=0;const Ee=ie.source;this._withCredentials=Ee.withCredentials||!1,this._readCapability=new H.PromiseCapability,this._isStreamingSupported=!Ee.disableStream,this._abortController=new AbortController,this._headers=q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${se}-${de-1}`);const pe=Ee.url;fetch(pe,j(this._headers,this._withCredentials,this._abortController)).then(le=>{if(!(0,z.validateResponseStatus)(le.status))throw(0,z.createResponseStatusError)(le.status,pe);this._readCapability.resolve(),this._reader=le.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var de;await this._readCapability.promise;const{value:ie,done:se}=await this._reader.read();return se?{value:ie,done:se}:(this._loaded+=ie.byteLength,(de=this.onProgress)==null||de.call(this,{loaded:this._loaded}),{value:K(ie),done:!1})}cancel(ie){var se;(se=this._reader)==null||se.cancel(ie),this._abortController.abort()}}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createResponseStatusError=Y,_.extractFilenameFromHeader=K,_.validateRangeRequestCapabilities=q,_.validateResponseStatus=X;var H=U(1),z=U(21),j=U(6);function q({getResponseHeader:Z,isHttp:ne,rangeChunkSize:ie,disableRange:se}){const de={allowRangeRequests:!1,suggestedLength:void 0},Ee=parseInt(Z("Content-Length"),10);return!Number.isInteger(Ee)||(de.suggestedLength=Ee,Ee<=2*ie)||se||!ne||Z("Accept-Ranges")!=="bytes"||(Z("Content-Encoding")||"identity")!=="identity"||(de.allowRangeRequests=!0),de}function K(Z){const ne=Z("Content-Disposition");if(ne){let ie=(0,z.getFilenameFromContentDispositionHeader)(ne);if(ie.includes("%"))try{ie=decodeURIComponent(ie)}catch{}if((0,j.isPdfFile)(ie))return ie}return null}function Y(Z,ne){return Z===404||Z===0&&ne.startsWith("file:")?new H.MissingPDFException('Missing PDF "'+ne+'".'):new H.UnexpectedResponseException(`Unexpected server response (${Z}) while retrieving PDF "${ne}".`,Z)}function X(Z){return Z===200||Z===206}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getFilenameFromContentDispositionHeader=z;var H=U(1);function z(j){let q=!0,K=Y("filename\\*","i").exec(j);if(K){K=K[1];let Ee=ie(K);return Ee=unescape(Ee),Ee=se(Ee),Ee=de(Ee),Z(Ee)}if(K=ne(j),K){const Ee=de(K);return Z(Ee)}if(K=Y("filename","i").exec(j),K){K=K[1];let Ee=ie(K);return Ee=de(Ee),Z(Ee)}function Y(Ee,pe){return new RegExp("(?:^|;)\\s*"+Ee+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pe)}function X(Ee,pe){if(Ee){if(!/^[\x00-\xFF]+$/.test(pe))return pe;try{const le=new TextDecoder(Ee,{fatal:!0}),ue=(0,H.stringToBytes)(pe);pe=le.decode(ue),q=!1}catch{}}return pe}function Z(Ee){return q&&/[\x80-\xff]/.test(Ee)&&(Ee=X("utf-8",Ee),q&&(Ee=X("iso-8859-1",Ee))),Ee}function ne(Ee){const pe=[];let le;const ue=Y("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(le=ue.exec(Ee))!==null;){let[,ve,me,Ae]=le;if(ve=parseInt(ve,10),ve in pe){if(ve===0)break;continue}pe[ve]=[me,Ae]}const fe=[];for(let ve=0;ve<pe.length&&ve in pe;++ve){let[me,Ae]=pe[ve];Ae=ie(Ae),me&&(Ae=unescape(Ae),ve===0&&(Ae=se(Ae))),fe.push(Ae)}return fe.join("")}function ie(Ee){if(Ee.startsWith('"')){const pe=Ee.slice(1).split('\\"');for(let le=0;le<pe.length;++le){const ue=pe[le].indexOf('"');ue!==-1&&(pe[le]=pe[le].slice(0,ue),pe.length=le+1),pe[le]=pe[le].replaceAll(/\\(.)/g,"$1")}Ee=pe.join('"')}return Ee}function se(Ee){const pe=Ee.indexOf("'");if(pe===-1)return Ee;const le=Ee.slice(0,pe),fe=Ee.slice(pe+1).replace(/^[^']*'/,"");return X(le,fe)}function de(Ee){return!Ee.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ee)?Ee:Ee.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pe,le,ue,fe){if(ue==="q"||ue==="Q")return fe=fe.replaceAll("_"," "),fe=fe.replaceAll(/=([0-9a-fA-F]{2})/g,function(ve,me){return String.fromCharCode(parseInt(me,16))}),X(le,fe);try{fe=atob(fe)}catch{}return X(le,fe)})}return""}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNetworkStream=void 0;var H=U(1),z=U(20);const j=200,q=206;function K(ie){const se=ie.response;return typeof se!="string"?se:(0,H.stringToBytes)(se).buffer}class Y{constructor(se,de={}){this.url=se,this.isHttp=/^https?:/i.test(se),this.httpHeaders=this.isHttp&&de.httpHeaders||Object.create(null),this.withCredentials=de.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(se,de,Ee){const pe={begin:se,end:de};for(const le in Ee)pe[le]=Ee[le];return this.request(pe)}requestFull(se){return this.request(se)}request(se){const de=new XMLHttpRequest,Ee=this.currXhrId++,pe=this.pendingRequests[Ee]={xhr:de};de.open("GET",this.url),de.withCredentials=this.withCredentials;for(const le in this.httpHeaders){const ue=this.httpHeaders[le];ue!==void 0&&de.setRequestHeader(le,ue)}return this.isHttp&&"begin"in se&&"end"in se?(de.setRequestHeader("Range",`bytes=${se.begin}-${se.end-1}`),pe.expectedStatus=q):pe.expectedStatus=j,de.responseType="arraybuffer",se.onError&&(de.onerror=function(le){se.onError(de.status)}),de.onreadystatechange=this.onStateChange.bind(this,Ee),de.onprogress=this.onProgress.bind(this,Ee),pe.onHeadersReceived=se.onHeadersReceived,pe.onDone=se.onDone,pe.onError=se.onError,pe.onProgress=se.onProgress,de.send(null),Ee}onProgress(se,de){var pe;const Ee=this.pendingRequests[se];Ee&&((pe=Ee.onProgress)==null||pe.call(Ee,de))}onStateChange(se,de){var ve,me,Ae;const Ee=this.pendingRequests[se];if(!Ee)return;const pe=Ee.xhr;if(pe.readyState>=2&&Ee.onHeadersReceived&&(Ee.onHeadersReceived(),delete Ee.onHeadersReceived),pe.readyState!==4||!(se in this.pendingRequests))return;if(delete this.pendingRequests[se],pe.status===0&&this.isHttp){(ve=Ee.onError)==null||ve.call(Ee,pe.status);return}const le=pe.status||j;if(!(le===j&&Ee.expectedStatus===q)&&le!==Ee.expectedStatus){(me=Ee.onError)==null||me.call(Ee,pe.status);return}const fe=K(pe);if(le===q){const ae=pe.getResponseHeader("Content-Range"),oe=/bytes (\d+)-(\d+)\/(\d+)/.exec(ae);Ee.onDone({begin:parseInt(oe[1],10),chunk:fe})}else fe?Ee.onDone({begin:0,chunk:fe}):(Ae=Ee.onError)==null||Ae.call(Ee,pe.status)}getRequestXhr(se){return this.pendingRequests[se].xhr}isPendingRequest(se){return se in this.pendingRequests}abortRequest(se){const de=this.pendingRequests[se].xhr;delete this.pendingRequests[se],de.abort()}}class X{constructor(se){this._source=se,this._manager=new Y(se.url,{httpHeaders:se.httpHeaders,withCredentials:se.withCredentials}),this._rangeChunkSize=se.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(se){const de=this._rangeRequestReaders.indexOf(se);de>=0&&this._rangeRequestReaders.splice(de,1)}getFullReader(){return(0,H.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Z(this._manager,this._source),this._fullRequestReader}getRangeReader(se,de){const Ee=new ne(this._manager,se,de);return Ee.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ee),Ee}cancelAllRequests(se){var de;(de=this._fullRequestReader)==null||de.cancel(se);for(const Ee of this._rangeRequestReaders.slice(0))Ee.cancel(se)}}_.PDFNetworkStream=X;class Z{constructor(se,de){this._manager=se;const Ee={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=de.url,this._fullRequestId=se.requestFull(Ee),this._headersReceivedCapability=new H.PromiseCapability,this._disableRange=de.disableRange||!1,this._contentLength=de.length,this._rangeChunkSize=de.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const se=this._fullRequestId,de=this._manager.getRequestXhr(se),Ee=ue=>de.getResponseHeader(ue),{allowRangeRequests:pe,suggestedLength:le}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:Ee,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pe&&(this._isRangeSupported=!0),this._contentLength=le||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(Ee),this._isRangeSupported&&this._manager.abortRequest(se),this._headersReceivedCapability.resolve()}_onDone(se){if(se&&(this._requests.length>0?this._requests.shift().resolve({value:se.chunk,done:!1}):this._cachedChunks.push(se.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const de of this._requests)de.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(se){this._storedError=(0,z.createResponseStatusError)(se,this._url),this._headersReceivedCapability.reject(this._storedError);for(const de of this._requests)de.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(se){var de;(de=this.onProgress)==null||de.call(this,{loaded:se.loaded,total:se.lengthComputable?se.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const se=new H.PromiseCapability;return this._requests.push(se),se.promise}cancel(se){this._done=!0,this._headersReceivedCapability.reject(se);for(const de of this._requests)de.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ne{constructor(se,de,Ee){this._manager=se;const pe={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=se.url,this._requestId=se.requestRange(de,Ee,pe),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var se;(se=this.onClosed)==null||se.call(this,this)}_onDone(se){const de=se.chunk;this._requests.length>0?this._requests.shift().resolve({value:de,done:!1}):this._queuedChunk=de,this._done=!0;for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(se){this._storedError=(0,z.createResponseStatusError)(se,this._url);for(const de of this._requests)de.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(se){var de;this.isStreamingSupported||(de=this.onProgress)==null||de.call(this,{loaded:se.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const de=this._queuedChunk;return this._queuedChunk=null,{value:de,done:!1}}if(this._done)return{value:void 0,done:!0};const se=new H.PromiseCapability;return this._requests.push(se),se.promise}cancel(se){this._done=!0;for(const de of this._requests)de.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNodeStream=void 0;var H=U(1),z=U(20);const j=/^file:\/\/\/[a-zA-Z]:\//;function q(Ee){const pe=require$$5,le=pe.parse(Ee);return le.protocol==="file:"||le.host?le:/^[a-z]:[/\\]/i.test(Ee)?pe.parse(`file:///${Ee}`):(le.host||(le.protocol="file:"),le)}class K{constructor(pe){this.source=pe,this.url=q(pe.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&pe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var pe;return((pe=this._fullRequestReader)==null?void 0:pe._loaded)??0}getFullReader(){return(0,H.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new se(this):new ne(this),this._fullRequestReader}getRangeReader(pe,le){if(le<=this._progressiveDataLength)return null;const ue=this.isFsUrl?new de(this,pe,le):new ie(this,pe,le);return this._rangeRequestReaders.push(ue),ue}cancelAllRequests(pe){var le;(le=this._fullRequestReader)==null||le.cancel(pe);for(const ue of this._rangeRequestReaders.slice(0))ue.cancel(pe)}}_.PDFNodeStream=K;class Y{constructor(pe){this._url=pe.url,this._done=!1,this._storedError=null,this.onProgress=null;const le=pe.source;this._contentLength=le.length,this._loaded=0,this._filename=null,this._disableRange=le.disableRange||!1,this._rangeChunkSize=le.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!le.disableStream,this._isRangeSupported=!le.disableRange,this._readableStream=null,this._readCapability=new H.PromiseCapability,this._headersCapability=new H.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ue;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pe=this._readableStream.read();return pe===null?(this._readCapability=new H.PromiseCapability,this.read()):(this._loaded+=pe.length,(ue=this.onProgress)==null||ue.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(pe).buffer,done:!1})}cancel(pe){if(!this._readableStream){this._error(pe);return}this._readableStream.destroy(pe)}_error(pe){this._storedError=pe,this._readCapability.resolve()}_setReadableStream(pe){this._readableStream=pe,pe.on("readable",()=>{this._readCapability.resolve()}),pe.on("end",()=>{pe.destroy(),this._done=!0,this._readCapability.resolve()}),pe.on("error",le=>{this._error(le)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new H.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class X{constructor(pe){this._url=pe.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new H.PromiseCapability;const le=pe.source;this._isStreamingSupported=!le.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ue;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pe=this._readableStream.read();return pe===null?(this._readCapability=new H.PromiseCapability,this.read()):(this._loaded+=pe.length,(ue=this.onProgress)==null||ue.call(this,{loaded:this._loaded}),{value:new Uint8Array(pe).buffer,done:!1})}cancel(pe){if(!this._readableStream){this._error(pe);return}this._readableStream.destroy(pe)}_error(pe){this._storedError=pe,this._readCapability.resolve()}_setReadableStream(pe){this._readableStream=pe,pe.on("readable",()=>{this._readCapability.resolve()}),pe.on("end",()=>{pe.destroy(),this._done=!0,this._readCapability.resolve()}),pe.on("error",le=>{this._error(le)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Z(Ee,pe){return{protocol:Ee.protocol,auth:Ee.auth,host:Ee.hostname,port:Ee.port,path:Ee.path,method:"GET",headers:pe}}class ne extends Y{constructor(pe){super(pe);const le=ue=>{if(ue.statusCode===404){const Ae=new H.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ae,this._headersCapability.reject(Ae);return}this._headersCapability.resolve(),this._setReadableStream(ue);const fe=Ae=>this._readableStream.headers[Ae.toLowerCase()],{allowRangeRequests:ve,suggestedLength:me}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:fe,isHttp:pe.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ve,this._contentLength=me||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(fe)};if(this._request=null,this._url.protocol==="http:"){const ue=require$$5;this._request=ue.request(Z(this._url,pe.httpHeaders),le)}else{const ue=require$$5;this._request=ue.request(Z(this._url,pe.httpHeaders),le)}this._request.on("error",ue=>{this._storedError=ue,this._headersCapability.reject(ue)}),this._request.end()}}class ie extends X{constructor(pe,le,ue){super(pe),this._httpHeaders={};for(const ve in pe.httpHeaders){const me=pe.httpHeaders[ve];me!==void 0&&(this._httpHeaders[ve]=me)}this._httpHeaders.Range=`bytes=${le}-${ue-1}`;const fe=ve=>{if(ve.statusCode===404){const me=new H.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=me;return}this._setReadableStream(ve)};if(this._request=null,this._url.protocol==="http:"){const ve=require$$5;this._request=ve.request(Z(this._url,this._httpHeaders),fe)}else{const ve=require$$5;this._request=ve.request(Z(this._url,this._httpHeaders),fe)}this._request.on("error",ve=>{this._storedError=ve}),this._request.end()}}class se extends Y{constructor(pe){super(pe);let le=decodeURIComponent(this._url.path);j.test(this._url.href)&&(le=le.replace(/^\//,""));const ue=require$$5;ue.lstat(le,(fe,ve)=>{if(fe){fe.code==="ENOENT"&&(fe=new H.MissingPDFException(`Missing PDF "${le}".`)),this._storedError=fe,this._headersCapability.reject(fe);return}this._contentLength=ve.size,this._setReadableStream(ue.createReadStream(le)),this._headersCapability.resolve()})}}class de extends X{constructor(pe,le,ue){super(pe);let fe=decodeURIComponent(this._url.path);j.test(this._url.href)&&(fe=fe.replace(/^\//,""));const ve=require$$5;this._setReadableStream(ve.createReadStream(fe,{start:le,end:ue-1}))}}},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SVGGraphics=void 0;var H=U(6),z=U(1);const j={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},q="http://www.w3.org/XML/1998/namespace",K="http://www.w3.org/1999/xlink",Y=["butt","round","square"],X=["miter","round","bevel"],Z=function(ve,me="",Ae=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ae)return URL.createObjectURL(new Blob([ve],{type:me}));const ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let oe=`data:${me};base64,`;for(let ce=0,Se=ve.length;ce<Se;ce+=3){const he=ve[ce]&255,xe=ve[ce+1]&255,ye=ve[ce+2]&255,Ge=he>>2,qe=(he&3)<<4|xe>>4,Fe=ce+1<Se?(xe&15)<<2|ye>>6:64,He=ce+2<Se?ye&63:64;oe+=ae[Ge]+ae[qe]+ae[Fe]+ae[He]}return oe},ne=function(){const ve=new Uint8Array([137,80,78,71,13,10,26,10]),me=12,Ae=new Int32Array(256);for(let ye=0;ye<256;ye++){let Ge=ye;for(let qe=0;qe<8;qe++)Ge=Ge&1?3988292384^Ge>>1&2147483647:Ge>>1&2147483647;Ae[ye]=Ge}function ae(ye,Ge,qe){let Fe=-1;for(let He=Ge;He<qe;He++){const Ye=(Fe^ye[He])&255,ke=Ae[Ye];Fe=Fe>>>8^ke}return Fe^-1}function oe(ye,Ge,qe,Fe){let He=Fe;const Ye=Ge.length;qe[He]=Ye>>24&255,qe[He+1]=Ye>>16&255,qe[He+2]=Ye>>8&255,qe[He+3]=Ye&255,He+=4,qe[He]=ye.charCodeAt(0)&255,qe[He+1]=ye.charCodeAt(1)&255,qe[He+2]=ye.charCodeAt(2)&255,qe[He+3]=ye.charCodeAt(3)&255,He+=4,qe.set(Ge,He),He+=Ge.length;const ke=ae(qe,Fe+4,He);qe[He]=ke>>24&255,qe[He+1]=ke>>16&255,qe[He+2]=ke>>8&255,qe[He+3]=ke&255}function ce(ye,Ge,qe){let Fe=1,He=0;for(let Ye=Ge;Ye<qe;++Ye)Fe=(Fe+(ye[Ye]&255))%65521,He=(He+Fe)%65521;return He<<16|Fe}function Se(ye){if(!z.isNodeJS)return he(ye);try{const Ge=parseInt(process.versions.node)>=8?ye:Buffer.from(ye),qe=require$$5.deflateSync(Ge,{level:9});return qe instanceof Uint8Array?qe:new Uint8Array(qe)}catch(Ge){(0,z.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ge)}return he(ye)}function he(ye){let Ge=ye.length;const qe=65535,Fe=Math.ceil(Ge/qe),He=new Uint8Array(2+Ge+Fe*5+4);let Ye=0;He[Ye++]=120,He[Ye++]=156;let ke=0;for(;Ge>qe;)He[Ye++]=0,He[Ye++]=255,He[Ye++]=255,He[Ye++]=0,He[Ye++]=0,He.set(ye.subarray(ke,ke+qe),Ye),Ye+=qe,ke+=qe,Ge-=qe;He[Ye++]=1,He[Ye++]=Ge&255,He[Ye++]=Ge>>8&255,He[Ye++]=~Ge&65535&255,He[Ye++]=(~Ge&65535)>>8&255,He.set(ye.subarray(ke),Ye),Ye+=ye.length-ke;const Ke=ce(ye,0,ye.length);return He[Ye++]=Ke>>24&255,He[Ye++]=Ke>>16&255,He[Ye++]=Ke>>8&255,He[Ye++]=Ke&255,He}function xe(ye,Ge,qe,Fe){const He=ye.width,Ye=ye.height;let ke,Ke,gt;const De=ye.data;switch(Ge){case z.ImageKind.GRAYSCALE_1BPP:Ke=0,ke=1,gt=He+7>>3;break;case z.ImageKind.RGB_24BPP:Ke=2,ke=8,gt=He*3;break;case z.ImageKind.RGBA_32BPP:Ke=6,ke=8,gt=He*4;break;default:throw new Error("invalid format")}const Ie=new Uint8Array((1+gt)*Ye);let Pe=0,we=0;for(let Bt=0;Bt<Ye;++Bt)Ie[Pe++]=0,Ie.set(De.subarray(we,we+gt),Pe),we+=gt,Pe+=gt;if(Ge===z.ImageKind.GRAYSCALE_1BPP&&Fe){Pe=0;for(let Bt=0;Bt<Ye;Bt++){Pe++;for(let nn=0;nn<gt;nn++)Ie[Pe++]^=255}}const Ve=new Uint8Array([He>>24&255,He>>16&255,He>>8&255,He&255,Ye>>24&255,Ye>>16&255,Ye>>8&255,Ye&255,ke,Ke,0,0,0]),Me=Se(Ie),Le=ve.length+me*3+Ve.length+Me.length,Qe=new Uint8Array(Le);let ut=0;return Qe.set(ve,ut),ut+=ve.length,oe("IHDR",Ve,Qe,ut),ut+=me+Ve.length,oe("IDATA",Me,Qe,ut),ut+=me+Me.length,oe("IEND",new Uint8Array(0),Qe,ut),Z(Qe,"image/png",qe)}return function(Ge,qe,Fe){const He=Ge.kind===void 0?z.ImageKind.GRAYSCALE_1BPP:Ge.kind;return xe(Ge,He,qe,Fe)}}();class ie{constructor(){this.fontSizeScale=1,this.fontWeight=j.fontWeight,this.fontSize=0,this.textMatrix=z.IDENTITY_MATRIX,this.fontMatrix=z.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=z.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(me,Ae){this.x=me,this.y=Ae}}function se(ve){let me=[];const Ae=[];for(const ae of ve){if(ae.fn==="save"){me.push({fnId:92,fn:"group",items:[]}),Ae.push(me),me=me.at(-1).items;continue}ae.fn==="restore"?me=Ae.pop():me.push(ae)}return me}function de(ve){if(Number.isInteger(ve))return ve.toString();const me=ve.toFixed(10);let Ae=me.length-1;if(me[Ae]!=="0")return me;do Ae--;while(me[Ae]==="0");return me.substring(0,me[Ae]==="."?Ae:Ae+1)}function Ee(ve){if(ve[4]===0&&ve[5]===0){if(ve[1]===0&&ve[2]===0)return ve[0]===1&&ve[3]===1?"":`scale(${de(ve[0])} ${de(ve[3])})`;if(ve[0]===ve[3]&&ve[1]===-ve[2]){const me=Math.acos(ve[0])*180/Math.PI;return`rotate(${de(me)})`}}else if(ve[0]===1&&ve[1]===0&&ve[2]===0&&ve[3]===1)return`translate(${de(ve[4])} ${de(ve[5])})`;return`matrix(${de(ve[0])} ${de(ve[1])} ${de(ve[2])} ${de(ve[3])} ${de(ve[4])} ${de(ve[5])})`}let pe=0,le=0,ue=0;class fe{constructor(me,Ae,ae=!1){(0,H.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new H.DOMSVGFactory,this.current=new ie,this.transformMatrix=z.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=me,this.objs=Ae,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ae,this._operatorIdMapping=[];for(const oe in z.OPS)this._operatorIdMapping[z.OPS[oe]]=oe}getObject(me,Ae=null){return typeof me=="string"?me.startsWith("g_")?this.commonObjs.get(me):this.objs.get(me):Ae}save(){this.transformStack.push(this.transformMatrix);const me=this.current;this.extraStack.push(me),this.current=me.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(me){this.save(),this.executeOpTree(me),this.restore()}loadDependencies(me){const Ae=me.fnArray,ae=me.argsArray;for(let oe=0,ce=Ae.length;oe<ce;oe++)if(Ae[oe]===z.OPS.dependency)for(const Se of ae[oe]){const he=Se.startsWith("g_")?this.commonObjs:this.objs,xe=new Promise(ye=>{he.get(Se,ye)});this.current.dependencies.push(xe)}return Promise.all(this.current.dependencies)}transform(me,Ae,ae,oe,ce,Se){const he=[me,Ae,ae,oe,ce,Se];this.transformMatrix=z.Util.transform(this.transformMatrix,he),this.tgrp=null}getSVG(me,Ae){this.viewport=Ae;const ae=this._initialize(Ae);return this.loadDependencies(me).then(()=>(this.transformMatrix=z.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(me)),ae))}convertOpList(me){const Ae=this._operatorIdMapping,ae=me.argsArray,oe=me.fnArray,ce=[];for(let Se=0,he=oe.length;Se<he;Se++){const xe=oe[Se];ce.push({fnId:xe,fn:Ae[xe],args:ae[Se]})}return se(ce)}executeOpTree(me){for(const Ae of me){const ae=Ae.fn,oe=Ae.fnId,ce=Ae.args;switch(oe|0){case z.OPS.beginText:this.beginText();break;case z.OPS.dependency:break;case z.OPS.setLeading:this.setLeading(ce);break;case z.OPS.setLeadingMoveText:this.setLeadingMoveText(ce[0],ce[1]);break;case z.OPS.setFont:this.setFont(ce);break;case z.OPS.showText:this.showText(ce[0]);break;case z.OPS.showSpacedText:this.showText(ce[0]);break;case z.OPS.endText:this.endText();break;case z.OPS.moveText:this.moveText(ce[0],ce[1]);break;case z.OPS.setCharSpacing:this.setCharSpacing(ce[0]);break;case z.OPS.setWordSpacing:this.setWordSpacing(ce[0]);break;case z.OPS.setHScale:this.setHScale(ce[0]);break;case z.OPS.setTextMatrix:this.setTextMatrix(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]);break;case z.OPS.setTextRise:this.setTextRise(ce[0]);break;case z.OPS.setTextRenderingMode:this.setTextRenderingMode(ce[0]);break;case z.OPS.setLineWidth:this.setLineWidth(ce[0]);break;case z.OPS.setLineJoin:this.setLineJoin(ce[0]);break;case z.OPS.setLineCap:this.setLineCap(ce[0]);break;case z.OPS.setMiterLimit:this.setMiterLimit(ce[0]);break;case z.OPS.setFillRGBColor:this.setFillRGBColor(ce[0],ce[1],ce[2]);break;case z.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ce[0],ce[1],ce[2]);break;case z.OPS.setStrokeColorN:this.setStrokeColorN(ce);break;case z.OPS.setFillColorN:this.setFillColorN(ce);break;case z.OPS.shadingFill:this.shadingFill(ce[0]);break;case z.OPS.setDash:this.setDash(ce[0],ce[1]);break;case z.OPS.setRenderingIntent:this.setRenderingIntent(ce[0]);break;case z.OPS.setFlatness:this.setFlatness(ce[0]);break;case z.OPS.setGState:this.setGState(ce[0]);break;case z.OPS.fill:this.fill();break;case z.OPS.eoFill:this.eoFill();break;case z.OPS.stroke:this.stroke();break;case z.OPS.fillStroke:this.fillStroke();break;case z.OPS.eoFillStroke:this.eoFillStroke();break;case z.OPS.clip:this.clip("nonzero");break;case z.OPS.eoClip:this.clip("evenodd");break;case z.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case z.OPS.paintImageXObject:this.paintImageXObject(ce[0]);break;case z.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ce[0]);break;case z.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ce[0]);break;case z.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ce[0],ce[1]);break;case z.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case z.OPS.closePath:this.closePath();break;case z.OPS.closeStroke:this.closeStroke();break;case z.OPS.closeFillStroke:this.closeFillStroke();break;case z.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case z.OPS.nextLine:this.nextLine();break;case z.OPS.transform:this.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]);break;case z.OPS.constructPath:this.constructPath(ce[0],ce[1]);break;case z.OPS.endPath:this.endPath();break;case 92:this.group(Ae.items);break;default:(0,z.warn)(`Unimplemented operator ${ae}`);break}}}setWordSpacing(me){this.current.wordSpacing=me}setCharSpacing(me){this.current.charSpacing=me}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(me,Ae,ae,oe,ce,Se){const he=this.current;he.textMatrix=he.lineMatrix=[me,Ae,ae,oe,ce,Se],he.textMatrixScale=Math.hypot(me,Ae),he.x=he.lineX=0,he.y=he.lineY=0,he.xcoords=[],he.ycoords=[],he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${de(he.fontSize)}px`),he.tspan.setAttributeNS(null,"y",de(-he.y)),he.txtElement=this.svgFactory.createElement("svg:text"),he.txtElement.append(he.tspan)}beginText(){const me=this.current;me.x=me.lineX=0,me.y=me.lineY=0,me.textMatrix=z.IDENTITY_MATRIX,me.lineMatrix=z.IDENTITY_MATRIX,me.textMatrixScale=1,me.tspan=this.svgFactory.createElement("svg:tspan"),me.txtElement=this.svgFactory.createElement("svg:text"),me.txtgrp=this.svgFactory.createElement("svg:g"),me.xcoords=[],me.ycoords=[]}moveText(me,Ae){const ae=this.current;ae.x=ae.lineX+=me,ae.y=ae.lineY+=Ae,ae.xcoords=[],ae.ycoords=[],ae.tspan=this.svgFactory.createElement("svg:tspan"),ae.tspan.setAttributeNS(null,"font-family",ae.fontFamily),ae.tspan.setAttributeNS(null,"font-size",`${de(ae.fontSize)}px`),ae.tspan.setAttributeNS(null,"y",de(-ae.y))}showText(me){const Ae=this.current,ae=Ae.font,oe=Ae.fontSize;if(oe===0)return;const ce=Ae.fontSizeScale,Se=Ae.charSpacing,he=Ae.wordSpacing,xe=Ae.fontDirection,ye=Ae.textHScale*xe,Ge=ae.vertical,qe=Ge?1:-1,Fe=ae.defaultVMetrics,He=oe*Ae.fontMatrix[0];let Ye=0;for(const gt of me){if(gt===null){Ye+=xe*he;continue}else if(typeof gt=="number"){Ye+=qe*gt*oe/1e3;continue}const De=(gt.isSpace?he:0)+Se,Ie=gt.fontChar;let Pe,we,Ve=gt.width;if(Ge){let Le;const Qe=gt.vmetric||Fe;Le=gt.vmetric?Qe[1]:Ve*.5,Le=-Le*He;const ut=Qe[2]*He;Ve=Qe?-Qe[0]:Ve,Pe=Le/ce,we=(Ye+ut)/ce}else Pe=Ye/ce,we=0;(gt.isInFont||ae.missingFile)&&(Ae.xcoords.push(Ae.x+Pe),Ge&&Ae.ycoords.push(-Ae.y+we),Ae.tspan.textContent+=Ie);const Me=Ge?Ve*He-De*xe:Ve*He+De*xe;Ye+=Me}Ae.tspan.setAttributeNS(null,"x",Ae.xcoords.map(de).join(" ")),Ge?Ae.tspan.setAttributeNS(null,"y",Ae.ycoords.map(de).join(" ")):Ae.tspan.setAttributeNS(null,"y",de(-Ae.y)),Ge?Ae.y-=Ye:Ae.x+=Ye*ye,Ae.tspan.setAttributeNS(null,"font-family",Ae.fontFamily),Ae.tspan.setAttributeNS(null,"font-size",`${de(Ae.fontSize)}px`),Ae.fontStyle!==j.fontStyle&&Ae.tspan.setAttributeNS(null,"font-style",Ae.fontStyle),Ae.fontWeight!==j.fontWeight&&Ae.tspan.setAttributeNS(null,"font-weight",Ae.fontWeight);const ke=Ae.textRenderingMode&z.TextRenderingMode.FILL_STROKE_MASK;if(ke===z.TextRenderingMode.FILL||ke===z.TextRenderingMode.FILL_STROKE?(Ae.fillColor!==j.fillColor&&Ae.tspan.setAttributeNS(null,"fill",Ae.fillColor),Ae.fillAlpha<1&&Ae.tspan.setAttributeNS(null,"fill-opacity",Ae.fillAlpha)):Ae.textRenderingMode===z.TextRenderingMode.ADD_TO_PATH?Ae.tspan.setAttributeNS(null,"fill","transparent"):Ae.tspan.setAttributeNS(null,"fill","none"),ke===z.TextRenderingMode.STROKE||ke===z.TextRenderingMode.FILL_STROKE){const gt=1/(Ae.textMatrixScale||1);this._setStrokeAttributes(Ae.tspan,gt)}let Ke=Ae.textMatrix;Ae.textRise!==0&&(Ke=Ke.slice(),Ke[5]+=Ae.textRise),Ae.txtElement.setAttributeNS(null,"transform",`${Ee(Ke)} scale(${de(ye)}, -1)`),Ae.txtElement.setAttributeNS(q,"xml:space","preserve"),Ae.txtElement.append(Ae.tspan),Ae.txtgrp.append(Ae.txtElement),this._ensureTransformGroup().append(Ae.txtElement)}setLeadingMoveText(me,Ae){this.setLeading(-Ae),this.moveText(me,Ae)}addFontStyle(me){if(!me.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ae=Z(me.data,me.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${me.loadedName}"; src: url(${Ae}); }
`}setFont(me){const Ae=this.current,ae=this.commonObjs.get(me[0]);let oe=me[1];Ae.font=ae,this.embedFonts&&!ae.missingFile&&!this.embeddedFonts[ae.loadedName]&&(this.addFontStyle(ae),this.embeddedFonts[ae.loadedName]=ae),Ae.fontMatrix=ae.fontMatrix||z.FONT_IDENTITY_MATRIX;let ce="normal";ae.black?ce="900":ae.bold&&(ce="bold");const Se=ae.italic?"italic":"normal";oe<0?(oe=-oe,Ae.fontDirection=-1):Ae.fontDirection=1,Ae.fontSize=oe,Ae.fontFamily=ae.loadedName,Ae.fontWeight=ce,Ae.fontStyle=Se,Ae.tspan=this.svgFactory.createElement("svg:tspan"),Ae.tspan.setAttributeNS(null,"y",de(-Ae.y)),Ae.xcoords=[],Ae.ycoords=[]}endText(){var Ae;const me=this.current;me.textRenderingMode&z.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ae=me.txtElement)!=null&&Ae.hasChildNodes())&&(me.element=me.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(me){me>0&&(this.current.lineWidth=me)}setLineCap(me){this.current.lineCap=Y[me]}setLineJoin(me){this.current.lineJoin=X[me]}setMiterLimit(me){this.current.miterLimit=me}setStrokeAlpha(me){this.current.strokeAlpha=me}setStrokeRGBColor(me,Ae,ae){this.current.strokeColor=z.Util.makeHexColor(me,Ae,ae)}setFillAlpha(me){this.current.fillAlpha=me}setFillRGBColor(me,Ae,ae){this.current.fillColor=z.Util.makeHexColor(me,Ae,ae),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(me){this.current.strokeColor=this._makeColorN_Pattern(me)}setFillColorN(me){this.current.fillColor=this._makeColorN_Pattern(me)}shadingFill(me){const{width:Ae,height:ae}=this.viewport,oe=z.Util.inverseTransform(this.transformMatrix),[ce,Se,he,xe]=z.Util.getAxialAlignedBoundingBox([0,0,Ae,ae],oe),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x",ce),ye.setAttributeNS(null,"y",Se),ye.setAttributeNS(null,"width",he-ce),ye.setAttributeNS(null,"height",xe-Se),ye.setAttributeNS(null,"fill",this._makeShadingPattern(me)),this.current.fillAlpha<1&&ye.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ye)}_makeColorN_Pattern(me){return me[0]==="TilingPattern"?this._makeTilingPattern(me):this._makeShadingPattern(me)}_makeTilingPattern(me){const Ae=me[1],ae=me[2],oe=me[3]||z.IDENTITY_MATRIX,[ce,Se,he,xe]=me[4],ye=me[5],Ge=me[6],qe=me[7],Fe=`shading${ue++}`,[He,Ye,ke,Ke]=z.Util.normalizeRect([...z.Util.applyTransform([ce,Se],oe),...z.Util.applyTransform([he,xe],oe)]),[gt,De]=z.Util.singularValueDecompose2dScale(oe),Ie=ye*gt,Pe=Ge*De,we=this.svgFactory.createElement("svg:pattern");we.setAttributeNS(null,"id",Fe),we.setAttributeNS(null,"patternUnits","userSpaceOnUse"),we.setAttributeNS(null,"width",Ie),we.setAttributeNS(null,"height",Pe),we.setAttributeNS(null,"x",`${He}`),we.setAttributeNS(null,"y",`${Ye}`);const Ve=this.svg,Me=this.transformMatrix,Le=this.current.fillColor,Qe=this.current.strokeColor,ut=this.svgFactory.create(ke-He,Ke-Ye);if(this.svg=ut,this.transformMatrix=oe,qe===2){const Bt=z.Util.makeHexColor(...Ae);this.current.fillColor=Bt,this.current.strokeColor=Bt}return this.executeOpTree(this.convertOpList(ae)),this.svg=Ve,this.transformMatrix=Me,this.current.fillColor=Le,this.current.strokeColor=Qe,we.append(ut.childNodes[0]),this.defs.append(we),`url(#${Fe})`}_makeShadingPattern(me){switch(typeof me=="string"&&(me=this.objs.get(me)),me[0]){case"RadialAxial":const Ae=`shading${ue++}`,ae=me[3];let oe;switch(me[1]){case"axial":const ce=me[4],Se=me[5];oe=this.svgFactory.createElement("svg:linearGradient"),oe.setAttributeNS(null,"id",Ae),oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),oe.setAttributeNS(null,"x1",ce[0]),oe.setAttributeNS(null,"y1",ce[1]),oe.setAttributeNS(null,"x2",Se[0]),oe.setAttributeNS(null,"y2",Se[1]);break;case"radial":const he=me[4],xe=me[5],ye=me[6],Ge=me[7];oe=this.svgFactory.createElement("svg:radialGradient"),oe.setAttributeNS(null,"id",Ae),oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),oe.setAttributeNS(null,"cx",xe[0]),oe.setAttributeNS(null,"cy",xe[1]),oe.setAttributeNS(null,"r",Ge),oe.setAttributeNS(null,"fx",he[0]),oe.setAttributeNS(null,"fy",he[1]),oe.setAttributeNS(null,"fr",ye);break;default:throw new Error(`Unknown RadialAxial type: ${me[1]}`)}for(const ce of ae){const Se=this.svgFactory.createElement("svg:stop");Se.setAttributeNS(null,"offset",ce[0]),Se.setAttributeNS(null,"stop-color",ce[1]),oe.append(Se)}return this.defs.append(oe),`url(#${Ae})`;case"Mesh":return(0,z.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${me[0]}`)}}setDash(me,Ae){this.current.dashArray=me,this.current.dashPhase=Ae}constructPath(me,Ae){const ae=this.current;let oe=ae.x,ce=ae.y,Se=[],he=0;for(const xe of me)switch(xe|0){case z.OPS.rectangle:oe=Ae[he++],ce=Ae[he++];const ye=Ae[he++],Ge=Ae[he++],qe=oe+ye,Fe=ce+Ge;Se.push("M",de(oe),de(ce),"L",de(qe),de(ce),"L",de(qe),de(Fe),"L",de(oe),de(Fe),"Z");break;case z.OPS.moveTo:oe=Ae[he++],ce=Ae[he++],Se.push("M",de(oe),de(ce));break;case z.OPS.lineTo:oe=Ae[he++],ce=Ae[he++],Se.push("L",de(oe),de(ce));break;case z.OPS.curveTo:oe=Ae[he+4],ce=Ae[he+5],Se.push("C",de(Ae[he]),de(Ae[he+1]),de(Ae[he+2]),de(Ae[he+3]),de(oe),de(ce)),he+=6;break;case z.OPS.curveTo2:Se.push("C",de(oe),de(ce),de(Ae[he]),de(Ae[he+1]),de(Ae[he+2]),de(Ae[he+3])),oe=Ae[he+2],ce=Ae[he+3],he+=4;break;case z.OPS.curveTo3:oe=Ae[he+2],ce=Ae[he+3],Se.push("C",de(Ae[he]),de(Ae[he+1]),de(oe),de(ce),de(oe),de(ce)),he+=4;break;case z.OPS.closePath:Se.push("Z");break}Se=Se.join(" "),ae.path&&me.length>0&&me[0]!==z.OPS.rectangle&&me[0]!==z.OPS.moveTo?Se=ae.path.getAttributeNS(null,"d")+Se:(ae.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ae.path)),ae.path.setAttributeNS(null,"d",Se),ae.path.setAttributeNS(null,"fill","none"),ae.element=ae.path,ae.setCurrentPoint(oe,ce)}endPath(){const me=this.current;if(me.path=null,!this.pendingClip)return;if(!me.element){this.pendingClip=null;return}const Ae=`clippath${pe++}`,ae=this.svgFactory.createElement("svg:clipPath");ae.setAttributeNS(null,"id",Ae),ae.setAttributeNS(null,"transform",Ee(this.transformMatrix));const oe=me.element.cloneNode(!0);if(this.pendingClip==="evenodd"?oe.setAttributeNS(null,"clip-rule","evenodd"):oe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ae.append(oe),this.defs.append(ae),me.activeClipUrl){me.clipGroup=null;for(const ce of this.extraStack)ce.clipGroup=null;ae.setAttributeNS(null,"clip-path",me.activeClipUrl)}me.activeClipUrl=`url(#${Ae})`,this.tgrp=null}clip(me){this.pendingClip=me}closePath(){const me=this.current;if(me.path){const Ae=`${me.path.getAttributeNS(null,"d")}Z`;me.path.setAttributeNS(null,"d",Ae)}}setLeading(me){this.current.leading=-me}setTextRise(me){this.current.textRise=me}setTextRenderingMode(me){this.current.textRenderingMode=me}setHScale(me){this.current.textHScale=me/100}setRenderingIntent(me){}setFlatness(me){}setGState(me){for(const[Ae,ae]of me)switch(Ae){case"LW":this.setLineWidth(ae);break;case"LC":this.setLineCap(ae);break;case"LJ":this.setLineJoin(ae);break;case"ML":this.setMiterLimit(ae);break;case"D":this.setDash(ae[0],ae[1]);break;case"RI":this.setRenderingIntent(ae);break;case"FL":this.setFlatness(ae);break;case"Font":this.setFont(ae);break;case"CA":this.setStrokeAlpha(ae);break;case"ca":this.setFillAlpha(ae);break;default:(0,z.warn)(`Unimplemented graphic state operator ${Ae}`);break}}fill(){const me=this.current;me.element&&(me.element.setAttributeNS(null,"fill",me.fillColor),me.element.setAttributeNS(null,"fill-opacity",me.fillAlpha),this.endPath())}stroke(){const me=this.current;me.element&&(this._setStrokeAttributes(me.element),me.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(me,Ae=1){const ae=this.current;let oe=ae.dashArray;Ae!==1&&oe.length>0&&(oe=oe.map(function(ce){return Ae*ce})),me.setAttributeNS(null,"stroke",ae.strokeColor),me.setAttributeNS(null,"stroke-opacity",ae.strokeAlpha),me.setAttributeNS(null,"stroke-miterlimit",de(ae.miterLimit)),me.setAttributeNS(null,"stroke-linecap",ae.lineCap),me.setAttributeNS(null,"stroke-linejoin",ae.lineJoin),me.setAttributeNS(null,"stroke-width",de(Ae*ae.lineWidth)+"px"),me.setAttributeNS(null,"stroke-dasharray",oe.map(de).join(" ")),me.setAttributeNS(null,"stroke-dashoffset",de(Ae*ae.dashPhase)+"px")}eoFill(){var me;(me=this.current.element)==null||me.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var me;(me=this.current.element)==null||me.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const me=this.svgFactory.createElement("svg:rect");me.setAttributeNS(null,"x","0"),me.setAttributeNS(null,"y","0"),me.setAttributeNS(null,"width","1px"),me.setAttributeNS(null,"height","1px"),me.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(me)}paintImageXObject(me){const Ae=this.getObject(me);if(!Ae){(0,z.warn)(`Dependent image with object ID ${me} is not ready yet`);return}this.paintInlineImageXObject(Ae)}paintInlineImageXObject(me,Ae){const ae=me.width,oe=me.height,ce=ne(me,this.forceDataSchema,!!Ae),Se=this.svgFactory.createElement("svg:rect");Se.setAttributeNS(null,"x","0"),Se.setAttributeNS(null,"y","0"),Se.setAttributeNS(null,"width",de(ae)),Se.setAttributeNS(null,"height",de(oe)),this.current.element=Se,this.clip("nonzero");const he=this.svgFactory.createElement("svg:image");he.setAttributeNS(K,"xlink:href",ce),he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y",de(-oe)),he.setAttributeNS(null,"width",de(ae)+"px"),he.setAttributeNS(null,"height",de(oe)+"px"),he.setAttributeNS(null,"transform",`scale(${de(1/ae)} ${de(-1/oe)})`),Ae?Ae.append(he):this._ensureTransformGroup().append(he)}paintImageMaskXObject(me){const Ae=this.getObject(me.data,me);if(Ae.bitmap){(0,z.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ae=this.current,oe=Ae.width,ce=Ae.height,Se=ae.fillColor;ae.maskId=`mask${le++}`;const he=this.svgFactory.createElement("svg:mask");he.setAttributeNS(null,"id",ae.maskId);const xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y","0"),xe.setAttributeNS(null,"width",de(oe)),xe.setAttributeNS(null,"height",de(ce)),xe.setAttributeNS(null,"fill",Se),xe.setAttributeNS(null,"mask",`url(#${ae.maskId})`),this.defs.append(he),this._ensureTransformGroup().append(xe),this.paintInlineImageXObject(Ae,he)}paintFormXObjectBegin(me,Ae){if(Array.isArray(me)&&me.length===6&&this.transform(me[0],me[1],me[2],me[3],me[4],me[5]),Ae){const ae=Ae[2]-Ae[0],oe=Ae[3]-Ae[1],ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x",Ae[0]),ce.setAttributeNS(null,"y",Ae[1]),ce.setAttributeNS(null,"width",de(ae)),ce.setAttributeNS(null,"height",de(oe)),this.current.element=ce,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(me){const Ae=this.svgFactory.create(me.width,me.height),ae=this.svgFactory.createElement("svg:defs");Ae.append(ae),this.defs=ae;const oe=this.svgFactory.createElement("svg:g");return oe.setAttributeNS(null,"transform",Ee(me.transform)),Ae.append(oe),this.svg=oe,Ae}_ensureClipGroup(){if(!this.current.clipGroup){const me=this.svgFactory.createElement("svg:g");me.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(me),this.current.clipGroup=me}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ee(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_.SVGGraphics=fe},(T,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaText=void 0;class U{static textContent(z){const j=[],q={items:j,styles:Object.create(null)};function K(Y){var ne;if(!Y)return;let X=null;const Z=Y.name;if(Z==="#text")X=Y.value;else if(U.shouldBuildText(Z))(ne=Y==null?void 0:Y.attributes)!=null&&ne.textContent?X=Y.attributes.textContent:Y.value&&(X=Y.value);else return;if(X!==null&&j.push({str:X}),!!Y.children)for(const ie of Y.children)K(ie)}return K(z),q}static shouldBuildText(z){return!(z==="textarea"||z==="input"||z==="option"||z==="select")}}_.XfaText=U},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerRenderTask=void 0,_.renderTextLayer=Ee,_.updateTextLayer=pe;var H=U(1),z=U(6);const j=1e5,q=30,K=.8,Y=new Map;function X(le,ue){let fe;if(ue&&H.FeatureTest.isOffscreenCanvasSupported)fe=new OffscreenCanvas(le,le).getContext("2d",{alpha:!1});else{const ve=document.createElement("canvas");ve.width=ve.height=le,fe=ve.getContext("2d",{alpha:!1})}return fe}function Z(le,ue){const fe=Y.get(le);if(fe)return fe;const ve=X(q,ue);ve.font=`${q}px ${le}`;const me=ve.measureText("");let Ae=me.fontBoundingBoxAscent,ae=Math.abs(me.fontBoundingBoxDescent);if(Ae){const ce=Ae/(Ae+ae);return Y.set(le,ce),ve.canvas.width=ve.canvas.height=0,ce}ve.strokeStyle="red",ve.clearRect(0,0,q,q),ve.strokeText("g",0,0);let oe=ve.getImageData(0,0,q,q).data;ae=0;for(let ce=oe.length-1-3;ce>=0;ce-=4)if(oe[ce]>0){ae=Math.ceil(ce/4/q);break}ve.clearRect(0,0,q,q),ve.strokeText("A",0,q),oe=ve.getImageData(0,0,q,q).data,Ae=0;for(let ce=0,Se=oe.length;ce<Se;ce+=4)if(oe[ce]>0){Ae=q-Math.floor(ce/4/q);break}if(ve.canvas.width=ve.canvas.height=0,Ae){const ce=Ae/(Ae+ae);return Y.set(le,ce),ce}return Y.set(le,K),K}function ne(le,ue,fe){const ve=document.createElement("span"),me={angle:0,canvasWidth:0,hasText:ue.str!=="",hasEOL:ue.hasEOL,fontSize:0};le._textDivs.push(ve);const Ae=H.Util.transform(le._transform,ue.transform);let ae=Math.atan2(Ae[1],Ae[0]);const oe=fe[ue.fontName];oe.vertical&&(ae+=Math.PI/2);const ce=Math.hypot(Ae[2],Ae[3]),Se=ce*Z(oe.fontFamily,le._isOffscreenCanvasSupported);let he,xe;ae===0?(he=Ae[4],xe=Ae[5]-Se):(he=Ae[4]+Se*Math.sin(ae),xe=Ae[5]-Se*Math.cos(ae));const ye="calc(var(--scale-factor)*",Ge=ve.style;le._container===le._rootContainer?(Ge.left=`${(100*he/le._pageWidth).toFixed(2)}%`,Ge.top=`${(100*xe/le._pageHeight).toFixed(2)}%`):(Ge.left=`${ye}${he.toFixed(2)}px)`,Ge.top=`${ye}${xe.toFixed(2)}px)`),Ge.fontSize=`${ye}${ce.toFixed(2)}px)`,Ge.fontFamily=oe.fontFamily,me.fontSize=ce,ve.setAttribute("role","presentation"),ve.textContent=ue.str,ve.dir=ue.dir,le._fontInspectorEnabled&&(ve.dataset.fontName=ue.fontName),ae!==0&&(me.angle=ae*(180/Math.PI));let qe=!1;if(ue.str.length>1)qe=!0;else if(ue.str!==" "&&ue.transform[0]!==ue.transform[3]){const Fe=Math.abs(ue.transform[0]),He=Math.abs(ue.transform[3]);Fe!==He&&Math.max(Fe,He)/Math.min(Fe,He)>1.5&&(qe=!0)}qe&&(me.canvasWidth=oe.vertical?ue.height:ue.width),le._textDivProperties.set(ve,me),le._isReadableStream&&le._layoutText(ve)}function ie(le){const{div:ue,scale:fe,properties:ve,ctx:me,prevFontSize:Ae,prevFontFamily:ae}=le,{style:oe}=ue;let ce="";if(ve.canvasWidth!==0&&ve.hasText){const{fontFamily:Se}=oe,{canvasWidth:he,fontSize:xe}=ve;(Ae!==xe||ae!==Se)&&(me.font=`${xe*fe}px ${Se}`,le.prevFontSize=xe,le.prevFontFamily=Se);const{width:ye}=me.measureText(ue.textContent);ye>0&&(ce=`scaleX(${he*fe/ye})`)}ve.angle!==0&&(ce=`rotate(${ve.angle}deg) ${ce}`),ce.length>0&&(oe.transform=ce)}function se(le){if(le._canceled)return;const ue=le._textDivs,fe=le._capability;if(ue.length>j){fe.resolve();return}if(!le._isReadableStream)for(const me of ue)le._layoutText(me);fe.resolve()}class de{constructor({textContentSource:ue,container:fe,viewport:ve,textDivs:me,textDivProperties:Ae,textContentItemsStr:ae,isOffscreenCanvasSupported:oe}){var ye;this._textContentSource=ue,this._isReadableStream=ue instanceof ReadableStream,this._container=this._rootContainer=fe,this._textDivs=me||[],this._textContentItemsStr=ae||[],this._isOffscreenCanvasSupported=oe,this._fontInspectorEnabled=!!((ye=globalThis.FontInspector)!=null&&ye.enabled),this._reader=null,this._textDivProperties=Ae||new WeakMap,this._canceled=!1,this._capability=new H.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ve.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:X(0,oe)};const{pageWidth:ce,pageHeight:Se,pageX:he,pageY:xe}=ve.rawDims;this._transform=[1,0,0,-1,-he,xe+Se],this._pageWidth=ce,this._pageHeight=Se,(0,z.setLayerDimensions)(fe,ve),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new H.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new H.AbortException("TextLayer task cancelled."))}_processItems(ue,fe){for(const ve of ue){if(ve.str===void 0){if(ve.type==="beginMarkedContentProps"||ve.type==="beginMarkedContent"){const me=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ve.id!==null&&this._container.setAttribute("id",`${ve.id}`),me.append(this._container)}else ve.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ve.str),ne(this,ve,fe)}}_layoutText(ue){const fe=this._layoutTextParams.properties=this._textDivProperties.get(ue);if(this._layoutTextParams.div=ue,ie(this._layoutTextParams),fe.hasText&&this._container.append(ue),fe.hasEOL){const ve=document.createElement("br");ve.setAttribute("role","presentation"),this._container.append(ve)}}_render(){const ue=new H.PromiseCapability;let fe=Object.create(null);if(this._isReadableStream){const ve=()=>{this._reader.read().then(({value:me,done:Ae})=>{if(Ae){ue.resolve();return}Object.assign(fe,me.styles),this._processItems(me.items,fe),ve()},ue.reject)};this._reader=this._textContentSource.getReader(),ve()}else if(this._textContentSource){const{items:ve,styles:me}=this._textContentSource;this._processItems(ve,me),ue.resolve()}else throw new Error('No "textContentSource" parameter specified.');ue.promise.then(()=>{fe=null,se(this)},this._capability.reject)}}_.TextLayerRenderTask=de;function Ee(le){!le.textContentSource&&(le.textContent||le.textContentStream)&&((0,z.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),le.textContentSource=le.textContent||le.textContentStream);const{container:ue,viewport:fe}=le,ve=getComputedStyle(ue),me=ve.getPropertyValue("visibility"),Ae=parseFloat(ve.getPropertyValue("--scale-factor"));me==="visible"&&(!Ae||Math.abs(Ae-fe.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ae=new de(le);return ae._render(),ae}function pe({container:le,viewport:ue,textDivs:fe,textDivProperties:ve,isOffscreenCanvasSupported:me,mustRotate:Ae=!0,mustRescale:ae=!0}){if(Ae&&(0,z.setLayerDimensions)(le,{rotation:ue.rotation}),ae){const oe=X(0,me),Se={prevFontSize:null,prevFontFamily:null,div:null,scale:ue.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:oe};for(const he of fe)Se.properties=ve.get(he),Se.div=he,ie(Se)}}},(T,_,U)=>{var Z,ne,ie,se,de,Ee,pe,le,ue,fe,ve,Hi,si,Bi,zi;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditorLayer=void 0;var H=U(1),z=U(4),j=U(28),q=U(33),K=U(6),Y=U(34);const ce=class ce{constructor({uiManager:he,pageIndex:xe,div:ye,accessibilityManager:Ge,annotationLayer:qe,viewport:Fe,l10n:He}){kt(this,ve);kt(this,Z);kt(this,ne,!1);kt(this,ie,null);kt(this,se,this.pointerup.bind(this));kt(this,de,this.pointerdown.bind(this));kt(this,Ee,new Map);kt(this,pe,!1);kt(this,le,!1);kt(this,ue,!1);kt(this,fe);const Ye=[j.FreeTextEditor,q.InkEditor,Y.StampEditor];if(!ce._initialized){ce._initialized=!0;for(const ke of Ye)ke.initialize(He)}he.registerEditorTypes(Ye),Lt(this,fe,he),this.pageIndex=xe,this.div=ye,Lt(this,Z,Ge),Lt(this,ie,qe),this.viewport=Fe,_e(this,fe).addLayer(this)}get isEmpty(){return _e(this,Ee).size===0}updateToolbar(he){_e(this,fe).updateToolbar(he)}updateMode(he=_e(this,fe).getMode()){pt(this,ve,zi).call(this),he===H.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),he!==H.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",he===H.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",he===H.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",he===H.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(he){if(!he&&_e(this,fe).getMode()!==H.AnnotationEditorType.INK)return;if(!he){for(const ye of _e(this,Ee).values())if(ye.isEmpty()){ye.setInBackground();return}}pt(this,ve,si).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(he){_e(this,fe).setEditingState(he)}addCommands(he){_e(this,fe).addCommands(he)}enable(){this.div.style.pointerEvents="auto";const he=new Set;for(const ye of _e(this,Ee).values())ye.enableEditing(),ye.annotationElementId&&he.add(ye.annotationElementId);if(!_e(this,ie))return;const xe=_e(this,ie).getEditableAnnotations();for(const ye of xe){if(ye.hide(),_e(this,fe).isDeletedAnnotationElement(ye.data.id)||he.has(ye.data.id))continue;const Ge=this.deserialize(ye);Ge&&(this.addOrRebuild(Ge),Ge.enableEditing())}}disable(){var xe;Lt(this,ue,!0),this.div.style.pointerEvents="none";const he=new Set;for(const ye of _e(this,Ee).values()){if(ye.disableEditing(),!ye.annotationElementId||ye.serialize()!==null){he.add(ye.annotationElementId);continue}(xe=this.getEditableAnnotation(ye.annotationElementId))==null||xe.show(),ye.remove()}if(_e(this,ie)){const ye=_e(this,ie).getEditableAnnotations();for(const Ge of ye){const{id:qe}=Ge.data;he.has(qe)||_e(this,fe).isDeletedAnnotationElement(qe)||Ge.show()}}pt(this,ve,zi).call(this),this.isEmpty&&(this.div.hidden=!0),Lt(this,ue,!1)}getEditableAnnotation(he){var xe;return((xe=_e(this,ie))==null?void 0:xe.getEditableAnnotation(he))||null}setActiveEditor(he){_e(this,fe).getActive()!==he&&_e(this,fe).setActiveEditor(he)}enableClick(){this.div.addEventListener("pointerdown",_e(this,de)),this.div.addEventListener("pointerup",_e(this,se))}disableClick(){this.div.removeEventListener("pointerdown",_e(this,de)),this.div.removeEventListener("pointerup",_e(this,se))}attach(he){_e(this,Ee).set(he.id,he);const{annotationElementId:xe}=he;xe&&_e(this,fe).isDeletedAnnotationElement(xe)&&_e(this,fe).removeDeletedAnnotationElement(he)}detach(he){var xe;_e(this,Ee).delete(he.id),(xe=_e(this,Z))==null||xe.removePointerInTextLayer(he.contentDiv),!_e(this,ue)&&he.annotationElementId&&_e(this,fe).addDeletedAnnotationElement(he)}remove(he){this.detach(he),_e(this,fe).removeEditor(he),he.div.contains(document.activeElement)&&setTimeout(()=>{_e(this,fe).focusMainContainer()},0),he.div.remove(),he.isAttachedToDOM=!1,_e(this,le)||this.addInkEditorIfNeeded(!1)}changeParent(he){var xe;he.parent!==this&&(he.annotationElementId&&(_e(this,fe).addDeletedAnnotationElement(he.annotationElementId),z.AnnotationEditor.deleteAnnotationElement(he),he.annotationElementId=null),this.attach(he),(xe=he.parent)==null||xe.detach(he),he.setParent(this),he.div&&he.isAttachedToDOM&&(he.div.remove(),this.div.append(he.div)))}add(he){if(this.changeParent(he),_e(this,fe).addEditor(he),this.attach(he),!he.isAttachedToDOM){const xe=he.render();this.div.append(xe),he.isAttachedToDOM=!0}he.fixAndSetPosition(),he.onceAdded(),_e(this,fe).addToAnnotationStorage(he)}moveEditorInDOM(he){var ye;if(!he.isAttachedToDOM)return;const{activeElement:xe}=document;he.div.contains(xe)&&(he._focusEventsAllowed=!1,setTimeout(()=>{he.div.contains(document.activeElement)?he._focusEventsAllowed=!0:(he.div.addEventListener("focusin",()=>{he._focusEventsAllowed=!0},{once:!0}),xe.focus())},0)),he._structTreeParentId=(ye=_e(this,Z))==null?void 0:ye.moveElementInDOM(this.div,he.div,he.contentDiv,!0)}addOrRebuild(he){he.needsToBeRebuilt()?he.rebuild():this.add(he)}addUndoableEditor(he){const xe=()=>he._uiManager.rebuild(he),ye=()=>{he.remove()};this.addCommands({cmd:xe,undo:ye,mustExec:!1})}getNextId(){return _e(this,fe).getId()}pasteEditor(he,xe){_e(this,fe).updateToolbar(he),_e(this,fe).updateMode(he);const{offsetX:ye,offsetY:Ge}=pt(this,ve,Bi).call(this),qe=this.getNextId(),Fe=pt(this,ve,Hi).call(this,{parent:this,id:qe,x:ye,y:Ge,uiManager:_e(this,fe),isCentered:!0,...xe});Fe&&this.add(Fe)}deserialize(he){switch(he.annotationType??he.annotationEditorType){case H.AnnotationEditorType.FREETEXT:return j.FreeTextEditor.deserialize(he,this,_e(this,fe));case H.AnnotationEditorType.INK:return q.InkEditor.deserialize(he,this,_e(this,fe));case H.AnnotationEditorType.STAMP:return Y.StampEditor.deserialize(he,this,_e(this,fe))}return null}addNewEditor(){pt(this,ve,si).call(this,pt(this,ve,Bi).call(this),!0)}setSelected(he){_e(this,fe).setSelected(he)}toggleSelected(he){_e(this,fe).toggleSelected(he)}isSelected(he){return _e(this,fe).isSelected(he)}unselect(he){_e(this,fe).unselect(he)}pointerup(he){const{isMac:xe}=H.FeatureTest.platform;if(!(he.button!==0||he.ctrlKey&&xe)&&he.target===this.div&&_e(this,pe)){if(Lt(this,pe,!1),!_e(this,ne)){Lt(this,ne,!0);return}if(_e(this,fe).getMode()===H.AnnotationEditorType.STAMP){_e(this,fe).unselectAll();return}pt(this,ve,si).call(this,he,!1)}}pointerdown(he){if(_e(this,pe)){Lt(this,pe,!1);return}const{isMac:xe}=H.FeatureTest.platform;if(he.button!==0||he.ctrlKey&&xe||he.target!==this.div)return;Lt(this,pe,!0);const ye=_e(this,fe).getActive();Lt(this,ne,!ye||ye.isEmpty())}findNewParent(he,xe,ye){const Ge=_e(this,fe).findParent(xe,ye);return Ge===null||Ge===this?!1:(Ge.changeParent(he),!0)}destroy(){var he,xe;((he=_e(this,fe).getActive())==null?void 0:he.parent)===this&&(_e(this,fe).commitOrRemove(),_e(this,fe).setActiveEditor(null));for(const ye of _e(this,Ee).values())(xe=_e(this,Z))==null||xe.removePointerInTextLayer(ye.contentDiv),ye.setParent(null),ye.isAttachedToDOM=!1,ye.div.remove();this.div=null,_e(this,Ee).clear(),_e(this,fe).removeLayer(this)}render({viewport:he}){this.viewport=he,(0,K.setLayerDimensions)(this.div,he);for(const xe of _e(this,fe).getEditors(this.pageIndex))this.add(xe);this.updateMode()}update({viewport:he}){_e(this,fe).commitOrRemove(),this.viewport=he,(0,K.setLayerDimensions)(this.div,{rotation:he.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:he,pageHeight:xe}=this.viewport.rawDims;return[he,xe]}};Z=new WeakMap,ne=new WeakMap,ie=new WeakMap,se=new WeakMap,de=new WeakMap,Ee=new WeakMap,pe=new WeakMap,le=new WeakMap,ue=new WeakMap,fe=new WeakMap,ve=new WeakSet,Hi=function(he){switch(_e(this,fe).getMode()){case H.AnnotationEditorType.FREETEXT:return new j.FreeTextEditor(he);case H.AnnotationEditorType.INK:return new q.InkEditor(he);case H.AnnotationEditorType.STAMP:return new Y.StampEditor(he)}return null},si=function(he,xe){const ye=this.getNextId(),Ge=pt(this,ve,Hi).call(this,{parent:this,id:ye,x:he.offsetX,y:he.offsetY,uiManager:_e(this,fe),isCentered:xe});return Ge&&this.add(Ge),Ge},Bi=function(){const{x:he,y:xe,width:ye,height:Ge}=this.div.getBoundingClientRect(),qe=Math.max(0,he),Fe=Math.max(0,xe),He=Math.min(window.innerWidth,he+ye),Ye=Math.min(window.innerHeight,xe+Ge),ke=(qe+He)/2-he,Ke=(Fe+Ye)/2-xe,[gt,De]=this.viewport.rotation%180===0?[ke,Ke]:[Ke,ke];return{offsetX:gt,offsetY:De}},zi=function(){Lt(this,le,!0);for(const he of _e(this,Ee).values())he.isEmpty()&&he.remove();Lt(this,le,!1)},Wn(ce,"_initialized",!1);let X=ce;_.AnnotationEditorLayer=X},(T,_,U)=>{var Y,X,Z,ne,ie,se,de,Ee,pe,le,Js,Zs,ea,Fr,ji,ta,qi;Object.defineProperty(_,"__esModule",{value:!0}),_.FreeTextEditor=void 0;var H=U(1),z=U(5),j=U(4),q=U(29);const ce=class ce extends j.AnnotationEditor{constructor(xe){super({...xe,name:"freeTextEditor"});kt(this,le);kt(this,Y,this.editorDivBlur.bind(this));kt(this,X,this.editorDivFocus.bind(this));kt(this,Z,this.editorDivInput.bind(this));kt(this,ne,this.editorDivKeydown.bind(this));kt(this,ie);kt(this,se,"");kt(this,de,`${this.id}-editor`);kt(this,Ee);kt(this,pe,null);Lt(this,ie,xe.color||ce._defaultColor||j.AnnotationEditor._defaultLineColor),Lt(this,Ee,xe.fontSize||ce._defaultFontSize)}static get _keyboardManager(){const xe=ce.prototype,ye=Fe=>Fe.isEmpty(),Ge=z.AnnotationEditorUIManager.TRANSLATE_SMALL,qe=z.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,H.shadow)(this,"_keyboardManager",new z.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],xe.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xe.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],xe._translateEmpty,{args:[-Ge,0],checker:ye}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xe._translateEmpty,{args:[-qe,0],checker:ye}],[["ArrowRight","mac+ArrowRight"],xe._translateEmpty,{args:[Ge,0],checker:ye}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xe._translateEmpty,{args:[qe,0],checker:ye}],[["ArrowUp","mac+ArrowUp"],xe._translateEmpty,{args:[0,-Ge],checker:ye}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xe._translateEmpty,{args:[0,-qe],checker:ye}],[["ArrowDown","mac+ArrowDown"],xe._translateEmpty,{args:[0,Ge],checker:ye}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xe._translateEmpty,{args:[0,qe],checker:ye}]]))}static initialize(xe){j.AnnotationEditor.initialize(xe,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ye=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ye.getPropertyValue("--freetext-padding"))}static updateDefaultParams(xe,ye){switch(xe){case H.AnnotationEditorParamsType.FREETEXT_SIZE:ce._defaultFontSize=ye;break;case H.AnnotationEditorParamsType.FREETEXT_COLOR:ce._defaultColor=ye;break}}updateParams(xe,ye){switch(xe){case H.AnnotationEditorParamsType.FREETEXT_SIZE:pt(this,le,Js).call(this,ye);break;case H.AnnotationEditorParamsType.FREETEXT_COLOR:pt(this,le,Zs).call(this,ye);break}}static get defaultPropertiesToUpdate(){return[[H.AnnotationEditorParamsType.FREETEXT_SIZE,ce._defaultFontSize],[H.AnnotationEditorParamsType.FREETEXT_COLOR,ce._defaultColor||j.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[H.AnnotationEditorParamsType.FREETEXT_SIZE,_e(this,Ee)],[H.AnnotationEditorParamsType.FREETEXT_COLOR,_e(this,ie)]]}_translateEmpty(xe,ye){this._uiManager.translateSelectedEditors(xe,ye,!0)}getInitialTranslation(){const xe=this.parentScale;return[-ce._internalPadding*xe,-(ce._internalPadding+_e(this,Ee))*xe]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(H.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_e(this,ne)),this.editorDiv.addEventListener("focus",_e(this,X)),this.editorDiv.addEventListener("blur",_e(this,Y)),this.editorDiv.addEventListener("input",_e(this,Z)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_e(this,de)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_e(this,ne)),this.editorDiv.removeEventListener("focus",_e(this,X)),this.editorDiv.removeEventListener("blur",_e(this,Y)),this.editorDiv.removeEventListener("input",_e(this,Z)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(xe){this._focusEventsAllowed&&(super.focusin(xe),xe.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var xe;if(this.width){pt(this,le,qi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(xe=this._initialOptions)!=null&&xe.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const xe=_e(this,se),ye=Lt(this,se,pt(this,le,ea).call(this).trimEnd());if(xe===ye)return;const Ge=qe=>{if(Lt(this,se,qe),!qe){this.remove();return}pt(this,le,ji).call(this),this._uiManager.rebuild(this),pt(this,le,Fr).call(this)};this.addCommands({cmd:()=>{Ge(ye)},undo:()=>{Ge(xe)},mustExec:!1}),pt(this,le,Fr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(xe){this.enterInEditMode()}keydown(xe){xe.target===this.div&&xe.key==="Enter"&&(this.enterInEditMode(),xe.preventDefault())}editorDivKeydown(xe){ce._keyboardManager.exec(this,xe)}editorDivFocus(xe){this.isEditing=!0}editorDivBlur(xe){this.isEditing=!1}editorDivInput(xe){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let xe,ye;this.width&&(xe=this.x,ye=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_e(this,de)),this.enableEditing(),j.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(qe=>{var Fe;return(Fe=this.editorDiv)==null?void 0:Fe.setAttribute("aria-label",qe)}),j.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(qe=>{var Fe;return(Fe=this.editorDiv)==null?void 0:Fe.setAttribute("default-content",qe)}),this.editorDiv.contentEditable=!0;const{style:Ge}=this.editorDiv;if(Ge.fontSize=`calc(${_e(this,Ee)}px * var(--scale-factor))`,Ge.color=_e(this,ie),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,z.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[qe,Fe]=this.parentDimensions;if(this.annotationElementId){const{position:He}=_e(this,pe);let[Ye,ke]=this.getInitialTranslation();[Ye,ke]=this.pageTranslationToScreen(Ye,ke);const[Ke,gt]=this.pageDimensions,[De,Ie]=this.pageTranslation;let Pe,we;switch(this.rotation){case 0:Pe=xe+(He[0]-De)/Ke,we=ye+this.height-(He[1]-Ie)/gt;break;case 90:Pe=xe+(He[0]-De)/Ke,we=ye-(He[1]-Ie)/gt,[Ye,ke]=[ke,-Ye];break;case 180:Pe=xe-this.width+(He[0]-De)/Ke,we=ye-(He[1]-Ie)/gt,[Ye,ke]=[-Ye,-ke];break;case 270:Pe=xe+(He[0]-De-this.height*gt)/Ke,we=ye+(He[1]-Ie-this.width*Ke)/gt,[Ye,ke]=[-ke,Ye];break}this.setAt(Pe*qe,we*Fe,Ye,ke)}else this.setAt(xe*qe,ye*Fe,this.width*qe,this.height*Fe);pt(this,le,ji).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(xe,ye,Ge){let qe=null;if(xe instanceof q.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:He,fontColor:Ye},rect:ke,rotation:Ke,id:gt},textContent:De,textPosition:Ie,parent:{page:{pageNumber:Pe}}}=xe;if(!De||De.length===0)return null;qe=xe={annotationType:H.AnnotationEditorType.FREETEXT,color:Array.from(Ye),fontSize:He,value:De.join(`
`),position:Ie,pageIndex:Pe-1,rect:ke,rotation:Ke,id:gt,deleted:!1}}const Fe=super.deserialize(xe,ye,Ge);return Lt(Fe,Ee,xe.fontSize),Lt(Fe,ie,H.Util.makeHexColor(...xe.color)),Lt(Fe,se,xe.value),Fe.annotationElementId=xe.id||null,Lt(Fe,pe,qe),Fe}serialize(xe=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ye=ce._internalPadding*this.parentScale,Ge=this.getRect(ye,ye),qe=j.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_e(this,ie)),Fe={annotationType:H.AnnotationEditorType.FREETEXT,color:qe,fontSize:_e(this,Ee),value:_e(this,se),pageIndex:this.pageIndex,rect:Ge,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return xe?Fe:this.annotationElementId&&!pt(this,le,ta).call(this,Fe)?null:(Fe.id=this.annotationElementId,Fe)}};Y=new WeakMap,X=new WeakMap,Z=new WeakMap,ne=new WeakMap,ie=new WeakMap,se=new WeakMap,de=new WeakMap,Ee=new WeakMap,pe=new WeakMap,le=new WeakSet,Js=function(xe){const ye=qe=>{this.editorDiv.style.fontSize=`calc(${qe}px * var(--scale-factor))`,this.translate(0,-(qe-_e(this,Ee))*this.parentScale),Lt(this,Ee,qe),pt(this,le,Fr).call(this)},Ge=_e(this,Ee);this.addCommands({cmd:()=>{ye(xe)},undo:()=>{ye(Ge)},mustExec:!0,type:H.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Zs=function(xe){const ye=_e(this,ie);this.addCommands({cmd:()=>{Lt(this,ie,this.editorDiv.style.color=xe)},undo:()=>{Lt(this,ie,this.editorDiv.style.color=ye)},mustExec:!0,type:H.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ea=function(){const xe=this.editorDiv.getElementsByTagName("div");if(xe.length===0)return this.editorDiv.innerText;const ye=[];for(const Ge of xe)ye.push(Ge.innerText.replace(/\r\n?|\n/,""));return ye.join(`
`)},Fr=function(){const[xe,ye]=this.parentDimensions;let Ge;if(this.isAttachedToDOM)Ge=this.div.getBoundingClientRect();else{const{currentLayer:qe,div:Fe}=this,He=Fe.style.display;Fe.style.display="hidden",qe.div.append(this.div),Ge=Fe.getBoundingClientRect(),Fe.remove(),Fe.style.display=He}this.rotation%180===this.parentRotation%180?(this.width=Ge.width/xe,this.height=Ge.height/ye):(this.width=Ge.height/xe,this.height=Ge.width/ye),this.fixAndSetPosition()},ji=function(){if(this.editorDiv.replaceChildren(),!!_e(this,se))for(const xe of _e(this,se).split(`
`)){const ye=document.createElement("div");ye.append(xe?document.createTextNode(xe):document.createElement("br")),this.editorDiv.append(ye)}},ta=function(xe){const{value:ye,fontSize:Ge,color:qe,rect:Fe,pageIndex:He}=_e(this,pe);return xe.value!==ye||xe.fontSize!==Ge||xe.rect.some((Ye,ke)=>Math.abs(Ye-Fe[ke])>=1)||xe.color.some((Ye,ke)=>Ye!==qe[ke])||xe.pageIndex!==He},qi=function(xe=!1){if(!this.annotationElementId)return;if(pt(this,le,Fr).call(this),!xe&&(this.width===0||this.height===0)){setTimeout(()=>pt(this,le,qi).call(this,!0),0);return}const ye=ce._internalPadding*this.parentScale;_e(this,pe).rect=this.getRect(ye,ye)},Wn(ce,"_freeTextDefaultContent",""),Wn(ce,"_internalPadding",0),Wn(ce,"_defaultColor",null),Wn(ce,"_defaultFontSize",10),Wn(ce,"_type","freetext");let K=ce;_.FreeTextEditor=K},(T,_,U)=>{var we,Me,mr,na,ut,Bt,nn,un,on,hn,At,xt,$e,Be,ct,vt,qt,fn,pn,yt,vn,En,ra,ai,Wi,Gi,kn,Hn,zn,mn,Ct,Ft,Tn,Ki,Fn,We,cn,yn,ia,Yi;Object.defineProperty(_,"__esModule",{value:!0}),_.StampAnnotationElement=_.InkAnnotationElement=_.FreeTextAnnotationElement=_.AnnotationLayer=void 0;var H=U(1),z=U(6),j=U(3),q=U(30),K=U(31),Y=U(32);const X=1e3,Z=9,ne=new WeakSet;function ie(An){return{width:An[2]-An[0],height:An[3]-An[1]}}class se{static create(je){switch(je.data.annotationType){case H.AnnotationType.LINK:return new Ee(je);case H.AnnotationType.TEXT:return new pe(je);case H.AnnotationType.WIDGET:switch(je.data.fieldType){case"Tx":return new ue(je);case"Btn":return je.data.radioButton?new me(je):je.data.checkBox?new ve(je):new Ae(je);case"Ch":return new ae(je);case"Sig":return new fe(je)}return new le(je);case H.AnnotationType.POPUP:return new oe(je);case H.AnnotationType.FREETEXT:return new Se(je);case H.AnnotationType.LINE:return new he(je);case H.AnnotationType.SQUARE:return new xe(je);case H.AnnotationType.CIRCLE:return new ye(je);case H.AnnotationType.POLYLINE:return new Ge(je);case H.AnnotationType.CARET:return new Fe(je);case H.AnnotationType.INK:return new He(je);case H.AnnotationType.POLYGON:return new qe(je);case H.AnnotationType.HIGHLIGHT:return new Ye(je);case H.AnnotationType.UNDERLINE:return new ke(je);case H.AnnotationType.SQUIGGLY:return new Ke(je);case H.AnnotationType.STRIKEOUT:return new gt(je);case H.AnnotationType.STAMP:return new De(je);case H.AnnotationType.FILEATTACHMENT:return new Ie(je);default:return new de(je)}}}const Ve=class Ve{constructor(je,{isRenderable:Oe=!1,ignoreBorder:Je=!1,createQuadrilaterals:Mt=!1}={}){kt(this,we,!1);this.isRenderable=Oe,this.data=je.data,this.layer=je.layer,this.linkService=je.linkService,this.downloadManager=je.downloadManager,this.imageResourcesPath=je.imageResourcesPath,this.renderForms=je.renderForms,this.svgFactory=je.svgFactory,this.annotationStorage=je.annotationStorage,this.enableScripting=je.enableScripting,this.hasJSActions=je.hasJSActions,this._fieldObjects=je.fieldObjects,this.parent=je.parent,Oe&&(this.container=this._createContainer(Je)),Mt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:je,contentsObj:Oe,richText:Je}){return!!(je!=null&&je.str||Oe!=null&&Oe.str||Je!=null&&Je.str)}get hasPopupData(){return Ve._hasPopupData(this.data)}_createContainer(je){const{data:Oe,parent:{page:Je,viewport:Mt}}=this,ln=document.createElement("section");ln.setAttribute("data-annotation-id",Oe.id),this instanceof le||(ln.tabIndex=X),ln.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ln.setAttribute("aria-haspopup","dialog"),Oe.noRotate&&ln.classList.add("norotate");const{pageWidth:dn,pageHeight:_n,pageX:Cn,pageY:In}=Mt.rawDims;if(!Oe.rect||this instanceof oe){const{rotation:Mn}=Oe;return!Oe.hasOwnCanvas&&Mn!==0&&this.setRotation(Mn,ln),ln}const{width:bn,height:Nn}=ie(Oe.rect),Pn=H.Util.normalizeRect([Oe.rect[0],Je.view[3]-Oe.rect[1]+Je.view[1],Oe.rect[2],Je.view[3]-Oe.rect[3]+Je.view[1]]);if(!je&&Oe.borderStyle.width>0){ln.style.borderWidth=`${Oe.borderStyle.width}px`;const Mn=Oe.borderStyle.horizontalCornerRadius,Ln=Oe.borderStyle.verticalCornerRadius;if(Mn>0||Ln>0){const jn=`calc(${Mn}px * var(--scale-factor)) / calc(${Ln}px * var(--scale-factor))`;ln.style.borderRadius=jn}else if(this instanceof me){const jn=`calc(${bn}px * var(--scale-factor)) / calc(${Nn}px * var(--scale-factor))`;ln.style.borderRadius=jn}switch(Oe.borderStyle.style){case H.AnnotationBorderStyleType.SOLID:ln.style.borderStyle="solid";break;case H.AnnotationBorderStyleType.DASHED:ln.style.borderStyle="dashed";break;case H.AnnotationBorderStyleType.BEVELED:(0,H.warn)("Unimplemented border style: beveled");break;case H.AnnotationBorderStyleType.INSET:(0,H.warn)("Unimplemented border style: inset");break;case H.AnnotationBorderStyleType.UNDERLINE:ln.style.borderBottomStyle="solid";break}const Bn=Oe.borderColor||null;Bn?(Lt(this,we,!0),ln.style.borderColor=H.Util.makeHexColor(Bn[0]|0,Bn[1]|0,Bn[2]|0)):ln.style.borderWidth=0}ln.style.left=`${100*(Pn[0]-Cn)/dn}%`,ln.style.top=`${100*(Pn[1]-In)/_n}%`;const{rotation:wn}=Oe;return Oe.hasOwnCanvas||wn===0?(ln.style.width=`${100*bn/dn}%`,ln.style.height=`${100*Nn/_n}%`):this.setRotation(wn,ln),ln}setRotation(je,Oe=this.container){if(!this.data.rect)return;const{pageWidth:Je,pageHeight:Mt}=this.parent.viewport.rawDims,{width:ln,height:dn}=ie(this.data.rect);let _n,Cn;je%180===0?(_n=100*ln/Je,Cn=100*dn/Mt):(_n=100*dn/Je,Cn=100*ln/Mt),Oe.style.width=`${_n}%`,Oe.style.height=`${Cn}%`,Oe.setAttribute("data-main-rotation",(360-je)%360)}get _commonActions(){const je=(Oe,Je,Mt)=>{const ln=Mt.detail[Oe],dn=ln[0],_n=ln.slice(1);Mt.target.style[Je]=q.ColorConverters[`${dn}_HTML`](_n),this.annotationStorage.setValue(this.data.id,{[Je]:q.ColorConverters[`${dn}_rgb`](_n)})};return(0,H.shadow)(this,"_commonActions",{display:Oe=>{const{display:Je}=Oe.detail,Mt=Je%2===1;this.container.style.visibility=Mt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Mt,noPrint:Je===1||Je===2})},print:Oe=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Oe.detail.print})},hidden:Oe=>{const{hidden:Je}=Oe.detail;this.container.style.visibility=Je?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Je,noView:Je})},focus:Oe=>{setTimeout(()=>Oe.target.focus({preventScroll:!1}),0)},userName:Oe=>{Oe.target.title=Oe.detail.userName},readonly:Oe=>{Oe.target.disabled=Oe.detail.readonly},required:Oe=>{this._setRequired(Oe.target,Oe.detail.required)},bgColor:Oe=>{je("bgColor","backgroundColor",Oe)},fillColor:Oe=>{je("fillColor","backgroundColor",Oe)},fgColor:Oe=>{je("fgColor","color",Oe)},textColor:Oe=>{je("textColor","color",Oe)},borderColor:Oe=>{je("borderColor","borderColor",Oe)},strokeColor:Oe=>{je("strokeColor","borderColor",Oe)},rotation:Oe=>{const Je=Oe.detail.rotation;this.setRotation(Je),this.annotationStorage.setValue(this.data.id,{rotation:Je})}})}_dispatchEventFromSandbox(je,Oe){const Je=this._commonActions;for(const Mt of Object.keys(Oe.detail)){const ln=je[Mt]||Je[Mt];ln==null||ln(Oe)}}_setDefaultPropertiesFromJS(je){if(!this.enableScripting)return;const Oe=this.annotationStorage.getRawValue(this.data.id);if(!Oe)return;const Je=this._commonActions;for(const[Mt,ln]of Object.entries(Oe)){const dn=Je[Mt];if(dn){const _n={detail:{[Mt]:ln},target:je};dn(_n),delete Oe[Mt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:je}=this.data;if(!je)return;const[Oe,Je,Mt,ln]=this.data.rect;if(je.length===1){const[,{x:Ln,y:Bn},{x:jn,y:Qn}]=je[0];if(Mt===Ln&&ln===Bn&&Oe===jn&&Je===Qn)return}const{style:dn}=this.container;let _n;if(_e(this,we)){const{borderColor:Ln,borderWidth:Bn}=dn;dn.borderWidth=0,_n=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ln}" stroke-width="${Bn}">`],this.container.classList.add("hasBorder")}const Cn=Mt-Oe,In=ln-Je,{svgFactory:bn}=this,Nn=bn.createElement("svg");Nn.classList.add("quadrilateralsContainer"),Nn.setAttribute("width",0),Nn.setAttribute("height",0);const Pn=bn.createElement("defs");Nn.append(Pn);const wn=bn.createElement("clipPath"),Mn=`clippath_${this.data.id}`;wn.setAttribute("id",Mn),wn.setAttribute("clipPathUnits","objectBoundingBox"),Pn.append(wn);for(const[,{x:Ln,y:Bn},{x:jn,y:Qn}]of je){const Kn=bn.createElement("rect"),tr=(jn-Oe)/Cn,rr=(ln-Bn)/In,sr=(Ln-jn)/Cn,Rr=(Bn-Qn)/In;Kn.setAttribute("x",tr),Kn.setAttribute("y",rr),Kn.setAttribute("width",sr),Kn.setAttribute("height",Rr),wn.append(Kn),_n==null||_n.push(`<rect vector-effect="non-scaling-stroke" x="${tr}" y="${rr}" width="${sr}" height="${Rr}"/>`)}_e(this,we)&&(_n.push("</g></svg>')"),dn.backgroundImage=_n.join("")),this.container.append(Nn),this.container.style.clipPath=`url(#${Mn})`}_createPopup(){const{container:je,data:Oe}=this;je.setAttribute("aria-haspopup","dialog");const Je=new oe({data:{color:Oe.color,titleObj:Oe.titleObj,modificationDate:Oe.modificationDate,contentsObj:Oe.contentsObj,richText:Oe.richText,parentRect:Oe.rect,borderStyle:0,id:`popup_${Oe.id}`,rotation:Oe.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Je.render())}render(){(0,H.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(je,Oe=null){const Je=[];if(this._fieldObjects){const Mt=this._fieldObjects[je];if(Mt)for(const{page:ln,id:dn,exportValues:_n}of Mt){if(ln===-1||dn===Oe)continue;const Cn=typeof _n=="string"?_n:null,In=document.querySelector(`[data-element-id="${dn}"]`);if(In&&!ne.has(In)){(0,H.warn)(`_getElementsByName - element not allowed: ${dn}`);continue}Je.push({id:dn,exportValue:Cn,domElement:In})}return Je}for(const Mt of document.getElementsByName(je)){const{exportValue:ln}=Mt,dn=Mt.getAttribute("data-element-id");dn!==Oe&&ne.has(Mt)&&Je.push({id:dn,exportValue:ln,domElement:Mt})}return Je}show(){var je;this.container&&(this.container.hidden=!1),(je=this.popup)==null||je.maybeShow()}hide(){var je;this.container&&(this.container.hidden=!0),(je=this.popup)==null||je.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const je=this.getElementsToTriggerPopup();if(Array.isArray(je))for(const Oe of je)Oe.classList.add("highlightArea");else je.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:je,data:{id:Oe}}=this;this.container.addEventListener("dblclick",()=>{var Je;(Je=this.linkService.eventBus)==null||Je.dispatch("switchannotationeditormode",{source:this,mode:je,editId:Oe})})}};we=new WeakMap;let de=Ve;class Ee extends de{constructor(Oe,Je=null){super(Oe,{isRenderable:!0,ignoreBorder:!!(Je!=null&&Je.ignoreBorder),createQuadrilaterals:!0});kt(this,Me);this.isTooltipOnly=Oe.data.isTooltipOnly}render(){const{data:Oe,linkService:Je}=this,Mt=document.createElement("a");Mt.setAttribute("data-element-id",Oe.id);let ln=!1;return Oe.url?(Je.addLinkAttributes(Mt,Oe.url,Oe.newWindow),ln=!0):Oe.action?(this._bindNamedAction(Mt,Oe.action),ln=!0):Oe.attachment?(this._bindAttachment(Mt,Oe.attachment),ln=!0):Oe.setOCGState?(pt(this,Me,na).call(this,Mt,Oe.setOCGState),ln=!0):Oe.dest?(this._bindLink(Mt,Oe.dest),ln=!0):(Oe.actions&&(Oe.actions.Action||Oe.actions["Mouse Up"]||Oe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Mt,Oe),ln=!0),Oe.resetForm?(this._bindResetFormAction(Mt,Oe.resetForm),ln=!0):this.isTooltipOnly&&!ln&&(this._bindLink(Mt,""),ln=!0)),this.container.classList.add("linkAnnotation"),ln&&this.container.append(Mt),this.container}_bindLink(Oe,Je){Oe.href=this.linkService.getDestinationHash(Je),Oe.onclick=()=>(Je&&this.linkService.goToDestination(Je),!1),(Je||Je==="")&&pt(this,Me,mr).call(this)}_bindNamedAction(Oe,Je){Oe.href=this.linkService.getAnchorUrl(""),Oe.onclick=()=>(this.linkService.executeNamedAction(Je),!1),pt(this,Me,mr).call(this)}_bindAttachment(Oe,Je){Oe.href=this.linkService.getAnchorUrl(""),Oe.onclick=()=>{var Mt;return(Mt=this.downloadManager)==null||Mt.openOrDownloadData(this.container,Je.content,Je.filename),!1},pt(this,Me,mr).call(this)}_bindJSAction(Oe,Je){Oe.href=this.linkService.getAnchorUrl("");const Mt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ln of Object.keys(Je.actions)){const dn=Mt.get(ln);dn&&(Oe[dn]=()=>{var _n;return(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Je.id,name:ln}}),!1})}Oe.onclick||(Oe.onclick=()=>!1),pt(this,Me,mr).call(this)}_bindResetFormAction(Oe,Je){const Mt=Oe.onclick;if(Mt||(Oe.href=this.linkService.getAnchorUrl("")),pt(this,Me,mr).call(this),!this._fieldObjects){(0,H.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Mt||(Oe.onclick=()=>!1);return}Oe.onclick=()=>{var Nn;Mt==null||Mt();const{fields:ln,refs:dn,include:_n}=Je,Cn=[];if(ln.length!==0||dn.length!==0){const Pn=new Set(dn);for(const wn of ln){const Mn=this._fieldObjects[wn]||[];for(const{id:Ln}of Mn)Pn.add(Ln)}for(const wn of Object.values(this._fieldObjects))for(const Mn of wn)Pn.has(Mn.id)===_n&&Cn.push(Mn)}else for(const Pn of Object.values(this._fieldObjects))Cn.push(...Pn);const In=this.annotationStorage,bn=[];for(const Pn of Cn){const{id:wn}=Pn;switch(bn.push(wn),Pn.type){case"text":{const Ln=Pn.defaultValue||"";In.setValue(wn,{value:Ln});break}case"checkbox":case"radiobutton":{const Ln=Pn.defaultValue===Pn.exportValues;In.setValue(wn,{value:Ln});break}case"combobox":case"listbox":{const Ln=Pn.defaultValue||"";In.setValue(wn,{value:Ln});break}default:continue}const Mn=document.querySelector(`[data-element-id="${wn}"]`);if(Mn){if(!ne.has(Mn)){(0,H.warn)(`_bindResetFormAction - element not allowed: ${wn}`);continue}}else continue;Mn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:bn,name:"ResetForm"}})),!1}}}Me=new WeakSet,mr=function(){this.container.setAttribute("data-internal-link","")},na=function(Oe,Je){Oe.href=this.linkService.getAnchorUrl(""),Oe.onclick=()=>(this.linkService.executeSetOCGState(Je),!1),pt(this,Me,mr).call(this)};class pe extends de{constructor(je){super(je,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const je=document.createElement("img");return je.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",je.alt="[{{type}} Annotation]",je.dataset.l10nId="text_annotation_type",je.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(je),this.container}}class le extends de{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(je){var Oe;this.data.hasOwnCanvas&&(((Oe=je.previousSibling)==null?void 0:Oe.nodeName)==="CANVAS"&&(je.previousSibling.hidden=!0),je.hidden=!1)}_getKeyModifier(je){const{isWin:Oe,isMac:Je}=H.FeatureTest.platform;return Oe&&je.ctrlKey||Je&&je.metaKey}_setEventListener(je,Oe,Je,Mt,ln){Je.includes("mouse")?je.addEventListener(Je,dn=>{var _n;(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mt,value:ln(dn),shift:dn.shiftKey,modifier:this._getKeyModifier(dn)}})}):je.addEventListener(Je,dn=>{var _n;if(Je==="blur"){if(!Oe.focused||!dn.relatedTarget)return;Oe.focused=!1}else if(Je==="focus"){if(Oe.focused)return;Oe.focused=!0}ln&&((_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mt,value:ln(dn)}}))})}_setEventListeners(je,Oe,Je,Mt){var ln,dn,_n;for(const[Cn,In]of Je)(In==="Action"||(ln=this.data.actions)!=null&&ln[In])&&((In==="Focus"||In==="Blur")&&(Oe||(Oe={focused:!1})),this._setEventListener(je,Oe,Cn,In,Mt),In==="Focus"&&!((dn=this.data.actions)!=null&&dn.Blur)?this._setEventListener(je,Oe,"blur","Blur",null):In==="Blur"&&!((_n=this.data.actions)!=null&&_n.Focus)&&this._setEventListener(je,Oe,"focus","Focus",null))}_setBackgroundColor(je){const Oe=this.data.backgroundColor||null;je.style.backgroundColor=Oe===null?"transparent":H.Util.makeHexColor(Oe[0],Oe[1],Oe[2])}_setTextStyle(je){const Oe=["left","center","right"],{fontColor:Je}=this.data.defaultAppearanceData,Mt=this.data.defaultAppearanceData.fontSize||Z,ln=je.style;let dn;const _n=2,Cn=In=>Math.round(10*In)/10;if(this.data.multiLine){const In=Math.abs(this.data.rect[3]-this.data.rect[1]-_n),bn=Math.round(In/(H.LINE_FACTOR*Mt))||1,Nn=In/bn;dn=Math.min(Mt,Cn(Nn/H.LINE_FACTOR))}else{const In=Math.abs(this.data.rect[3]-this.data.rect[1]-_n);dn=Math.min(Mt,Cn(In/H.LINE_FACTOR))}ln.fontSize=`calc(${dn}px * var(--scale-factor))`,ln.color=H.Util.makeHexColor(Je[0],Je[1],Je[2]),this.data.textAlignment!==null&&(ln.textAlign=Oe[this.data.textAlignment])}_setRequired(je,Oe){Oe?je.setAttribute("required",!0):je.removeAttribute("required"),je.setAttribute("aria-required",Oe)}}class ue extends le{constructor(je){const Oe=je.renderForms||!je.data.hasAppearance&&!!je.data.fieldValue;super(je,{isRenderable:Oe})}setPropertyOnSiblings(je,Oe,Je,Mt){const ln=this.annotationStorage;for(const dn of this._getElementsByName(je.name,je.id))dn.domElement&&(dn.domElement[Oe]=Je),ln.setValue(dn.id,{[Mt]:Je})}render(){var Mt,ln;const je=this.annotationStorage,Oe=this.data.id;this.container.classList.add("textWidgetAnnotation");let Je=null;if(this.renderForms){const dn=je.getValue(Oe,{value:this.data.fieldValue});let _n=dn.value||"";const Cn=je.getValue(Oe,{charLimit:this.data.maxLen}).charLimit;Cn&&_n.length>Cn&&(_n=_n.slice(0,Cn));let In=dn.formattedValue||((Mt=this.data.textContent)==null?void 0:Mt.join(`
`))||null;In&&this.data.comb&&(In=In.replaceAll(/\s+/g,""));const bn={userValue:_n,formattedValue:In,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Je=document.createElement("textarea"),Je.textContent=In??_n,this.data.doNotScroll&&(Je.style.overflowY="hidden")):(Je=document.createElement("input"),Je.type="text",Je.setAttribute("value",In??_n),this.data.doNotScroll&&(Je.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Je.hidden=!0),ne.add(Je),Je.setAttribute("data-element-id",Oe),Je.disabled=this.data.readOnly,Je.name=this.data.fieldName,Je.tabIndex=X,this._setRequired(Je,this.data.required),Cn&&(Je.maxLength=Cn),Je.addEventListener("input",Pn=>{je.setValue(Oe,{value:Pn.target.value}),this.setPropertyOnSiblings(Je,"value",Pn.target.value,"value"),bn.formattedValue=null}),Je.addEventListener("resetform",Pn=>{const wn=this.data.defaultFieldValue??"";Je.value=bn.userValue=wn,bn.formattedValue=null});let Nn=Pn=>{const{formattedValue:wn}=bn;wn!=null&&(Pn.target.value=wn),Pn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Je.addEventListener("focus",wn=>{if(bn.focused)return;const{target:Mn}=wn;bn.userValue&&(Mn.value=bn.userValue),bn.lastCommittedValue=Mn.value,bn.commitKey=1,bn.focused=!0}),Je.addEventListener("updatefromsandbox",wn=>{this.showElementAndHideCanvas(wn.target);const Mn={value(Ln){bn.userValue=Ln.detail.value??"",je.setValue(Oe,{value:bn.userValue.toString()}),Ln.target.value=bn.userValue},formattedValue(Ln){const{formattedValue:Bn}=Ln.detail;bn.formattedValue=Bn,Bn!=null&&Ln.target!==document.activeElement&&(Ln.target.value=Bn),je.setValue(Oe,{formattedValue:Bn})},selRange(Ln){Ln.target.setSelectionRange(...Ln.detail.selRange)},charLimit:Ln=>{var Kn;const{charLimit:Bn}=Ln.detail,{target:jn}=Ln;if(Bn===0){jn.removeAttribute("maxLength");return}jn.setAttribute("maxLength",Bn);let Qn=bn.userValue;!Qn||Qn.length<=Bn||(Qn=Qn.slice(0,Bn),jn.value=bn.userValue=Qn,je.setValue(Oe,{value:Qn}),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Oe,name:"Keystroke",value:Qn,willCommit:!0,commitKey:1,selStart:jn.selectionStart,selEnd:jn.selectionEnd}}))}};this._dispatchEventFromSandbox(Mn,wn)}),Je.addEventListener("keydown",wn=>{var Bn;bn.commitKey=1;let Mn=-1;if(wn.key==="Escape"?Mn=0:wn.key==="Enter"&&!this.data.multiLine?Mn=2:wn.key==="Tab"&&(bn.commitKey=3),Mn===-1)return;const{value:Ln}=wn.target;bn.lastCommittedValue!==Ln&&(bn.lastCommittedValue=Ln,bn.userValue=Ln,(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Oe,name:"Keystroke",value:Ln,willCommit:!0,commitKey:Mn,selStart:wn.target.selectionStart,selEnd:wn.target.selectionEnd}}))});const Pn=Nn;Nn=null,Je.addEventListener("blur",wn=>{var Ln;if(!bn.focused||!wn.relatedTarget)return;bn.focused=!1;const{value:Mn}=wn.target;bn.userValue=Mn,bn.lastCommittedValue!==Mn&&((Ln=this.linkService.eventBus)==null||Ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Oe,name:"Keystroke",value:Mn,willCommit:!0,commitKey:bn.commitKey,selStart:wn.target.selectionStart,selEnd:wn.target.selectionEnd}})),Pn(wn)}),(ln=this.data.actions)!=null&&ln.Keystroke&&Je.addEventListener("beforeinput",wn=>{var rr;bn.lastCommittedValue=null;const{data:Mn,target:Ln}=wn,{value:Bn,selectionStart:jn,selectionEnd:Qn}=Ln;let Kn=jn,tr=Qn;switch(wn.inputType){case"deleteWordBackward":{const sr=Bn.substring(0,jn).match(/\w*[^\w]*$/);sr&&(Kn-=sr[0].length);break}case"deleteWordForward":{const sr=Bn.substring(jn).match(/^[^\w]*\w*/);sr&&(tr+=sr[0].length);break}case"deleteContentBackward":jn===Qn&&(Kn-=1);break;case"deleteContentForward":jn===Qn&&(tr+=1);break}wn.preventDefault(),(rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Oe,name:"Keystroke",value:Bn,change:Mn||"",willCommit:!1,selStart:Kn,selEnd:tr}})}),this._setEventListeners(Je,bn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wn=>wn.target.value)}if(Nn&&Je.addEventListener("blur",Nn),this.data.comb){const wn=(this.data.rect[2]-this.data.rect[0])/Cn;Je.classList.add("comb"),Je.style.letterSpacing=`calc(${wn}px * var(--scale-factor) - 1ch)`}}else Je=document.createElement("div"),Je.textContent=this.data.fieldValue,Je.style.verticalAlign="middle",Je.style.display="table-cell";return this._setTextStyle(Je),this._setBackgroundColor(Je),this._setDefaultPropertiesFromJS(Je),this.container.append(Je),this.container}}class fe extends le{constructor(je){super(je,{isRenderable:!!je.data.hasOwnCanvas})}}class ve extends le{constructor(je){super(je,{isRenderable:je.renderForms})}render(){const je=this.annotationStorage,Oe=this.data,Je=Oe.id;let Mt=je.getValue(Je,{value:Oe.exportValue===Oe.fieldValue}).value;typeof Mt=="string"&&(Mt=Mt!=="Off",je.setValue(Je,{value:Mt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ln=document.createElement("input");return ne.add(ln),ln.setAttribute("data-element-id",Je),ln.disabled=Oe.readOnly,this._setRequired(ln,this.data.required),ln.type="checkbox",ln.name=Oe.fieldName,Mt&&ln.setAttribute("checked",!0),ln.setAttribute("exportValue",Oe.exportValue),ln.tabIndex=X,ln.addEventListener("change",dn=>{const{name:_n,checked:Cn}=dn.target;for(const In of this._getElementsByName(_n,Je)){const bn=Cn&&In.exportValue===Oe.exportValue;In.domElement&&(In.domElement.checked=bn),je.setValue(In.id,{value:bn})}je.setValue(Je,{value:Cn})}),ln.addEventListener("resetform",dn=>{const _n=Oe.defaultFieldValue||"Off";dn.target.checked=_n===Oe.exportValue}),this.enableScripting&&this.hasJSActions&&(ln.addEventListener("updatefromsandbox",dn=>{const _n={value(Cn){Cn.target.checked=Cn.detail.value!=="Off",je.setValue(Je,{value:Cn.target.checked})}};this._dispatchEventFromSandbox(_n,dn)}),this._setEventListeners(ln,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dn=>dn.target.checked)),this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class me extends le{constructor(je){super(je,{isRenderable:je.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const je=this.annotationStorage,Oe=this.data,Je=Oe.id;let Mt=je.getValue(Je,{value:Oe.fieldValue===Oe.buttonValue}).value;typeof Mt=="string"&&(Mt=Mt!==Oe.buttonValue,je.setValue(Je,{value:Mt}));const ln=document.createElement("input");if(ne.add(ln),ln.setAttribute("data-element-id",Je),ln.disabled=Oe.readOnly,this._setRequired(ln,this.data.required),ln.type="radio",ln.name=Oe.fieldName,Mt&&ln.setAttribute("checked",!0),ln.tabIndex=X,ln.addEventListener("change",dn=>{const{name:_n,checked:Cn}=dn.target;for(const In of this._getElementsByName(_n,Je))je.setValue(In.id,{value:!1});je.setValue(Je,{value:Cn})}),ln.addEventListener("resetform",dn=>{const _n=Oe.defaultFieldValue;dn.target.checked=_n!=null&&_n===Oe.buttonValue}),this.enableScripting&&this.hasJSActions){const dn=Oe.buttonValue;ln.addEventListener("updatefromsandbox",_n=>{const Cn={value:In=>{const bn=dn===In.detail.value;for(const Nn of this._getElementsByName(In.target.name)){const Pn=bn&&Nn.id===Je;Nn.domElement&&(Nn.domElement.checked=Pn),je.setValue(Nn.id,{value:Pn})}}};this._dispatchEventFromSandbox(Cn,_n)}),this._setEventListeners(ln,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.checked)}return this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class Ae extends Ee{constructor(je){super(je,{ignoreBorder:je.data.hasAppearance})}render(){const je=super.render();je.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(je.title=this.data.alternativeText);const Oe=je.lastChild;return this.enableScripting&&this.hasJSActions&&Oe&&(this._setDefaultPropertiesFromJS(Oe),Oe.addEventListener("updatefromsandbox",Je=>{this._dispatchEventFromSandbox({},Je)})),je}}class ae extends le{constructor(je){super(je,{isRenderable:je.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const je=this.annotationStorage,Oe=this.data.id,Je=je.getValue(Oe,{value:this.data.fieldValue}),Mt=document.createElement("select");ne.add(Mt),Mt.setAttribute("data-element-id",Oe),Mt.disabled=this.data.readOnly,this._setRequired(Mt,this.data.required),Mt.name=this.data.fieldName,Mt.tabIndex=X;let ln=this.data.combo&&this.data.options.length>0;this.data.combo||(Mt.size=this.data.options.length,this.data.multiSelect&&(Mt.multiple=!0)),Mt.addEventListener("resetform",bn=>{const Nn=this.data.defaultFieldValue;for(const Pn of Mt.options)Pn.selected=Pn.value===Nn});for(const bn of this.data.options){const Nn=document.createElement("option");Nn.textContent=bn.displayValue,Nn.value=bn.exportValue,Je.value.includes(bn.exportValue)&&(Nn.setAttribute("selected",!0),ln=!1),Mt.append(Nn)}let dn=null;if(ln){const bn=document.createElement("option");bn.value=" ",bn.setAttribute("hidden",!0),bn.setAttribute("selected",!0),Mt.prepend(bn),dn=()=>{bn.remove(),Mt.removeEventListener("input",dn),dn=null},Mt.addEventListener("input",dn)}const _n=bn=>{const Nn=bn?"value":"textContent",{options:Pn,multiple:wn}=Mt;return wn?Array.prototype.filter.call(Pn,Mn=>Mn.selected).map(Mn=>Mn[Nn]):Pn.selectedIndex===-1?null:Pn[Pn.selectedIndex][Nn]};let Cn=_n(!1);const In=bn=>{const Nn=bn.target.options;return Array.prototype.map.call(Nn,Pn=>({displayValue:Pn.textContent,exportValue:Pn.value}))};return this.enableScripting&&this.hasJSActions?(Mt.addEventListener("updatefromsandbox",bn=>{const Nn={value(Pn){dn==null||dn();const wn=Pn.detail.value,Mn=new Set(Array.isArray(wn)?wn:[wn]);for(const Ln of Mt.options)Ln.selected=Mn.has(Ln.value);je.setValue(Oe,{value:_n(!0)}),Cn=_n(!1)},multipleSelection(Pn){Mt.multiple=!0},remove(Pn){const wn=Mt.options,Mn=Pn.detail.remove;wn[Mn].selected=!1,Mt.remove(Mn),wn.length>0&&Array.prototype.findIndex.call(wn,Bn=>Bn.selected)===-1&&(wn[0].selected=!0),je.setValue(Oe,{value:_n(!0),items:In(Pn)}),Cn=_n(!1)},clear(Pn){for(;Mt.length!==0;)Mt.remove(0);je.setValue(Oe,{value:null,items:[]}),Cn=_n(!1)},insert(Pn){const{index:wn,displayValue:Mn,exportValue:Ln}=Pn.detail.insert,Bn=Mt.children[wn],jn=document.createElement("option");jn.textContent=Mn,jn.value=Ln,Bn?Bn.before(jn):Mt.append(jn),je.setValue(Oe,{value:_n(!0),items:In(Pn)}),Cn=_n(!1)},items(Pn){const{items:wn}=Pn.detail;for(;Mt.length!==0;)Mt.remove(0);for(const Mn of wn){const{displayValue:Ln,exportValue:Bn}=Mn,jn=document.createElement("option");jn.textContent=Ln,jn.value=Bn,Mt.append(jn)}Mt.options.length>0&&(Mt.options[0].selected=!0),je.setValue(Oe,{value:_n(!0),items:In(Pn)}),Cn=_n(!1)},indices(Pn){const wn=new Set(Pn.detail.indices);for(const Mn of Pn.target.options)Mn.selected=wn.has(Mn.index);je.setValue(Oe,{value:_n(!0)}),Cn=_n(!1)},editable(Pn){Pn.target.disabled=!Pn.detail.editable}};this._dispatchEventFromSandbox(Nn,bn)}),Mt.addEventListener("input",bn=>{var Pn;const Nn=_n(!0);je.setValue(Oe,{value:Nn}),bn.preventDefault(),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Oe,name:"Keystroke",value:Cn,changeEx:Nn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Mt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],bn=>bn.target.value)):Mt.addEventListener("input",function(bn){je.setValue(Oe,{value:_n(!0)})}),this.data.combo&&this._setTextStyle(Mt),this._setBackgroundColor(Mt),this._setDefaultPropertiesFromJS(Mt),this.container.append(Mt),this.container}}class oe extends de{constructor(je){const{data:Oe,elements:Je}=je;super(je,{isRenderable:de._hasPopupData(Oe)}),this.elements=Je}render(){this.container.classList.add("popupAnnotation");const je=new ce({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Oe=[];for(const Je of this.elements)Je.popup=je,Oe.push(Je.data.id),Je.addHighlightArea();return this.container.setAttribute("aria-controls",Oe.map(Je=>`${H.AnnotationPrefix}${Je}`).join(",")),this.container}}class ce{constructor({container:je,color:Oe,elements:Je,titleObj:Mt,modificationDate:ln,contentsObj:dn,richText:_n,parent:Cn,rect:In,parentRect:bn,open:Nn}){kt(this,En);kt(this,ut,null);kt(this,Bt,pt(this,En,ra).bind(this));kt(this,nn,pt(this,En,Gi).bind(this));kt(this,un,pt(this,En,Wi).bind(this));kt(this,on,pt(this,En,ai).bind(this));kt(this,hn,null);kt(this,At,null);kt(this,xt,null);kt(this,$e,null);kt(this,Be,null);kt(this,ct,null);kt(this,vt,!1);kt(this,qt,null);kt(this,fn,null);kt(this,pn,null);kt(this,yt,null);kt(this,vn,!1);var wn;Lt(this,At,je),Lt(this,yt,Mt),Lt(this,xt,dn),Lt(this,pn,_n),Lt(this,Be,Cn),Lt(this,hn,Oe),Lt(this,fn,In),Lt(this,ct,bn),Lt(this,$e,Je);const Pn=z.PDFDateString.toDateObject(ln);Pn&&Lt(this,ut,Cn.l10n.get("annotation_date_string",{date:Pn.toLocaleDateString(),time:Pn.toLocaleTimeString()})),this.trigger=Je.flatMap(Mn=>Mn.getElementsToTriggerPopup());for(const Mn of this.trigger)Mn.addEventListener("click",_e(this,on)),Mn.addEventListener("mouseenter",_e(this,un)),Mn.addEventListener("mouseleave",_e(this,nn)),Mn.classList.add("popupTriggerArea");for(const Mn of Je)(wn=Mn.container)==null||wn.addEventListener("keydown",_e(this,Bt));_e(this,At).hidden=!0,Nn&&pt(this,En,ai).call(this)}render(){if(_e(this,qt))return;const{page:{view:je},viewport:{rawDims:{pageWidth:Oe,pageHeight:Je,pageX:Mt,pageY:ln}}}=_e(this,Be),dn=Lt(this,qt,document.createElement("div"));if(dn.className="popup",_e(this,hn)){const Kn=dn.style.outlineColor=H.Util.makeHexColor(..._e(this,hn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?dn.style.backgroundColor=`color-mix(in srgb, ${Kn} 30%, white)`:dn.style.backgroundColor=H.Util.makeHexColor(..._e(this,hn).map(rr=>Math.floor(.7*(255-rr)+rr)))}const _n=document.createElement("span");_n.className="header";const Cn=document.createElement("h1");if(_n.append(Cn),{dir:Cn.dir,str:Cn.textContent}=_e(this,yt),dn.append(_n),_e(this,ut)){const Kn=document.createElement("span");Kn.classList.add("popupDate"),_e(this,ut).then(tr=>{Kn.textContent=tr}),_n.append(Kn)}const In=_e(this,xt),bn=_e(this,pn);if(bn!=null&&bn.str&&(!(In!=null&&In.str)||In.str===bn.str))Y.XfaLayer.render({xfaHtml:bn.html,intent:"richText",div:dn}),dn.lastChild.classList.add("richText","popupContent");else{const Kn=this._formatContents(In);dn.append(Kn)}let Nn=!!_e(this,ct),Pn=Nn?_e(this,ct):_e(this,fn);for(const Kn of _e(this,$e))if(!Pn||H.Util.intersect(Kn.data.rect,Pn)!==null){Pn=Kn.data.rect,Nn=!0;break}const wn=H.Util.normalizeRect([Pn[0],je[3]-Pn[1]+je[1],Pn[2],je[3]-Pn[3]+je[1]]),Ln=Nn?Pn[2]-Pn[0]+5:0,Bn=wn[0]+Ln,jn=wn[1],{style:Qn}=_e(this,At);Qn.left=`${100*(Bn-Mt)/Oe}%`,Qn.top=`${100*(jn-ln)/Je}%`,_e(this,At).append(dn)}_formatContents({str:je,dir:Oe}){const Je=document.createElement("p");Je.classList.add("popupContent"),Je.dir=Oe;const Mt=je.split(/(?:\r\n?|\n)/);for(let ln=0,dn=Mt.length;ln<dn;++ln){const _n=Mt[ln];Je.append(document.createTextNode(_n)),ln<dn-1&&Je.append(document.createElement("br"))}return Je}forceHide(){Lt(this,vn,this.isVisible),_e(this,vn)&&(_e(this,At).hidden=!0)}maybeShow(){_e(this,vn)&&(Lt(this,vn,!1),_e(this,At).hidden=!1)}get isVisible(){return _e(this,At).hidden===!1}}ut=new WeakMap,Bt=new WeakMap,nn=new WeakMap,un=new WeakMap,on=new WeakMap,hn=new WeakMap,At=new WeakMap,xt=new WeakMap,$e=new WeakMap,Be=new WeakMap,ct=new WeakMap,vt=new WeakMap,qt=new WeakMap,fn=new WeakMap,pn=new WeakMap,yt=new WeakMap,vn=new WeakMap,En=new WeakSet,ra=function(je){je.altKey||je.shiftKey||je.ctrlKey||je.metaKey||(je.key==="Enter"||je.key==="Escape"&&_e(this,vt))&&pt(this,En,ai).call(this)},ai=function(){Lt(this,vt,!_e(this,vt)),_e(this,vt)?(pt(this,En,Wi).call(this),_e(this,At).addEventListener("click",_e(this,on)),_e(this,At).addEventListener("keydown",_e(this,Bt))):(pt(this,En,Gi).call(this),_e(this,At).removeEventListener("click",_e(this,on)),_e(this,At).removeEventListener("keydown",_e(this,Bt)))},Wi=function(){_e(this,qt)||this.render(),this.isVisible?_e(this,vt)&&_e(this,At).classList.add("focused"):(_e(this,At).hidden=!1,_e(this,At).style.zIndex=parseInt(_e(this,At).style.zIndex)+1e3)},Gi=function(){_e(this,At).classList.remove("focused"),!(_e(this,vt)||!this.isVisible)&&(_e(this,At).hidden=!0,_e(this,At).style.zIndex=parseInt(_e(this,At).style.zIndex)-1e3)};class Se extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0}),this.textContent=je.data.textContent,this.textPosition=je.data.textPosition,this.annotationEditorType=H.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const je=document.createElement("div");je.classList.add("annotationTextContent"),je.setAttribute("role","comment");for(const Oe of this.textContent){const Je=document.createElement("span");Je.textContent=Oe,je.append(Je)}this.container.append(je)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_.FreeTextAnnotationElement=Se;class he extends de{constructor(Oe){super(Oe,{isRenderable:!0,ignoreBorder:!0});kt(this,kn,null)}render(){this.container.classList.add("lineAnnotation");const Oe=this.data,{width:Je,height:Mt}=ie(Oe.rect),ln=this.svgFactory.create(Je,Mt,!0),dn=Lt(this,kn,this.svgFactory.createElement("svg:line"));return dn.setAttribute("x1",Oe.rect[2]-Oe.lineCoordinates[0]),dn.setAttribute("y1",Oe.rect[3]-Oe.lineCoordinates[1]),dn.setAttribute("x2",Oe.rect[2]-Oe.lineCoordinates[2]),dn.setAttribute("y2",Oe.rect[3]-Oe.lineCoordinates[3]),dn.setAttribute("stroke-width",Oe.borderStyle.width||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),ln.append(dn),this.container.append(ln),!Oe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap;class xe extends de{constructor(Oe){super(Oe,{isRenderable:!0,ignoreBorder:!0});kt(this,Hn,null)}render(){this.container.classList.add("squareAnnotation");const Oe=this.data,{width:Je,height:Mt}=ie(Oe.rect),ln=this.svgFactory.create(Je,Mt,!0),dn=Oe.borderStyle.width,_n=Lt(this,Hn,this.svgFactory.createElement("svg:rect"));return _n.setAttribute("x",dn/2),_n.setAttribute("y",dn/2),_n.setAttribute("width",Je-dn),_n.setAttribute("height",Mt-dn),_n.setAttribute("stroke-width",dn||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),ln.append(_n),this.container.append(ln),!Oe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,Hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hn=new WeakMap;class ye extends de{constructor(Oe){super(Oe,{isRenderable:!0,ignoreBorder:!0});kt(this,zn,null)}render(){this.container.classList.add("circleAnnotation");const Oe=this.data,{width:Je,height:Mt}=ie(Oe.rect),ln=this.svgFactory.create(Je,Mt,!0),dn=Oe.borderStyle.width,_n=Lt(this,zn,this.svgFactory.createElement("svg:ellipse"));return _n.setAttribute("cx",Je/2),_n.setAttribute("cy",Mt/2),_n.setAttribute("rx",Je/2-dn/2),_n.setAttribute("ry",Mt/2-dn/2),_n.setAttribute("stroke-width",dn||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),ln.append(_n),this.container.append(ln),!Oe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,zn)}addHighlightArea(){this.container.classList.add("highlightArea")}}zn=new WeakMap;class Ge extends de{constructor(Oe){super(Oe,{isRenderable:!0,ignoreBorder:!0});kt(this,mn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Oe=this.data,{width:Je,height:Mt}=ie(Oe.rect),ln=this.svgFactory.create(Je,Mt,!0);let dn=[];for(const Cn of Oe.vertices){const In=Cn.x-Oe.rect[0],bn=Oe.rect[3]-Cn.y;dn.push(In+","+bn)}dn=dn.join(" ");const _n=Lt(this,mn,this.svgFactory.createElement(this.svgElementName));return _n.setAttribute("points",dn),_n.setAttribute("stroke-width",Oe.borderStyle.width||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),ln.append(_n),this.container.append(ln),!Oe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _e(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap;class qe extends Ge{constructor(je){super(je),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Fe extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class He extends de{constructor(Oe){super(Oe,{isRenderable:!0,ignoreBorder:!0});kt(this,Ct,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=H.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Oe=this.data,{width:Je,height:Mt}=ie(Oe.rect),ln=this.svgFactory.create(Je,Mt,!0);for(const dn of Oe.inkLists){let _n=[];for(const In of dn){const bn=In.x-Oe.rect[0],Nn=Oe.rect[3]-In.y;_n.push(`${bn},${Nn}`)}_n=_n.join(" ");const Cn=this.svgFactory.createElement(this.svgElementName);_e(this,Ct).push(Cn),Cn.setAttribute("points",_n),Cn.setAttribute("stroke-width",Oe.borderStyle.width||1),Cn.setAttribute("stroke","transparent"),Cn.setAttribute("fill","transparent"),!Oe.popupRef&&this.hasPopupData&&this._createPopup(),ln.append(Cn)}return this.container.append(ln),this.container}getElementsToTriggerPopup(){return _e(this,Ct)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ct=new WeakMap,_.InkAnnotationElement=He;class Ye extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ke extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ke extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class gt extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class De extends de{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_.StampAnnotationElement=De;class Ie extends de{constructor(Oe){var ln;super(Oe,{isRenderable:!0});kt(this,Tn);kt(this,Ft,null);const{filename:Je,content:Mt}=this.data.file;this.filename=(0,z.getFilenameFromUrl)(Je,!0),this.content=Mt,(ln=this.linkService.eventBus)==null||ln.dispatch("fileattachmentannotation",{source:this,filename:Je,content:Mt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Oe,data:Je}=this;let Mt;Je.hasAppearance||Je.fillAlpha===0?Mt=document.createElement("div"):(Mt=document.createElement("img"),Mt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Je.name)?"paperclip":"pushpin"}.svg`,Je.fillAlpha&&Je.fillAlpha<1&&(Mt.style=`filter: opacity(${Math.round(Je.fillAlpha*100)}%);`)),Mt.addEventListener("dblclick",pt(this,Tn,Ki).bind(this)),Lt(this,Ft,Mt);const{isMac:ln}=H.FeatureTest.platform;return Oe.addEventListener("keydown",dn=>{dn.key==="Enter"&&(ln?dn.metaKey:dn.ctrlKey)&&pt(this,Tn,Ki).call(this)}),!Je.popupRef&&this.hasPopupData?this._createPopup():Mt.classList.add("popupTriggerArea"),Oe.append(Mt),Oe}getElementsToTriggerPopup(){return _e(this,Ft)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ft=new WeakMap,Tn=new WeakSet,Ki=function(){var Oe;(Oe=this.downloadManager)==null||Oe.openOrDownloadData(this.container,this.content,this.filename)};class Pe{constructor({div:je,accessibilityManager:Oe,annotationCanvasMap:Je,l10n:Mt,page:ln,viewport:dn}){kt(this,yn);kt(this,Fn,null);kt(this,We,null);kt(this,cn,new Map);this.div=je,Lt(this,Fn,Oe),Lt(this,We,Je),this.l10n=Mt,this.page=ln,this.viewport=dn,this.zIndex=0,this.l10n||(this.l10n=K.NullL10n)}async render(je){const{annotations:Oe}=je,Je=this.div;(0,z.setLayerDimensions)(Je,this.viewport);const Mt=new Map,ln={data:null,layer:Je,linkService:je.linkService,downloadManager:je.downloadManager,imageResourcesPath:je.imageResourcesPath||"",renderForms:je.renderForms!==!1,svgFactory:new z.DOMSVGFactory,annotationStorage:je.annotationStorage||new j.AnnotationStorage,enableScripting:je.enableScripting===!0,hasJSActions:je.hasJSActions,fieldObjects:je.fieldObjects,parent:this,elements:null};for(const dn of Oe){if(dn.noHTML)continue;const _n=dn.annotationType===H.AnnotationType.POPUP;if(_n){const bn=Mt.get(dn.id);if(!bn)continue;ln.elements=bn}else{const{width:bn,height:Nn}=ie(dn.rect);if(bn<=0||Nn<=0)continue}ln.data=dn;const Cn=se.create(ln);if(!Cn.isRenderable)continue;if(!_n&&dn.popupRef){const bn=Mt.get(dn.popupRef);bn?bn.push(Cn):Mt.set(dn.popupRef,[Cn])}Cn.annotationEditorType>0&&_e(this,cn).set(Cn.data.id,Cn);const In=Cn.render();dn.hidden&&(In.style.visibility="hidden"),pt(this,yn,ia).call(this,In,dn.id)}pt(this,yn,Yi).call(this),await this.l10n.translate(Je)}update({viewport:je}){const Oe=this.div;this.viewport=je,(0,z.setLayerDimensions)(Oe,{rotation:je.rotation}),pt(this,yn,Yi).call(this),Oe.hidden=!1}getEditableAnnotations(){return Array.from(_e(this,cn).values())}getEditableAnnotation(je){return _e(this,cn).get(je)}}Fn=new WeakMap,We=new WeakMap,cn=new WeakMap,yn=new WeakSet,ia=function(je,Oe){var Mt;const Je=je.firstChild||je;Je.id=`${H.AnnotationPrefix}${Oe}`,this.div.append(je),(Mt=_e(this,Fn))==null||Mt.moveElementInDOM(this.div,je,Je,!1)},Yi=function(){if(!_e(this,We))return;const je=this.div;for(const[Oe,Je]of _e(this,We)){const Mt=je.querySelector(`[data-annotation-id="${Oe}"]`);if(!Mt)continue;const{firstChild:ln}=Mt;ln?ln.nodeName==="CANVAS"?ln.replaceWith(Je):ln.before(Je):Mt.append(Je)}_e(this,We).clear()},_.AnnotationLayer=Pe},(T,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ColorConverters=void 0;function U(j){return Math.floor(Math.max(0,Math.min(1,j))*255).toString(16).padStart(2,"0")}function H(j){return Math.max(0,Math.min(255,255*j))}class z{static CMYK_G([q,K,Y,X]){return["G",1-Math.min(1,.3*q+.59*Y+.11*K+X)]}static G_CMYK([q]){return["CMYK",0,0,0,1-q]}static G_RGB([q]){return["RGB",q,q,q]}static G_rgb([q]){return q=H(q),[q,q,q]}static G_HTML([q]){const K=U(q);return`#${K}${K}${K}`}static RGB_G([q,K,Y]){return["G",.3*q+.59*K+.11*Y]}static RGB_rgb(q){return q.map(H)}static RGB_HTML(q){return`#${q.map(U).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([q,K,Y,X]){return["RGB",1-Math.min(1,q+X),1-Math.min(1,Y+X),1-Math.min(1,K+X)]}static CMYK_rgb([q,K,Y,X]){return[H(1-Math.min(1,q+X)),H(1-Math.min(1,Y+X)),H(1-Math.min(1,K+X))]}static CMYK_HTML(q){const K=this.CMYK_RGB(q).slice(1);return this.RGB_HTML(K)}static RGB_CMYK([q,K,Y]){const X=1-q,Z=1-K,ne=1-Y,ie=Math.min(X,Z,ne);return["CMYK",X,Z,ne,ie]}}_.ColorConverters=z},(T,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.getL10nFallback=H;const U={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};U.print_progress_percent="{{progress}}%";function H(q,K){switch(q){case"find_match_count":q=`find_match_count[${K.total===1?"one":"other"}]`;break;case"find_match_count_limit":q=`find_match_count_limit[${K.limit===1?"one":"other"}]`;break}return U[q]||""}function z(q,K){return K?q.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Y,X)=>X in K?K[X]:"{{"+X+"}}"):q}const j={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(q,K=null,Y=H(q,K)){return z(Y,K)},async translate(q){}};_.NullL10n=j},(T,_,U)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayer=void 0;var H=U(25);class z{static setupStorage(q,K,Y,X,Z){const ne=X.getValue(K,{value:null});switch(Y.name){case"textarea":if(ne.value!==null&&(q.textContent=ne.value),Z==="print")break;q.addEventListener("input",ie=>{X.setValue(K,{value:ie.target.value})});break;case"input":if(Y.attributes.type==="radio"||Y.attributes.type==="checkbox"){if(ne.value===Y.attributes.xfaOn?q.setAttribute("checked",!0):ne.value===Y.attributes.xfaOff&&q.removeAttribute("checked"),Z==="print")break;q.addEventListener("change",ie=>{X.setValue(K,{value:ie.target.checked?ie.target.getAttribute("xfaOn"):ie.target.getAttribute("xfaOff")})})}else{if(ne.value!==null&&q.setAttribute("value",ne.value),Z==="print")break;q.addEventListener("input",ie=>{X.setValue(K,{value:ie.target.value})})}break;case"select":if(ne.value!==null){q.setAttribute("value",ne.value);for(const ie of Y.children)ie.attributes.value===ne.value?ie.attributes.selected=!0:ie.attributes.hasOwnProperty("selected")&&delete ie.attributes.selected}q.addEventListener("input",ie=>{const se=ie.target.options,de=se.selectedIndex===-1?"":se[se.selectedIndex].value;X.setValue(K,{value:de})});break}}static setAttributes({html:q,element:K,storage:Y=null,intent:X,linkService:Z}){const{attributes:ne}=K,ie=q instanceof HTMLAnchorElement;ne.type==="radio"&&(ne.name=`${ne.name}-${X}`);for(const[se,de]of Object.entries(ne))if(de!=null)switch(se){case"class":de.length&&q.setAttribute(se,de.join(" "));break;case"dataId":break;case"id":q.setAttribute("data-element-id",de);break;case"style":Object.assign(q.style,de);break;case"textContent":q.textContent=de;break;default:(!ie||se!=="href"&&se!=="newWindow")&&q.setAttribute(se,de)}ie&&Z.addLinkAttributes(q,ne.href,ne.newWindow),Y&&ne.dataId&&this.setupStorage(q,ne.dataId,K,Y)}static render(q){var Ee;const K=q.annotationStorage,Y=q.linkService,X=q.xfaHtml,Z=q.intent||"display",ne=document.createElement(X.name);X.attributes&&this.setAttributes({html:ne,element:X,intent:Z,linkService:Y});const ie=[[X,-1,ne]],se=q.div;if(se.append(ne),q.viewport){const pe=`matrix(${q.viewport.transform.join(",")})`;se.style.transform=pe}Z!=="richText"&&se.setAttribute("class","xfaLayer xfaFont");const de=[];for(;ie.length>0;){const[pe,le,ue]=ie.at(-1);if(le+1===pe.children.length){ie.pop();continue}const fe=pe.children[++ie.at(-1)[1]];if(fe===null)continue;const{name:ve}=fe;if(ve==="#text"){const Ae=document.createTextNode(fe.value);de.push(Ae),ue.append(Ae);continue}const me=(Ee=fe==null?void 0:fe.attributes)!=null&&Ee.xmlns?document.createElementNS(fe.attributes.xmlns,ve):document.createElement(ve);if(ue.append(me),fe.attributes&&this.setAttributes({html:me,element:fe,storage:K,intent:Z,linkService:Y}),fe.children&&fe.children.length>0)ie.push([fe,-1,me]);else if(fe.value){const Ae=document.createTextNode(fe.value);H.XfaText.shouldBuildText(ve)&&de.push(Ae),me.append(Ae)}}for(const pe of se.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))pe.setAttribute("readOnly",!0);return{textDivs:de}}static update(q){const K=`matrix(${q.viewport.transform.join(",")})`;q.div.style.transform=K,q.div.hidden=!1}}_.XfaLayer=z},(T,_,U)=>{var X,Z,ne,ie,se,de,Ee,pe,le,ue,fe,ve,me,Ae,ae,sa,aa,oa,la,Xi,ca,Qi,ua,da,ha,fa,pa,cr,Ji,oi,li,Ar,Zi,ci,Me,ma,es,ga,_a,ts,ui,Tr;Object.defineProperty(_,"__esModule",{value:!0}),_.InkEditor=void 0;var H=U(1),z=U(4),j=U(29),q=U(6),K=U(5);const hn=class hn extends z.AnnotationEditor{constructor($e){super({...$e,name:"inkEditor"});kt(this,ae);kt(this,X,0);kt(this,Z,0);kt(this,ne,this.canvasPointermove.bind(this));kt(this,ie,this.canvasPointerleave.bind(this));kt(this,se,this.canvasPointerup.bind(this));kt(this,de,this.canvasPointerdown.bind(this));kt(this,Ee,new Path2D);kt(this,pe,!1);kt(this,le,!1);kt(this,ue,!1);kt(this,fe,null);kt(this,ve,0);kt(this,me,0);kt(this,Ae,null);this.color=$e.color||null,this.thickness=$e.thickness||null,this.opacity=$e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize($e){z.AnnotationEditor.initialize($e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams($e,Be){switch($e){case H.AnnotationEditorParamsType.INK_THICKNESS:hn._defaultThickness=Be;break;case H.AnnotationEditorParamsType.INK_COLOR:hn._defaultColor=Be;break;case H.AnnotationEditorParamsType.INK_OPACITY:hn._defaultOpacity=Be/100;break}}updateParams($e,Be){switch($e){case H.AnnotationEditorParamsType.INK_THICKNESS:pt(this,ae,sa).call(this,Be);break;case H.AnnotationEditorParamsType.INK_COLOR:pt(this,ae,aa).call(this,Be);break;case H.AnnotationEditorParamsType.INK_OPACITY:pt(this,ae,oa).call(this,Be);break}}static get defaultPropertiesToUpdate(){return[[H.AnnotationEditorParamsType.INK_THICKNESS,hn._defaultThickness],[H.AnnotationEditorParamsType.INK_COLOR,hn._defaultColor||z.AnnotationEditor._defaultLineColor],[H.AnnotationEditorParamsType.INK_OPACITY,Math.round(hn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[H.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||hn._defaultThickness],[H.AnnotationEditorParamsType.INK_COLOR,this.color||hn._defaultColor||z.AnnotationEditor._defaultLineColor],[H.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??hn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(pt(this,ae,oi).call(this),pt(this,ae,li).call(this)),this.isAttachedToDOM||(this.parent.add(this),pt(this,ae,Ar).call(this)),pt(this,ae,Tr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_e(this,fe).disconnect(),Lt(this,fe,null),super.remove())}setParent($e){!this.parent&&$e?this._uiManager.removeShouldRescale(this):this.parent&&$e===null&&this._uiManager.addShouldRescale(this),super.setParent($e)}onScaleChanging(){const[$e,Be]=this.parentDimensions,ct=this.width*$e,vt=this.height*Be;this.setDimensions(ct,vt)}enableEditMode(){_e(this,pe)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_e(this,de)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_e(this,de)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_e(this,pe)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Lt(this,pe,!0),this.div.classList.add("disabled"),pt(this,ae,Tr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin($e){this._focusEventsAllowed&&(super.focusin($e),this.enableEditMode())}canvasPointerdown($e){$e.button!==0||!this.isInEditMode()||_e(this,pe)||(this.setInForeground(),$e.preventDefault(),$e.type!=="mouse"&&this.div.focus(),pt(this,ae,ca).call(this,$e.offsetX,$e.offsetY))}canvasPointermove($e){$e.preventDefault(),pt(this,ae,Qi).call(this,$e.offsetX,$e.offsetY)}canvasPointerup($e){$e.preventDefault(),pt(this,ae,Ji).call(this,$e)}canvasPointerleave($e){pt(this,ae,Ji).call(this,$e)}get isResizable(){return!this.isEmpty()&&_e(this,pe)}render(){if(this.div)return this.div;let $e,Be;this.width&&($e=this.x,Be=this.y),super.render(),z.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(pn=>{var yt;return(yt=this.div)==null?void 0:yt.setAttribute("aria-label",pn)});const[ct,vt,qt,fn]=pt(this,ae,la).call(this);if(this.setAt(ct,vt,0,0),this.setDims(qt,fn),pt(this,ae,oi).call(this),this.width){const[pn,yt]=this.parentDimensions;this.setAspectRatio(this.width*pn,this.height*yt),this.setAt($e*pn,Be*yt,this.width*pn,this.height*yt),Lt(this,ue,!0),pt(this,ae,Ar).call(this),this.setDims(this.width*pn,this.height*yt),pt(this,ae,cr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return pt(this,ae,li).call(this),this.div}setDimensions($e,Be){const ct=Math.round($e),vt=Math.round(Be);if(_e(this,ve)===ct&&_e(this,me)===vt)return;Lt(this,ve,ct),Lt(this,me,vt),this.canvas.style.visibility="hidden";const[qt,fn]=this.parentDimensions;this.width=$e/qt,this.height=Be/fn,this.fixAndSetPosition(),_e(this,pe)&&pt(this,ae,Zi).call(this,$e,Be),pt(this,ae,Ar).call(this),pt(this,ae,cr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize($e,Be,ct){var kn,Hn,zn;if($e instanceof j.InkAnnotationElement)return null;const vt=super.deserialize($e,Be,ct);vt.thickness=$e.thickness,vt.color=H.Util.makeHexColor(...$e.color),vt.opacity=$e.opacity;const[qt,fn]=vt.pageDimensions,pn=vt.width*qt,yt=vt.height*fn,vn=vt.parentScale,En=$e.thickness/2;Lt(vt,pe,!0),Lt(vt,ve,Math.round(pn)),Lt(vt,me,Math.round(yt));const{paths:On,rect:Dn,rotation:Un}=$e;for(let{bezier:mn}of On){mn=pt(kn=hn,Me,ga).call(kn,mn,Dn,Un);const Ct=[];vt.paths.push(Ct);let Ft=vn*(mn[0]-En),Tn=vn*(mn[1]-En);for(let Fn=2,We=mn.length;Fn<We;Fn+=6){const cn=vn*(mn[Fn]-En),yn=vn*(mn[Fn+1]-En),Rn=vn*(mn[Fn+2]-En),$n=vn*(mn[Fn+3]-En),An=vn*(mn[Fn+4]-En),je=vn*(mn[Fn+5]-En);Ct.push([[Ft,Tn],[cn,yn],[Rn,$n],[An,je]]),Ft=An,Tn=je}const Vn=pt(this,Me,ma).call(this,Ct);vt.bezierPath2D.push(Vn)}const xn=pt(Hn=vt,ae,ts).call(Hn);return Lt(vt,Z,Math.max(z.AnnotationEditor.MIN_SIZE,xn[2]-xn[0])),Lt(vt,X,Math.max(z.AnnotationEditor.MIN_SIZE,xn[3]-xn[1])),pt(zn=vt,ae,Zi).call(zn,pn,yt),vt}serialize(){if(this.isEmpty())return null;const $e=this.getRect(0,0),Be=z.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:H.AnnotationEditorType.INK,color:Be,thickness:this.thickness,opacity:this.opacity,paths:pt(this,ae,_a).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,$e),pageIndex:this.pageIndex,rect:$e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};X=new WeakMap,Z=new WeakMap,ne=new WeakMap,ie=new WeakMap,se=new WeakMap,de=new WeakMap,Ee=new WeakMap,pe=new WeakMap,le=new WeakMap,ue=new WeakMap,fe=new WeakMap,ve=new WeakMap,me=new WeakMap,Ae=new WeakMap,ae=new WeakSet,sa=function($e){const Be=this.thickness;this.addCommands({cmd:()=>{this.thickness=$e,pt(this,ae,Tr).call(this)},undo:()=>{this.thickness=Be,pt(this,ae,Tr).call(this)},mustExec:!0,type:H.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},aa=function($e){const Be=this.color;this.addCommands({cmd:()=>{this.color=$e,pt(this,ae,cr).call(this)},undo:()=>{this.color=Be,pt(this,ae,cr).call(this)},mustExec:!0,type:H.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oa=function($e){$e/=100;const Be=this.opacity;this.addCommands({cmd:()=>{this.opacity=$e,pt(this,ae,cr).call(this)},undo:()=>{this.opacity=Be,pt(this,ae,cr).call(this)},mustExec:!0,type:H.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},la=function(){const{parentRotation:$e,parentDimensions:[Be,ct]}=this;switch($e){case 90:return[0,ct,ct,Be];case 180:return[Be,ct,Be,ct];case 270:return[Be,0,ct,Be];default:return[0,0,Be,ct]}},Xi=function(){const{ctx:$e,color:Be,opacity:ct,thickness:vt,parentScale:qt,scaleFactor:fn}=this;$e.lineWidth=vt*qt/fn,$e.lineCap="round",$e.lineJoin="round",$e.miterLimit=10,$e.strokeStyle=`${Be}${(0,K.opacityToHex)(ct)}`},ca=function($e,Be){this.canvas.addEventListener("contextmenu",q.noContextMenu),this.canvas.addEventListener("pointerleave",_e(this,ie)),this.canvas.addEventListener("pointermove",_e(this,ne)),this.canvas.addEventListener("pointerup",_e(this,se)),this.canvas.removeEventListener("pointerdown",_e(this,de)),this.isEditing=!0,_e(this,ue)||(Lt(this,ue,!0),pt(this,ae,Ar).call(this),this.thickness||(this.thickness=hn._defaultThickness),this.color||(this.color=hn._defaultColor||z.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=hn._defaultOpacity)),this.currentPath.push([$e,Be]),Lt(this,le,!1),pt(this,ae,Xi).call(this),Lt(this,Ae,()=>{pt(this,ae,ha).call(this),_e(this,Ae)&&window.requestAnimationFrame(_e(this,Ae))}),window.requestAnimationFrame(_e(this,Ae))},Qi=function($e,Be){const[ct,vt]=this.currentPath.at(-1);if(this.currentPath.length>1&&$e===ct&&Be===vt)return;const qt=this.currentPath;let fn=_e(this,Ee);if(qt.push([$e,Be]),Lt(this,le,!0),qt.length<=2){fn.moveTo(...qt[0]),fn.lineTo($e,Be);return}qt.length===3&&(Lt(this,Ee,fn=new Path2D),fn.moveTo(...qt[0])),pt(this,ae,fa).call(this,fn,...qt.at(-3),...qt.at(-2),$e,Be)},ua=function(){if(this.currentPath.length===0)return;const $e=this.currentPath.at(-1);_e(this,Ee).lineTo(...$e)},da=function($e,Be){Lt(this,Ae,null),$e=Math.min(Math.max($e,0),this.canvas.width),Be=Math.min(Math.max(Be,0),this.canvas.height),pt(this,ae,Qi).call(this,$e,Be),pt(this,ae,ua).call(this);let ct;if(this.currentPath.length!==1)ct=pt(this,ae,pa).call(this);else{const yt=[$e,Be];ct=[[yt,yt.slice(),yt.slice(),yt]]}const vt=_e(this,Ee),qt=this.currentPath;this.currentPath=[],Lt(this,Ee,new Path2D);const fn=()=>{this.allRawPaths.push(qt),this.paths.push(ct),this.bezierPath2D.push(vt),this.rebuild()},pn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(pt(this,ae,oi).call(this),pt(this,ae,li).call(this)),pt(this,ae,Tr).call(this))};this.addCommands({cmd:fn,undo:pn,mustExec:!0})},ha=function(){if(!_e(this,le))return;Lt(this,le,!1);const $e=Math.ceil(this.thickness*this.parentScale),Be=this.currentPath.slice(-3),ct=Be.map(fn=>fn[0]),vt=Be.map(fn=>fn[1]);Math.min(...ct)-$e,Math.max(...ct)+$e,Math.min(...vt)-$e,Math.max(...vt)+$e;const{ctx:qt}=this;qt.save(),qt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const fn of this.bezierPath2D)qt.stroke(fn);qt.stroke(_e(this,Ee)),qt.restore()},fa=function($e,Be,ct,vt,qt,fn,pn){const yt=(Be+vt)/2,vn=(ct+qt)/2,En=(vt+fn)/2,On=(qt+pn)/2;$e.bezierCurveTo(yt+2*(vt-yt)/3,vn+2*(qt-vn)/3,En+2*(vt-En)/3,On+2*(qt-On)/3,En,On)},pa=function(){const $e=this.currentPath;if($e.length<=2)return[[$e[0],$e[0],$e.at(-1),$e.at(-1)]];const Be=[];let ct,[vt,qt]=$e[0];for(ct=1;ct<$e.length-2;ct++){const[Dn,Un]=$e[ct],[xn,kn]=$e[ct+1],Hn=(Dn+xn)/2,zn=(Un+kn)/2,mn=[vt+2*(Dn-vt)/3,qt+2*(Un-qt)/3],Ct=[Hn+2*(Dn-Hn)/3,zn+2*(Un-zn)/3];Be.push([[vt,qt],mn,Ct,[Hn,zn]]),[vt,qt]=[Hn,zn]}const[fn,pn]=$e[ct],[yt,vn]=$e[ct+1],En=[vt+2*(fn-vt)/3,qt+2*(pn-qt)/3],On=[yt+2*(fn-yt)/3,vn+2*(pn-vn)/3];return Be.push([[vt,qt],En,On,[yt,vn]]),Be},cr=function(){if(this.isEmpty()){pt(this,ae,ci).call(this);return}pt(this,ae,Xi).call(this);const{canvas:$e,ctx:Be}=this;Be.setTransform(1,0,0,1,0,0),Be.clearRect(0,0,$e.width,$e.height),pt(this,ae,ci).call(this);for(const ct of this.bezierPath2D)Be.stroke(ct)},Ji=function($e){this.canvas.removeEventListener("pointerleave",_e(this,ie)),this.canvas.removeEventListener("pointermove",_e(this,ne)),this.canvas.removeEventListener("pointerup",_e(this,se)),this.canvas.addEventListener("pointerdown",_e(this,de)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",q.noContextMenu)},10),pt(this,ae,da).call(this,$e.offsetX,$e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},oi=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",z.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then($e=>{var Be;return(Be=this.canvas)==null?void 0:Be.setAttribute("aria-label",$e)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},li=function(){Lt(this,fe,new ResizeObserver($e=>{const Be=$e[0].contentRect;Be.width&&Be.height&&this.setDimensions(Be.width,Be.height)})),_e(this,fe).observe(this.div)},Ar=function(){if(!_e(this,ue))return;const[$e,Be]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*$e),this.canvas.height=Math.ceil(this.height*Be),pt(this,ae,ci).call(this)},Zi=function($e,Be){const ct=pt(this,ae,ui).call(this),vt=($e-ct)/_e(this,Z),qt=(Be-ct)/_e(this,X);this.scaleFactor=Math.min(vt,qt)},ci=function(){const $e=pt(this,ae,ui).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+$e,this.translationY*this.scaleFactor+$e)},Me=new WeakSet,ma=function($e){const Be=new Path2D;for(let ct=0,vt=$e.length;ct<vt;ct++){const[qt,fn,pn,yt]=$e[ct];ct===0&&Be.moveTo(...qt),Be.bezierCurveTo(fn[0],fn[1],pn[0],pn[1],yt[0],yt[1])}return Be},es=function($e,Be,ct){const[vt,qt,fn,pn]=Be;switch(ct){case 0:for(let yt=0,vn=$e.length;yt<vn;yt+=2)$e[yt]+=vt,$e[yt+1]=pn-$e[yt+1];break;case 90:for(let yt=0,vn=$e.length;yt<vn;yt+=2){const En=$e[yt];$e[yt]=$e[yt+1]+vt,$e[yt+1]=En+qt}break;case 180:for(let yt=0,vn=$e.length;yt<vn;yt+=2)$e[yt]=fn-$e[yt],$e[yt+1]+=qt;break;case 270:for(let yt=0,vn=$e.length;yt<vn;yt+=2){const En=$e[yt];$e[yt]=fn-$e[yt+1],$e[yt+1]=pn-En}break;default:throw new Error("Invalid rotation")}return $e},ga=function($e,Be,ct){const[vt,qt,fn,pn]=Be;switch(ct){case 0:for(let yt=0,vn=$e.length;yt<vn;yt+=2)$e[yt]-=vt,$e[yt+1]=pn-$e[yt+1];break;case 90:for(let yt=0,vn=$e.length;yt<vn;yt+=2){const En=$e[yt];$e[yt]=$e[yt+1]-qt,$e[yt+1]=En-vt}break;case 180:for(let yt=0,vn=$e.length;yt<vn;yt+=2)$e[yt]=fn-$e[yt],$e[yt+1]-=qt;break;case 270:for(let yt=0,vn=$e.length;yt<vn;yt+=2){const En=$e[yt];$e[yt]=pn-$e[yt+1],$e[yt+1]=fn-En}break;default:throw new Error("Invalid rotation")}return $e},_a=function($e,Be,ct,vt){var vn,En;const qt=[],fn=this.thickness/2,pn=$e*Be+fn,yt=$e*ct+fn;for(const On of this.paths){const Dn=[],Un=[];for(let xn=0,kn=On.length;xn<kn;xn++){const[Hn,zn,mn,Ct]=On[xn],Ft=$e*Hn[0]+pn,Tn=$e*Hn[1]+yt,Vn=$e*zn[0]+pn,Fn=$e*zn[1]+yt,We=$e*mn[0]+pn,cn=$e*mn[1]+yt,yn=$e*Ct[0]+pn,Rn=$e*Ct[1]+yt;xn===0&&(Dn.push(Ft,Tn),Un.push(Ft,Tn)),Dn.push(Vn,Fn,We,cn,yn,Rn),Un.push(Vn,Fn),xn===kn-1&&Un.push(yn,Rn)}qt.push({bezier:pt(vn=hn,Me,es).call(vn,Dn,vt,this.rotation),points:pt(En=hn,Me,es).call(En,Un,vt,this.rotation)})}return qt},ts=function(){let $e=1/0,Be=-1/0,ct=1/0,vt=-1/0;for(const qt of this.paths)for(const[fn,pn,yt,vn]of qt){const En=H.Util.bezierBoundingBox(...fn,...pn,...yt,...vn);$e=Math.min($e,En[0]),ct=Math.min(ct,En[1]),Be=Math.max(Be,En[2]),vt=Math.max(vt,En[3])}return[$e,ct,Be,vt]},ui=function(){return _e(this,pe)?Math.ceil(this.thickness*this.parentScale):0},Tr=function($e=!1){if(this.isEmpty())return;if(!_e(this,pe)){pt(this,ae,cr).call(this);return}const Be=pt(this,ae,ts).call(this),ct=pt(this,ae,ui).call(this);Lt(this,Z,Math.max(z.AnnotationEditor.MIN_SIZE,Be[2]-Be[0])),Lt(this,X,Math.max(z.AnnotationEditor.MIN_SIZE,Be[3]-Be[1]));const vt=Math.ceil(ct+_e(this,Z)*this.scaleFactor),qt=Math.ceil(ct+_e(this,X)*this.scaleFactor),[fn,pn]=this.parentDimensions;this.width=vt/fn,this.height=qt/pn,this.setAspectRatio(vt,qt);const yt=this.translationX,vn=this.translationY;this.translationX=-Be[0],this.translationY=-Be[1],pt(this,ae,Ar).call(this),pt(this,ae,cr).call(this),Lt(this,ve,vt),Lt(this,me,qt),this.setDims(vt,qt);const En=$e?ct/this.scaleFactor/2:0;this.translate(yt-this.translationX-En,vn-this.translationY-En)},kt(hn,Me),Wn(hn,"_defaultColor",null),Wn(hn,"_defaultOpacity",1),Wn(hn,"_defaultThickness",1),Wn(hn,"_type","ink");let Y=hn;_.InkEditor=Y},(T,_,U)=>{var Y,X,Z,ne,ie,se,de,Ee,pe,le,ue,Vr,Ur,di,ns,Ea,va,rs,hi,ya;Object.defineProperty(_,"__esModule",{value:!0}),_.StampEditor=void 0;var H=U(1),z=U(4),j=U(6),q=U(29);const xe=class xe extends z.AnnotationEditor{constructor(qe){super({...qe,name:"stampEditor"});kt(this,ue);kt(this,Y,null);kt(this,X,null);kt(this,Z,null);kt(this,ne,null);kt(this,ie,null);kt(this,se,null);kt(this,de,null);kt(this,Ee,null);kt(this,pe,!1);kt(this,le,!1);Lt(this,ne,qe.bitmapUrl),Lt(this,ie,qe.bitmapFile)}static initialize(qe){z.AnnotationEditor.initialize(qe)}static get supportedTypes(){const qe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,H.shadow)(this,"supportedTypes",qe.map(Fe=>`image/${Fe}`))}static get supportedTypesStr(){return(0,H.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(qe){return this.supportedTypes.includes(qe)}static paste(qe,Fe){Fe.pasteEditor(H.AnnotationEditorType.STAMP,{bitmapFile:qe.getAsFile()})}remove(){var qe,Fe;_e(this,X)&&(Lt(this,Y,null),this._uiManager.imageManager.deleteId(_e(this,X)),(qe=_e(this,se))==null||qe.remove(),Lt(this,se,null),(Fe=_e(this,de))==null||Fe.disconnect(),Lt(this,de,null)),super.remove()}rebuild(){if(!this.parent){_e(this,X)&&pt(this,ue,di).call(this);return}super.rebuild(),this.div!==null&&(_e(this,X)&&pt(this,ue,di).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_e(this,Z)||_e(this,Y)||_e(this,ne)||_e(this,ie))}get isResizable(){return!0}render(){if(this.div)return this.div;let qe,Fe;if(this.width&&(qe=this.x,Fe=this.y),super.render(),this.div.hidden=!0,_e(this,Y)?pt(this,ue,ns).call(this):pt(this,ue,di).call(this),this.width){const[He,Ye]=this.parentDimensions;this.setAt(qe*He,Fe*Ye,this.width*He,this.height*Ye)}return this.div}static deserialize(qe,Fe,He){if(qe instanceof q.StampAnnotationElement)return null;const Ye=super.deserialize(qe,Fe,He),{rect:ke,bitmapUrl:Ke,bitmapId:gt,isSvg:De,accessibilityData:Ie}=qe;gt&&He.imageManager.isValidId(gt)?Lt(Ye,X,gt):Lt(Ye,ne,Ke),Lt(Ye,pe,De);const[Pe,we]=Ye.pageDimensions;return Ye.width=(ke[2]-ke[0])/Pe,Ye.height=(ke[3]-ke[1])/we,Ie&&(Ye.altTextData=Ie),Ye}serialize(qe=!1,Fe=null){if(this.isEmpty())return null;const He={annotationType:H.AnnotationEditorType.STAMP,bitmapId:_e(this,X),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_e(this,pe),structTreeParentId:this._structTreeParentId};if(qe)return He.bitmapUrl=pt(this,ue,hi).call(this,!0),He.accessibilityData=this.altTextData,He;const{decorative:Ye,altText:ke}=this.altTextData;if(!Ye&&ke&&(He.accessibilityData={type:"Figure",alt:ke}),Fe===null)return He;Fe.stamps||(Fe.stamps=new Map);const Ke=_e(this,pe)?(He.rect[2]-He.rect[0])*(He.rect[3]-He.rect[1]):null;if(!Fe.stamps.has(_e(this,X)))Fe.stamps.set(_e(this,X),{area:Ke,serialized:He}),He.bitmap=pt(this,ue,hi).call(this,!1);else if(_e(this,pe)){const gt=Fe.stamps.get(_e(this,X));Ke>gt.area&&(gt.area=Ke,gt.serialized.bitmap.close(),gt.serialized.bitmap=pt(this,ue,hi).call(this,!1))}return He}};Y=new WeakMap,X=new WeakMap,Z=new WeakMap,ne=new WeakMap,ie=new WeakMap,se=new WeakMap,de=new WeakMap,Ee=new WeakMap,pe=new WeakMap,le=new WeakMap,ue=new WeakSet,Vr=function(qe,Fe=!1){if(!qe){this.remove();return}Lt(this,Y,qe.bitmap),Fe||(Lt(this,X,qe.id),Lt(this,pe,qe.isSvg)),pt(this,ue,ns).call(this)},Ur=function(){Lt(this,Z,null),this._uiManager.enableWaiting(!1),_e(this,se)&&this.div.focus()},di=function(){if(_e(this,X)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_e(this,X)).then(Fe=>pt(this,ue,Vr).call(this,Fe,!0)).finally(()=>pt(this,ue,Ur).call(this));return}if(_e(this,ne)){const Fe=_e(this,ne);Lt(this,ne,null),this._uiManager.enableWaiting(!0),Lt(this,Z,this._uiManager.imageManager.getFromUrl(Fe).then(He=>pt(this,ue,Vr).call(this,He)).finally(()=>pt(this,ue,Ur).call(this)));return}if(_e(this,ie)){const Fe=_e(this,ie);Lt(this,ie,null),this._uiManager.enableWaiting(!0),Lt(this,Z,this._uiManager.imageManager.getFromFile(Fe).then(He=>pt(this,ue,Vr).call(this,He)).finally(()=>pt(this,ue,Ur).call(this)));return}const qe=document.createElement("input");qe.type="file",qe.accept=xe.supportedTypesStr,Lt(this,Z,new Promise(Fe=>{qe.addEventListener("change",async()=>{if(!qe.files||qe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const He=await this._uiManager.imageManager.getFromFile(qe.files[0]);pt(this,ue,Vr).call(this,He)}Fe()}),qe.addEventListener("cancel",()=>{this.remove(),Fe()})}).finally(()=>pt(this,ue,Ur).call(this))),qe.click()},ns=function(){const{div:qe}=this;let{width:Fe,height:He}=_e(this,Y);const[Ye,ke]=this.pageDimensions,Ke=.75;if(this.width)Fe=this.width*Ye,He=this.height*ke;else if(Fe>Ke*Ye||He>Ke*ke){const Pe=Math.min(Ke*Ye/Fe,Ke*ke/He);Fe*=Pe,He*=Pe}const[gt,De]=this.parentDimensions;this.setDims(Fe*gt/Ye,He*De/ke),this._uiManager.enableWaiting(!1);const Ie=Lt(this,se,document.createElement("canvas"));qe.append(Ie),qe.hidden=!1,pt(this,ue,rs).call(this,Fe,He),pt(this,ue,ya).call(this),_e(this,le)||(this.parent.addUndoableEditor(this),Lt(this,le,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ea=function(qe,Fe){var Ke;const[He,Ye]=this.parentDimensions;this.width=qe/He,this.height=Fe/Ye,this.setDims(qe,Fe),(Ke=this._initialOptions)!=null&&Ke.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_e(this,Ee)!==null&&clearTimeout(_e(this,Ee)),Lt(this,Ee,setTimeout(()=>{Lt(this,Ee,null),pt(this,ue,rs).call(this,qe,Fe)},200))},va=function(qe,Fe){const{width:He,height:Ye}=_e(this,Y);let ke=He,Ke=Ye,gt=_e(this,Y);for(;ke>2*qe||Ke>2*Fe;){const De=ke,Ie=Ke;ke>2*qe&&(ke=ke>=16384?Math.floor(ke/2)-1:Math.ceil(ke/2)),Ke>2*Fe&&(Ke=Ke>=16384?Math.floor(Ke/2)-1:Math.ceil(Ke/2));const Pe=new OffscreenCanvas(ke,Ke);Pe.getContext("2d").drawImage(gt,0,0,De,Ie,0,0,ke,Ke),gt=Pe.transferToImageBitmap()}return gt},rs=function(qe,Fe){qe=Math.ceil(qe),Fe=Math.ceil(Fe);const He=_e(this,se);if(!He||He.width===qe&&He.height===Fe)return;He.width=qe,He.height=Fe;const Ye=_e(this,pe)?_e(this,Y):pt(this,ue,va).call(this,qe,Fe),ke=He.getContext("2d");ke.filter=this._uiManager.hcmFilter,ke.drawImage(Ye,0,0,Ye.width,Ye.height,0,0,qe,Fe)},hi=function(qe){if(qe){if(_e(this,pe)){const Ye=this._uiManager.imageManager.getSvgUrl(_e(this,X));if(Ye)return Ye}const Fe=document.createElement("canvas");return{width:Fe.width,height:Fe.height}=_e(this,Y),Fe.getContext("2d").drawImage(_e(this,Y),0,0),Fe.toDataURL()}if(_e(this,pe)){const[Fe,He]=this.pageDimensions,Ye=Math.round(this.width*Fe*j.PixelsPerInch.PDF_TO_CSS_UNITS),ke=Math.round(this.height*He*j.PixelsPerInch.PDF_TO_CSS_UNITS),Ke=new OffscreenCanvas(Ye,ke);return Ke.getContext("2d").drawImage(_e(this,Y),0,0,_e(this,Y).width,_e(this,Y).height,0,0,Ye,ke),Ke.transferToImageBitmap()}return structuredClone(_e(this,Y))},ya=function(){Lt(this,de,new ResizeObserver(qe=>{const Fe=qe[0].contentRect;Fe.width&&Fe.height&&pt(this,ue,Ea).call(this,Fe.width,Fe.height)})),_e(this,de).observe(this.div)},Wn(xe,"_type","stamp");let K=xe;_.StampEditor=K}],__webpack_module_cache__={};function __w_pdfjs_require__(T){var _=__webpack_module_cache__[T];if(_!==void 0)return _.exports;var U=__webpack_module_cache__[T]={exports:{}};return __webpack_modules__[T](U,U.exports,__w_pdfjs_require__),U.exports}var __webpack_exports__={};return(()=>{var T=__webpack_exports__;Object.defineProperty(T,"__esModule",{value:!0}),Object.defineProperty(T,"AbortException",{enumerable:!0,get:function(){return _.AbortException}}),Object.defineProperty(T,"AnnotationEditorLayer",{enumerable:!0,get:function(){return j.AnnotationEditorLayer}}),Object.defineProperty(T,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _.AnnotationEditorParamsType}}),Object.defineProperty(T,"AnnotationEditorType",{enumerable:!0,get:function(){return _.AnnotationEditorType}}),Object.defineProperty(T,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return q.AnnotationEditorUIManager}}),Object.defineProperty(T,"AnnotationLayer",{enumerable:!0,get:function(){return K.AnnotationLayer}}),Object.defineProperty(T,"AnnotationMode",{enumerable:!0,get:function(){return _.AnnotationMode}}),Object.defineProperty(T,"CMapCompressionType",{enumerable:!0,get:function(){return _.CMapCompressionType}}),Object.defineProperty(T,"DOMSVGFactory",{enumerable:!0,get:function(){return H.DOMSVGFactory}}),Object.defineProperty(T,"FeatureTest",{enumerable:!0,get:function(){return _.FeatureTest}}),Object.defineProperty(T,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Y.GlobalWorkerOptions}}),Object.defineProperty(T,"ImageKind",{enumerable:!0,get:function(){return _.ImageKind}}),Object.defineProperty(T,"InvalidPDFException",{enumerable:!0,get:function(){return _.InvalidPDFException}}),Object.defineProperty(T,"MissingPDFException",{enumerable:!0,get:function(){return _.MissingPDFException}}),Object.defineProperty(T,"OPS",{enumerable:!0,get:function(){return _.OPS}}),Object.defineProperty(T,"PDFDataRangeTransport",{enumerable:!0,get:function(){return U.PDFDataRangeTransport}}),Object.defineProperty(T,"PDFDateString",{enumerable:!0,get:function(){return H.PDFDateString}}),Object.defineProperty(T,"PDFWorker",{enumerable:!0,get:function(){return U.PDFWorker}}),Object.defineProperty(T,"PasswordResponses",{enumerable:!0,get:function(){return _.PasswordResponses}}),Object.defineProperty(T,"PermissionFlag",{enumerable:!0,get:function(){return _.PermissionFlag}}),Object.defineProperty(T,"PixelsPerInch",{enumerable:!0,get:function(){return H.PixelsPerInch}}),Object.defineProperty(T,"PromiseCapability",{enumerable:!0,get:function(){return _.PromiseCapability}}),Object.defineProperty(T,"RenderingCancelledException",{enumerable:!0,get:function(){return H.RenderingCancelledException}}),Object.defineProperty(T,"SVGGraphics",{enumerable:!0,get:function(){return U.SVGGraphics}}),Object.defineProperty(T,"UnexpectedResponseException",{enumerable:!0,get:function(){return _.UnexpectedResponseException}}),Object.defineProperty(T,"Util",{enumerable:!0,get:function(){return _.Util}}),Object.defineProperty(T,"VerbosityLevel",{enumerable:!0,get:function(){return _.VerbosityLevel}}),Object.defineProperty(T,"XfaLayer",{enumerable:!0,get:function(){return X.XfaLayer}}),Object.defineProperty(T,"build",{enumerable:!0,get:function(){return U.build}}),Object.defineProperty(T,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _.createValidAbsoluteUrl}}),Object.defineProperty(T,"getDocument",{enumerable:!0,get:function(){return U.getDocument}}),Object.defineProperty(T,"getFilenameFromUrl",{enumerable:!0,get:function(){return H.getFilenameFromUrl}}),Object.defineProperty(T,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return H.getPdfFilenameFromUrl}}),Object.defineProperty(T,"getXfaPageViewport",{enumerable:!0,get:function(){return H.getXfaPageViewport}}),Object.defineProperty(T,"isDataScheme",{enumerable:!0,get:function(){return H.isDataScheme}}),Object.defineProperty(T,"isPdfFile",{enumerable:!0,get:function(){return H.isPdfFile}}),Object.defineProperty(T,"loadScript",{enumerable:!0,get:function(){return H.loadScript}}),Object.defineProperty(T,"noContextMenu",{enumerable:!0,get:function(){return H.noContextMenu}}),Object.defineProperty(T,"normalizeUnicode",{enumerable:!0,get:function(){return _.normalizeUnicode}}),Object.defineProperty(T,"renderTextLayer",{enumerable:!0,get:function(){return z.renderTextLayer}}),Object.defineProperty(T,"setLayerDimensions",{enumerable:!0,get:function(){return H.setLayerDimensions}}),Object.defineProperty(T,"shadow",{enumerable:!0,get:function(){return _.shadow}}),Object.defineProperty(T,"updateTextLayer",{enumerable:!0,get:function(){return z.updateTextLayer}}),Object.defineProperty(T,"version",{enumerable:!0,get:function(){return U.version}});var _=__w_pdfjs_require__(1),U=__w_pdfjs_require__(2),H=__w_pdfjs_require__(6),z=__w_pdfjs_require__(26),j=__w_pdfjs_require__(27),q=__w_pdfjs_require__(5),K=__w_pdfjs_require__(29),Y=__w_pdfjs_require__(14),X=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const c={pulsing:2,"infinite-spinner":3,"converging-spinner":4},v={pulsing:"k-loader-pulsing-2","infinite-spinner":"k-loader-spinner-3","converging-spinner":"k-loader-spinner-4"},d=reactExports.forwardRef((T,_)=>{const{className:U,style:H}=T,z=reactExports.useRef(null),j=reactExports.useCallback(()=>{z.current&&z.current.focus()},[]);reactExports.useImperativeHandle(_,()=>({element:z.current,focus:j}));const q=reactExports.useMemo(()=>T.size||i.size,[T.size]),K=reactExports.useMemo(()=>T.themeColor||i.themeColor,[T.themeColor]),Y=reactExports.useMemo(()=>T.type||i.type,[T.type]),X=reactExports.useMemo(()=>n$c("k-loader",{"k-loader-sm":q==="small","k-loader-md":q==="medium","k-loader-lg":q==="large","k-loader-primary":K==="primary","k-loader-secondary":K==="secondary","k-loader-tertiary":K==="tertiary","k-loader-info":K==="info","k-loader-success":K==="success","k-loader-warning":K==="warning","k-loader-error":K==="error","k-loader-dark":K==="dark","k-loader-light":K==="light","k-loader-inverse":K==="inverse"},U,v[Y]),[q,K,U,Y]),Z=new Array(c[Y]);return Z.fill(0,0,c[Y]),reactExports.createElement("div",{className:X,style:H},reactExports.createElement("div",{className:"k-loader-canvas"},Z.map((ne,ie)=>reactExports.createElement("span",{key:ie,className:"k-loader-segment"}))))});d.propTypes={className:n$f.string,style:n$f.object,type:n$f.oneOf(["pulsing","infinite-spinner","converging-spinner"]),size:n$f.oneOf(["small","medium","large"]),themeColor:n$f.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};const i={size:"medium",themeColor:"primary",type:"pulsing"};d.displayName="KendoLoader";const useResizablePanel=()=>{const T=reactExports.useRef(null),_=reactExports.useRef(null);return reactExports.useEffect(()=>{const U=T.current,H=_.current;if(!U||!H)return;let z=0,j=0;const q=X=>{z=X.clientX,j=H.getBoundingClientRect().width,document.addEventListener("mousemove",K),document.addEventListener("mouseup",Y)},K=X=>{const Z=X.clientX-z,ne=j+Z;ne>300&&ne<window.innerWidth-300&&(H.style.width=`${ne}px`)},Y=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",Y)};return U.addEventListener("mousedown",q),()=>{U.removeEventListener("mousedown",q)}},[]),{resizerRef:T,leftPanelRef:_}};pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const ResumeUploadPage=()=>{const[T,_]=reactExports.useState(""),[U,H]=reactExports.useState(""),[z,j]=reactExports.useState(!1),[q,K]=reactExports.useState(null),[Y,X]=reactExports.useState(null),[Z,ne]=reactExports.useState(null),[ie,se]=reactExports.useState(!1),[de,Ee]=reactExports.useState(0),pe=[{label:"Upload Resume",icon:"file-text",iconColor:"primary"},{label:"Job Description",icon:"clipboard-text",iconColor:"primary"}],le=async Ge=>{var Fe;if(!((Fe=Ge.target.files)!=null&&Fe.length))return;const qe=Ge.target.files[0];ne(qe.name),se(!0),X(null);try{const He=await ue(qe);_(He)}catch(He){X("Failed to process file. Please try again."),console.error(He)}finally{se(!1)}},ue=async Ge=>{if(Ge.type==="application/pdf")return fe(Ge);if(Ge.type==="text/plain"||Ge.name.endsWith(".txt"))return Ge.text();throw new Error("Unsupported file type. Upload a PDF or TXT file.")},fe=async Ge=>{const qe=await Ge.arrayBuffer(),Fe=await pdfExports.getDocument({data:qe}).promise;let He="";for(let Ye=1;Ye<=Fe.numPages;Ye++){const gt=(await(await Fe.getPage(Ye)).getTextContent()).items.map(De=>De.str).join(" ");He+=gt+`

`}return He},[ve,me]=reactExports.useState(!1),Ae=async()=>{if(!T||!U){X("Please provide both resume and job description.");return}X(null),j(!0);try{const Ge=await analyzeResume(T,U);K(Ge),me(!0)}catch(Ge){X("Failed to analyze resume. Please try again."),console.error(Ge)}finally{j(!1)}},ae=Ge=>{Ee(Ge.value)},oe=()=>{if(de===0&&!T.trim()){X("Please upload or enter your resume text before proceeding.");return}de<1&&(Ee(de+1),X(null))},ce=()=>{de>0&&(Ee(de-1),X(null))},Se=()=>jsxRuntimeExports.jsxs(d$3,{className:"upload-card",children:[jsxRuntimeExports.jsxs(t$2,{className:"upload-card-header",children:[jsxRuntimeExports.jsx(M$3,{icon:fileTxtIcon,size:"large"}),jsxRuntimeExports.jsx(a,{children:"Upload Your Resume"})]}),jsxRuntimeExports.jsxs(t$1,{children:[jsxRuntimeExports.jsx("p",{className:"upload-description",children:"Upload your resume in PDF or TXT format, or paste your resume text below."}),jsxRuntimeExports.jsx("div",{className:"file-upload-area",children:jsxRuntimeExports.jsxs("div",{className:"file-upload-container",children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:le,accept:".pdf,.txt",className:"file-input",id:"resume-file-input"}),jsxRuntimeExports.jsxs("div",{className:"upload-zone",onClick:()=>{var Ge;return(Ge=document.getElementById("resume-file-input"))==null?void 0:Ge.click()},children:[jsxRuntimeExports.jsx(M$3,{icon:fileTxtIcon,size:"xlarge"}),jsxRuntimeExports.jsx("p",{children:"Drag & drop your resume here or click to browse"}),jsxRuntimeExports.jsx("span",{className:"supported-formats",children:"Supported formats: PDF, TXT"}),ie&&jsxRuntimeExports.jsx(d,{size:"medium",type:"infinite-spinner"}),Z&&jsxRuntimeExports.jsx("div",{className:"file-name",children:Z})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-area-container",children:[jsxRuntimeExports.jsx("h4",{children:"Or paste your resume text:"}),jsxRuntimeExports.jsx(A,{placeholder:"Paste your resume text here...",value:T,onChange:Ge=>_(Ge.value),rows:10,className:"custom-textarea"})]})]}),jsxRuntimeExports.jsx(s$1,{className:"upload-card-actions",children:jsxRuntimeExports.jsxs(M$1,{fillMode:"solid",disabled:!T.trim(),onClick:oe,className:"next-button",children:["Next Step",jsxRuntimeExports.jsx(M$3,{icon:arrowRightIcon})]})})]}),he=()=>jsxRuntimeExports.jsxs(d$3,{className:"upload-card",children:[jsxRuntimeExports.jsxs(t$2,{className:"upload-card-header",children:[jsxRuntimeExports.jsx(M$3,{icon:clipboardTextIcon,size:"large"}),jsxRuntimeExports.jsx(a,{children:"Enter Job Description"})]}),jsxRuntimeExports.jsxs(t$1,{children:[jsxRuntimeExports.jsx("p",{className:"upload-description",children:"Paste the job description you want to compare your resume against."}),jsxRuntimeExports.jsx("div",{className:"text-area-container",children:jsxRuntimeExports.jsx(A,{placeholder:"Paste job description here...",value:U,onChange:Ge=>H(Ge.value),rows:12,className:"custom-textarea"})})]}),jsxRuntimeExports.jsx(s$1,{className:"upload-card-actions",children:jsxRuntimeExports.jsxs("div",{className:"button-group",children:[jsxRuntimeExports.jsx(M$1,{themeColor:"light",fillMode:"solid",onClick:ce,className:"back-button",children:"Back"}),jsxRuntimeExports.jsx(M$1,{themeColor:"primary",fillMode:"solid",onClick:Ae,disabled:z||!U.trim()||!T.trim(),className:"analyze-button",children:z?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(d,{size:"small",type:"infinite-spinner"}),jsxRuntimeExports.jsx("span",{children:"Analyzing..."})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Analyze Resume"})})]})})]}),{resizerRef:xe,leftPanelRef:ye}=useResizablePanel();return jsxRuntimeExports.jsxs("div",{className:"resume-analyzer-layout",children:[jsxRuntimeExports.jsxs("div",{className:"resume-analyzer-header",children:[jsxRuntimeExports.jsx("h2",{children:"Resume Analysis"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Compare your resume with job descriptions to find the perfect match"}),jsxRuntimeExports.jsx("div",{className:"stepper-container",children:jsxRuntimeExports.jsx(V,{value:de,onChange:ae,items:pe,linear:!0})}),Y&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[jsxRuntimeExports.jsx(M$3,{icon:xIcon}),jsxRuntimeExports.jsx("span",{children:Y})]})]}),jsxRuntimeExports.jsxs("div",{className:"resume-analyzer-content",children:[jsxRuntimeExports.jsx("div",{className:"left-panel",ref:ye,children:de===0?jsxRuntimeExports.jsx("div",{className:"step-content",children:Se()}):jsxRuntimeExports.jsx("div",{className:"step-content",children:he()})}),jsxRuntimeExports.jsx("div",{className:"resizer-handle",ref:xe}),jsxRuntimeExports.jsx("div",{className:"right-panel",children:q?jsxRuntimeExports.jsxs("div",{className:"analysis-results",children:[jsxRuntimeExports.jsx("h3",{children:"Analysis Results"}),jsxRuntimeExports.jsx("pre",{children:JSON.stringify(q,null,2)})]}):jsxRuntimeExports.jsx("div",{className:"placeholder-content",children:jsxRuntimeExports.jsxs("div",{className:"placeholder-message",children:[jsxRuntimeExports.jsx(M$3,{icon:clipboardTextIcon,size:"xlarge"}),jsxRuntimeExports.jsx("p",{children:"Your analysis results will appear here after processing"})]})})})]})]})},APIKeySetup=()=>{const{user:T}=useAuth(),[_,U]=reactExports.useState(""),[H,z]=reactExports.useState(!1),[j,q]=reactExports.useState(null),K=useNavigate(),Y=(Z,ne)=>{q({message:Z,type:ne}),setTimeout(()=>q(null),3e3)},X=async()=>{if(!_.trim()){Y("API Key cannot be empty!","error");return}try{z(!0),T?(await updateDoc(doc(firestore,"users",T.uid),{apiKey:_}),Y("API Key saved successfully!","success"),setTimeout(()=>K("/analyze"),1500)):Y("User not authenticated","error")}catch(Z){console.error("Error saving API Key:",Z),Y("Failed to save API Key.","error")}finally{z(!1)}};return jsxRuntimeExports.jsxs("div",{style:{maxWidth:"500px",margin:"50px auto",textAlign:"center"},children:[jsxRuntimeExports.jsx("h2",{children:"Set Up Your Gemini API Key"}),jsxRuntimeExports.jsx("p",{children:"Please enter your Google Gemini API key to continue."}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx(C,{value:_,onChange:Z=>U(Z.value),placeholder:"Enter your Gemini API Key",style:{width:"100%",marginBottom:"10px"}}),jsxRuntimeExports.jsx("p",{style:{fontSize:"0.8rem",color:"#666",textAlign:"left"},children:"Your API key will be encrypted before storage for security."})]}),jsxRuntimeExports.jsx(M$1,{themeColor:"primary",onClick:X,disabled:H,children:H?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(d,{size:"small",type:"infinite-spinner"}),jsxRuntimeExports.jsx("span",{style:{marginLeft:"8px"},children:"Saving..."})]}):"Save & Continue"}),jsxRuntimeExports.jsx(p,{style:{position:"fixed",top:20,right:20},children:j&&jsxRuntimeExports.jsx(r,{type:{style:j.type,icon:!0},closable:!0,children:j.message})})]})},ProtectedRoute=({children:T})=>{const{isLoggedIn:_,loading:U}=useAuth();return U?jsxRuntimeExports.jsx("div",{children:"Loading..."}):_?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:T}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(MainLayout,{children:jsxRuntimeExports.jsx(LandingPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/set-api-key",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(MainLayout,{children:jsxRuntimeExports.jsx(APIKeySetup,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/analyze",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(MainLayout,{children:jsxRuntimeExports.jsx(ResumeUploadPage,{})})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]})})})}const root=ReactDOM.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
